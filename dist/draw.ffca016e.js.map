{"version":3,"sources":["node_modules/jspdf/dist/jspdf.min.js","node_modules/lodash.debounce/index.js","node_modules/heap/lib/heap.js","node_modules/heap/index.js","node_modules/cytoscape/dist/cytoscape.cjs.js","node_modules/layout-base/layout-base.js","node_modules/avsdf-base/avsdf-base.js","node_modules/cytoscape-avsdf/cytoscape-avsdf.js","src/draw.js"],"names":["_interopDefault","ex","util","require","Heap","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_defineProperty","value","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","Array","isArray","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","err","window$1","window","navigator","document$1","document","typeofstr","typeofobj","typeoffn","typeofhtmlele","HTMLElement","instanceStr","instanceString","fn","string","array","plainObject","object","number","isNaN","integer","Math","floor","htmlElement","elementOrCollection","element","collection","_private","single","core","stylesheet","event","emptyString","match","domElement","boundingBox","x1","x2","y1","y2","promise","then","ms","userAgent","memoize","keyFn","arguments","args","join","memoizedFn","self","ret","k","apply","cache","camel2dash","str","replace","v","toLowerCase","dash2camel","toUpperCase","prependCamel","prefix","substring","capitalize","charAt","number$1","rgba","rgbaNoBackRefs","hsla","hslaNoBackRefs","hex3","hex6","ascending","a","b","descending","extend","assign","bind","tgt","keys","j","hex2tuple","hex","shortHex","r","g","base","parseInt","hsl2tuple","hsl","h","s","l","hue2rgb","p","q","t","m","RegExp","exec","parseFloat","round","rgb2tuple","rgb","isPct","channel","atLeastOneIsPct","allArePct","alpha","colorname2tuple","color","colors","color2tuple","transparent","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","setMap","options","map","Error","getMap","performance","pnow","now","Date","raf","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","setTimeout","performanceNow","DEFAULT_SEED","hashIterableInts","seed","hash","entry","hashInt","num","hashIntsArray","ints","hashString","charCodeAt","hashStrings","hashStringsArray","strs","warningsEnabled","warnSupported","console","warn","traceSupported","trace","MAX_INT","Number","MAX_SAFE_INTEGER","trueify","falsify","zeroify","noop","error","msg","warnings","enabled","log","clone","copy","slice","copyArray","uuid","random","toString","_staticEmptyObject","staticEmptyObject","defaults","_defaults","opts","filledOpts","optVal","removeFromArray","ele","manyCopies","splice","clearArray","otherArr","el","getPrefixedProperty","propName","setPrefixedProperty","ObjectMap","_obj","set","val","_delete","clear","has","get","Map$1","Map","undef","ObjectSet","arrayOrObjectSet","create","size","toArray","add","o","_this","filter","forEach","callback","thisArg","Set$1","Set","Element","cy","params","restore","group","data","source","_p","position","x","y","autoWidth","autoHeight","autoPadding","compoundBoundsClean","listeners","style","rstyle","styleCxts","styleKeys","removed","selected","selectable","locked","grabbed","grabbable","pannable","active","classes","animation","current","queue","rscratch","scratch","edges","children","parent","traversalCache","backgrounding","bbCache","bbCacheShift","bodyBounds","overlayBounds","labelBounds","all","main","arrowBounds","renderedPosition","rpos","pan","zoom","split","cls","createEmitter","bypass","css","defineSearch","bfs","dfs","searchFn","roots","fn$1","directed","root","visit","Q","connectedNodes","connectedBy","id2depth","V","found","_this$byGroup","byGroup","nodes","vi","viId","id","isNode","unshift","_loop2","shift","pop","vId","depth","prevEdge","src","prevNode","same","vwEdges","connectedEdges","e","_i2","w","n","wId","_loop","_ret","connectedEles","node","edge","merge","path","elesfn","breadthFirstSearch","depthFirstSearch","dijkstraDefaults","weight","elesfn$1","dijkstra","_dijkstraDefaults","eles","weightFn","dist","prev","knownDist","unmergeBy","isLoop","getDist","setDist","d","updateItem","Infinity","distBetween","u","uvs","edgesTo","edgesWith","intersect","smallestDistance","smallestEdge","_weight","smalletsDist","uid","neighbors","neighborhood","vid","vDist","alt","distanceTo","pathTo","S","spawn","elesfn$2","kruskal","numNodes","forest","A","findSetIndex","sort","setUIndex","setVIndex","setU","setV","aStarDefaults","goal","heuristic","elesfn$3","aStar","_aStarDefaults","sid","tid","gScore","fScore","closedSetIds","openSet","openSetIds","cameFrom","cameFromEdge","addToOpenSet","cMin","cMinId","popFromOpenSet","isInOpenSet","steps","pathNode","pathNodeId","pathEdge","distance","hasElementWithId","wSrc","wTgt","wid","tempScore","floydWarshallDefaults","elesfn$4","floydWarshall","_floydWarshallDefault","N","Nsq","indexOf","atIndex","edgeNext","st","ts","ik","_j","ij","kj","getArgEle","indexOfArgEle","res","from","to","fromNode","bellmanFordDefaults","elesfn$5","bellmanFord","_bellmanFordDefaults","infoMap","hasNegativeWeightCycle","negativeWeightCycles","numEdges","getInfo","getNodeFromTo","$","thisStart","end","_getInfo","pred","info","replacedEdge","checkForEdgeReplacement","node1","node2","info1","info2","srcInfo","tgtInfo","_edge","_src","_tgt","_weight2","srcDist","tgtDist","sqrt2","sqrt","collapse","edgeIndex","nodeMap","remainingEdges","edgeInfo","sourceIn","targetIn","partition1","partition2","newEdges","contractUntil","metaNodeMap","sizeLimit","elesfn$6","kargerStein","numIter","ceil","pow","LN2","stopSize","edgeIndexes","minCutSize","minCutEdgeIndexes","minCutNodeMap","metaNodeMap2","copyNodesMap","_i3","iter","_i4","edgesState","edgesState2","res1","res2","cut","witnessNodePartition","_i5","partitionId","copyPosition","modelToRenderedPosition","renderedToModelPosition","array2point","min","begin","isFinite","max","mean","total","median","includeHoles","off","len","mid","deg2rad","deg","PI","getAngleFromDisp","dispX","dispY","atan2","log2","signum","p1","p2","sqdist","dx","dy","inPlaceSumNormalize","qbezierAt","p0","qbezierPtAt","lineAt","vec","vecDist","normVec","bound","makeBoundingBox","bb","copyBoundingBox","clearBoundingBox","updateBoundingBox","bb1","bb2","expandBoundingBoxByPoint","expandBoundingBox","padding","expandBoundingBoxSides","top","right","bottom","left","_padding","assignBoundingBox","assignShiftToBoundingBox","delta","boundingBoxesIntersect","inBoundingBox","pointInBoundingBox","pt","boundingBoxInBoundingBox","roundRectangleIntersectLine","nodeX","nodeY","width","height","cornerRadius","getRoundRectangleRadius","halfWidth","halfHeight","straightLineIntersections","topStartX","topStartY","topEndX","topEndY","finiteLinesIntersect","rightStartX","rightStartY","rightEndX","rightEndY","bottomStartX","bottomStartY","bottomEndX","bottomEndY","leftStartX","leftStartY","leftEndX","leftEndY","arcIntersections","topLeftCenterX","topLeftCenterY","intersectLineCircle","topRightCenterX","topRightCenterY","bottomRightCenterX","bottomRightCenterY","bottomLeftCenterX","bottomLeftCenterY","inLineVicinity","lx1","ly1","lx2","ly2","tolerance","inBezierVicinity","x3","y3","solveQuadratic","c","sqrtR","denom","root1","root2","solveCubic","result","epsilon","discriminant","dum1","term1","r13","acos","cos","sqdistToQuadraticBezier","zeroThreshold","index","abs","minDistanceSquared","curX","curY","distSquared","sqdistToFiniteLine","offset","line","lineSq","hypSq","dotProduct","adjSq","pointInsidePolygonPoints","points","up","pointInsidePolygon","basePoints","centerX","centerY","direction","transformedPoints","angle","atan","sin","expandedLineSet","expandPolygon","joinLines","pointInsideRoundPolygon","cutPolygonPoints","halfW","halfH","getRoundPolygonRadius","squaredCornerRadius","sourceUv","destUv","px","py","cosTheta","cp0x","cp0y","cp1x","cp1y","orthx","orthy","cosAlpha","cx","squaredDistance","lineSet","vertices","currentLineStartX","currentLineStartY","currentLineEndX","currentLineEndY","nextLineStartX","nextLineStartY","nextLineEndX","nextLineEndY","intersection","pad","currentPointX","currentPointY","nextPointX","nextPointY","offsetX","offsetY","offsetLength","normalizedOffsetX","normalizedOffsetY","intersectLineEllipse","ellipseWradius","ellipseHradius","newLength","lenProportion","checkInEllipse","radius","f","t1","t2","tMin","tMax","inRangeParams","nearIntersectionX","nearIntersectionY","farIntersectionX","farIntersectionY","midOfThree","x4","y4","infiniteLines","dx13","dx21","dx43","dy13","dy21","dy43","ua_t","ub_t","u_b","ua","ub","flptThreshold","_min","_max","polygonIntersectLine","intersections","doTransform","currentX","currentY","nextX","nextY","roundPolygonIntersectLine","lines","lowestIntersection","lowestSquaredDistance","shortenIntersection","amount","disp","lenRatio","generateUnitNgonPointsFitToSquare","sides","rotationRadians","generateUnitNgonPoints","fitPolygonToSquare","minX","minY","maxX","maxY","sx","sy","_i6","increment","startAngle","currentAngle","getCutRectangleCornerLength","bezierPtsToQuadCoeff","getBarrelCurveConstants","heightOffset","widthOffset","ctrlPtOffsetPct","pageRankDefaults","dampingFactor","precision","iterations","elesfn$7","pageRank","_pageRankDefaults","numNodesSqd","matrix","columnSum","additionalProb","srcId","tgtId","indexOfId","_n2","_n3","eigenvector","temp","previous","_j2","_n4","diff","_i7","rank","defaults$1","elesfn$8","degreeCentralityNormalized","degrees","maxDegree","currDegree","degreeCentrality","degree","indegrees","outdegrees","maxIndegree","maxOutdegree","_node","_currDegree","indegree","outdegree","callingEles","_options","connEdges","incoming","outgoing","k_in","k_out","s_in","s_out","dc","dcn","degreeCentralityNormalised","defaults$2","harmonic","elesfn$9","closenessCentralityNormalized","closenesses","maxCloseness","fw","currCloseness","node_i","closeness","closenessCentrality","_defaults2","totalDistance","cc","ccn","closenessCentralityNormalised","defaults$3","elesfn$a","betweennessCentrality","weighted","_C","C","outgoers","openNeighborhood","P","_vid","empty","_v","vEle","getElementById","edgeWeight","_w","_w2","_v2","betweenness","betweennessNormalized","betweennessNormalised","bc","defaults$4","expandFactor","inflateFactor","multFactor","maxIterations","attributes","setOptions","getSimilarity","addLoops","M","normalize","sum","col","row","_row","mmult","B","expand","_M","inflate","hasConverged","n2","roundFactor","v1","v2","clusters","cluster","isDuplicate","c1","c2","removeDuplicates","markovClustering","id2position","sim","isStillMoving","markovClustering$1","mcl","identity","absDiff","addAbsDiff","addSquaredDiff","maxAbsDiff","currentMax","getDistance","getP","getQ","init","post","dim","distances","euclidean","squaredEuclidean","manhattan","clusteringDistance","method","nodeP","nodeQ","impl","defaults$5","sensitivityThreshold","testMode","testCentroids","setOptions$1","type","centroid","mode","noNodeP","randomCentroids","ndim","centroids","classify","buildCluster","assignment","haveValuesConverged","haveMatricesConverged","seenBefore","medoids","randomMedoids","findCost","potentialNewMedoid","cost","kMeans","newCentroid","kMedoids","curCost","minCosts","updateCentroids","U","numerator","denominator","_c","updateMembership","_U","assign$1","_c2","_c3","fuzzyCMeans","degreeOfMembership","kClustering","fcm","defaults$6","linkage","threshold","addDendrogram","dendrogramDepth","linkageAliases","setOptions$2","preferredAlias","mergeClosest","dists","mins","minKey","attrs","n1","_dist","merged","concat","cur","key1","key2","getAllChildren","buildDendrogram","leftStr","rightStr","buildClustersFromTree","leaves","hierarchicalClustering","retClusters","hierarchicalClustering$1","hca","defaults$7","preference","damping","minIterations","setOptions$3","dmp","pref","validPrefs","some","getSimilarity$1","attr","getPreference","findExemplars","R","indices","assignClusters","exemplars","ei","_ei","assign$2","ii","maxI","maxSum","affinityPropagation","old","Rp","se","_i8","max2","AS","_i9","_j3","_j4","K","_i10","E","_sum","_i11","_j5","exemplarsIndices","clusterIndices","_i12","pos","clusterIndex","affinityPropagation$1","ap","hierholzerDefaults","elesfn$b","hierholzer","_hierholzerDefaults","dflag","oddIn","oddOut","startVertex","ind","outd","d1","d2","isEdge","trail","walk","currentNode","subtour","adj","adjTail","adjHead","elesfn$c","STATE_PENDING","STATE_FULFILLED","STATE_REJECTED","api","executor","state","fulfillValue","rejectReason","onFulfilled","onRejected","proxy","call","fulfill","reject","deliver","curr","resolver","execute","name","execute_handlers","handlers","func","setImmediate","cb","resolve","resolved","ps","resolveAll","rejectAll","vals","doneCount","isPromise","Promise$1","Promise","Animation","opts2","isCore","isEle","duration","started","playing","hooked","applying","progress","completes","frames","complete","startPosition","startStyle","getAnimationStartStyle","startPan","startZoom","anifn","hook","tAni","addToAnimationPool","play","stopped","pause","stop","rewind","fastforward","time","wasPlaying","completed","reverse","swap","_pa","prop","startStyleProp","run","running","define","animated","animatedImpl","selfIsArrayLike","styleEnabled","clearQueue","clearQueueImpl","delay","delayImpl","animate","delayAnimation","delayAnimationImpl","animationImpl","properties","isEles","propertiesEmpty","getPropsList","panBy","cyPan","center","centre","centerPan","getCenterPan","fit","fitVp","getFitViewport","vp","getZoomedViewport","zoomed","panned","animateImpl","ani","stopImpl","jumpToEnd","anis","ani_p","notify","define$1","field","bindingEvent","allowBinding","allowSetting","allowGetting","settingEvent","settingTriggersEvent","triggerFnName","immutableKeys","updateStyle","beforeGet","beforeSet","onSet","canSet","dataImpl","valid","change","_valid","_ele","on","removeData","triggerEvent","removeDataImpl","names","i_a","l_a","_i_a","_l_a","_privateFields","_keys","_key","validKeyToDelete","define$2","eventAliasesOn","proto","addListener","listen","unlisten","unbind","removeListener","trigger","emit","pon","promiseOn","events","selector","offArgs","onArgs","define$3","elesfn$d","elesfn$e","_classes","changed","classesSet","eleClasses","changedEle","eleHasClass","addClass","toggleClass","hasClass","className","toggle","toggleUndefd","il","changedNow","removeClass","flashClass","classNames","tokens","metaChar","comparatorOp","boolOp","meta","separator","descendant","child","subject","directedEdge","undirectedEdge","variable","ops","op","newQuery","checks","Type","GROUP","COLLECTION","FILTER","DATA_COMPARE","DATA_EXIST","DATA_BOOL","META_COMPARE","STATE","ID","CLASS","UNDIRECTED_EDGE","DIRECTED_EDGE","NODE_SOURCE","NODE_TARGET","NODE_NEIGHBOR","CHILD","DESCENDANT","PARENT","ANCESTOR","COMPOUND_SPLIT","TRUE","stateSelectors","matches","visible","isParent","isChildless","isChild","isOrphan","isSimple","lookup","selToFn","stateSelectorMatches","sel","stateSelectorRegex","cleanMetaChars","$1","replaceLastQuery","examiningQuery","replacementQuery","exprs","query","regex","populate","_ref","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","valueIsString","operator","_ref13","_ref14","_ref15","_ref16","currentSubject","edgeCount","compoundCount","lastQ","nextQuery","edgeQuery","srcTgtQ","_source","_target","nhoodQ","neighbor","parentChildQuery","compound","_child","_parent","_parent2","_child2","pcQChecks","ancChQuery","ancestor","_descendant","_ancestor","_ancestor2","_descendant2","adQChecks","modifier","topQ","topChk","topType","regexObj","consumeExpr","remaining","expr","consumed","consumeWhitespace","parse","inputText","currentQuery","exprInfo","toStringCache","clean","cleanVal","space","checkToString","check","_operator","_field","_field2","_operator2","_field3","queryToString","lhs","sub","rhs","reduce","chk","parse$1","valCmp","fieldVal","isFieldStr","isFieldNum","isValStr","fieldStr","valStr","caseInsensitive","notExpr","isIneqCmp","boolCmp","existCmp","every","stateSelector","qA","qB","incomers","ancestors","descendants","selectorFunction","text","matches$1","matching","Selector","addQuery","invalid","selfn","eq","sameText","otherSel","elesfn$f","allAre","selObj","is","thisLength","collectionLength","anySame","allAreNeighbors","nhood","contains","allAreNeighbours","equal","equals","arg1","arg2","arg3","arg4","selectorOrEles","tch","ch","cacheHit","elesfn$g","parents","unique","nonempty","commonAncestors","orphans","stdFilter","nonorphans","eleChildren","siblings","not","elements","forEachCompound","includeSelf","recursiveStep","did","hasCompounds","hasCompoundNodes","addChildren","forEachDown","addParent","forEachUp","addParentAndChildren","forEachUpAndDown","elesfn$h","removeScratch","removeRscratch","removeAttr","data$1","elesfn$i","defineDegreeFunction","includeLoops","defineDegreeBoundsFunction","degreeFn","minDegree","minIndegree","minOutdegree","totalDegree","fn$2","elesfn$j","beforePositionSet","newPos","silent","oldPos","shiftCachedBoundingBox","positionDef","validKeys","updateCompoundBounds","dirtyCompoundBoundsCache","silentPosition","positions","_fn","startBatch","_pos","endBatch","silentPositions","silentShift","setting","relativePosition","ppos","_ele2","hasParent","relativeToParent","origin","_hasParent","_relativeToParent","_origin","modelPosition","point","modelPositions","renderedPoint","relativePoint","fn$3","elesfn$k","renderedBoundingBox","emitAndNotify","force","batching","update","includeLabels","pstyle","pfValue","includeOverlays","useCache","computeBiasValues","propDiff","propBias","propBiasComplement","biasDiff","biasComplementDiff","biasTotal","computePaddingValues","paddingObject","relativeTo","units","leftVal","rightVal","topVal","bottomVal","widthBiasDiffs","diffLeft","diffRight","heightBiasDiffs","diffTop","diffBottom","noninf","updateBounds","updateBoundsFromBox","b2","prefixedProperty","updateBoundsFromArrow","bounds","headless","halfArW","arrowWidth","arrowType","srcX","srcY","tgtX","tgtY","midX","midY","bbs","updateBoundsFromLabel","prefixDash","label","strValue","halign","valign","labelWidth","labelHeight","labelX","labelY","marginX","marginY","rotation","outlineWidth","borderWidth","halfBorderWidth","lh","lw","lw_2","lh_2","bbPrefix","isAutorotate","isPfValue","theta","xo","yo","rotate","px1y1","px1y2","px2y1","px2y2","bbPrefixRot","bbRot","boundingBoxImpl","ex1","ex2","ey1","ey2","manualExpansion","isDisplayed","displayed","overlayOpacity","overlayPadding","wHalf","includeNodes","outerWidth","outerHeight","includeEdges","curveStyle","hpts","haystackPts","_temp","pts","bezierPts","linePts","n1pos","n2pos","_temp2","_temp3","ghost","gx","gy","bbBody","bbOverlay","bbLabels","includeMainLabels","includeSourceLabels","includeTargetLabels","getKey","tf","incudeNodes","getBoundingBoxPosKey","cachedBoundingBoxImpl","defBbOptsKey","usingDefOpts","currPosKey","isPosKeySame","bbCachePosKey","isDirty","needRecalc","recalculateRenderedStyle","defBbOpts","safeShift","mainRot","sourceRot","targetRot","filledBbOpts","dirtyBoundingBoxCache","boundingBoxAt","storeOldPos","bbAtOldPos","getOldPos","boundingbox","renderedBoundingbox","fn$4","elesfn$l","defineDimFns","uppercaseName","autoName","labelName","outerName","uppercaseOuterName","dimImpl","outerDimImpl","border","renderedDimImpl","renderedOuterDimImpl","od","paddedHeight","paddedWidth","widthHeight","ifEdge","getValue","ifEdgeRenderedPosition","getPoint","ifEdgeRenderedPositions","getPoints","controlPoints","renderer","getControlPoints","segmentPoints","getSegmentPoints","sourceEndpoint","getSourceEndpoint","targetEndpoint","getTargetEndpoint","midpoint","getEdgeMidpoint","mult","renderedName","substr","edgePoints","spec","rName","dimensions","Event","recycle","returnFalse","returnTrue","isImmediatePropagationStopped","isPropagationStopped","isDefaultPrevented","preventDefault","defaultPrevented","originalEvent","namespace","layout","timeStamp","stopPropagation","stopImmediatePropagation","eventRegex","universalNamespace","defaults$8","qualifierCompare","q1","q2","eventMatches","addEventFields","callbackContext","context","beforeEmit","afterEmit","bubble","defaultsKeys","emptyOpts","Emitter","emitting","forEachEvent","handler","qualifier","conf","confOverrides","eventList","evt","makeEventObj","forEachEventObj","eventObj","one","listener","removeAllListeners","extraParams","manualCallback","numListenersBeforeEmit","emitterOptions","selector1","selector2","once","onceCollection","argSelector","arg","elesfn$m","emitter","argSel","elesfn$n","_filter","filterEles","include","toRemove","rMap","remove","absoluteComplement","mutableElements","other","col1","col2","col1Smaller","map2","xor","inOther","both","retEles","toAdd","toAddEle","_index","unmergeAt","unmergedLastEle","lastEleI","lastEle","lastEleId","unmergeOne","unmerge","toRmFn","mapFn","initialValue","valFn","maxEle","minEle","fn$5","union","or","difference","relativeComplement","subtract","and","symmetricDifference","symdiff","fnFilter","filterFn","complement","abscomp","elesfn$o","zIndexSort","getDepth","zDepth","depthDiff","getEleDepth","eleDiff","zDiff","poolIndex","elesfn$p","start","thisSize","first","last","sortFn","sorted","sortByZIndex","srcDepth","tgtDepth","each","getLayoutDimensionOptions","nodeDimensionsIncludeLabels","elesfn$q","layoutDimensions","dims","takesUpSpace","bbDim","layoutPositions","layoutEles","getMemoizeKey","fnMem","animations","calculateSpacing","spacing","nodesBb","spacingVector","useSpacingFactor","spacingFactor","spacingBb","getFinalPos","transform","animateNode","animateFilter","animationDuration","easing","animationEasing","fitAni","zoomPanAni","ready","makeLayout","createLayout","styleCache","cacheStyleFunction","cachedStyleFunction","cachePrototypeStyleFunction","selfFn","cachedPrototypeStyleFunction","elesfn$r","dirtyStyleCache","dirty","spawnSelf","notifyRenderer","bEles","batchStyleEles","updatedEles","changedEles","parsedStyle","property","includeNonDefault","overriddenStyle","getDefaultProperty","numericStyle","numericStyleUnits","renderedStyle","getRenderedStyle","updateTransitions","applyBypass","getStylePropertyValue","getRawStyle","removeStyle","removeAllBypasses","removeBypasses","show","hide","effectiveOpacity","parentOpacity","opacity","checkCompound","parentOk","defineDerivedStateFunction","specs","ok","edgeOkViaNode","eleTakesUpSpace","eleInteractive","parentInteractive","interactive","noninteractive","eleVisible","edgeVisibleViaNode","hidden","isBundledBezier","renderedCss","removeBypass","removeCss","elesfn$s","defineSwitchFunction","_handler","addlEvents","able","ableField","overrideAble","changedColl","defineSwitchSet","overrideField","autolock","autoungrabify","autounselectify","deselect","unselect","inactive","elesfn$t","defineDagExtremity","dagExtremityImpl","disqualified","noIncomingEdges","noOutgoingEdges","defineDagOneHop","oEles","defineDagAllHops","sEles","sElesIds","newNext","nid","clearTraversalCache","successors","predecessors","otherNode","closedNeighborhood","neighbourhood","closedNeighbourhood","openNeighbourhood","sourceImpl","targetImpl","sources","defineSourceFunction","targets","defineEdgesWithFunction","thisIsSrc","edgesWithImpl","otherNodes","edgeData","thisToOther","otherToThis","edgeConnectsThisAndOther","thisIsTgt","parallelEdges","defineParallelEdgesFunction","codirectedEdges","codirected","parallelEdgesImpl","edge1","edge1_p","src1","srcid1","tgtid1","srcEdges1","edge2","edge2data","tgtid2","srcid2","oppdirected","components","visited","unvisited","visitInComponent","component","cmpt","componentsOf","idFactory","generate","tryThisId","Collection","createdElements","elesIds","json","_data","_l","element$1","elesfn$u","$id","_data2","move","checkSwitch","trueFnName","falseFnName","obj_k","jsons","elesArr","addToPool","cy_p","removeFromElements","_data3","fields","fieldsLength","badSourceOrTarget","_data4","parentId","specifiedParent","selfAsParent","restored","toUpdateStyle","inside","removeFromPool","elesToRemove","elesToRemoveIds","addConnectedEdges","alreadyAdded","removeEdgeRef","removeParallelRef","pllEdge","alteredParents","ids","removeChildRef","pid","_ele3","pllEdges","elesStillInside","_ele4","removedElements","_ele5","struct","modifyPool","srcExists","tgtExists","batch","_data5","parentExists","pidToAssign","updated","_data6","corefn","_jsons","elesByGroup","_jsons2","grs","elesArray","jl","_json","generateCubicBezier","mX1","mY1","mX2","mY2","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","float32ArraySupported","Float32Array","mSampleValues","aA1","aA2","calcBezier","aT","getSlope","newtonRaphsonIterate","aX","aGuessT","currentSlope","calcSampleValues","binarySubdivide","aA","aB","currentT","getTForX","intervalStart","currentSample","lastSample","guessForT","initialSlope","_precomputed","precompute","generateSpringRK4","springAccelerationForState","tension","friction","springEvaluateStateWithDerivative","initialState","dt","derivative","dv","springIntegrateState","dxdt","dvdt","springRK4Factory","initState","time_lapsed","DT","have_duration","last_state","percentComplete","cubicBezier","bezier","percent","easings","linear","spring","getEasedValue","easingFn","roundValue","ease","startProp","endProp","propSpec","easedArr","si","step","pEasing","startTime","easingImpl","easingVals","easingProp","startPos","endPos","endPan","animatingPan","endZoom","animatingZoom","minZoom","maxZoom","_name","easedVal","overrideBypass","startAnimation","stepAll","aniEles","doneEles","stepOne","ranAnis","callbacks","_callbacks","ranEleAni","handledThisEle","ranCoreAni","corefn$1","stopAnimationLoop","animationsRunning","startAnimationLoop","headlessStep","animationStep","beforeRender","rendererAnimationStep","willDraw","beforeRenderPriorities","emitterOptions$1","argSelector$1","elesfn$v","corefn$2","png","jpg","bg","jpeg","corefn$3","Layout","extension","corefn$4","eventName","eventEles","batchNotifications","notificationsEnabled","destroyed","notifications","bool","noNotifications","batchCount","batchData","rendererDefaults","hideEdgesOnViewport","textureOnViewport","motionBlur","motionBlurOpacity","pixelRatio","desktopTapThreshold","touchTapThreshold","wheelSensitivity","debug","showFps","corefn$5","renderTo","pxRatio","forceRender","resize","invalidateSize","initRenderer","RendererProto","rOpts","destroyRenderer","domEle","container","_cyreg","childNodes","removeChild","onRender","offRender","invalidateDimensions","corefn$6","styfn","FALSE","newStyle","contextStyles","propDiffs","cleanElements","ie","cxtMeta","getContextMeta","cxtStyle","getContextStyle","app","applyContextStyle","diffProps","hintsDiff","updateStyleHints","getPropertiesDiff","oldCxtKey","newCxtKey","dualCxtKey","cachedVal","addedProp","cxt","oldHasCxt","newHasCxt","cxtHasDiffed","cxtHasMappedProps","mappedProperties","laterCxtOverrides","laterCxt","hasLaterCxt","cxtKey","prevKey","styleCxtKey","contextSelectorMatches","diffPropNames","cxtStyles","hasCxt","retDiffProps","types","diffPropName","cxtProp","eleProp","deleteBypassed","mapped","mapping","fnValue","prevFnValue","retDiffProp","applyParsedProperty","bypassed","propNames","propertyGroupNames","propGrKeys","propertyGroupKeys","propHash","seedKey","getPropertiesHash","oldStyleKey","styleKey","overriddenStyles","grKey","updateGrKey","updateGrKeyWStr","strVal","cleanNum","parsedProp","propInfo","_grKey","groupKey","normalizedNumberVal","hashOverride","numberVal","enums","haveNormNum","haveUnitedNum","haveNum","multiple","_grKey2","grHash","labelDimsKey","labelDimensions","labelKey","labelStyleKey","commonLabel","sourceLabelKey","sourceLabelStyleKey","targetLabelKey","targetLabelStyleKey","_p$styleKeys","nodeBody","nodeBorder","backgroundImage","pie","nodeKey","hasPie","clearStyleHints","flatProp","propIsBypass","origProp","origPropIsBypass","flatPropMapping","getVal","checkTriggers","fromVal","toVal","deleteBypass","printMappingErr","mapData","fieldWidth","fieldMax","fieldMin","r1","valueMin","r2","valueMax","g1","g2","b1","a1","a2","clr","calcValue","_fields","_fieldVal","fnRetVal","keepBypasses","anyPrev","styProp","diffProp","prevProp","fromProp","toProp","initVal","initDt","transitioning","checkTrigger","fromValue","toValue","getTrigger","onTrigger","triggerCheck","checkZOrderTrigger","triggersZOrder","checkBoundsTrigger","triggersBounds","triggersBoundsOfParallelBeziers","styfn$1","isBypass","_parsedProp","specifiedProps","_name2","_value","_parsedProp2","_prop","isColor","isMulti","mutiple","oldValue","propertyNames","styfn$2","getEmSizeInPixels","containerCss","getComputedStyle","getPropertyValue","styfn$3","isRenderedVal","getIndexedStyle","subproperty","alias","pointsTo","styleProp","getRenderedValue","getValueStringWithUnits","isArrayValue","haveUnits","aniProps","aniProp","propsObj","getNonDefaultPropertiesHash","chVal","styfn$4","appendFromJson","fromJson","resetToDefault","defaultLength","styfn$5","appendFromString","selAndBlockStr","blockRem","propAndValStr","removeSelAndBlockFromRemaining","removePropAndValFromRem","nothingLeftToParse","selAndBlock","selectorStr","blockStr","invalidBlock","_nothingLeftToParse","propAndVal","propStr","fromString","styfn$6","hex3$1","hex6$1","mapArg","urlRegexes","implicitUnits","percentages","zeroOneNumber","unitless","zeroOneNumbers","nOneOneNumber","nonNegativeInt","nodeSize","numbers","positiveNumber","strictMin","bidirectionalSize","bidirectionalSizes","sizeMaybePercent","allowPercent","axisDirection","paddingRelativeTo","bgWH","bgPos","bgRelativeTo","bgRepeat","bgFit","bgCrossOrigin","bgClip","fill","lineStyle","lineCap","borderStyle","fontFamily","fontStyle","fontWeight","textDecoration","textTransform","textWrap","textOverflowWrap","textBackgroundShape","nodeShape","compoundIncludeLabels","arrowShape","arrowFill","display","visibility","zCompoundDepth","zIndexCompare","justification","layoutData","mapLayoutData","mapScratch","url","regexes","singleRegexMatchValue","urls","propList","textRotation","polygonPointList","evenMultiple","edgeDistances","edgeEndpoint","singleEnum","validate","valArr","unitsArr","gradientDirection","boundsExpansion","zeroNonZero","val1","val2","any","mainLabel","sourceLabel","targetLabel","behavior","overlay","transition","nodeSizeHashOverride","edgeLine","pieBackgroundN","edgeArrow","arrowPrefixes","propGroups","propertyGroups","propGroupNames","propGroupKeys","aliases","pointsToProp","aliasProp","getDefaultProperties","defaultProperties","rawProps","parsedProps","addDefaultStylesheet","styfn$7","propIsFlat","parseImplWarn","flatKey","bypassKey","valueKey","argHash","propCache","parseImpl","passedValue","trim","_mapped","pfValArr","hasEnum","checkEnums","en","unitsRegex","strictMax","propsStr","propsSplit","tuple","enumProp","Style","coreStyle","styfn$8","mapVal","cssRule","currentSelectorIsCore","append","appendToStyle","corefn$7","setStyle","generateStyle","defaultSelectionType","corefn$8","selectionType","selType","panningEnabled","userPanningEnabled","zoomingEnabled","userZoomingEnabled","boxSelectionEnabled","arg0","viewportState","bbe","zoomRange","currentPan","currentZoom","bail","level","pan1","zoom1","zoom2","pan2","viewport","zoomDefd","panDefd","zoomFailed","panFailed","z","cancelOnFailedZoom","reset","sizeCache","clientWidth","clientHeight","extent","rb","renderedExtent","autolockNodes","autoungrabifyNodes","fn$6","Core","reg","destroy","readies","head","defVal","def","altVal","loadExtData","extData","anyIsPromise","rendererOptions","setElesAndLayout","onload","ondone","oldEles","layoutOpts","thens","initStyle","initEles","corefn$9","isReady","isHeadless","mount","unmount","getFreshRef","idInJson","updateEles","gr","toMod","_toMod$_i","parentsToRemove","flat","defaults$9","circle","grid","avoidOverlap","maximal","setInfo","BreadthFirstLayout","graph","maximalAdjustments","rootsArray","comp","compRoots","depths","foundByBfs","addToDepth","changeDepth","newDepth","pNode","orphanNodes","assignDepthsAt","assignDepths","adjustMaximally","shifted","eInfo","maxDepth","incmr","iInfo","enqueue","dequeue","didShift","minDistance","nbb","cachedWeightedPercent","getWeightedPercent","eleDepth","samples","bf","nDepth","apct","bpct","orphanDepth","biggestDepthSize","maxDepthSize","getPosition","_getInfo2","depthSize","distanceX","distanceY","radiusStepSize","epos","defaults$a","sweep","clockwise","CircleLayout","counterclockwise","dTheta","dcos","dsin","rMin","getPos","rx","ry","defaults$b","equidistant","minNodeSpacing","concentric","levelWidth","ConcentricLayout","nodeValues","maxNodeSize","levels","currentLevel","minDist","firstLvlHasMulti","maxR","rStep","rDeltaMax","_r","_level","rDelta","_level2","_level3","_dTheta","_r2","_val","DEBUG","defaults$c","animationThreshold","refresh","randomize","componentSpacing","nodeRepulsion","nodeOverlap","idealEdgeLength","edgeElasticity","nestingFactor","gravity","initialTemp","coolingFactor","minTemp","CoseLayout","layoutInfo","createLayoutInfo","printLayoutInfo","randomizePositions","refreshPositions","mainLoop","step$1","temperature","getScaledPos","getScaleInBoundsFn","loopRet","frame","separateComponents","thread","isCompound","layoutNodes","idToIndex","graphSet","indexToGraph","layoutEdges","edgeSize","id2cmptId","tempNode","isLocked","cmptId","positionX","positionY","padLeft","padRight","padTop","padBottom","tempGraph","p_id","node_id","node_ix","tempEdge","sourceId","targetId","idealLength","elasticity","sourceIx","targetIx","sourceGraph","targetGraph","lca","findLCA","lcaGraph","findLCA_aux","count","graphIx","nodeId","nodeIx","childGraphIx","coseBB","lnode","pctX","pctY","_step","calculateNodeForces","calculateEdgeForces","calculateGravityForces","propagateForces","updatePositions","randomDistance","cmptId1","cmptId2","directionX","directionY","maxRandDist","overlap","nodesOverlap","forceX","forceY","point1","findClippingPoint","point2","distanceSqr","dX","dY","overlapX","overlapY","X","Y","H","W","dirSlope","nodeSlope","lx","ly","distThreshold","fx","fy","nodeIndex","offX","offY","childNode","tempForce","limitForce","updateAncestryBoundaries","flag","cid","totalA","usedW","rowH","maxRowW","defaults$d","avoidOverlapPadding","condense","rows","cols","GridLayout","cells","splits","small","large","oRows","oCols","columns","sm","lg","_sm","_lg","cellWidth","cellHeight","cellUsed","used","use","moveToNextCell","id2manPos","rcPos","defaults$e","NullLayout","defaults$f","PresetLayout","posIsFn","defaults$g","RandomLayout","NullRenderer","noop$1","throwImgErr","BRp","arrowShapeWidth","registerArrowShapes","arrowShapes","bbCollide","translation","edgeWidth","xRotated","yRotated","xScaled","yScaled","xTranslated","yTranslated","transformPoints","retPts","pointsToArr","standardGap","defineArrowShape","defn","collide","roughCollide","draw","arrowShapeImpl","gap","controlPoint","ptsTrans","ctrlPt","ctrlPtTrans","pointsTee","triPts","teePts","baseCrossLinePts","crossLinePts","shiftFactor","y0","getArrowWidth","BRp$1","projectIntoViewport","clientX","clientY","offsets","findContainerClientCoords","offsetLeft","offsetTop","scale","containerBB","rect","getBoundingClientRect","styleValue","paddingHor","paddingVer","borderHor","unscaledW","unscaledH","invalidateContainerClientCoordsCache","findNearestElement","interactiveElementsOnly","isTouch","findNearestElements","getCachedZSortedEles","near","edgeThreshold","nodeThreshold","labelThreshold","minSqDist","nearEdge","nearNode","addEle","sqDist","checkNode","hw","hh","shape","nodeShapes","getNodeShape","checkPoint","checkEdge","rs","styleWidth","widthSq","width2","edgeType","allpts","arSize","arrows","arrowStartX","arrowStartY","srcArrowAngle","arrowEndX","arrowEndY","tgtArrowAngle","midsrcArrowAngle","midtgtArrowAngle","ar","preprop","pre","checkLabel","th","eventsEnabled","getAllInBox","box","x1c","x2c","y1c","y2c","boxBb","nodeBb","startX","startY","endX","endY","allInside","BRp$2","calculateArrowAngles","isHaystack","isBezier","isMultibezier","isSegments","isSelf","segpts","bX","bY","i2","i1","i3","cpts","ctrlpts","bp0x","bp0y","bp1x","bp1y","ic","midDispX","midDispY","getArrowHeight","arrowWidthCache","BRp$3","findHaystackPoints","haystack","srcPos","tgtPos","srcW","tgtW","srcH","tgtH","halfRadius","storeEdgeProjections","recalculateEdgeLabelProjections","calculateLabelAngles","findSegmentsPoints","pairInfo","posPts","intersectionPts","vectorNormInverse","segmentWs","segmentDs","segmentsN","w1","w2","midptPts","adjustedMidpt","findLoopPoints","edgeIsUnbundled","dirCounts","ctrlptDists","ctrlptDist","loopDir","loopSwp","stepSize","loopDist","loopAngle","outAngle","inAngle","String","findCompoundLoopPoints","loopW","loopaPos","loopbPos","loopPos","minCompoundStretch","compoundStretchA","compoundStretchB","findStraightEdgePoints","findBezierPoints","edgeIsSwapped","ctrlptWs","bezierN","ctrlptWeight","multi","normctrlptDist","manctrlptDist","sign","distanceFromMidpoint","findTaxiPoints","VERTICAL","HORIZONTAL","LEFTWARD","RIGHTWARD","DOWNWARD","UPWARD","AUTO","dIncludesNodeBody","taxiDir","rawTaxiDir","taxiTurn","taxiTurnPfVal","minD","turnIsPercent","dw","dh","pdx","pdy","subDWH","dxy","dwh","isExplicitDir","isVert","pl","sgnL","forcedDir","getIsTooClose","isTooCloseSrc","isTooCloseTgt","isTooClose","lShapeInsideSrc","lShapeInsideTgt","_lShapeInsideSrc","_lShapeInsideTgt","_y","_x","_x2","_x3","_y2","_y3","_y4","_x4","_x5","_x6","_y5","_y6","tryToCorrectInvalidPoints","srcShape","tgtShape","badStart","badAStart","badEnd","badAEnd","minCpADistFactor","arrowW","minCpADist","startACpDist","closeStartACp","endACpDist","closeEndACp","overlapping","cpD","cpL","cpM","cpProj","srcCtrlPtIntn","intersectLine","_cpD","_cpL","_cpM","_radius","_cpProj","tgtCtrlPtIntn","findEndpoints","storeAllpts","mt","checkForInvalidEdgeWarning","loggedErr","findEdgeControlPoints","hashTable","pairId","pairIds","haystackEdges","edgeIsBezier","srcIndex","tgtIndex","tableEntry","hasUnbundled","hasBezier","swappedpairInfo","firstEdge","_curveStyle","_edgeIsUnbundled","calculatedIntersection","srcOutside","srcIntn","tgtOutside","tgtIntn","vector","vectorNorm","passedPairInfo","getPts","BRp$4","manualEndptToPx","npos","tgtArShape","srcArShape","et","taxi","segments","hasEndpts","overrideEndpts","srcManEndpt","srcManEndptVal","tgtManEndpt","tgtManEndptVal","p1_i","p2_i","cpStart","cpEnd","srcArrowFromPt","tgtArrowFromPt","trs","va","ha","labelIntersect","refPt","intSqdist","labIntSqdist","arrowEnd","edgeEnd","srs","_lw","_lh","_lx","_ly","_va","_ha","_labelIntersect","_refPt","_intSqdist","_labIntSqdist","arrowStart","edgeStart","badLine","BRp$5","pushBezierPts","qbezierAt$1","p3","bpts","bezierProjPcts","lpts","recalculateEdgeProjections","BRp$6","recalculateNodeLabelProjection","content","textX","textY","nodeWidth","nodeHeight","nodePos","textHalign","textValign","applyLabelDimensions","lineAngleFromDelta","lineAngle","bezierAngle","t0","lp0","lp1","setRs","midAngle","createControlPointInfo","startDist","nProjs","addSegment","cp","prevSegment","segment","prevCp","calculateEndProjection","isSrc","cps","totalDist","_cp","_seg","lastSeg","seg","tSegment","segDt","di","d0","pD","_t","applyPrefixedLabelDimensions","getLabelText","labelDims","calculateLabelDimensions","lineHeight","numLines","normPerLineHeight","labelLineHeight","pfd","wrapStyle","zwsp","maxW","overflow","overflowAny","wrappedLines","wordsRegex","wordSeparator","lineDims","lineW","processedLine","words","subline","word","testLine","testDims","testW","_maxW","ellipsized","ellipsis","incLastCh","widthWithNextCh","getLabelJustification","cacheKey","labelDimCache","existingVal","sizeMult","fStyle","family","div","labelCalcDiv","createElement","body","appendChild","ds","fontSize","zIndex","pointerEvents","whiteSpace","textContent","calculateLabelAngle","rot","rotStr","labelAutoAngle","labelAngle","sourceLabelAngle","targetLabelAngle","BRp$7","TOO_SMALL_CUT_RECT","warnedCutRect","makePolygon","BRp$8","registerCalculationListeners","elesToUpdate","dirtyStyleCaches","cleanConnected","binder","onDirtyBounds","onDirtyStyle","updateEleCalcs","fns","onUpdateEleCalcsFns","flushRenderedStyleQueue","eleCalcs","onUpdateEleCalcs","nodeW","nodeH","BRp$9","updateCachedGrabbedEles","cachedZSortedEles","drag","nondrag","grabTargets","inDragLayer","invalidateCachedZSortedEles","forceRecalc","BRp$a","BRp$b","getCachedImage","crossOrigin","onLoad","imageCache","image","addEventListener","Image","dataUriPrefix","isDataUri","BRp$c","registerBinding","useCapture","tgtIsDom","supportsPassiveEvents","supportsPassive","capture","passive","bindings","nodeIsDraggable","nodeIsGrabbable","load","isSelected","triggerEvents","isMultSelKeyDown","shiftKey","metaKey","ctrlKey","allowPanningPassthrough","down","downs","allowPassthrough","setGrabbed","setFreed","setInDragLayer","setOutDragLayer","setGrabTarget","isGrabTarget","removeGrabTarget","addToDragList","list","addToList","listHasEle","addDescendantsToDrag","innerNodes","addNodesToDrag","updateAncestorsInDragLayer","addNodeToDrag","freeDraggedElements","grabbedEles","blurActiveDomElement","activeElement","blur","haveMutationsApi","MutationObserver","haveResizeObserverApi","ResizeObserver","removeObserver","mutns","mutn","rNodes","removedNodes","rNode","parentNode","observe","childList","onResize","styleObserver","resizeObserver","invalidateCoords","inBoxSelection","selection","eventInContainer","containerPageCoords","touches","atLeastOnePosInside","tParent","containerIsTarget","mousedownHandler","hoverData","which","gpos","select","nears","draggedElements","dragData","possibleDragElements","mdownPos","mdownGPos","checkForTaphold","tapholdCancelled","clearTimeout","tapholdTimeout","tapholdDuration","cxtStarted","cxtEvt","activate","downTime","getTime","cxtDragged","makeEvent","triggerGrab","selectedNodes","redrawHint","bgActivePosistion","redraw","mousemoveHandler","draggingEles","dragging","selecting","isOverThresholdDrag","dx2","dy2","dist2","desktopTapThreshold2","multSelKeyDown","updateDragDelta","dragDelta","goIntoBoxMode","cxtOver","deltaP","justStartedPan","mdPos","dragged","unactivate","didDrag","justStartedDrag","toTrigger","totalShift","dEle","mouseupHandler","cxtTap","eleWouldBeSelected","downWasGrabbed","wheelHandler","scrollingPage","wheelZooming","wheelTimeout","deltaY","wheelDeltaY","wheelDelta","needsWheelFix","deltaMode","scrollHandler","scrollingPageTimeout","mouseOutHandler","mouseOverHandler","f1x1","f1y1","f2x1","f2y1","distance1","distance1Sq","center1","modelCenter1","containerWidth","containerHeight","twoFingersStartInside","distanceSq","touchstartHandler","touchData","earlier","singleTouchMoved","touchDragEles","cxtDistThreshold","cxtDistThresholdSq","near1","near2","starts","draggedEles","singleTouchStartTime","pinching","sPos","touch0","startGPosition","touchmoveHandler","startGPos","touchTapThreshold2","f1x2","f1y2","f2x2","f2y2","distance2Sq","factorSq","distThresholdSq","factorThreshold","factorThresholdSq","lastThreeTouch","didSelect","de_p","_start","distance2","factor","df1x","df1y","df2x","df2y","tx","ty","ctrx","ctry","swipePanning","touchcancelHandler","touchendHandler","ctxTapend","ctxTap","startWasGrabbed","rdist2","TouchEvent","pointers","makeTouch","identifier","pointerId","pageX","pageY","radiusX","radiusY","screenX","screenY","makePointer","touch","addPointer","removePointer","updatePointer","addTouchesToEvent","pointerIsMouse","pointerType","BRp$d","generatePolygon","nodeShapeImpl","generateEllipse","generateRoundPolygon","allPoints","sourceIndex","destIndex","xDest","yDest","norm","generateRoundRectangle","diam","generateCutRectangle","cornerLength","generateCutTrianglePts","cl","xBegin","xEnd","yBegin","yEnd","topLeft","topRight","bottomRight","bottomLeft","cPts","cutTrianglePts","generateBarrel","bPts","generateBarrelBezierPts","approximateBarrelCurvePts","m0","m1","m2","curveConstants","hOffset","wOffset","ctrlPtXOffset","isTop","isBottom","barrelCurvePts","getCurveT","curvePts","x0","xMin","xMax","yMin","yMax","coeff","validRoots","curveRegions","corner","cornerPts","bezY","generateBottomRoundrectangle","topIntersections","registerNodeShapes","diamondPoints","star5Points","outerPoints","innerPoints","innerRadius","tagPoints","BRp$e","timeToRender","redrawTotalTime","redrawCount","averageRedrawTime","lastRedrawTime","lastDrawTime","requestedFrame","renderOptions","priority","cbs","beforeRenderCallbacks","startRenderLoop","renderLoopStarted","renderFn","requestTime","skipFrame","render","endTime","BaseRenderer","BR","BRp$f","clientFunctions","ctr","stylesheetId","stylesheetAlreadyExists","innerHTML","insertBefore","computedStyle","triggerMode","initialPan","redraws","motionBlurEnabled","forcedPixelRatio","motionBlurTransparency","motionBlurPxRatio","mbPxRBlurry","minMbLowQualFrames","fullQualityMb","clearedForMotionBlur","eleTxrDeq","lyrTxrDeq","lyrTxrSkip","matchCanvasSize","binding","removeEventListener","disconnect","fullFpsTime","defs","setupDequeueing","setupDequeueingImpl","dequeueingSetup","queueRedraw","deqRedrawThreshold","frameStartTime","avgRenderTime","renderTime","deqd","getPixelRatio","frameDuration","timeAvailable","deqFastCost","deqCost","deqAvgCost","deqNoDrawCost","thisDeqd","deq","onDeqd","shouldRedraw","ElementTextureCacheLookup","doesEleInvalidateKey","idsByKey","keyForId","cachesByLvl","lvls","getIdsFor","addIdForKey","deleteIdForKey","getNumberOfIdsForKey","updateKeyMappingFor","currKey","deleteKeyMappingFor","keyHasChangedFor","newKey","isInvalid","getCachesAt","lvl","caches","getCache","getForCachedKey","hasCache","setCache","deleteCache","invalidateKey","invalidate","entireKeyInvalidated","minTxrH","txrStepH","minLvl","maxLvl","eleTxrSpacing","defTxrWidth","maxTxrW","maxTxrH","minUtility","maxFullness","maxFullnessChecks","maxDeqSize","getTxrReasons","downscale","highQuality","initDefaults","drawElement","getBoundingBox","getRotationPoint","getRotationOffset","isVisible","allowEdgeTxrCaching","allowParentTxrCaching","ElementTextureCache","initOptions","onDequeues","ETCp","reasons","getTextureQueue","txrH","eleImgCaches","getRetiredTextureQueue","rtxtrQs","retired","rtxtrQ","getElementQueue","eleCacheQueue","reqs","getElementKeyToQueue","k2q","eleKeyToCacheQueue","getElement","reason","eleScaledH","eleScaledW","scaledLabelShown","eleTextBiggerThanMin","eleCache","invalidated","texture","invalidatedWidth","txrQ","txr","addNewTxr","recycleTexture","addTexture","usedWidth","scalableFrom","otherCache","deqing","highQualityReq","downscaleReq","higherCache","oneUpCache","drawImage","canvas","setTransform","clearRect","queueElement","lowerCache","_l2","translate","eleCaches","checkTextureFullness","invalidateElements","invalidateElement","noOtherElesUseCache","_cache","checkTextureUtility","removeFromQueue","retireTexture","fullnessChecks","minW","makeOffscreenCanvas","getContext","existingReq","req","dequeued","cacheExists","onDequeue","offDequeue","defNumLayers","minLvl$1","maxLvl$1","maxZoom$1","deqRedrawThreshold$1","refineEleDebounceTime","deqCost$1","deqAvgCost$1","deqNoDrawCost$1","deqFastCost$1","maxDeqSize$1","invalidThreshold","maxLayerArea","useHighQualityEleTxrReqs","LayeredTextureCache","layersByLevel","firstGet","lastInvalidationTime","skipping","eleTxrDeqs","scheduleElementRefinement","refineElementTextures","qSort","layersQueue","LTCp","layerIdPool","MAX_INT$1","makeLayer","layer","elesQueue","getLayers","validateLayersElesOrdering","layersByLvl","layers","lvlComplete","levelIsComplete","tmpLayers","checkTempLevels","canUseAsTmpLvl","checkLvls","dir","getBb","after","area","insert","maxElesPerLayer","allowLazyQueueing","imgLayerCaches","existingLayer","queueLayer","drawEleInLayer","getEleLevelForLayerLevel","setImgSmoothing","drawCachedElement","numElesInLayers","invalidateLayer","updateElementsInLayers","haveLayers","invalAssocLayers","replacement","refineEachEle","rLyr","replaces","enqueueElementRefinement","elesQ","hasId","eleDeqs","peek","applyLayerReplacement","requestRedraw","layersInLevel","replaced","CRp","polygon","lineTo","triangleBackcurve","firstPt","quadraticCurveTo","triangleTee","trianglePoints","teePoints","beginPath","firstTeePt","moveTo","closePath","arc","CRp$1","shiftToOriginWithBb","showLabel","showOverlay","showOpacity","drawNode","drawEdge","drawElementOverlay","drawNodeOverlay","drawEdgeOverlay","drawCachedElementPortion","eleTxrCache","getRotation","getOpacity","smooth","rotPt","getImgSmoothing","oldGlobalAlpha","globalAlpha","getZeroRotation","getLabelRotation","getTextAngle","getSourceLabelRotation","getTargetLabelRotation","getTextOpacity","requestHighQuality","_r$data","lblTxrCache","slbTxrCache","tlbTxrCache","drawElements","drawCachedElements","drawCachedNodes","drawLayeredElements","lyrTxrCache","CRp$2","drawLabel","shouldDrawOverlay","shouldDrawOpacity","drawLine","strokeOpacity","lineWidth","eleStrokeStyle","drawEdgePath","drawOverlay","drawArrows","arrowOpacity","drawArrowheads","drawText","drawElementText","lineJoin","ghostOpacity","effectiveGhostOpacity","usePaths","overlayWidth","overlayColor","colorStrokeStyle","canvasCxt","pathCacheHit","lineDashPattern","lineDashOffset","pathCacheKey","keyMatches","pathCache","Path2D","setLineDash","stroke","drawArrowhead","arrowClearFill","edgeOpacity","gco","globalCompositeOperation","colorFillStyle","drawArrowShape","canvasContext","shapeImpl","arrowPathCache","cachedPath","matchEdgeWidth","CRp$3","safeDrawImage","img","ix","iy","iw","ih","drawInscribedImage","nodeOpacity","styleObj","repeat","paddingX2","nodeTW","nodeTH","clip","shouldClip","imgOpacity","imgW","cachedW","imgH","cachedH","offsetWidth","offsetHeight","posXUnits","posXPfVal","offXUnits","offXPfVal","posYUnits","posYPfVal","offYUnits","offYPfVal","gAlpha","save","pattern","createPattern","fillStyle","CRp$4","computedSize","minSize","useEleOpacity","textAlign","textBaseline","_label","srcLabel","tgtLabel","applyRotation","getFontCache","fontCaches","setupTextStyle","labelStyle","labelSize","labelFamily","labelWeight","outlineOpacity","outlineColor","font","roundRect","ctx","pdash","textAngle","orgTextX","orgTextY","textW","textH","backgroundOpacity","borderOpacity","textBorderWidth","backgroundPadding","bgX","bgY","bgW","bgH","textFill","textBackgroundColor","styleShape","fillRect","textStroke","strokeStyle","textLineWidth","textBorderColor","textBorderStyle","strokeRect","whiteWidth","halfTextW","strokeText","fillText","CRp$5","eleOpacity","bgImgProp","urlDefined","numImages","defd","bgImgCrossOrigin","backgroundTimestamp","darkness","bgOpacity","borderColor","setupShapeColor","bgOpy","eleFillStyle","setupBorderColor","bdrOpy","shapePts","nodePathCache","drawShape","drawImages","prevBging","totalCompleted","drawPie","redrawShape","pieOpacity","darken","darkenOpacity","drawBorder","effGhostOpacity","cyStyle","pieSize","lastPercent","angleStart","angleDelta","angleEnd","CRp$6","motionBlurDelay","contexts","backingStore","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","devicePixelRatio","paintCache","paintCaches","needToCreateCache","createGradientStyleFor","shapeStyleName","gradientStyle","createRadialGradient","_end","createLinearGradient","_width","_height","hasPositions","addColorStop","gradientFillStyle","backgroundFill","backgroundColor","gradientStrokeStyle","lineFill","lineColor","mbPxRatio","bufferCanvases","MOTIONBLUR_BUFFER_NODE","MOTIONBLUR_BUFFER_DRAG","canvasWidth","canvasHeight","canvasContainer","CANVAS_LAYERS","canvases","BUFFER_COUNT","textureMult","TEXTURE_BUFFER","forcedContext","forcedZoom","forcedPan","drawAllLayers","forcedPxRatio","drawOnlyNodeLayer","needDraw","canvasNeedsRedraw","textureDraw","inNodeDragGesture","motionBlurFadeEffect","prevPxRatio","motionBlurTimeout","mbFrames","clearingMotionBlur","textureDrawLastFrame","NODE","SELECT_BOX","effectiveZoom","effectivePan","prevVp","prevViewport","viewportIsDiff","mbclear","setContextTransform","ePan","eZoom","bufferContexts","textureCache","mpan","DRAG","outsideBgColor","outsideBgOpacity","vpManip","hideEdges","needMbClear","useBuffer","drawDebugPoints","fps","maxFps","cxtNode","txtNode","cxtDrag","txtDrag","drawMotionBlur","txt","needClear","pxr","motionBlurCleared","CRp$7","drawPolygonPath","drawRoundPolygonPath","arcTo","drawRoundRectanglePath","drawBottomRoundRectanglePath","drawCutRectanglePath","drawBarrelPath","barrelCurveConstants","sin0","cos0","ellipseStepSize","drawEllipsePath","ellipse","xPos","yPos","rw","rh","CRp$8","createBuffer","buffer","bufferCanvasImage","ctrRect","full","specdMaxDims","maxWidth","maxHeight","maxScaleW","maxScaleH","buffCanvas","buffCxt","zsortedEles","b64ToBlob","b64","mimeType","bytes","atob","buff","ArrayBuffer","buffUint8","Uint8Array","Blob","b64UriToB64","b64uri","output","getB64Uri","toDataURL","quality","toBlob","blob","CRp$9","CR","CanvasRenderer","CRp$a","tapHlOffAttr","tapHlOffStyle","containerStyle","styleMap","setAttribute","topCanvas","pathsEnabled","emptyBb","getBoxCenter","getCenterOffset","backgroundTimestampHasChanged","oldBackgroundTimestamp","getStyleKey","getLabelKey","getSourceLabelKey","getTargetLabelKey","drawSourceLabel","drawTargetLabel","getElementBox","getLabelBox","getSourceLabelBox","getTargetLabelBox","isLabelVisibleAtScale","getElementRotationPoint","addTextMargin","getRsPt","getLabelRotationPoint","getSourceLabelRotationPoint","getTargetLabelRotationPoint","getElementRotationOffset","getSourceLabelRotationOffset","getTargetLabelRotationOffset","getLabelRotationOffset","invalidateTextureCaches","refineInLayers","pathsImpld","path2dEnabled","imageSmoothingEnabled","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","msImageSmoothingEnabled","OffscreenCanvas","incExts","extensions","modules","setExtension","registrant","ext","overrideErr","layoutProto","optLayoutFns","fnName","regStop","getCy","emitterOpts","getExtension","bProto","RegistrantRenderer","rProto","Renderer","pName","pVal","existsInR","_pName","setModule","moduleType","moduleName","getModule","Stylesheet","sheetfn","version","cytoscape","module","exports","avsdf","Drawer","transitions","constraint","input","paths","metrics","isEncode","ungrabifyWhileSimulating","padEnd","metric","decoded","calc","prepareData","minPath","isInteger","_","padStart","nodesauto","edgesauto","flatMap","nodesgrid","edgesgrid","lastindex","mod","bit","auto","_draw","defaultOptions","nodeSeparation","dataurl","filename","href","click","querySelectorAll","download","doc","jsPDF","html"],"mappings":"AGAA;AGAA,ACAA,AHAA,ADCA,ADDA,AGAA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA,AONA;AFOA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,AHCA,AFDA,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,AHCA,AFDA,AFDA,AKCA,AJAA,SGCSA,eAAT,CAA0BC,EAA1B,EAA8B;AEA9B,ACAA,AHAgC,AFAhC,AFDA,AKCA,AJAA,SGAwCA,EAAE,IAAK,OAAOA,EAAP,KAAc,QAArB,IAAkC,aAAaA,EAAhD,GAAsDA,EAAE,CAAC,SAAD,CAAxD,GAAsEA,EAA7E;AEChC,ACAA,AHDkH,AFClH,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,AHDA,AFCA,AFDA,AKCA,AJAA,IGDIC,IAAI,GAAGF,eAAe,CAACG,OAAO,CAAC,iBAAD,CAAR,CAA1B;AEEA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,AHFA,AFEA,AFDA,AKCA,AJAA,IGFIC,IAAI,GAAGJ,eAAe,CAACG,OAAO,CAAC,MAAD,CAAR,CAA1B;AEGA,ACAA,ALAA,AFDA,AKCA,AJAA,AO7BA,IAAI+2I,SAAS,GAAG/2I,OAAO,CAAC,WAAD,CAAvB;AF8BA,ACAA,AHFA,AFEA,AFDA,AKCA,AJAA,SGFSE,OAAT,CAAiBC,GAAjB,EAAsB;AEGtB,ACAA,AHFE,AFEF,AFDA,AKCA,AJAA,AO9BA,IAAI+2I,EJ4BE,GI5BG,GAAGl3I,CJ4BCI,MAAP,AI5Ba,CAAC,IJ4BI,UAAlB,GI5Ba,CJ4BmB,AI5BtC,OJ4B6CA,MAAM,CAACC,QAAd,KAA2B,QAA/D,EAAyE;AEG3E,ACAA,AHFIH,AFEJ,AFDA,AKCA,AJAA,IGFIA,OAAO,GAAG,UAAUC,GAAV,EAAe;AEG7B,ACAA,AHFM,AFEN,AFDA,AKCA,AJAA,AO9BA42I,SAAS,CAAC17C,GJ4BG,AI5Bb,CAAc67C,KAAd,CJ4BoB/2I,GAAd;AEGN,ACAA,AHFK,AFEL,AFDA,AKCA,AJAA,KGJI;AEKJ,ACAA,AHFG,AFEH,AFDA,AKCA,AJAA,GGNE,CIxBWg3I,KJ4BJ;AEGT,ACAA,AHFIj3I,AFEJ,AFDA,AKCA,AJAA,IGFIA,OAAO,GAAG,UAAUC,GAAV,EAAe;AEG7B,ACAA,AHFM,AFEN,AFDA,AKCA,AJAA,aGFaA,GAAG,IAAI,OAAOC,MAAP,KAAkB,UAAzB,IAAuCD,GAAG,CAACG,WAAJ,KAAoBF,MAA3D,IAAqED,GAAG,KAAKC,MAAM,CAACG,SAApF,GAAgG,QAAhG,GAA2G,OAAOJ,GAAzH;AEGN,ACAA,AHFK,AFEL,AFDA,AKCA,AJAA,AOnBI,KJeA,aIfYi3I,WAAZ,EAAyBC,UAAzB,EAAqCC,KAArC,EAA4CxF,MAA5C,EAAoDyF,KAApD,EAA2DC,OAA3D,EAAoEC,QAApE,EAA8E;AFoBlF,ACAA,AHFG,AFEH,AFDA,AKCA,AJAA,AOpBkF;AFqBlF,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,AHFE,AFEF,AFDA,AKCA,AJAA,AOtBkF,SJoBzEv3I,OAAO,CAACC,GAAD,CAAd,aIjCS,EAauE;AFuBlF,ACAA,AHFC,AFED,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA,AOxBkF;AFyBlF,ACAA,AHFA,AFEA,AFDA,AKCA,AJAA,SGFSK,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AEGhD,ACAA,AHFE,AFEF,AFDA,AKCA,AJAA,AO1BkF,MJwB5E,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AEG1C,ACAA,AHFI,AFEJ,AFDA,AKCA,AJAA,UGFU,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AEGJ,ACAA,AHFG,AFEH,AFDA,AKCA,AJAA,AO5BkF;AF6BlF,ACAA,AHFC,AFED,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA,AO9BkF;AF+BlF,ACAA,AHFA,AFEA,AFDA,AKCA,AJAA,SGFSC,iBAAT,CAA2BC,MAA3B,EAAmCC,KAAnC,EAA0C;AEG1C,ACAA,AHFE,AFEF,AFDA,AKCA,AJAA,AOhCkF,OJ8B3E,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AEGzC,ACAA,AHFI,AFEJ,AFDA,AKCA,AJAA,QGFQE,UAAU,GAAGH,KAAK,CAACC,CAAD,CAAtB;AEGJ,ACAA,AHFIE,AFEJ,AFDA,AKCA,AJAA,AOlCkF,IJgC9EA,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;AEGJ,ACAA,AHFID,AFEJ,AFDA,AKCA,AJAA,IGFIA,UAAU,CAACE,YAAX,GAA0B,IAA1B;AEGJ,ACAA,AHFI,AFEJ,AFDA,AKCA,AJAA,AOpCkF,QJkC1E,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;AEG/B,ACAA,AHFIC,AFEJ,AFDA,AKCA,AJAA,IGFIA,MAAM,CAACC,cAAP,CAAsBT,MAAtB,EAA8BI,UAAU,CAACM,GAAzC,EAA8CN,UAA9C;AEGJ,ACAA,AHFG,AFEH,AFDA,AKCA,AJAA,AOtCkF,4CAL7D;AF4CrB,ACAA,AHFC,AFED,AFDA,AKCA,AJAA,AO3CQssB,MAAAA,OAAO,EAAE,EADI;AF6CrB,ACAA,ALAA,AFDA,AKCA,AJAA,AO3CQmqH,MAAAA,wBAAwB,EAAE,KAFb;AF8CrB,ACAA,AHFA,AFEA,AFDA,AKCA,AJAA,AO3CQzlG,MAAAA,GJyCCzwC,IIzCM,EAAE,MJyCjB,CAAsBd,WAAtB,EAAmCe,UAAnC,EAA+CC,WAA/C,EAA4D;AEG5D,ACAA,AHFE,AFEF,AFDA,AKCA,AJAA,AO/CqB,KAK6D,CJwC5ED,UAAJ,EAAgBb,iBAAiB,CAACF,WAAW,CAACH,SAAb,EAAwBkB,UAAxB,CAAjB;AEGlB,ACAA,AHFE,AFEF,AFDA,AKCA,AJAA,MGFMC,WAAJ,EAAiBd,iBAAiB,CAACF,WAAD,EAAcgB,WAAd,CAAjB;AEGnB,ACAA,AHFE,AFEF,AFDA,AKCA,AJAA,AO3CQ,SJyCChB,AIzCI02I,WJyCX,AIzCM,GAAmBA,WAAnB;AF4CR,ACAA,AHFC,AFED,AFDA,AKCA,AJAA,AO3CQ,SAAKC,UAAL,GAAkBA,UAAlB;AF4CR,ACAA,ALAA,AFDA,AKCA,AJAA,AO3CQ,SAAKC,KAAL,GAAaA,KAAb;AF4CR,ACAA,AHFA,AFEA,AFDA,AKCA,AJAA,AO3CQ,SJyCC31I,AIzCImwI,MAAL,GAAcA,MJyCtB,AIzC4B,CJyCH3xI,AIzCIw3I,GJyC7B,EAA8Bp2I,CIzCR,CAAcuwI,CJyCpC,EAAmClwI,GIzCO,CAACZ,CJyC3C,EAA0C,GIzCN,GAAgBq2I,UAAhB,GAA6B,CAA3C,EAA8C,GAA9C,CAAd;AF4CR,ACAA,AHFE,AFEF,AFDA,AKCA,AJAA,AO3CQ,MJyCF91I,GAAG,AIzCIg2I,IJyCAp3I,CIzCL,EJyCN,CIzCmBo3I,CJyCH,IIzCV;AF4CR,ACAA,AHFIl2I,AFEJ,AFDA,AKCA,AJAA,AO3CQ,IJyCJA,KIzCSm2I,CJyCH,CAACl2I,KIzCH,GAAek2I,MJyCnB,CAAsBr3I,AIzCI,CAACqT,EJyC3B,CIzCmB,CJyCQjS,AIzCI,GJyC/B,EAAgC,KIzCDq2I,MAAM;AF4CzC,ACAA,AHFMh2I,AFEN,AFDA,AKCA,AJAA,AO5CyC,MJ0CnCA,KAAK,EAAEA,AI1CgCg2I,KJyCT,CIzCe,CAACpkI,GAAP,CAAW,UAAAoM,IAAI;AF6C5D,ACAA,AHFM1e,AFEN,AFDA,AKCA,AJAA,AO7C4D,MJ2CtDA,SI3C0D0e,CJ2ChD,EAAE,CI3CkD,GJyChC,AIzCmCjK,MAAM,CAACC,gBAAd,GAAiCgK,IAAjC,GAAwC,GAA5C;AF8C5D,ACAA,AHFMze,AFEN,AFDA,AKCA,AJAA,AO9C4D,MJ4CtDA,CI5CuC,CAAJ,UJ4CvB,EAAE,IAHgB;AEMpC,ACAA,AHFMC,AFEN,AFDA,AKCA,AJAA,AO/CyC,KAAlB,CJ6CjBA,AI7CE,QJ6CM,EAAE;AEGhB,ACAA,AHPoC,AFOpC,AFDA,AKCA,AJAA,AO/CQ,KJwCJ,IIxCSq2I,QAAL,GAAgBA,QAAhB;AFgDR,ACAA,AHFG,AFEH,AFDA,AKCA,AJAA,GGTE,MAOO;AEGT,ACAA,AHFIt3I,AFEJ,AFDA,AKCA,AJAA,AOhDQ,IJ8CJA,GAAG,CAACoB,AI9CI,GJ8CL,CAAH,CI9Cag2I,EJ8CF31I,GI9CH,CAAWZ,CJ8CnB,KI9CI,EAAuB;AFiD/B,ACAA,AHFG,AFEH,AFDA,AKCA,AJAA,AOhDY,WAAK62I,OAAL,GAAe,KAAKC,IAAL,EAAf;AFiDZ,ACAA,ALAA,AFDA,AKCA,AJAA,AOhDS;AFiDT,ACAA,AHFE,AFEF,AFDA,AKCA,AJAA,SGFS33I,GAAP;AEGF,ACAA,AHFC,AFED,AFDA,AKCA,AJAA,AOjDQ,SAAK43I,WAAL;AFkDR,ACAA,ALAA,AFDA,AKCA,AJAA,AOjDK;AFkDL,ACAA,AHFA,AFEA,AFDA,AKCA,AJAA,SGFSl2I,cAAT,CAAwBC,GAAxB,EAA6Bf,CAA7B,EAAgC;AEGhC,ACAA,AHFE,AFEF,AFDA,AKCA,AJAA,SGFSgB,eAAe,CAACD,GAAD,CAAf,IAAwBE,qBAAqB,CAACF,GAAD,EAAMf,CAAN,CAA7C,IAAyDkB,gBAAgB,EAAhF;AEGF,ACAA,AHFC,AFED,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA,2BOpDW;AFqDX,ACAA,AHFA,AFEA,AFDA,AKCA,AJAA,AOpDQ,SJkDCF,CIlDG81I,OAAO,GAAG,EAAd,EJkDR,CAAyB/1I,GAAzB,EAA8B;AEG9B,ACAA,AHFE,AFEF,AFDA,AKCA,AJAA,AOpDQ,MJkDFI,IIlDM81I,CJkDD,CAAC71I,KIlDO,EJkDb,CAAcL,AIlDE,GJkDhB,CAAJ,CIlDyB01I,CJkDD,MIlDJ,CJkDW11I,AIlDE,GJkDT,EIlDc01I,OAAL,CAAax2I,MAAb,GAAsB,CAAnC,EAAsCokB,OAAtC,CAA8CjhB,IAAI,CAACymB,GAAL,OAAAzmB,IAAI,qBAAQ,KAAKqzI,OAAL,CAAa,KAAKA,OAAL,CAAax2I,MAAb,GAAsB,CAAnC,EAAsCiY,MAAtC,CAA6CtD,MAAM,CAACsiI,SAApD,CAAR,EAAlD,CAAd;AFqDR,ACAA,AHFC,AFED,AFDA,AKCA,AJAA;AKCA,ACAA,ALAA,AFDA,AKCA,AJAA,AOrDQ,WAAK,IAAIl3I,CAAC,GAAG,KAAKw2I,KAAL,CAAWv2I,MAAX,GAAoB,CAAjC,EAAoCD,CAAC,IAAI,CAAzC,EAA4CA,CAAC,EAA7C,EAAiD;AFsDzD,ACAA,AHFA,AFEA,AFDA,AKCA,AJAA,AOrDY82I,QAAAA,CJmDH71I,MInDU,CAACa,IAAR,CAAam1I,OAAb,EJmDZ,CAA+Bl2I,GAA/B,EAAoCf,CAApC,EAAuC;AEGvC,ACAA,AHFE,AFEF,AFDA,AKCA,AJAA,AOrDYi3I,MJmDN51I,EInDM41I,EJmDF,GAAG,EAAX,AInDiB,GAAG,KAAKT,KAAL,CAAWx2I,CAAX,EAAci3I,OAAd,CAAV;AFsDZ,ACAA,AHFE,AFEF,AFDA,AKCA,AJAA,AOrDS,MJmDH31I,EAAE,GAAG,IAAT;AEGF,ACAA,AHFE,AFEF,AFDA,AKCA,AJAA,MGFMC,EAAE,GAAG,KAAT;AEGF,ACAA,AHFE,AFEF,AFDA,AKCA,AJAA,AOtDQgT,MJoDF/S,AIpDE+S,EJoDA,GAAG9S,EIpDI,CAAC6T,GAAR,CAAYwhI,EJoDlB,KIpDM;AFuDR,ACAA,ALAA,AFDA,AKCA,AJAA,AOtDQ,aAAOA,OAAP;AFuDR,ACAA,AHFE,AFEF,AFDA,AKCA,AJAA,AOtDK,MJoDC;AEGN,ACAA,AHFI,AFEJ,AFDA,AKCA,AJAA,SGFS,IAAIp1I,EAAE,GAAGX,GAAG,CAAC1B,MAAM,CAACC,QAAR,CAAH,EAAT,EAAiCqC,EAAtC,EAA0C,EAAEL,EAAE,GAAG,CAACK,EAAE,GAAGD,EAAE,CAACE,IAAH,EAAN,EAAiBC,IAAxB,CAA1C,EAAyEP,EAAE,GAAG,IAA9E,EAAoF;AEGxF,ACAA,AHFMD,AFEN,AFDA,AKCA,AJAA,MGFMA,IAAI,CAACS,IAAL,CAAUH,EAAE,CAACd,KAAb;AEGN,ACAA,ALAA,AFDA,AKCA,AJAA,kCOxDkB;AFyDlB,ACAA,AHFM,AFEN,AFDA,AKCA,AJAA,AOzDkB,UJuDRb,CAAC,IAAIqB,IAAI,CAACpB,MAAL,KAAgBD,CAAzB,EAA4B;AEGlC,ACAA,AHFK,AFEL,AFDA,AKCA,AJAA;AKCA,ACAA,AHFG,AFEH,AFDA,AKCA,AJAA,AO1DQ,GJkDN,CAME,MIxDQsH,CJwDDvF,AIxDE,GJwDT,AIxDY,EJwDA,AIxDR;AF2DR,ACAA,AHFIR,AFEJ,AFDA,AKCA,AJAA,AO1DQ,IJwDJA,EAAE,GAAG,EIxDI80I,EJwDT,SIxDI,CAAiB5jI,GAAjB,CAAqB,UAAC0kI,CAAD,EAAIn3I,CAAJ,EAAU;AF2DvC,ACAA,AHFIwB,AFEJ,AFDA,AKCA,AJAA,AO1DY8F,IJwDR9F,EAAE,EIxDM8F,CJwDHvF,AIxDI,CAAC/B,CAAD,CJwDT,AIxDQ,GAAO,EAAP;AF2DZ,ACAA,AHFG,AFEH,AFDA,AKCA,AJAA,AO1DYsH,GJ+CV,KI/CUA,CAAC,CAACtH,CAAD,CJwDD,AIxDA,CAAK8B,IAAL,CAAU9B,CAAC,CAAC6V,QAAF,CAAW,CAAX,EAAcuhI,QAAd,CAAuB,KAAI,CAACd,UAA5B,EAAwC,GAAxC,CAAV;AF2DZ,ACAA,AHFI,AFEJ,AFDA,AKCA,AJAA,AO1DYhvI,QJwDJ,AIxDIA,CAAC,CAACtH,CAAD,CAAD,CAAK8B,IAAL,CAAU,CAAG,OAAO9B,CAAC,CAAC6V,QAAF,CAAW,CAAX,CAAR,IAA0B,CAA3B,GAAiC,SAAU,KAAI,CAACygI,UAAL,GAAkB,CAA9D,EAAmEzgI,QAAnE,CAA4E,CAA5E,EAA+EuhI,QAA/E,CAAwF,KAAI,CAACd,UAA7F,EAAyG,GAAzG,CAAV;AF2DZ,ACAA,AHFM,AFEN,AFDA,AKCA,AJAA,AO1DYhvI,QAAAA,CAAC,CJwDH,AIxDItH,CJwDHsB,AIxDE,CAAD,CJwDF,AIxDOQ,IJwDAJ,AIxDL,CAAU,CJwDH,AIxDM,CJwDL,MIxDY1B,CAAC,CJwDd,AIxDe6V,CJwDjB,IAAgB,GIxDD,CJwD1B,AIxDqC,CAAX,CJwDOnU,AIxDf,EJwDiB,CAAC,CIxDQ,CAA3B,GAAiC,GJwDf,CAAF,KIxD2B,KAAI,CAAC40I,UAAL,GAAkB,CAA9D,EAAmEzgI,QAAnE,CAA4E,CAA5E,EAA+EuhI,QAA/E,CAAwF,KAAI,CAACd,UAA7F,EAAyG,GAAzG,CAAV;AF2DZ,ACAA,AHFK,AFEL,AFDA,AKCA,AJAA,AO1DS,KJsDL,EI3DI,OJ6DM;AEGd,ACAA,AHFM,AFEN,AFDA,AKCA,AJAA,AO1DQ,UJwDE/0I,AIxDI81I,EJwDR,EAAQ,KIxDS,CJwDH71I,EAAN,AIxDY8F,CAAC,CAACmL,GAAF,CAAM,UAACkE,EAAD,EAAK3W,CAAL,EAAW;AF2D3C,ACAA,AHFK,AFEL,AFDA,AKCA,AJAA,AO3D6C,eAAQA,CAAC,GAAG,CAAL,GAAU;AF4D9D,ACAA,AHFG,AFEH,AFDA,AKCA,AJAA,AO5DgE6Y,UAAAA,IAAI,EAAE;AF6DtE,ACAA,ALAA,AFDA,AKCA,AJAA,AO7DwEuE,YAAAA,EAAE,EAAE,MAAMzG,EAAE,CAAC,CAAD,CAAF,CAAMlB,KAAN,CAAY,CAAZ,EAAe,CAAC,CAAhB,CAAZ;AF8DtE,ACAA,AHFE,AFEF,AFDA,AKCA,AJAA,AO9DsGi1C,SJ4D7FrpD,GI5D6FqpD,CJ4DpG,II5DyG,EAAE/zC,EAAE,CAAC,CAAD,CAAF,CAAMlB,KAAN,CAAY,CAAZ,EAAe,CAAC,CAAhB;AF+D7G,ACAA,AHFC,AFED,AFDA,AKCA,AJAA,AO/DsE;AFgEtE,ACAA,ALAA,AFDA,AKCA,AJAA,AOhE8D,SAAV,GAAkF,EAAzF;AFiE7C,ACAA,AHFA,AFEA,AFDA,AKCA,AJAA,AOjE0I,OAAhH,EJ+DjBvU,AI/DmIgX,MAAlH,CAAyH,SJ+DnJ,CI/DmJrX,EJ+DvH,GI/D4H;AFkExJ,ACAA,AHFE,AFEF,AFDA,AKCA,AJAA,AOlEwJ,QJgEhJ,IAAIjB,GIhEgJU,MJgEpJ,AIhE0J,CJgE5I,AIhE6I2G,IAAP,CAAYpG,KAAZ,EAAmBZ,MAAnB,KAA8B,CAAlC,8BJgEhJ,CAAN;AEGF,ACAA,AHFC,AFED,AFDA,AKCA,AJAA,AOnEwJ,OAA9H,CAAlB;AFoER,ACAA,ALAA,AFDA,AKCA,AJAA,AOnEQ,UAAMq3I,SAAS,GAAGhwI,CAAC,CAACiwI,OAAF,CAAU,UAAC5gI,EAAD,EAAK3W,CAAL,EAAW;AFoE/C,ACAA,AHFA,AFEA,AFDA,AKCA,AJAA,AOnEY,IJiERgC,QAAQ,GAAG,AIjEKhC,CAAC,GAAG,CAAL,EJiEGiC,CIjEO,CACb,IJgED,KAAkB,WAAlB,GAAgC,IAAhC,GAAuCA,MAAtD,EAA8D;AEG9D,ACAA,ALAA,AFDA,AKCA,AJAA,AOnEkB4W,UAAAA,IAAI,EAAE;AFoExB,ACAA,AHFA,AFEA,AFDA,AKCA,AJAA,AOpE0BC,IJkEtB5W,QIlEsB4W,CJkEb,GAAG9W,EIlEgB,EAAE,IJkEV,EIlEgB2U,CJkEb3U,CIlEe,CAAC,CAAD,CAAF,CAAMyT,GJkEX,CAACvT,CIlEI,CAAY,CAAZ,EAAe,CAAC,CAAhB,CAAhB,CJkEA,GAAwB,IAAhD;AEGA,ACAA,AHFA,AFEA,AFDA,AKCA,AJAA,AOrE4DpC,IJmExDqC,QInEwDrC,EJmE9C,GAAGkC,CInEiD,EAAE,KJmE3C,CInEiD2U,EJmE9C3U,AInEgD,CAAC,CAAD,CAAF,CAAMyT,IJmE5C,CAACrT,AInEqC,CAAY,CAAZ,EAAe,CAAC,CAAhB,CAAlD,CJmEC,GAAuB,IAAhD;AEGA,ACAA,ALAA,AFDA,AKCA,AJAA,AOtE8FsoD,YAAAA,KAAK,EAAE,KAAI,CAAC2rF,WAAL,CAAiB,CAAC,OAAO1/H,EAAE,CAAC,CAAD,CAAV,IAAiB,CAAlC,CAA7E;AFuExB,ACAA,AHFA,AFEA,AFDA,AKCA,AJAA,AOvE2I6C,IJqEvInX,QIrEuImX,CJqE9H,GAAGra,CIrEgI,EAAE,IJqE3H,CAAC,EAAD,CAAvB;AEGA,ACAA,ALAA,AFDA,AKCA,AJAA,AOxEwB;AFyExB,ACAA,AHFA,AFEA,AFDA,AKCA,AJAA,AOzEgB,IJuEZmD,KIxEyB,EAEb,EJsEH,GAAGnD,OAAO,CAAC,EAAD,CAAvB;AEGA,ACAA,ALAA,AFDA,AKCA,AJAA,AOzEkB0Z,UAAAA,IAAI,EAAE;AF0ExB,ACAA,AHFA,AFEA,AFDA,AKCA,AJAA,AO1E0BC,IJwEtBvW,QAAQ,AIxEcuW,GJwEX3Z,GIxEiB,EAAE,EJwEZ,CAAC,GIxEiBwX,EAAE,CAAC,CAAD,CAAF,CAAMlB,GJwEX,CAAE,CAAf,AIxEkB,CJwExC,AIxEoD,CAAZ,EAAe,CAAC,CAAhB,CAAhB;AF2ExB,ACAA,ALAA,AFDA,AKCA,AJAA,AO3E4D3V,YAAAA,MAAM,EAAE,MAAM6W,EAAE,CAAC,CAAD,CAAF,CAAMlB,KAAN,CAAY,CAAZ,EAAe,CAAC,CAAhB,CAAlD;AF4ExB,ACAA,AHFA,AFEA,AFDA,AKCA,AJAA,AO5E8Fi1C,IJ0E1FloD,QI1E0FkoD,KJ0E7E,AI1EkF,EAAE,CJ0EjF,II1EqF,CAAC2rF,EJ0E/E5zI,SI1E0E,CAAiB,CJ0ElG,AI1EmG,KJ0E5E,EI1EmFkU,EAAE,CAAC,CAAD,CAAV,IJ0ElG,AI1EmH,CAAlC,CAA7E,CJ0EiC,WAArC,GAAmDxX,OAAO,CAACsD,WAAD,CAA9E;AEGA,ACAA,ALAA,AFDA,AKCA,AJAA,AO7E2I+W,YAAAA,KAAK,EAAE;AF8ElJ,ACAA,AHFA,AFEA,AFDA,AKCA,AJAA,AO9EwB,IJ4EpB9W,WAAW,GAAG,SAASA,WAAT,CAAqBtD,GAArB,EAA0B;AEG5C,ACAA,AHFE,AFEF,AFDA,AKCA,AJAA,AO/EgB,SJ6EPA,AI/EoB,CAAV,EJ+EP,CI5EI,EAHJ,CJ+EIA,GAAG,CAACuD,cAAX,IAA6BC,EAAE,CAACxD,GAAG,CAACuD,cAAL,CAA/B,GAAsDvD,GAAG,CAACuD,cAAJ,EAAtD,GAA6E,IAApF;AEGF,ACAA,AHFC,AFED,AFDA,AKCA,AJAA,AO9ES,CJ0ET,MI/E0B,EAKfuV,MALe,CAKR,UAAArX,KAAK;AF+EvB,ACAA,ALAA,AFDA,AKCA,AJAA,AO/EuB,eAAIP,MAAM,CAAC2G,IAAP,CAAYpG,KAAZ,EAAmBZ,MAAnB,KAA8B,CAAlC;AFgFvB,ACAA,AHFA,AFEA,AFDA,AKCA,AJAA,AOhFuB,IJ8EnB4C,GInFsB,CAAlB,EJmFE,GAAG,SAASA,MAAT,CAAgBzD,GAAhB,EAAqB;AEGlC,ACAA,AHFE,AFEF,AFDA,AKCA,AJAA,SGFSA,GAAG,IAAI,IAAP,IAAeD,OAAO,CAACC,GAAD,CAAP,IAAgBiD,SAAtC;AEGF,ACAA,AHFC,AFED,AFDA,AKCA,AJAA,AOjFQ,CJ6ER,SI7EY,KAAKm0I,KAAL,CAAWv2I,MAAf,EAAuB;AFkF/B,ACAA,ALAA,AFDA,AKCA,AJAA,AOjFY,YAAIu3I,SAAS,GAAG,EAAhB;AFkFZ,ACAA,AHHA,AFGA,AFDA,AKCA,AJAA,AOlFY,IJ+ER50I,EAAE,GAAG,GI9EO60I,MJ8EE70I,EAAT,CAAYxD,AI9EI,GJ8EhB,AI9EmB,EJ8EF,AI/Ed;AFmFZ,ACAA,AHHE,AFGF,AFDA,AKCA,AJAA,AOjFY,SJ8EHA,GAAG,AI9EMg6F,IJ8EF,AI9EM,GAAG,CJ8EhB,IAAej6F,AI9EMq3I,KAAL,CAAW,CJ8EL,AI9EN,CJ8EOp3I,CI9EOa,EJ8ER,CAAP,GI9EZ,EJ8E6BsC,QAAvC;AEIF,ACAA,AHHC,AFGD,AFDA,AKCA,AJAA,AOlFY,CJ6EZ,WI5EgB82F,IAAI,GAAG,KAAKm9C,KAAL,CAAWv2I,MAAX,GAAoB,CAD/B;AFmFZ,ACAA,ALAA,AFDA,AKCA,AJAA,AOjFY,aAAKm5F,IAAL,GAAYA,IAAZ;AFkFZ,ACAA,AHJA,AFIA,AFDA,AKCA,AJAA,AOjFY,IJ6ERt2F,KAAK,GAAG,AI7EI40I,SJ6EK50I,AI7EI,GAAG,CAAhB,CJ6EA,CAAe1D,GAAf,EAAoB;AEKhC,ACAA,AHJE,AFIF,AFDA,AKCA,AJAA,SGJS+B,KAAK,CAACC,OAAN,GAAgBD,KAAK,CAACC,OAAN,CAAchC,GAAd,CAAhB,GAAqCA,GAAG,IAAI,IAAP,IAAeA,GAAG,YAAY+B,KAA1E;AEKF,ACAA,AHJC,AFID,AFDA,AKCA,AJAA,AOlFY,CJ4EZ,YI5EiB,IAAInB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGq5F,IAApB,EAA0Br5F,CAAC,EAA3B,EAA+B;AFmF3C,ACAA,ALAA,AFDA,AKCA,AJAA,AOlFgB,eAAK,IAAIkH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkyF,IAApB,EAA0BlyF,CAAC,EAA3B,EAA+B;AFmF/C,ACAA,AHLA,AFKA,AFDA,AKCA,AJAA,AOlFoB,IJ6EhBnE,WAAW,CI7EW40I,EJ6ER,CI7EW,GAAG,CAAC33I,CAAC,GJ6EP+C,AI7EUq2F,IAAJ,GAAWlyF,CAAZ,GJ6Ed,CAAqB9H,AI7EUi6F,GJ6E/B,CI7EE,CJ6EwB;AEM5C,ACAA,AHLE,AFKF,AFDA,AKCA,AJAA,AOnFoB,SJ8EXj6F,GAAG,IAAI,AI7EQ02G,GAAG,CJ6ElB,EI7EqB,CAAC,CJ6EP32G,CI7ES,CAACa,CAAC,GAAGo5F,CJ6EP,CAACh6F,EI7EE,CJ6EH,CAAP,CI7EqB8H,CAAZ,GJ6EQ5E,CI7ES+2F,IAAnB,CADX,GJ8EX,IAA6C,CAACv2F,KAAK,CAAC1D,GAAD,CAAnD,IAA4DA,GAAG,CAACG,WAAJ,KAAoBe,MAAvF;AEMF,ACAA,AHLC,AFKD,AFDA,AKCA,AJAA,AOlFoBk3I,CJ2EpB,WI3EoBA,SAAS,CAAC11I,IAAV,CAAe;AFmFnC,ACAA,ALAA,AFDA,AKCA,AJAA,AOlFwB+W,cAAAA,IAAI,EAAE;AFmF9B,ACAA,AHNA,AFMA,AFDA,AKCA,AJAA,AOlF4BuE,IJ4ExBpa,MAAM,GAAG,GI5Eeoa,EAAE,EAAE,EJ4EVpa,KI5EiBo2F,CJ4E1B,CAAgBh6F,EI5Ec,CJ4E9B,EAAqB,AI5EYu4I,GAAP,GAAa7hC,GAApB,CADF;AFoF9B,ACAA,AHNE,AFMF,AFDA,AKCA,AJAA,AOlF4BprD,SJ4EnBtrD,GAAG,IAAI,AI5EYsrD,IJ4EnB,CI5EwB,EAAE,CJ4EXvrD,II5EgBs3I,GJ4ET,CAACr3I,GAAD,AI5EI,CJ4EX,AI5EwBu4I,GAAb,EJ4EMr1I,AI5EYwzG,GAAlB,MJ4EjC;AEOF,ACAA,AHNC,AFMD,AFDA,AKCA,AJAA,AOrF8B,CJ6E9B,cI9EmC;AFuFnC,ACAA,ALAA,AFDA,AKCA,AJAA,AOlFwB77F,cAAAA,SAAS,EAAE,KALA;AFwFnC,ACAA,AHPA,AFOA,AFDA,AKCA,AJAA,AOlFwBG,IJ2EpBnX,MAAM,GAAG,CI3EWmX,OAAO,CJ2ETnX,CI3EW,KJ2EpB,AI3EyBwzI,CJ2ETr3I,GAAhB,EAAqB,CI3ED,CAAau4I,GAAb,EAAkB7hC,GAAlB,MAA2B,GAA3B,GAAiC,KAAK2gC,OAAL,CAAakB,GAAb,EAAkB7hC,GAAlB,MAA2B1yG,IAAI,CAACymB,GAAL,OAAAzmB,IAAI,qBAAQ,KAAKqzI,OAAL,CAAakB,GAAb,EAAkBz/H,MAAlB,CAAyBtD,MAAM,CAACsiI,SAAhC,CAAR,EAA/B,GAAqF,MAArF,GAA8F,IAA/H,GAAsI;AFmFvK,ACAA,AHPE,AFOF,AFDA,AKCA,AJAA,AOzFmC,SJkF1B93I,GAAG,CIlFQ,GJkFJ,IAAP,IAAeD,OAAO,CAACC,GAAD,CAAP,KAAiBD,OAAO,CAAC,CAAD,CAAvC,IAA8C,CAAC+D,KAAK,CAAC9D,GAAD,CAA3D;AEQF,ACAA,AHPC,AFOD,AFDA,AKCA,AJAA,CGTA;AEUA,ACAA,ALAA,AFDA,AKCA,AJAA,AOnFoB,gBAAIu4I,GAAG,GAAG,CAAN,IAAW,KAAKlB,OAAL,CAAakB,GAAb,EAAkB7hC,GAAlB,MAA2B,GAA1C,EAA+C;AFoFnE,ACAA,AHRA,AFQA,AFDA,AKCA,AJAA,AOnFwB,IJ2EpB3yG,OAAO,GAAG,II3EgBrD,KJ2EPqD,CI3Ea,GAAIi2F,GJ2E1B,CAAiBh6F,AI3Ea,GJ2E9B,AI3EiCu4I,EJ2EX,CI3EI,GAAa7hC,GAA7B;AFoFxB,ACAA,AHRE,AFQF,AFDA,AKCA,AJAA,AOpFwB,SJ4Ef7yG,MAAM,CAAC7D,EI3EY0Z,CJ2Eb,CAAN,IAAe1V,AI3EU,GAAIg2F,CJ2EV,CAAC/1F,EI3Ea,GJ2ElB,CAAWjE,AI3EWu4I,GJ2EtB,AI3EyB,GAAG,CAAV,CAAJ,CJ2EMv4I,EI3Ea,CJ2EvD,II3E4Do3I,KAAL,CAAWmB,GAAG,GAAG,CAAjB,EAAoB7hC,GAApB,CADjC;AFqFxB,ACAA,AHRC,AFQD,AFDA,AKCA,AJAA,AOrFwB,CJ2ExB,iBIzE4B8hC,GAAG,GAAK93I,MAAM,GAAGgZ,MAAT,GAAkBsgF,IAAnB,IAA4B,CAA5B,GAAgCt5F,MAAM,GAAGs5F,IAAT,GAAgB,GAAhB,GAAsB,GAAtD,GAA4D,GAFvE;AFsFxB,ACAA,ALAA,AFDA,AKCA,AJAA,AOnFwBs+C,cAAAA,SAAS,GAAG,KAAKZ,OAAL,CAAaa,GAAG,GAAG,CAAnB,MAA0B7hC,GAA1B,GAAgC,IAAhC,GAAuC,KAAnD;AFoFxB,ACAA,AHTA,AFSA,AFDA,AKCA,AJAA,AOnFwB2hC,IJ0EpBn0I,UI1EoBm0I,CJ0ET,GAAG,KI1Ee,CAAC31I,GJ0EPwB,CI1EH,CAAe,SJ0ErB,CAAqBlE,GAArB,EAA0B;AEU5C,ACAA,AHTE,AFSF,AFDA,AKCA,AJAA,AOnF4ByZ,MJ0EtB,UI1EsBA,IAAI,EJ0EVrW,AI1EY,aJ0EhC,EAAmC;AEUrC,ACAA,AHTI,AFSJ,AFDA,AKCA,AJAA,AOnFgC1C,WJ0ErB2B,OI1EqB3B,EJ0E5B,II1EkC,EAAE,MAAMA,MADZ;AFqFlC,ACAA,AHTG,AFSH,AFDA,AKCA,AJAA,AOnFgCgZ,GJwE9B,MAEO,SI1EuBA,MAAM,EAAE,MAAMA;AFoF9C,ACAA,AHTI,AFSJ,AFDA,AKCA,AJAA,AOtFkC,WJ6EvB,MI9E4B,EJ8EpB1Z,GAAR,IAAeA,GAAG,YAAYqD,WAArC;AEUJ,ACAA,AHTG,AFSH,AFDA,AKCA,AJAA,AOnF4B2X,gBAAAA,OAAO,EAAE,CAACw9H,GAAG,KAAK,GAAR,GAAc,IAAd,GAAqB,MAAtB,EACTF,SAAS,GAAG,MAAH,GAAY,QADZ;AFoFrC,ACAA,AHTC,AFSD,AFDA,AKCA,AJAA,AOzFuC,CJ0EvC,cI1EwB;AF0FxB,ACAA,ALAA,AFDA,AKCA,AJAA,AOjFqB;AFkFrB,ACAA,AHVA,AFUA,AFDA,AKCA,AJAA,AOjFiB,IJuEbn0I,mBAAmB,GAAG,SAASA,mBAAT,CAA6BnE,GAA7B,EAAkC;AEW5D,ACAA,AHVE,AFUF,AFDA,AKCA,AJAA,AOjFa,SJuEJoE,OAAO,CAACpE,GAAD,CAAP,IAAgBqE,UAAU,CAACrE,GAAD,CAAjC;AEWF,ACAA,AHVC,AFUD,AFDA,AKCA,AJAA,CGZA;AEaA,ACAA,ALAA,AFDA,AKCA,AJAA,AOlFY,aAAKyZ,IAAL,CAAUg/H,IAAV,gCAAqBR,SAArB,sBAAmCC,SAAnC;AFmFZ,ACAA,AHXA,AFWA,AFDA,AKCA,AJAA,AOlFY,IJuER9zI,OAAO,EIvEMqV,CJuEH,GIvEF,CAAUwzE,IAAV,CJuEW7oF,OAAT,CAAiBpE,GAAjB,CIvEmBo4I,CJuEG,QIvExB,EAAmCC,SAAnC;AFmFZ,ACAA,AHXE,AFWF,AFDA,AKCA,AJAA,AOlFS,SJuEA/0I,WAAW,CAACtD,GAAD,CAAX,KAAqB,YAArB,IAAqCA,GAAG,CAACsE,QAAJ,CAAaC,MAAzD;AEYF,ACAA,AHXC,AFWD,AFDA,AKCA,AJAA,AOlFK,CJqEL;AEcA,ACAA,ALAA,AFDA,AKCA,AJAA;AKCA,ACAA,AHZA,AFYA,AFDA,AKCA,AJAA,IGZIF,UAAU,GAAG,SAASA,UAAT,CAAoBrE,GAApB,EAAyB;AEa1C,ACAA,AHZE,AFYF,AFDA,AKCA,AJAA,SGZSsD,WAAW,CAACtD,GAAD,AIxEZy4I,CJwEC,KAAqB,AIxEhBxrD,MAAM,MJwEX,IAAqC,CAACjtF,GAAG,CAACsE,QAAJ,CAAaC,MAA1D;AEaF,ACAA,AHZC,AFYD,AFDA,AKCA,AJAA,AOpFQ,CJsER,UItEam0I,KAAL,CAAW11I,QAAQ,CAAC+8B,cAAT,CAAwB04G,IAAxB,CAAX,EAA0Cz1I,QAAQ,CAAC+8B,cAAT,CAAwBktD,IAAxB,CAA1C;AFqFR,ACAA,ALAA,AFDA,AKCA,AJAA,AOpFK;AFqFL,ACAA,AHbA,AFaA,AFDA,AKCA,AJAA,IGbIzoF,IAAI,GAAG,SAASA,IAAT,CAAcxE,GAAd,EAAmB;AEc9B,ACAA,AHbE,AFaF,AFDA,AKCA,AJAA,SGbSsD,WAAW,CAACtD,GAAD,CAAX,KAAqB,MAA5B;AEcF,ACAA,AHbC,AFaD,AFDA,AKCA,AJAA,CGfA,yBIvEUy4I,MAAMxrD,MAAM;AFuFtB,ACAA,ALAA,AFDA,AKCA,AJAA,AOtFQ,UAAIwrD,IAAI,KAAK,IAAb,EAAmB;AFuF3B,ACAA,AHdA,AFcA,AFDA,AKCA,AJAA,AOtFY7B,IJwERnyI,IIxEQmyI,MJwEE,GAAG,AIxEI,CAAC,QJwEInyI,UAAT,CAAoBzE,GAApB,EAAyB;AEe1C,ACAA,AHdE,AFcF,AFDA,AKCA,AJAA,AOtFgBokD,SJwEP9gD,CIxEO8gD,QAAQ,EJwEJ,AIxEM,CJwELpkD,GAAD,CAAX,AIxEsByZ,IAAL,CJwEI,AIxEMg/H,IADd,QJyEpB;AEeF,ACAA,AHdC,AFcD,AFDA,AKCA,AJAA,AOtFgBplE,CJsEhB,SItEgBA,SAAS,EAAEolE,IAFL;AFyFtB,ACAA,ALAA,AFDA,AKCA,AJAA,AOtFgBnkF,UAAAA,MAAM;AFuFtB,ACAA,AHfA,AFeA,AFDA,AKCA,AJAA,AOtFoBvmB,IJuEhBrpC,KAAK,GAAG,AIvEQqpC,IAAI,EAAE,GJuELrpC,KAAT,CAAe1E,GAAf,EAAoB;AEgBhC,ACAA,AHfE,AFeF,AFDA,AKCA,AJAA,AOxFsB,SJyEbsD,IIvEc,KAAKq1I,EJuER,CAAC34I,GAAD,CAAX,KAAqB,EIzER,KJyEpB;AEgBF,ACAA,AHfC,AFeD,AFDA,AKCA,AJAA,AOtFoB44I,CJqEpB,WIrEoBA,cAAc,EAAE;AFuFpC,ACAA,ALAA,AFDA,AKCA,AJAA,AO1FsB,YAHA;AF8FtB,ACAA,AHhBA,AFgBA,AFDA,AKCA,AJAA,AOtFgBx+H,IJsEZzV,MItEYyV,KJsED,AItEM,EAAE,CJsEL,AIrEE,SJqEOzV,WAAT,CAAqB3E,GAArB,EAA0B;AEiB5C,ACAA,AHhBE,AFgBF,AFDA,AKCA,AJAA,AOrFwBw2C,MJqElBx2C,GAAG,GIrEew2C,EJqEVn0C,MIrEkB,EAAE,CJqE5B,IAAqBrC,CItEP,EJsEU,KAAK,IAAjC,EAAuC;AEiBzC,ACAA,AHhBI,AFgBJ,AFDA,AKCA,AJAA,AOrFwBoa,YAAAA,KAAK,EAAE;AFsF/B,ACAA,AHhBI,AFgBJ,AFDA,AKCA,AJAA,AOrF4B,WJqEjB,IAAP,mBIrE4C,MADjB;AFuF/B,ACAA,AHhBG,AFgBH,AFDA,AKCA,AJAA,AOrF4B,GJkE1B,MAGO,IAAIpa,GAAG,KAAK,EAAR,IAAcA,GAAG,AIrEc,CJqEb4E,IIvEA,CJuEJ,CAAU,OAAV,CAAlB,EAAsC;AEiB/C,ACAA,AHhBI,AFgBJ,AFDA,AKCA,AJAA,AOrF4B,WJqEjB,IAAP,CAD2C,CAC9B,aIrE2B,MAHb;AFyF/B,ACAA,AHhBG,AFgBH,AFDA,AKCA,AJAA,AOrF4B,uBAAS,aAJN;AF0F/B,ACAA,ALAA,AFDA,AKCA,AJAA,AOrF4B,uBAAS,MALN;AF2F/B,ACAA,AHhBE,AFgBF,AFDA,AKCA,AJAA,AOrF4B,SJqEnB,KAAP,CAR0C,CAQ5B,aIrE2B,QANZ;AF4F/B,ACAA,AHhBC,AFgBD,AFDA,AKCA,AJAA,AOrF4B,CJ4D5B,4BI5D2C,QAPZ;AF6F/B,ACAA,ALAA,AFDA,AKCA,AJAA,AOrF4B,2BAAa;AFsFzC,ACAA,AHjBA,AFiBA,AFDA,AKCA,AJAA,AO9F+B,IJ6E3BC,UAAU,GAAG,SAASA,UAAT,CAAoB7E,GAApB,EAAyB;AEkB1C,ACAA,AHjBE,AFiBF,AFDA,AKCA,AJAA,AOjGoB,MJgFd,KIjFiB,EJiFVqD,AInEO,WJmEd,KAAuB,WAA3B,EAAwC;AEkB1C,ACAA,AHjBI,AFiBJ,AFDA,AKCA,AJAA,AOpFwBmzC,WJmEb,CInEaA,IJmEpB,CADsC,CACxB,EInEc,EAAE,MADd;AFsFpB,ACAA,AHjBG,AFiBH,AFDA,AKCA,AJAA,AOpFwBp8B,GJiEtB,MAEO,GInEeA,KAAK,EAAE;AFqF/B,ACAA,AHjBI,AFiBJ,AFDA,AKCA,AJAA,AOpF4B,WJmEjBpa,GAAG,YAAYqD,GInEiB,QJmEvC,UIpE2B;AFsF/B,ACAA,AHjBG,AFiBH,AFDA,AKCA,AJAA,AOpF4B,uBAAS,MAFN;AFuF/B,ACAA,AHjBC,AFiBD,AFDA,AKCA,AJAA,AOpF4B,CJ6D5B,mCI7DkD,UAHnB;AFwF/B,ACAA,ALAA,AFDA,AKCA,AJAA,AOpF4B,4BAAc,aAJX;AFyF/B,ACAA,AHlBA,AFkBA,AFDA,AKCA,AJAA,AOpF4B,IJkExByB,WAAW,GAAG,KIlEmB,CALN,GJuEJA,WAAT,CAAqB9E,GAArB,EAA0B;AEmB5C,ACAA,AHlBE,AFkBF,AFDA,AKCA,AJAA,AOpF4B,SJkEnB2D,WAAW,CAAC3D,GAAD,CAAX,IAAoB6D,MAAM,CAAC7D,GAAG,CAAC+E,CIlEe,CJkEpB,CAA1B,AIxEsB,IJwEgBlB,MAAM,CAAC7D,GAAG,CAACgF,EAAL,CAA5C,IAAwDnB,MAAM,CAAC7D,GAAG,CAACiF,EAAL,CAA9D,IAA0EpB,MAAM,CAAC7D,GAAG,CAACkF,EAAL,CAAvF;AEmBF,ACAA,AHlBC,AFkBD,AFDA,AKCA,AJAA,AOpF4B,CJgE5B,sCIhEqD,GAPtB;AF4F/B,ACAA,ALAA,AFDA,AKCA,AJAA,AOpF4B,uBAAS,aARN;AF6F/B,ACAA,AHnBA,AFmBA,AFDA,AKCA,AJAA,AOpF4B,IJiExBC,OAAO,GAAG,SAASA,IIjEkB,GJiE3B,CAAiBnF,GAAjB,EAAsB;AEoBpC,ACAA,AHnBE,AFmBF,AFDA,AKCA,AJAA,AO9F+B,SJ2EtB4D,MAAM,CAAC5D,GAAD,CAAN,IAAewD,EAAE,CAACxD,GAAG,CAACoF,IAAL,CAAxB;AEoBF,ACAA,AHnBC,AFmBD,AFDA,AKCA,AJAA,AOjGoB,CJ4EpB,UI1FuB;AFgHvB,ACAA,ALAA,AFDA,AKCA,AJAA,AOxHsB,SAAD,CAAT;AFyHZ,ACAA,AHpBA,AFoBA,AFDA,AKCA,AJAA,AOnFS,IJ+DLC,EAAE,GAAG,SAASA,EAAT,GAAc;AEqBvB,ACAA,AHpBE,AFoBF,AFDA,AKCA,AJAA,SGpBSvC,SAAS,IAAIA,SAAS,CAACwC,SAAV,CAAoBV,KAApB,CAA0B,oBAA1B,CAApB;AEqBF,ACAA,AHpBC,AFoBD,AFDA,AKCA,AJAA,AOpFQ,CJ8DR,EAEG,OIhESqoF,IAAI,KAAK,IAAb,EAAmB;AFqF3B,ACAA,ALAA,AFDA,AKCA,AJAA,AOpFY2pD,QAAAA,SAAS,CAAC;AFqFtB,ACAA,ALAA,AFDA,AKCA,AJAA,AOpFgBxyF,UAAAA,QAAQ,EAAE,KAAK3qC,IAAL,CAAUwzE,IADd;AFsFtB,ACAA,AHrBA,AFqBA,AFDA,AKCA,AJAA,AOpFgB5Z,IJ+DZ9tE,MI/DY8tE,CJ+DL,GAAG,KI/DW,EAAE4Z,EJ+DJ1nF,EIjED,KJiER,CAAiB/B,EAAjB,EAAqBgC,KAArB,EAA4B;AEsB1C,ACAA,AHrBE,AFqBF,AFDA,AKCA,AJAA,AOpFgB8uD,MJ+DV,CAAC9uD,GI/DS8uD,EJ+Dd,EAAY,EI/DQ;AFqFtB,ACAA,AHrBI9uD,AFqBJ,AFDA,AKCA,AJAA,AOpFoBuoC,IJ+DhBvoC,KAAK,GAAG,AI/DQuoC,IAAI,EAAE,GJ+DLvoC,GIhEC,EJgEV,GAAiB;AEsB7B,ACAA,AHrBM,AFqBN,AFDA,AKCA,AJAA,AOpFoBw0F,UJ+DVv0F,EI/DUu0F,IAAI,EAAE,CJ+DP,CAACn5F,GI/DWm5F,GJ+DrB,KAAqB,CAAzB,EAA4B;AEsBlC,ACAA,AHrBQ,AFqBR,AFDA,AKCA,AJAA,AOvFsB,aAGC,EJ+DRv0F,GI/DakzI,MJ+DJ,CAAC,CAAD,CAAhB,KIlEc;AFwFtB,ACAA,AHrBO,AFqBP,AFDA,AKCA,AJAA,AOpFoBC,OJ6Dd,KI7DcA,CJ+DP,IAAInzI,SAAS,AI/DQ,CJ+DP5E,CI/DS,KJ+DnB,KAAqB,CAAzB,EAA4B;AEsBzC,ACAA,AHrBQ,AFqBR,AFDA,AKCA,AJAA,AOzFsB,YAHA,GJuEP,WAAP;AEsBR,ACAA,AHrBO,AFqBP,AFDA,AKCA,AJAA,AOpFgBuZ,UAAAA,KAAK,EAAE,CACH;AFoFpB,ACAA,ALAA,AFDA,AKCA,AJAA,AOnFwBo8B,YAAAA,QAAQ,EAAE,MADd;AFqFpB,ACAA,AHrBM,AFqBN,AFDA,AKCA,AJAA,AOnFwBp8B,UJ8Dd1U,EI9Dc0U,EJ8DV,GAAG,AI9DY,EJ8DvB,AI9DyB;AFoF/B,ACAA,ALAA,AFDA,AKCA,AJAA,AOnF4B,kCAAoB,SADjB;AFqF/B,ACAA,AHrBM,AFqBN,AFDA,AKCA,AJAA,AOnF4B,WJ8DjB,IAAIxZ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6E,II9DkB,KJ8DT,AIhEJ,CJgEK5E,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AEsBjD,ACAA,AHrBQ8E,AFqBR,AFDA,AKCA,AJAA,AOnF4B,QJ8DpBA,IAAI,CAAChD,IAAL,CAAU+C,SAAS,CAAC7E,CAAD,CAAnB,AI9DoC,MAHb;AFuF/B,ACAA,AHrBO,AFqBP,AFDA,AKCA,AJAA,AOnF4B,uBAAS,aAJN;AFwF/B,ACAA,ALAA,AFDA,AKCA,AJAA,AOnF4B,uBAAS,MALN;AFyF/B,ACAA,AHrBM,AFqBN,AFDA,AKCA,AJAA,AOnF4B,aJ8Df8E,IAAI,CAACC,IAAL,CAAU,GAAV,CAAP,EI9DqC,QANZ;AF0F/B,ACAA,AHrBK,AFqBL,AFDA,AKCA,AJAA,AOnF4B,KJgDxB,wBIhDuC,QAPZ;AF2F/B,ACAA,AHrBG,AFqBH,AFDA,AKCA,AJAA,AOnF4B,2BAAa;AFoFzC,ACAA,ALAA,AFDA,AKCA,AJAA,AO5F+B;AF6F/B,ACAA,AHrBE,AFqBF,AFDA,AKCA,AJAA,AO/FoB,MJ0EdC,KI3EiB,EAcH,GJ6DJ,GAAG,SAASA,UAAT,GAAsB;AEsBzC,ACAA,AHrBI,AFqBJ,AFDA,AKCA,AJAA,AOlFwB4wC,QJ6DhB3wC,IAAI,AI7DY2wC,GJ6DT,IAAX,CI7D4B,EAAE,WADd;AFoFpB,ACAA,AHrBI,AFqBJ,AFDA,AKCA,AJAA,AOlFwBp8B,QJ6DhB1U,IAAI,AI7DY0U,GJ6DT3U,EI7Dc,EAAE,KJ6D3B;AEsBJ,ACAA,AHrBI,AFqBJ,AFDA,AKCA,AJAA,AOlF4B,QJ6DpBK,GAAJ,uBI7D4C;AFmFhD,ACAA,AHrBI,AFqBJ,AFDA,AKCA,AJAA,AOpF+B,QJ+DvBC,CAAC,GAAGP,KAAK,CAACQ,KAAN,CAAYH,IAAZ,EAAkBH,IAAlB,CAAR;AEsBJ,ACAA,AHrBI,AFqBJ,AFDA,AKCA,AJAA,AOvFoB,QJkEZO,GIhFe,EJgFV,AI5DO,GJ4DJL,UAAU,CAACK,KAAvB;AEsBJ,ACAA,ALAA,AFDA,AKCA,AJAA,AOjFwBuwC,YAAAA,QAAQ,EAAE,aADd;AFmFpB,ACAA,AHrBI,AFqBJ,AFDA,AKCA,AJAA,AOjFwBp8B,QJ4DhB,EAAEtU,EI5DcsU,CJ4DX,GAAGnU,CI5Da,EAAE,EJ4DV,CAACF,CAAD,CAAb,CAAJ,EAAuB;AEsB3B,ACAA,AHrBMD,AFqBN,AFDA,AKCA,AJAA,AOjF4B,MJ4DtBA,GAAG,GAAGG,KAAK,CAACF,CAAD,CAAL,GAAWvC,EAAE,CAACwC,KAAH,CAASH,EI5DgB,EJ4DzB,EAAeH,IAAf,CAAjB,AI7DyB;AFmF/B,ACAA,AHrBK,AFqBL,AFDA,AKCA,AJAA,AOjF4B,8BAAgB;AFkF5C,ACAA,ALAA,AFDA,AKCA,AJAA,AOpF+B;AFqF/B,ACAA,AHrBI,AFqBJ,AFDA,AKCA,AJAA,AOvFoB,WJkETI,AItFY,EA2BH,CJ2DhB;AEsBJ,ACAA,AHrBG,AFqBH,AFDA,AKCA,AJAA,AOhFwB0wC,GJ+CtB,SI/CsBA,QAAQ,EAAE,MADd;AFkFpB,ACAA,ALAA,AFDA,AKCA,AJAA,AOhFwBp8B,YAAAA,KAAK,EAAE;AFiF/B,ACAA,AHrBExU,AFqBF,AFDA,AKCA,AJAA,AOhF4BgE,EJ2D1BhE,UAAU,CAACK,CI3De2D,IJ2D1B,CI3D+B,EJ2DZ,AI3Dc,EJ2DjC,II5D6B;AFkF/B,ACAA,AHrBE,AFqBF,AFDA,AKCA,AJAA,AOhF4B,SJ2DnBhE,UAAP,iBI3DgD,UAFnB;AFmF/B,ACAA,AHrBC,AFqBD,AFDA,AKCA,AJAA,AOhF4B,CJwB5B,sBIxBqC,CAHN;AFoF/B,ACAA,ALAA,AFDA,AKCA,AJAA,AOhF4B,yCAA2B,EAJxB;AFqF/B,ACAA,AHrBA,AFqBA,AFDA,AKCA,AJAA,AOhF4B,IJ2DxBM,UAAU,GAAGX,OAAO,CAAC,UAAUY,GAAV,CI3D4B,CJ2Db;AEsBxC,ACAA,AHrBE,AFqBF,AFDA,AKCA,AJAA,AOtF+B,SJiEtBA,GAAG,CAACC,OAAJ,CAAY,UAAZ,EAAwB,UAAUC,CAAV,EAAa;AEsB9C,ACAA,AHrBI,AFqBJ,AFDA,AKCA,AJAA,AOzFoB,WJoET,AI/FY,EAqCH,IJ0DHA,CAAC,CAACC,WAAF,EAAb;AEsBJ,ACAA,AHrBG,AFqBH,AFDA,AKCA,AJAA,AO/EwBkwC,GJwDf,CAAP,QIxDsBA,QAAQ,EAAE,WADd;AFiFpB,ACAA,AHrBC,AFqBD,AFDA,AKCA,AJAA,AO/EwBp8B,CJsDA,CAAxB,UItDwBA,KAAK,EAAE;AFgF/B,ACAA,AHrBA,AFqBA,AFDA,AKCA,AJAA,AO/E4B,IJ0DxB7T,UAAU,GAAGhB,OAAO,CAAC,GI1DiB,OJ0DPY,GAAV,EAAe;AEsBxC,ACAA,AHrBE,AFqBF,AFDA,AKCA,AJAA,AOjF+B,SJ4DtBA,GAAG,CAACC,OAAJ,CAAY,QAAZ,EAAsB,UAAUC,CAAV,EAAa;AEsB5C,ACAA,AHrBI,AFqBJ,AFDA,AKCA,AJAA,AOpFoB,WJ+DTA,AIpGY,CJoGX,CAAC,AIzDO,CJyDR,CAAD,CAAKG,WAAL,EAAP;AEsBJ,ACAA,AHrBG,AFqBH,AFDA,AKCA,AJAA,AO9EwBgwC,GJuDf,CAAP,QIvDsBA,QAAQ,EAAE,WADd;AFgFpB,ACAA,AHrBC,AFqBD,AFDA,AKCA,AJAA,AO9EwBp8B,CJqDA,CAAxB,UIrDwBA,KAAK,EAAE;AF+E/B,ACAA,AHrBA,AFqBA,AFDA,AKCA,AJAA,AO9E4B,IJyDxB3T,YAAY,GAAGlB,OAAO,CAAC,CIzDe,SJyDLmB,AI1DN,MJ0DJ,EAAkBP,GAAlB,EAAuB;AEsBlD,ACAA,AHrBE,AFqBF,AFDA,AKCA,AJAA,AO9E4B,SJyDnBO,MAAM,GAAGP,GAAG,CAAC,CAAD,AIzDgB,CJyDnB,CAAOK,WAAP,EAAT,GAAgCL,GAAG,CAACQ,SAAJ,CAAc,CAAd,CAAvC;AEsBF,ACAA,AHrBC,AFqBD,AFDA,AKCA,AJAA,AOjF+B,CJ0DL,EAEvB,UAAUD,MAAV,EAAkBP,GAAlB,EAAuB;AEsB1B,ACAA,AHrBE,AFqBF,AFDA,AKCA,AJAA,AOpFoB,SJ+DXO,EI1Gc,IJ0GR,GAAG,GAAT,GAAeP,GAAtB;AEsBF,ACAA,AHrBC,AFqBD,AFDA,AKCA,AJAA,AOzIsB,CJgHI,CAA1B,OIhHqB,CAAT;AF0IZ,ACAA,ALAA,AFDA,AKCA,AJAA,AO7ES;AF8ET,ACAA,AHtBA,AFsBA,AFDA,AKCA,AJAA,AO7EK,IJuDDS,UAAU,GAAG,SAASA,UAAT,CAAoBT,GAApB,EAAyB;AEuB1C,ACAA,AHtBE,AFsBF,AFDA,AKCA,AJAA,MGtBMxB,WAAW,CAACwB,GAAD,CAAf,EAAsB;AEuBxB,ACAA,AHtBI,AFsBJ,AFDA,AKCA,AJAA,WGtBWA,GAAP;AEuBJ,ACAA,AHtBG,AFsBH,AFDA,AKCA,AJAA,6BO/Ea0yI,SAASC,UAAU;AFgFhC,ACAA,ALAA,AFDA,AKCA,AJAA,AO/EQ,UAAIxxI,CAAC,GAAGtE,QAAQ,CAAC4zG,aAAT,CAAuB,GAAvB,CAAR;AFgFR,ACAA,AHtBE,AFsBF,AGAA,AJAA,AO/EQtvG,MAAAA,CAAC,CAACyxI,CJyDD5yI,GAAG,AIzDJ,CJyDKU,EIzDIgyI,IJyDR,CAAW,CAAX,CIzDD,CJyDeryI,WAAd,KAA8BL,GAAG,CAACQ,SAAJ,CAAc,CAAd,CAArC;AEuBF,ACAA,AHtBC,AFsBD,AGAA,AJAA,AO/EQW,CJmDR,KInDQA,CAAC,CAACmrI,YAAF,CAAe,UAAf,EAA2BqG,QAA3B;AFgFR,ACAA,ALAA,AGAA,AJAA,AO/EQxxI,MAAAA,CAAC,CAAC0xI,KAAF;AFgFR,ACAA,AHtBA,AFsBA,AGAA,AJAA,AO/EK,IJyDDlyI,QAAQ,GAAG,qDAAf;AEuBA,ACAA,AHtBA,AFsBA,AGAA,AJAA,IGtBIC,IAAI,GAAG,gBAAgBD,QAAhB,GAA2B,iBAA3B,GAA+CA,QAA/C,GAA0D,iBAA1D,GAA8EA,QAA9E,GAAyF,oBAAzF,GAAgHA,QAAhH,GAA2H,QAAtI;AEuBA,ACAA,AHtBA,AFsBA,AGAA,AJAA,IGtBIE,cAAc,GAAG,kBAAkBF,QAAlB,GAA6B,mBAA7B,GAAmDA,QAAnD,GAA8D,mBAA9D,GAAoFA,QAApF,GAA+F,sBAA/F,GAAwHA,QAAxH,GAAmI,QAAxJ;AEuBA,ACAA,AHtBA,AFsBA,AGAA,AJAA,IGtBIG,IAAI,GAAG,gBAAgBH,II3DZ,IJ2DJ,GAA2B,aAA3B,GAA2CA,QAA3C,GAAsD,gBAAtD,GAAyEA,QAAzE,GAAoF,mBAApF,GAA0GA,QAA1G,GAAqH,QAAhI;AEuBA,ACAA,AHtBA,AFsBA,AGAA,AJAA,AOlFe,IJ4DXI,cAAc,GAAG,kBAAkBJ,QAAlB,GAA6B,eAA7B,GAA+CA,QAA/C,GAA0D,kBAA1D,GAA+EA,QAA/E,GAA0F,qBAA1F,GAAkHA,QAAlH,GAA6H,QAAlJ;AEuBA,ACAA,AHtBA,AFsBA,AGAA,AJAA,IGtBIK,IAAI,GAAG,mBAAX;AEuBA,ACAA,AHtBA,AFsBA,AGAA,AJAA,AOnFQ,IJ6DJC,IAAI,EI7DI6lF,CJ6DD,GI7DK,GAAGjqF,QAAQ,CAAC4zG,IJ6D5B,SI7DmB,CAAuB,KAAvB,CAAX;AFoFR,ACAA,ALAA,AGAA,AJAA,AOlFQ5zG,MAAAA,QAAQ,CAAC6zG,IAAT,CAAc1uB,MAAd,CAAqB8E,IAArB;AFmFR,ACAA,AHtBA,AFsBA,AGAA,AJAA,AOlFQA,IJ4DJ5lF,EI5DI4lF,IAAI,CAAC7yE,EJ4DA,GAAG,AI5DR,CAAWR,QJ4DMvS,AI5DjB,GAAsB,MJ4Dd,CAAmBC,CAAnB,EAAsBC,AI5D9B,CJ4DQ,EAAyB;AEuBzC,ACAA,AHtBE,AFsBF,AGAA,AJAA,AOlFQ0lF,MJ4DF3lF,AI5DE2lF,CJ4DD,GAAG1lF,AI5DE,CJ4DV,AI5DW6S,EJ4DA,GI5DL,CAAWipE,UAAX,GAAwB,QAAxB;AFmFR,ACAA,AHtBI,AFsBJ,AGAA,AJAA,AOlFQ4J,MAAAA,IAAI,CJ4DD,AI5DE7yE,CJ4DD,CAAR,GI5DI,CAAWkU,KAAX,GAAmB,QAAnB;AFmFR,ACAA,AHtBG,AFsBH,AGAA,AJAA,AOlFQ2+D,GJ0DN,GI1DMA,GJ4DC,CI5DG,CAAC7yE,EJ4DA9S,CAAC,EI5DN,CJ4DSC,AI5DEgnB,CJ4DV,EAAW,GI5DZ,GAAoB,QAApB;AFmFR,ACAA,AHtBI,AFsBJ,AGAA,AJAA,WGtBW,CAAP;AEuBJ,ACAA,AHtBG,AFsBH,AGAA,AJAA,AOnFQ,GJ2DC,MAEA,EI7DImqH,KAAL,CAAW,IAAX,EAAiBzrD,IAAjB;AFoFR,ACAA,AHtBI,AFsBJ,AGAA,AJAA,WGtBW,CAAP;AEuBJ,ACAA,AHtBG,AFsBH,AGAA,AJAA,AOpFQ93E,MAAAA,OAAO,CAACe,GAAR,CAAY+2E,IAAI,CAACgsD,gBAAL,CAAsB,QAAtB,CAAZ;AFqFR,ACAA,AHtBC,AFsBD,AGAA,AJAA,AOpFQhlI,CJsDR,KItDQA,UAAU,CAAC,YAAM;AFqFzB,ACAA,ALAA,AGAA,AJAA,AOpFY,QAAA,MAAI,CAACilI,QAAL,CAAcjsD,IAAI,CAACgsD,gBAAL,CAAsB,QAAtB,EAAgC,CAAhC,EAAmCpH,SAAnC,EAAd,EAA8D,UAA9D;AFqFZ,ACAA,AHvBA,AFuBA,AGAA,AJAA,IGvBIrqI,UAAU,GAAG,SAASA,UAAT,CAAoBF,CAApB,EAAuBC,CAAvB,EAA0B;AEwB3C,ACAA,AHvBE,AFuBF,AGAA,AJAA,AOrFY0lF,QAAAA,CJ8DH,CAAC,CAAD,CI9DO,CAACt1B,CJ8DHtwD,KI9DF,IJ8DW,CAACC,CAAD,EAAIC,CAAJ,CAArB;AEwBF,ACAA,AHvBC,AFuBD,AGAA,AJAA,AOrFS,CJ4DT,MI/DkB,EAGP,CAHO,CAAV;AFyFR,ACAA,ALAA,AGAA,AJAA,AOrFK;AFsFL,ACAA,AHvBA,AFuBA,AGAA,AJAA,IGvBIE,MAAM,GAAGvG,MAAM,CAACwG,MAAP,IAAiB,IAAjB,GAAwBxG,MAAM,CAACwG,MAAP,CAAcC,IAAd,CAAmBzG,MAAnB,CAAxB,GAAqD,UAAU0G,GAAV,EAAe;AEwBjF,ACAA,AHvBE,AFuBF,AGAA,AJAA,MGvBMlC,IAAI,GAAGD,SAAX;AEwBF,ACAA,ALAA,AGAA,AJAA,6BOvFa;AFwFb,ACAA,AHvBE,AFuBF,AGAA,AJAA,AOvFQ,OJgED,GIhEK0zI,CJgEDv4I,CAAC,CIhEG,EJgEA,CAAb,AIhEgB,EJgEAA,CAAC,CIhEGw4I,EJgEA1zI,IAAI,CAAC7E,MAAzB,CIhEgB,CJgEiBD,CAAC,AIhE5B,EJgEN,EAAsC;AEwBxC,ACAA,AHvBI,AFuBJ,AGAA,AJAA,AOvFQu4I,MAAAA,EJgEAn5I,CIhEG,CAACq5I,CJgED,GAAG3zI,AIhEN,CAAS1C,GJgEC,CAACpC,CAAD,CAAd,EIhEqB,CAACm/B,cAAT,CAAwB,OAAxB,CAAT;AFwFR,ACAA,ALAA,AGAA,AJAA,AOvFQ5qB,MAAAA,OAAO,CAACe,GAAR,CAAYijI,GAAG,CAACxH,MAAJ,CAAW,SAAX,CAAZ;AFwFR,ACAA,AHvBI,AFuBJ,AGAA,AJAA,AOvFK,QJgEG3xI,GAAG,IAAI,IAAX,EAAiB;AEwBrB,ACAA,AHvBM,AFuBN,AGAA,AJAA;AKCA,ACAA,AHvBK,AFuBL,AGAA,AJAA;AKCA,ACAA,ALAA,AGAA,AJAA;AKCA,ACAA,AHvBI,AFuBJ,AGAA,AJAA,QGvBQ6H,IAAI,GAAG3G,MAAM,CAAC2G,IAAP,CAAY7H,GAAZ,CAAX;AEwBJ,ACAA,ALAA,AGAA,AJAA;AKCA,ACAA,AHvBI,AFuBJ,AGAA,AJAA,SGvBS,IAAI8H,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,IAAI,CAAChH,MAAzB,EAAiCiH,CAAC,EAAlC,EAAsC;AEwB1C,ACAA,AHvBM,AFuBN,AGAA,AJAA,UGvBU/B,CAAC,GAAG8B,IAAI,CAACC,CAAD,CAAZ;AEwBN,ACAA,AHvBMF,AFuBN,AGAA,AJAA,MGvBMA,GAAG,CAAC7B,CAAD,CAAH,GAAS/F,GAAG,CAAC+F,CAAD,CAAZ;AEwBN,ACAA,AHvBK,AFuBL,AGAA,AJAA;AKCA,ACAA,AHvBG,AFuBH,AGAA,AJAA;AKCA,ACAA,ALAA,AGAA,AJAA;AKCA,ACAA,AHvBE,AFuBF,AGAA,AJAA,SGvBS6B,GAAP;AEwBF,ACAA,AHvBC,AFuBD,AGAA,AJAA,CG1CA;AE2CA,ACAA,ALAA,AGAA,AJAA;AKCA,ACAA,AHvBA,AFuBA,AGAA,AJAA,IGvBIG,SAAS,GAAG,SAASA,SAAT,CAAmBC,GAAnB,EAAwB;AEwBxC,ACAA,AHvBE,AFuBF,AGAA,AJAA,MGvBM,EAAEA,GAAG,CAACnH,MAAJ,KAAe,CAAf,IAAoBmH,GAAG,CAACnH,MAAJ,KAAe,CAArC,KAA2CmH,GAAG,CAAC,CAAD,CAAH,KAAW,GAA1D,EAA+D;AEwBjE,ACAA,AHvBI,AFuBJ,AGAA,AJAA;AKCA,ACAA,AHvBG,AFuBH,AGAA,AJAA;AKCA,ACAA,ALAA,AGAA,AJAA;AKCA,ACAA,AHvBE,AFuBF,AGAA,AJAA,MGvBMC,QAAQ,GAAGD,GAAG,CAACnH,MAAJ,KAAe,CAA9B;AEwBF,ACAA,AHvBE,AFuBF,AGAA,AJAA,MGvBMqH,CAAJ,EAAOC,CAAP,EAAUZ,CAAV;AEwBF,ACAA,AHvBE,AFuBF,AGAA,AJAA,MGvBMa,IAAI,GAAG,EAAX;AEwBF,ACAA,ALAA,AGAA,AJAA;AKCA,ACAA,AHvBE,AFuBF,AGAA,AJAA,MGvBMH,QAAJ,EAAc;AEwBhB,ACAA,AHvBIC,AFuBJ,AGAA,AJAA,IGvBIA,CAAC,GAAGG,QAAQ,CAACL,GAAG,CAAC,CAAD,CAAH,GAASA,GAAG,CAAC,CAAD,CAAb,EAAkBI,IAAlB,CAAZ;AEwBJ,ACAA,AHvBID,AFuBJ,AGAA,AJAA,IGvBIA,CAAC,GAAGE,QAAQ,CAACL,GAAG,CAAC,CAAD,CAAH,GAASA,GAAG,CAAC,CAAD,CAAb,EAAkBI,IAAlB,CAAZ;AEwBJ,ACAA,AHvBIb,AFuBJ,AGAA,AJAA,IGvBIA,CAAC,GAAGc,QAAQ,CAACL,GAAG,CAAC,CAAD,CAAH,GAASA,GAAG,CAAC,CAAD,CAAb,EAAkBI,IAAlB,CAAZ;AEwBJ,ACAA,AHvBG,AFuBH,AGAA,AJAA,GG3BE,MAIO;AEwBT,ACAA,AHvBIF,AFuBJ,AGAA,AJAA,IGvBIA,CAAC,GAAGG,QAAQ,CAACL,GAAG,CAAC,CAAD,CAAH,GAASA,GAAG,CAAC,CAAD,CAAb,EAAkBI,IAAlB,CAAZ;AEwBJ,ACAA,AHvBID,AFuBJ,AGAA,AJAA,IGvBIA,CAAC,GAAGE,QAAQ,CAACL,GAAG,CAAC,CAAD,CAAH,GAASA,GAAG,CAAC,CAAD,CAAb,EAAkBI,IAAlB,CAAZ;AEwBJ,ACAA,AHvBIb,AFuBJ,AGAA,AJAA,IGvBIA,CAAC,GAAGc,QAAQ,CAACL,GAAG,CAAC,CAAD,CAAH,GAASA,GAAG,CAAC,CAAD,CAAb,EAAkBI,IAAlB,CAAZ;AEwBJ,ACAA,AHvBG,AFuBH,AGAA,AJAA;AKCA,ACAA,ALAA,AGAA,AJAA;AKCA,ACAA,AHvBE,AFuBF,AGAA,AJAA,SGvBS,CAACF,CAAD,EAAIC,CAAJ,EAAOZ,CAAP,CAAP;AEwBF,ACAA,AHvBC,AFuBD,AGAA,AJAA,CG3CA,EAoBG;AEwBH,ACAA,ALAA,AGAA,AJAA;AKCA,ACAA,ALAA,AGAA,AJAA;AKCA,ACAA,AHxBA,AFwBA,AGAA,AJAA,IGxBIe,SAAS,GAAG,SAASA,SAAT,CAAmBC,GAAnB,EAAwB;AEyBxC,ACAA,AHxBE,AFwBF,AGAA,AJAA,MGxBMzC,GAAJ;AEyBF,ACAA,AHxBE,AFwBF,AGAA,AJAA,MGxBM0C,CAAJ,EAAOC,CAAP,EAAUC,CAAV,EAAapB,CAAb,EAAgBY,CAAhB,EAAmBC,CAAnB,EAAsBZ,CAAtB;AEyBF,ACAA,ALAA,AGAA,AJAA;AKCA,ACAA,AHxBE,AFwBF,AGAA,AJAA,WGxBWoB,OAAT,CAAiBC,CAAjB,EAAoBC,CAApB,EAAuBC,CAAvB,EAA0B;AEyB5B,ACAA,AHxBI,AFwBJ,AGAA,AJAA,QGxBQA,CAAC,GAAG,CAAR,EAAWA,CAAC,IAAI,CAAL;AEyBf,ACAA,AHxBI,AFwBJ,AGAA,AJAA,QGxBQA,CAAC,GAAG,CAAR,EAAWA,CAAC,IAAI,CAAL;AEyBf,ACAA,AHxBI,AFwBJ,AGAA,AJAA,QGxBQA,CAAC,GAAG,IAAI,CAAZ,EAAe,OAAOF,CAAC,GAAG,CAACC,CAAC,GAAGD,CAAL,IAAU,CAAV,GAAcE,CAAzB;AEyBnB,ACAA,AHxBI,AFwBJ,AGAA,AJAA,QGxBQA,CAAC,GAAG,IAAI,CAAZ,EAAe,OAAOD,CAAP;AEyBnB,ACAA,AHxBI,AFwBJ,AGAA,AJAA,QGxBQC,CAAC,GAAG,IAAI,CAAZ,EAAe,OAAOF,CAAC,GAAG,CAACC,CAAC,GAAGD,CAAL,KAAW,IAAI,CAAJ,GAAQE,CAAnB,IAAwB,CAAnC;AEyBnB,ACAA,AHxBI,AFwBJ,AGAA,AJAA,WGxBWF,CAAP;AEyBJ,ACAA,AHxBG,AFwBH,AGAA,AJAA;AKCA,ACAA,ALAA,AGAA,AJAA;AKCA,ACAA,AHxBE,AFwBF,AGAA,AJAA,MGxBMG,CAAC,GAAG,IAAIC,MAAJ,CAAW,MAAM/B,IAAN,GAAa,GAAxB,EAA6BgC,IAA7B,CAAkCV,GAAlC,CAAR;AEyBF,ACAA,ALAA,AGAA,AJAA;AKCA,ACAA,AHxBE,AFwBF,AGAA,AJAA,MGxBMQ,CAAJ,EAAO;AEyBT,ACAA,AHxBI,AFwBJ,AGAA,AJAA;AKCA,ACAA,AHxBIP,AFwBJ,AGAA,AJAA,IGxBIA,CAAC,GAAGH,QAAQ,CAACU,CAAC,CAAC,CAAD,CAAF,CAAZ;AEyBJ,ACAA,ALAA,AGAA,AJAA;AKCA,ACAA,AHxBI,AFwBJ,AGAA,AJAA,QGxBQP,CAAC,GAAG,CAAR,EAAW;AEyBf,ACAA,AHxBMA,ACwBN,AJAA,MGxBMA,CAAC,GAAG,CAAC,MAAM,CAAC,CAAD,GAAKA,CAAL,GAAS,GAAhB,IAAuB,GAA3B;AEyBN,ACAA,AHxBK,ACwBL,AJAA,KG1BI,MAEO,IAAIA,CAAC,GAAG,GAAR,EAAa;AEyBxB,ACAA,AHxBMA,ACwBN,MDxBMA,CAAC,GAAGA,CAAC,GAAG,GAAR;AEyBN,ACAA,AHxBK,ACwBL;ACCA,ACAA,AFAA;ACCA,ACAA,AHxBIA,ACwBJ,IDxBIA,CAAC,IAAI,GAAL,CAVK,CAUK;AEyBd,ACAA,AFAA;ACCA,ACAA,AHxBIC,ACwBJ,IDxBIA,CAAC,GAAGS,UAAU,CAACH,CAAC,CAAC,CAAD,CAAF,CAAd;AEyBJ,ACAA,AFAA;ACCA,ACAA,AHxBI,ACwBJ,QDxBQN,CAAC,GAAG,CAAJ,IAASA,CAAC,GAAG,GAAjB,EAAsB;AEyB1B,ACAA,AHxBM,ACwBN;ACCA,ACAA,AHxBK,ACwBL,KDxCS,CAgBH;AEyBN,ACAA,AFAA;ACCA,ACAA,AFAA;ACCA,ACAA,AHxBIA,ACwBJ,IDxBIA,CAAC,GAAGA,CAAC,GAAG,GAAR,CAnBK,CAmBQ;AEyBjB,ACAA,AFAA;ACCA,ACAA,AHxBIC,ACwBJ,IDxBIA,CAAC,GAAGQ,UAAU,CAACH,CAAC,CAAC,CAAD,CAAF,CAAd;AEyBJ,ACAA,AFAA;ACCA,ACAA,AHxBI,ACwBJ,QDxBQL,CAAC,GAAG,CAAJ,IAASA,CAAC,GAAG,GAAjB,EAAsB;AEyB1B,ACAA,AHxBM,ACwBN;ACCA,ACAA,AHxBK,ACwBL,KDjDS,CAyBH;AEyBN,ACAA,AFAA;ACCA,ACAA,AFAA;ACCA,ACAA,AHxBIA,ACwBJ,IDxBIA,CAAC,GAAGA,CAAC,GAAG,GAAR,CA5BK,CA4BQ;AEyBjB,ACAA,AFAA;ACCA,ACAA,AHxBIpB,ACwBJ,IDxBIA,CAAC,GAAGyB,CAAC,CAAC,CAAD,CAAL;AEyBJ,ACAA,AFAA;ACCA,ACAA,AHxBI,ACwBJ,QDxBQzB,CAAC,KAAKjF,SAAV,EAAqB;AEyBzB,ACAA,AHxBMiF,ACwBN,MDxBMA,CAAC,GAAG4B,UAAU,CAAC5B,CAAD,CAAd;AEyBN,ACAA,AFAA;ACCA,ACAA,AHxBM,ACwBN,UDxBUA,CAAC,GAAG,CAAJ,IAASA,CAAC,GAAG,CAAjB,EAAoB;AEyB1B,ACAA,AHxBQ,ACwBR;ACCA,ACAA,AHxBO,ACwBP,OD7ByB,CAKjB;AEyBR,ACAA,AFAA;ACCA,ACAA,AHxBK,ACwBL,KD/DS,CAuCH;AEyBN,ACAA,AHxBI,ACwBJ;ACCA,ACAA,AFAA;ACCA,ACAA,AFAA;ACCA,ACAA,AHxBI,ACwBJ,QDxBQmB,CAAC,KAAK,CAAV,EAAa;AEyBjB,ACAA,AHxBMP,ACwBN,MDxBMA,CAAC,GAAGC,CAAC,GAAGZ,CAAC,GAAGvD,IAAI,CAACmF,KAAL,CAAWT,CAAC,GAAG,GAAf,CAAZ,CADW,CACsB;AEyBvC,ACAA,AHxBK,ACwBL,KD1BI,MAEO;AEyBX,ACAA,AHxBM,ACwBN,UDxBUG,CAAC,GAAGH,CAAC,GAAG,GAAJ,GAAUA,CAAC,IAAI,IAAID,CAAR,CAAX,GAAwBC,CAAC,GAAGD,CAAJ,GAAQC,CAAC,GAAGD,CAA5C;AEyBN,ACAA,AHxBM,ACwBN,UDxBUG,CAAC,GAAG,IAAIF,CAAJ,GAAQG,CAAhB;AEyBN,ACAA,AHxBMX,ACwBN,MDxBMA,CAAC,GAAGlE,IAAI,CAACmF,KAAL,CAAW,MAAMR,OAAO,CAACC,CAAD,EAAIC,CAAJ,EAAOL,CAAC,GAAG,IAAI,CAAf,CAAxB,CAAJ;AEyBN,ACAA,AHxBML,ACwBN,MDxBMA,CAAC,GAAGnE,IAAI,CAACmF,KAAL,CAAW,MAAMR,OAAO,CAACC,CAAD,EAAIC,CAAJ,EAAOL,CAAP,CAAxB,CAAJ;AEyBN,ACAA,AHxBMjB,ACwBN,MDxBMA,CAAC,GAAGvD,IAAI,CAACmF,KAAL,CAAW,MAAMR,OAAO,CAACC,CAAD,EAAIC,CAAJ,EAAOL,CAAC,GAAG,IAAI,CAAf,CAAxB,CAAJ;AEyBN,ACAA,AHxBK,ACwBL;ACCA,ACAA,AFAA;ACCA,ACAA,AHxBI1C,ACwBJ,IDxBIA,GAAG,GAAG,CAACoC,CAAD,EAAIC,CAAJ,EAAOZ,CAAP,EAAUD,CAAV,CAAN;AEyBJ,ACAA,AHxBG,ACwBH;ACCA,ACAA,AFAA;ACCA,ACAA,AHxBE,ACwBF,SDxBSxB,GAAP;AEyBF,ACAA,AHxBC,ACwBD,CDhGA,EAwEG;AEyBH,ACAA,AFAA;ACCA,ACAA,AFAA;ACCA,ACAA,AHzBA,ACyBA,IDzBIsD,SAAS,GAAG,SAASA,SAAT,CAAmBC,GAAnB,EAAwB;AE0BxC,ACAA,AHzBE,ACyBF,MDzBMvD,GAAJ;AE0BF,ACAA,AHzBE,ACyBF,MDzBMiD,CAAC,GAAG,IAAIC,MAAJ,CAAW,MAAMjC,IAAN,GAAa,GAAxB,EAA6BkC,IAA7B,CAAkCI,GAAlC,CAAR;AE0BF,ACAA,AFAA;ACCA,ACAA,AHzBE,ACyBF,MDzBMN,CAAJ,EAAO;AE0BT,ACAA,AHzBIjD,ACyBJ,IDzBIA,GAAG,GAAG,EAAN;AE0BJ,ACAA,AHzBI,ACyBJ,QDzBQwD,KAAK,GAAG,EAAZ;AE0BJ,ACAA,AFAA;ACCA,ACAA,AHzBI,ACyBJ,SDzBS,IAAI1I,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,CAArB,EAAwBA,CAAC,EAAzB,EAA6B;AE0BjC,ACAA,AHzBM,ACyBN,UDzBU2I,OAAO,GAAGR,CAAC,CAACnI,CAAD,CAAf;AE0BN,ACAA,AFAA;ACCA,ACAA,AHzBM,ACyBN,UDzBU2I,OAAO,CAACA,OAAO,CAAC1I,MAAR,GAAiB,CAAlB,CAAP,KAAgC,GAApC,EAAyC;AE0B/C,ACAA,AHzBQyI,ACyBR,QDzBQA,KAAK,CAAC1I,CAAD,CAAL,GAAW,IAAX;AE0BR,ACAA,AHzBO,ACyBP;ACCA,ACAA,AFAA;ACCA,ACAA,AHzBM2I,ACyBN,MDzBMA,OAAO,GAAGL,UAAU,CAACK,OAAD,CAApB;AE0BN,ACAA,AFAA;ACCA,ACAA,AHzBM,ACyBN,UDzBUD,KAAK,CAAC1I,CAAD,CAAT,EAAc;AE0BpB,ACAA,AHzBQ2I,ACyBR,QDzBQA,OAAO,GAAGA,OAAO,GAAG,GAAV,GAAgB,GAA1B,CADY,CACmB;AE0BvC,ACAA,AHzBO,ACyBP;ACCA,ACAA,AFAA;ACCA,ACAA,AHzBM,ACyBN,UDzBUA,OAAO,GAAG,CAAV,IAAeA,OAAO,GAAG,GAA7B,EAAkC;AE0BxC,ACAA,AHzBQ,ACyBR;ACCA,ACAA,AHzBO,ACyBP,ODxCiC,CAezB;AE0BR,ACAA,AFAA;ACCA,ACAA,AFAA;ACCA,ACAA,AHzBMzD,ACyBN,MDzBMA,GAAG,CAACpD,IAAJ,CAASsB,IAAI,CAACC,KAAL,CAAWsF,OAAX,CAAT;AE0BN,ACAA,AHzBK,ACyBL;ACCA,ACAA,AFAA;ACCA,ACAA,AHzBI,ACyBJ,QDzBQC,eAAe,GAAGF,KAAK,CAAC,CAAD,CAAL,IAAYA,KAAK,CAAC,CAAD,CAAjB,IAAwBA,KAAK,CAAC,CAAD,CAAnD;AE0BJ,ACAA,AHzBI,ACyBJ,QDzBQG,SAAS,GAAGH,KAAK,CAAC,CAAD,CAAL,IAAYA,KAAK,CAAC,CAAD,CAAjB,IAAwBA,KAAK,CAAC,CAAD,CAA7C;AE0BJ,ACAA,AFAA;ACCA,ACAA,AHzBI,ACyBJ,QDzBQE,eAAe,IAAI,CAACC,SAAxB,EAAmC;AE0BvC,ACAA,AHzBM,ACyBN;ACCA,ACAA,AHzBK,ACyBL,KDvDS,CA8BH;AE0BN,ACAA,AFAA;ACCA,ACAA,AFAA;ACCA,ACAA,AHzBI,ACyBJ,QDzBQC,KAAK,GAAGX,CAAC,CAAC,CAAD,CAAb;AE0BJ,ACAA,AFAA;ACCA,ACAA,AHzBI,ACyBJ,QDzBQW,KAAK,KAAKrH,SAAd,EAAyB;AE0B7B,ACAA,AHzBMqH,ACyBN,MDzBMA,KAAK,GAAGR,UAAU,CAACQ,KAAD,CAAlB;AE0BN,ACAA,AFAA;ACCA,ACAA,AHzBM,ACyBN,UDzBUA,KAAK,GAAG,CAAR,IAAaA,KAAK,GAAG,CAAzB,EAA4B;AE0BlC,ACAA,AHzBQ,ACyBR;ACCA,ACAA,AHzBO,ACyBP,OD9B6B,CAKrB;AE0BR,ACAA,AFAA;ACCA,ACAA,AFAA;ACCA,ACAA,AHzBM5D,ACyBN,MDzBMA,GAAG,CAACpD,IAAJ,CAASgH,KAAT;AE0BN,ACAA,AHzBK,ACyBL;ACCA,ACAA,AHzBG,ACyBH;ACCA,ACAA,AFAA;ACCA,ACAA,AHzBE,ACyBF,SDzBS5D,GAAP;AE0BF,ACAA,AHzBC,ACyBD,CD7EA;AE8EA,ACAA,AFAA;ACCA,ACAA,A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AHpLa,ACoLb,CDpLA;AEqLA,ACAA,AFAA;ACCA,ACAA,AH5BA,AC4BA,ID5BIC,MAAM,GAAG,SAASA,MAAT,CAAgBC,OAAhB,EAAyB;AE6BtC,ACAA,AH5BE,AC4BF,MD5BMpT,GAAG,GAAGoT,OAAO,CAACC,GAAlB;AE6BF,ACAA,AH5BE,AC4BF,MD5BMxL,IAAI,GAAGuL,OAAO,CAACvL,IAAnB;AE6BF,ACAA,AH5BE,AC4BF,MD5BMa,CAAC,GAAGb,IAAI,CAAChH,MAAb;AE6BF,ACAA,AFAA;ACCA,ACAA,AH5BE,AC4BF,OD5BO,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8H,CAApB,EAAuB9H,CAAC,EAAxB,EAA4B;AE6B9B,ACAA,AH5BI,AC4BJ,QD5BQQ,GAAG,GAAGyG,IAAI,CAACjH,CAAD,CAAd;AE6BJ,ACAA,AFAA;ACCA,ACAA,AH5BI,AC4BJ,QD5BQ+C,WAAW,CAACvC,GAAD,CAAf,EAAsB;AE6B1B,ACAA,AH5BM,AC4BN,YD5BYkS,KAAK,CAAC,kCAAD,CAAX;AE6BN,ACAA,AH5BK,AC4BL;ACCA,ACAA,AFAA;ACCA,ACAA,AH5BI,AC4BJ,QD5BQ1S,CAAC,GAAGiH,IAAI,CAAChH,MAAL,GAAc,CAAtB,EAAyB;AE6B7B,ACAA,AH5BM,AC4BN;ACCA,ACAA,AH5BM,AC4BN,UD5BUb,GAAG,CAACoB,GAAD,CAAH,IAAY,IAAhB,EAAsB;AE6B5B,ACAA,AH5BQpB,AC4BR,QD5BQA,GAAG,CAACoB,GAAD,CAAH,GAAW,EAAX;AE6BR,ACAA,AH5BO,AC4BP;ACCA,ACAA,AFAA;ACCA,ACAA,AH5BMpB,AC4BN,MD5BMA,GAAG,GAAGA,GAAG,CAACoB,GAAD,CAAT;AE6BN,ACAA,AH5BK,AC4BL,KDnCI,MAOO;AE6BX,ACAA,AH5BM,AC4BN;ACCA,ACAA,AH5BMpB,AC4BN,MD5BMA,GAAG,CAACoB,GAAD,CAAH,GAAWgS,OAAO,CAAC3R,KAAnB;AE6BN,ACAA,AH5BK,AC4BL;ACCA,ACAA,AH5BG,AC4BH;ACCA,ACAA,AH5BC,AC4BD,CDpDA,EAwBG;AE6BH,ACAA,AFAA;ACCA,ACAA,AFAA;ACCA,ACAA,AH7BA,AC6BA,ID7BI8R,MAAM,GAAG,SAASA,MAAT,CAAgBH,OAAhB,EAAyB;AE8BtC,ACAA,AH7BE,AC6BF,MD7BMpT,GAAG,GAAGoT,OAAO,CAACC,GAAlB;AE8BF,ACAA,AH7BE,AC6BF,MD7BMxL,IAAI,GAAGuL,OAAO,CAACvL,IAAnB;AE8BF,ACAA,AH7BE,AC6BF,MD7BMa,CAAC,GAAGb,IAAI,CAAChH,MAAb;AE8BF,ACAA,AFAA;ACCA,ACAA,AH7BE,AC6BF,OD7BO,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8H,CAApB,EAAuB9H,CAAC,EAAxB,EAA4B;AE8B9B,ACAA,AH7BI,AC6BJ,QD7BQQ,GAAG,GAAGyG,IAAI,CAACjH,CAAD,CAAd;AE8BJ,ACAA,AFAA;ACCA,ACAA,AH7BI,AC6BJ,QD7BQ+C,WAAW,CAACvC,GAAD,CAAf,EAAsB;AE8B1B,ACAA,AH7BM,AC6BN,YD7BYkS,KAAK,CAAC,kCAAD,CAAX;AE8BN,ACAA,AH7BK,AC6BL;ACCA,ACAA,AFAA;ACCA,ACAA,AH7BItT,AC6BJ,ID7BIA,GAAG,GAAGA,GAAG,CAACoB,GAAD,CAAT;AE8BJ,ACAA,AFAA;ACCA,ACAA,AH7BI,AC6BJ,QD7BQpB,GAAG,IAAI,IAAX,EAAiB;AE8BrB,ACAA,AH7BM,AC6BN,aD7BaA,GAAP;AE8BN,ACAA,AH7BK,AC6BL;ACCA,ACAA,AH7BG,AC6BH;ACCA,ACAA,AFAA;ACCA,ACAA,AH7BE,AC6BF,SD7BSA,GAAP;AE8BF,ACAA,AH7BC,AC6BD,CDjDA,EAoBG;AE8BH,ACAA,AFAA;ACCA,ACAA,AFAA;ACCA,ACAA,AH9BA,AC8BA,ID9BIwT,WAAW,GAAG5Q,QAAQ,GAAGA,QAAQ,CAAC4Q,WAAZ,GAA0B,IAApD;AE+BA,ACAA,AH9BA,AC8BA,ID9BIC,IAAI,GAAGD,WAAW,IAAIA,WAAW,CAACE,GAA3B,GAAiC,YAAY;AE+BxD,ACAA,AH9BE,AC8BF,SD9BSF,WAAW,CAACE,GAAZ,EAAP;AE+BF,ACAA,AH9BC,AC8BD,CDhCW,GAEP,YAAY;AE+BhB,ACAA,AH9BE,AC8BF,SD9BSC,IAAI,CAACD,GAAL,EAAP;AE+BF,ACAA,AH9BC,AC8BD,CDlCA;AEmCA,ACAA,AFAA;ACCA,ACAA,AH9BA,AC8BA,ID9BIE,GAAG,GAAG,YAAY;AE+BtB,ACAA,AH9BE,AC8BF,MD9BMhR,QAAJ,EAAc;AE+BhB,ACAA,AH9BI,AC8BJ,QD9BQA,QAAQ,CAACiR,qBAAb,EAAoC;AE+BxC,ACAA,AH9BM,AC8BN,aD9Ba,UAAUrQ,EAAV,EAAc;AE+B3B,ACAA,AH9BQZ,AC8BR,QD9BQA,QAAQ,CAACiR,qBAAT,CAA+BrQ,EAA/B;AE+BR,ACAA,AH9BO,AC8BP,ODhCM;AEiCN,ACAA,AH9BK,AC8BL,KDlCI,MAIO,IAAIZ,QAAQ,CAACkR,wBAAb,EAAuC;AE+BlD,ACAA,AH9BM,AC8BN,aD9Ba,UAAUtQ,EAAV,EAAc;AE+B3B,ACAA,AH9BQZ,AC8BR,QD9BQA,QAAQ,CAACkR,wBAAT,CAAkCtQ,EAAlC;AE+BR,ACAA,AH9BO,AC8BP,ODhCM;AEiCN,ACAA,AH9BK,AC8BL,KDlCW,MAIA,IAAIZ,QAAQ,CAACmR,2BAAb,EAA0C;AE+BrD,ACAA,AH9BM,AC8BN,aD9Ba,UAAUvQ,EAAV,EAAc;AE+B3B,ACAA,AH9BQZ,AC8BR,QD9BQA,QAAQ,CAACmR,2BAAT,CAAqCvQ,EAArC;AE+BR,ACAA,AH9BO,AC8BP,ODhCM;AEiCN,ACAA,AH9BK,AC8BL,KDlCW,MAIA,IAAIZ,QAAQ,CAACoR,uBAAb,EAAsC;AE+BjD,ACAA,AH9BM,AC8BN,aD9Ba,UAAUxQ,EAAV,EAAc;AE+B3B,ACAA,AH9BQZ,AC8BR,QD9BQA,QAAQ,CAACoR,uBAAT,CAAiCxQ,EAAjC;AE+BR,ACAA,AH9BO,AC8BP,ODhCM;AEiCN,ACAA,AH9BK,AC8BL;ACCA,ACAA,AH9BG,AC8BH;ACCA,ACAA,AFAA;ACCA,ACAA,AH9BE,AC8BF,SD9BS,UAAUA,EAAV,EAAc;AE+BvB,ACAA,AH9BI,AC8BJ,QD9BQA,EAAJ,EAAQ;AE+BZ,ACAA,AH9BMyQ,AC8BN,MD9BMA,UAAU,CAAC,YAAY;AE+B7B,ACAA,AH9BQzQ,AC8BR,QD9BQA,EAAE,CAACiQ,IAAI,EAAL,CAAF;AE+BR,ACAA,AH9BO,AC8BP,ODhCgB,EAEP,OAAO,EAFA,CAAV;AEiCN,ACAA,AH9BK,AC8BL;ACCA,ACAA,AH9BG,AC8BH,GDpCE;AEqCF,ACAA,AH9BC,AC8BD,CD1DU,EAAV;AE2DA,ACAA,AFAA;ACCA,ACAA,AH9BA,AC8BA,ID9BII,qBAAqB,GAAG,SAASA,qBAAT,CAA+BrQ,EAA/B,EAAmC;AE+B/D,ACAA,AH9BE,AC8BF,SD9BSoQ,GAAG,CAACpQ,EAAD,CAAV;AE+BF,ACAA,AH9BC,AC8BD,CDhCA;AEiCA,ACAA,AFAA;ACCA,ACAA,AH/BA,AC+BA,ID/BI0Q,cAAc,GAAGT,IAArB;AEgCA,ACAA,AH9BA,AC8BA,ID9BIU,YAAY,GAAG,IAAnB;AE+BA,ACAA,AFAA;ACCA,ACAA,AH/BA,AC+BA,ID/BIC,gBAAgB,GAAG,SAASA,gBAAT,CAA0BlU,QAA1B,EAAoC;AEgC3D,ACAA,AH/BE,AC+BF,MD/BMmU,IAAI,GAAG5O,SAAS,CAAC5E,MAAV,GAAmB,CAAnB,IAAwB4E,SAAS,CAAC,CAAD,CAAT,KAAiBpD,SAAzC,GAAqDoD,SAAS,CAAC,CAAD,CAA9D,GAAoE0O,YAA/E,CADyD,CAEzD;AE+BF,ACAA,AFAA;ACCA,ACAA,AH/BE,AC+BF,MD/BMG,IAAI,GAAGD,IAAX;AEgCF,ACAA,AH/BE,AC+BF,MD/BME,KAAJ;AEgCF,ACAA,AFAA;ACCA,ACAA,AH/BE,AC+BF,WD/BW;AEgCX,ACAA,AH/BIA,AC+BJ,ID/BIA,KAAK,GAAGrU,QAAQ,CAACsC,IAAT,EAAR;AEgCJ,ACAA,AFAA;ACCA,ACAA,AH/BI,AC+BJ,QD/BQ+R,KAAK,CAAC9R,IAAV,EAAgB;AEgCpB,ACAA,AH/BM,AC+BN;ACCA,ACAA,AH/BK,AC+BL;ACCA,ACAA,AFAA;ACCA,ACAA,AH/BI6R,AC+BJ,ID/BIA,IAAI,GAAG,CAACA,IAAI,IAAI,CAAT,IAAcA,IAAd,GAAqBC,KAAK,CAAC9S,KAA3B,GAAmC,CAA1C;AEgCJ,ACAA,AH/BG,AC+BH;ACCA,ACAA,AFAA;ACCA,ACAA,AH/BE,AC+BF,SD/BS6S,IAAP;AEgCF,ACAA,AH/BC,AC+BD,CDhDA;AEiDA,ACAA,AFAA;ACCA,ACAA,AHhCA,ACgCA,IDhCIE,OAAO,GAAG,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AEiCpC,ACAA,AHhCE,ACgCF,MDhCMJ,IAAI,GAAG5O,SAAS,CAAC5E,MAAV,GAAmB,CAAnB,IAAwB4E,SAAS,CAAC,CAAD,CAAT,KAAiBpD,SAAzC,GAAqDoD,SAAS,CAAC,CAAD,CAA9D,GAAoE0O,YAA/E,CADkC,CAElC;AEgCF,ACAA,AFAA;ACCA,ACAA,AHhCE,ACgCF,SDhCS,CAACE,IAAI,IAAI,CAAT,IAAcA,IAAd,GAAqBI,GAArB,GAA2B,CAAlC;AEiCF,ACAA,AHhCC,ACgCD,CDpCA;AEqCA,ACAA,AFAA;ACCA,ACAA,AHjCA,ACiCA,IDjCIC,aAAa,GAAG,SAASA,aAAT,CAAuBC,IAAvB,EAA6BN,IAA7B,EAAmC;AEkCvD,ACAA,AHjCE,ACiCF,MDjCME,KAAK,GAAG;AEkCd,ACAA,AHjCI9S,ACiCJ,IDjCIA,KAAK,EAAE,CADG;AEmCd,ACAA,AHjCIgB,ACiCJ,IDjCIA,IAAI,EAAE;AEkCV,ACAA,AHpCc,ACoCd,GDpCE;AEqCF,ACAA,AHjCE,ACiCF,MDjCM7B,CAAC,GAAG,CAAR;AEkCF,ACAA,AHjCE,ACiCF,MDjCMC,MAAM,GAAG8T,IAAI,CAAC9T,MAAlB;AEkCF,ACAA,AHjCE,ACiCF,MDjCMX,QAAQ,GAAG;AEkCjB,AFjCIsC,ACiCJ,IDjCIA,IAAI,EAAE,SAASA,IAAT,GAAgB;AEkC1B,AFjCM,ACiCN,UDjCU5B,CAAC,GAAGC,MAAR,EAAgB;AEkCtB,AFjCQ0T,ACiCR,QDjCQA,KAAK,CAAC9S,KAAN,GAAckT,IAAI,CAAC/T,CAAC,EAAF,CAAlB;AEkCR,AFjCO,ACiCP,ODnCM,MAEO;AEkCb,AFjCQ2T,ACiCR,QDjCQA,KAAK,CAAC9R,IAAN,GAAa,IAAb;AEkCR,AFjCO,ACiCP;ACCA,ADAA;ACCA,AFjCM,ACiCN,aDjCa8R,KAAP;AEkCN,AFjCK,ACiCL;ACCA,AF3CiB,AC2CjB,GD3CE;AE4CF,AFjCE,ACiCF,SDjCSH,gBAAgB,CAAClU,QAAD,EAAWmU,IAAX,CAAvB;AEkCF,AFjCC,ACiCD,CDpDA;AEqDA,ADAA;ACCA,AFlCA,ACkCA,IDlCIO,UAAU,GAAG,SAASA,UAAT,CAAoBzO,GAApB,EAAyBkO,IAAzB,EAA+B;AEmChD,AFlCE,ACkCF,MDlCME,KAAK,GAAG;AEmCd,AFlCI9S,ACkCJ,IDlCIA,KAAK,EAAE,CADG;AEoCd,AFlCIgB,ACkCJ,IDlCIA,IAAI,EAAE;AEmCV,AFrCc,ACqCd,GDrCE;AEsCF,AFlCE,ACkCF,MDlCM7B,CAAC,GAAG,CAAR;AEmCF,AFlCE,ACkCF,MDlCMC,MAAM,GAAGsF,GAAG,CAACtF,MAAjB;AEmCF,AFlCE,ACkCF,MDlCMX,QAAQ,GAAG;AEmCjB,AFlCIsC,ACkCJ,IDlCIA,IAAI,EAAE,SAASA,IAAT,GAAgB;AEmC1B,AFlCM,ACkCN,UDlCU5B,CAAC,GAAGC,MAAR,EAAgB;AEmCtB,AFlCQ0T,ACkCR,QDlCQA,KAAK,CAAC9S,KAAN,GAAc0E,GAAG,CAAC0O,UAAJ,CAAejU,CAAC,EAAhB,CAAd;AEmCR,AFlCO,ACkCP,ODpCM,MAEO;AEmCb,AFlCQ2T,ACkCR,QDlCQA,KAAK,CAAC9R,IAAN,GAAa,IAAb;AEmCR,AFlCO,ACkCP;ACCA,ADAA;ACCA,AFlCM,ACkCN,aDlCa8R,KAAP;AEmCN,AFlCK,ACkCL;ACCA,AF5CiB,AC4CjB,GD5CE;AE6CF,AFlCE,ACkCF,SDlCSH,gBAAgB,CAAClU,QAAD,EAAWmU,IAAX,CAAvB;AEmCF,AFlCC,ACkCD,CDrDA;AEsDA,ADAA;ACCA,AFnCA,ACmCA,IDnCIS,WAAW,GAAG,SAASA,WAAT,GAAuB;AEoCzC,AFnCE,ACmCF,SDnCSC,gBAAgB,CAACtP,SAAD,CAAvB;AEoCF,AFnCC,ACmCD,CDrCA;AEsCA,ADAA;ACCA,AFpCA,ACoCA,IDpCIsP,gBAAgB,GAAG,SAASA,gBAAT,CAA0BC,IAA1B,EAAgC;AEqCvD,AFpCE,ACoCF,MDpCMV,IAAJ;AEqCF,ADAA;ACCA,AFpCE,ACoCF,ODpCO,IAAI1T,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoU,IAAI,CAACnU,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AEqCxC,AFpCI,ACoCJ,QDpCQuF,GAAG,GAAG6O,IAAI,CAACpU,CAAD,CAAd;AEqCJ,ADAA;ACCA,AFpCI,ACoCJ,QDpCQA,CAAC,KAAK,CAAV,EAAa;AEqCjB,AFpCM0T,ACoCN,MDpCMA,IAAI,GAAGM,UAAU,CAACzO,GAAD,CAAjB;AEqCN,AFpCK,ACoCL,KDtCI,MAEO;AEqCX,AFpCMmO,ACoCN,MDpCMA,IAAI,GAAGM,UAAU,CAACzO,GAAD,EAAMmO,IAAN,CAAjB;AEqCN,AFpCK,ACoCL;ACCA,AFpCG,ACoCH;ACCA,ADAA;ACCA,AFpCE,ACoCF,SDpCSA,IAAP;AEqCF,AFpCC,ACoCD,CDlDA;AEmDA,AFnCA,ACmCA;ACCA,ADAA;ACCA,ADAA;ACCA,AFrCA,ACqCA,IDrCIW,eAAe,GAAG,IAAtB;AEsCA,AFrCA,ACqCA,IDrCIC,aAAa,GAAGC,OAAO,CAACC,IAAR,IAAgB,IAApC,EAA0C;AEsC1C,ADAA;ACCA,AFrCA,ACqCA,IDrCIC,cAAc,GAAGF,OAAO,CAACG,KAAR,IAAiB,IAAtC,EAA4C;AEsC5C,ADAA;ACCA,AFrCA,ACqCA,IDrCIC,OAAO,GAAGC,MAAM,CAACC,gBAAP,IAA2B,gBAAzC;AEsCA,ADAA;ACCA,AFtCA,ACsCA,IDtCIC,OAAO,GAAG,SAASA,OAAT,GAAmB;AEuCjC,AFtCE,ACsCF,SDtCS,IAAP;AEuCF,AFtCC,ACsCD,CDxCA;AEyCA,ADAA;ACCA,AFvCA,ACuCA,IDvCIC,OAAO,GAAG,SAASA,OAAT,GAAmB;AEwCjC,AFvCE,ACuCF,SDvCS,KAAP;AEwCF,AFvCC,ACuCD,CDzCA;AE0CA,ADAA;ACCA,AFxCA,ACwCA,IDxCIC,OAAO,GAAG,SAASA,OAAT,GAAmB;AEyCjC,AFxCE,ACwCF,SDxCS,CAAP;AEyCF,AFxCC,ACwCD,CD1CA;AE2CA,ADAA;ACCA,AFzCA,ACyCA,IDzCIC,IAAI,GAAG,SAASA,IAAT,GAAgB,CAAE,CAA7B;AE0CA,ADAA;ACCA,AF1CA,AC0CA,ID1CIC,KAAK,GAAG,SAASA,KAAT,CAAeC,GAAf,EAAoB;AE2ChC,AF1CE,AC0CF,QD1CQ,IAAIzC,KAAJ,CAAUyC,GAAV,CAAN;AE2CF,AF1CC,AC0CD,CD5CA;AE6CA,ADAA;ACCA,AF3CA,AC2CA,ID3CIC,QAAQ,GAAG,SAASA,QAAT,CAAkBC,OAAlB,EAA2B;AE4C1C,AF3CE,AC2CF,MD3CMA,OAAO,KAAK5T,SAAhB,EAA2B;AE4C7B,AF3CI4S,AC2CJ,ID3CIA,eAAe,GAAG,CAAC,CAACgB,OAApB;AE4CJ,AF3CG,AC2CH,GD7CE,MAEO;AE4CT,AF3CI,AC2CJ,WD3CWhB,eAAP;AE4CJ,AF3CG,AC2CH;ACCA,AF3CC,AC2CD,CDjDA;AEkDA,ADAA;ACCA,AF5CA,AC4CA,ID5CIG,IAAI,GAAG,SAASA,IAAT,CAAcW,GAAd,EAAmB;AE6C9B,AF5CE,AC4CF;ACCA,AF5CE,AC4CF,MD5CM,CAACC,QAAQ,EAAb,EAAiB;AE6CnB,AF5CI,AC4CJ;ACCA,AF5CG,AC4CH;ACCA,ADAA;ACCA,AF5CE,AC4CF,MD5CMd,aAAJ,EAAmB;AE6CrB,AF5CIC,AC4CJ,ID5CIA,OAAO,CAACC,IAAR,CAAaW,GAAb;AACD,AC4CH,GD9CE,MAEO;AACLZ,AC4CJ,ID5CIA,OAAO,CAACe,GAAR,CAAYH,GAAZ;AC6CJ;AD3CI,AC4CJ,QD5CQV,cAAJ,EAAoB;AAClBF,AC4CN,MD5CMA,OAAO,CAACG,KAAR;AACD,AC4CL;AD3CG,AC4CH;AD3CC,AC4CD,CD3DA;AAgBA,AC4CA;AACA;AACA;AD5CA,AC6CA,ID7CIa,KAAK,GAAG,SAASA,KAAT,CAAenW,GAAf,EAAoB;AAC9B,AC6CF,SD7CSyH,MAAM,CAAC,EAAD,EAAKzH,GAAL,CAAb;AACD,AC6CD,CD/CA,EAEG;AC8CH;AACA;AD7CA,AC8CA,ID9CIoW,IAAI,GAAG,SAASA,IAAT,CAAcpW,GAAd,EAAmB;AAC5B,AC8CF,MD9CMA,GAAG,IAAI,IAAX,EAAiB;AACf,AC8CJ,WD9CWA,GAAP;AACD,AC8CH;AACA;AD7CE,AC8CF,MD9CM0D,KAAK,CAA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","file":"draw.ffca016e.js","sourceRoot":"..","sourcesContent":["!function(t){\"function\"==typeof define&&define.amd?define(t):t()}(function(){\"use strict\";\n/** @license\n   * jsPDF - PDF Document creation from JavaScript\n   * Version 1.5.3 Built on 2018-12-27T14:11:42.696Z\n   *                      CommitID d93d28db14\n   *\n   * Copyright (c) 2010-2016 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF\n   *               2010 Aaron Spike, https://github.com/acspike\n   *               2012 Willow Systems Corporation, willow-systems.com\n   *               2012 Pablo Hess, https://github.com/pablohess\n   *               2012 Florian Jenett, https://github.com/fjenett\n   *               2013 Warren Weckesser, https://github.com/warrenweckesser\n   *               2013 Youssef Beddad, https://github.com/lifof\n   *               2013 Lee Driscoll, https://github.com/lsdriscoll\n   *               2013 Stefan Slonevskiy, https://github.com/stefslon\n   *               2013 Jeremy Morel, https://github.com/jmorel\n   *               2013 Christoph Hartmann, https://github.com/chris-rock\n   *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria\n   *               2014 James Makes, https://github.com/dollaruw\n   *               2014 Diego Casorran, https://github.com/diegocr\n   *               2014 Steven Spungin, https://github.com/Flamenco\n   *               2014 Kenneth Glassey, https://github.com/Gavvers\n   *\n   * Licensed under the MIT License\n   *\n   * Contributor(s):\n   *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,\n   *    kim3er, mfo, alnorth, Flamenco\n   */function se(t){return(se=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}!function(t){if(\"object\"!==se(t.console)){t.console={};for(var e,n,r=t.console,i=function(){},o=[\"memory\"],a=\"assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn\".split(\",\");e=o.pop();)r[e]||(r[e]={});for(;n=a.pop();)r[n]||(r[n]=i)}var s,l,h,u,c=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";void 0===t.btoa&&(t.btoa=function(t){var e,n,r,i,o,a=0,s=0,l=\"\",h=[];if(!t)return t;for(;e=(o=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,n=o>>12&63,r=o>>6&63,i=63&o,h[s++]=c.charAt(e)+c.charAt(n)+c.charAt(r)+c.charAt(i),a<t.length;);l=h.join(\"\");var u=t.length%3;return(u?l.slice(0,u-3):l)+\"===\".slice(u||3)}),void 0===t.atob&&(t.atob=function(t){var e,n,r,i,o,a,s=0,l=0,h=[];if(!t)return t;for(t+=\"\";e=(a=c.indexOf(t.charAt(s++))<<18|c.indexOf(t.charAt(s++))<<12|(i=c.indexOf(t.charAt(s++)))<<6|(o=c.indexOf(t.charAt(s++))))>>16&255,n=a>>8&255,r=255&a,h[l++]=64==i?String.fromCharCode(e):64==o?String.fromCharCode(e,n):String.fromCharCode(e,n,r),s<t.length;);return h.join(\"\")}),Array.prototype.map||(Array.prototype.map=function(t){if(null==this||\"function\"!=typeof t)throw new TypeError;for(var e=Object(this),n=e.length>>>0,r=new Array(n),i=1<arguments.length?arguments[1]:void 0,o=0;o<n;o++)o in e&&(r[o]=t.call(i,e[o],o,e));return r}),Array.isArray||(Array.isArray=function(t){return\"[object Array]\"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){if(null==this||\"function\"!=typeof t)throw new TypeError;for(var n=Object(this),r=n.length>>>0,i=0;i<r;i++)i in n&&t.call(e,n[i],i,n)}),Array.prototype.find||Object.defineProperty(Array.prototype,\"find\",{value:function(t){if(null==this)throw new TypeError('\"this\" is null or not defined');var e=Object(this),n=e.length>>>0;if(\"function\"!=typeof t)throw new TypeError(\"predicate must be a function\");for(var r=arguments[1],i=0;i<n;){var o=e[i];if(t.call(r,o,i,e))return o;i++}},configurable:!0,writable:!0}),Object.keys||(Object.keys=(s=Object.prototype.hasOwnProperty,l=!{toString:null}.propertyIsEnumerable(\"toString\"),u=(h=[\"toString\",\"toLocaleString\",\"valueOf\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"constructor\"]).length,function(t){if(\"object\"!==se(t)&&(\"function\"!=typeof t||null===t))throw new TypeError;var e,n,r=[];for(e in t)s.call(t,e)&&r.push(e);if(l)for(n=0;n<u;n++)s.call(t,h[n])&&r.push(h[n]);return r})),\"function\"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError(\"Cannot convert undefined or null to object\");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\\s+|\\s+$/g,\"\")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\\s+/g,\"\")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\\s+$/g,\"\")}),Number.isInteger=Number.isInteger||function(t){return\"number\"==typeof t&&isFinite(t)&&Math.floor(t)===t}}(\"undefined\"!=typeof self&&self||\"undefined\"!=typeof window&&window||\"undefined\"!=typeof global&&global||Function('return typeof this === \"object\" && this.content')()||Function(\"return this\")());var t,e,n,_,l,F,P,p,d,k,a,o,s,h,u,c,r,i,f,g,m,y,v,w,b,x,I,C,B,N,L,A,S,j,E,M,O,q,T,R,D,U,z,H,W,V,G,Y,J,X,K,Z,Q,$,tt,et,nt,rt,it,ot,at,st,lt=function(ie){function oe(o){if(\"object\"!==se(o))throw new Error(\"Invalid Context passed to initialize PubSub (jsPDF-module)\");var a={};this.subscribe=function(t,e,n){if(n=n||!1,\"string\"!=typeof t||\"function\"!=typeof e||\"boolean\"!=typeof n)throw new Error(\"Invalid arguments passed to PubSub.subscribe (jsPDF-module)\");a.hasOwnProperty(t)||(a[t]={});var r=Math.random().toString(35);return a[t][r]=[e,!!n],r},this.unsubscribe=function(t){for(var e in a)if(a[e][t])return delete a[e][t],0===Object.keys(a[e]).length&&delete a[e],!0;return!1},this.publish=function(t){if(a.hasOwnProperty(t)){var e=Array.prototype.slice.call(arguments,1),n=[];for(var r in a[t]){var i=a[t][r];try{i[0].apply(o,e)}catch(t){ie.console&&console.error(\"jsPDF PubSub Error\",t.message,t)}i[1]&&n.push(r)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return a}}function ae(t,e,i,n){var r={},o=[],a=1;\"object\"===se(t)&&(t=(r=t).orientation,e=r.unit||e,i=r.format||i,n=r.compress||r.compressPdf||n,o=r.filters||(!0===n?[\"FlateEncode\"]:o),a=\"number\"==typeof r.userUnit?Math.abs(r.userUnit):1),e=e||\"mm\",t=(\"\"+(t||\"P\")).toLowerCase();var s=r.putOnlyUsedFonts||!0,K={},l={internal:{},__private__:{}};l.__private__.PubSub=oe;var h=\"1.3\",u=l.__private__.getPdfVersion=function(){return h},c=(l.__private__.setPdfVersion=function(t){h=t},{a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],\"government-letter\":[576,756],legal:[612,1008],\"junior-legal\":[576,360],ledger:[1224,792],tabloid:[792,1224],\"credit-card\":[153,243]}),f=(l.__private__.getPageFormats=function(){return c},l.__private__.getPageFormat=function(t){return c[t]});\"string\"==typeof i&&(i=f(i)),i=i||f(\"a4\");var p,Z=l.f2=l.__private__.f2=function(t){if(isNaN(t))throw new Error(\"Invalid argument passed to jsPDF.f2\");return t.toFixed(2)},Q=l.__private__.f3=function(t){if(isNaN(t))throw new Error(\"Invalid argument passed to jsPDF.f3\");return t.toFixed(3)},d=\"00000000000000000000000000000000\",g=l.__private__.getFileId=function(){return d},m=l.__private__.setFileId=function(t){return t=t||\"12345678901234567890123456789012\".split(\"\").map(function(){return\"ABCDEF0123456789\".charAt(Math.floor(16*Math.random()))}).join(\"\"),d=t};l.setFileId=function(t){return m(t),this},l.getFileId=function(){return g()};var y=l.__private__.convertDateToPDFDate=function(t){var e=t.getTimezoneOffset(),n=e<0?\"+\":\"-\",r=Math.floor(Math.abs(e/60)),i=Math.abs(e%60),o=[n,P(r),\"'\",P(i),\"'\"].join(\"\");return[\"D:\",t.getFullYear(),P(t.getMonth()+1),P(t.getDate()),P(t.getHours()),P(t.getMinutes()),P(t.getSeconds()),o].join(\"\")},v=l.__private__.convertPDFDateToDate=function(t){var e=parseInt(t.substr(2,4),10),n=parseInt(t.substr(6,2),10)-1,r=parseInt(t.substr(8,2),10),i=parseInt(t.substr(10,2),10),o=parseInt(t.substr(12,2),10),a=parseInt(t.substr(14,2),10);parseInt(t.substr(16,2),10),parseInt(t.substr(20,2),10);return new Date(e,n,r,i,o,a,0)},w=l.__private__.setCreationDate=function(t){var e;if(void 0===t&&(t=new Date),\"object\"===se(t)&&\"[object Date]\"===Object.prototype.toString.call(t))e=y(t);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\\+0[0-9]|\\+1[0-4]|\\-0[0-9]|\\-1[0-1])\\'(0[0-9]|[1-5][0-9])\\'?$/.test(t))throw new Error(\"Invalid argument passed to jsPDF.setCreationDate\");e=t}return p=e},b=l.__private__.getCreationDate=function(t){var e=p;return\"jsDate\"===t&&(e=v(p)),e};l.setCreationDate=function(t){return w(t),this},l.getCreationDate=function(t){return b(t)};var x,N,L,A,S,$,_,F,P=l.__private__.padd2=function(t){return(\"0\"+parseInt(t)).slice(-2)},k=!1,I=[],C=[],B=0,tt=(l.__private__.setCustomOutputDestination=function(t){N=t},l.__private__.resetCustomOutputDestination=function(t){N=void 0},l.__private__.out=function(t){var e;return t=\"string\"==typeof t?t:t.toString(),(e=void 0===N?k?I[x]:C:N).push(t),k||(B+=t.length+1),e}),j=l.__private__.write=function(t){return tt(1===arguments.length?t.toString():Array.prototype.join.call(arguments,\" \"))},E=l.__private__.getArrayBuffer=function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n);e--;)r[e]=t.charCodeAt(e);return n},M=[[\"Helvetica\",\"helvetica\",\"normal\",\"WinAnsiEncoding\"],[\"Helvetica-Bold\",\"helvetica\",\"bold\",\"WinAnsiEncoding\"],[\"Helvetica-Oblique\",\"helvetica\",\"italic\",\"WinAnsiEncoding\"],[\"Helvetica-BoldOblique\",\"helvetica\",\"bolditalic\",\"WinAnsiEncoding\"],[\"Courier\",\"courier\",\"normal\",\"WinAnsiEncoding\"],[\"Courier-Bold\",\"courier\",\"bold\",\"WinAnsiEncoding\"],[\"Courier-Oblique\",\"courier\",\"italic\",\"WinAnsiEncoding\"],[\"Courier-BoldOblique\",\"courier\",\"bolditalic\",\"WinAnsiEncoding\"],[\"Times-Roman\",\"times\",\"normal\",\"WinAnsiEncoding\"],[\"Times-Bold\",\"times\",\"bold\",\"WinAnsiEncoding\"],[\"Times-Italic\",\"times\",\"italic\",\"WinAnsiEncoding\"],[\"Times-BoldItalic\",\"times\",\"bolditalic\",\"WinAnsiEncoding\"],[\"ZapfDingbats\",\"zapfdingbats\",\"normal\",null],[\"Symbol\",\"symbol\",\"normal\",null]],et=(l.__private__.getStandardFonts=function(t){return M},r.fontSize||16),O=(l.__private__.setFontSize=l.setFontSize=function(t){return et=t,this},l.__private__.getFontSize=l.getFontSize=function(){return et}),nt=r.R2L||!1,q=(l.__private__.setR2L=l.setR2L=function(t){return nt=t,this},l.__private__.getR2L=l.getR2L=function(t){return nt},l.__private__.setZoomMode=function(t){var e=[void 0,null,\"fullwidth\",\"fullheight\",\"fullpage\",\"original\"];if(/^\\d*\\.?\\d*\\%$/.test(t))L=t;else if(isNaN(t)){if(-1===e.indexOf(t))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. \"'+t+'\" is not recognized.');L=t}else L=parseInt(t,10)}),T=(l.__private__.getZoomMode=function(){return L},l.__private__.setPageMode=function(t){if(-1==[void 0,null,\"UseNone\",\"UseOutlines\",\"UseThumbs\",\"FullScreen\"].indexOf(t))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. \"'+t+'\" is not recognized.');A=t}),R=(l.__private__.getPageMode=function(){return A},l.__private__.setLayoutMode=function(t){if(-1==[void 0,null,\"continuous\",\"single\",\"twoleft\",\"tworight\",\"two\"].indexOf(t))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. \"'+t+'\" is not recognized.');S=t}),D=(l.__private__.getLayoutMode=function(){return S},l.__private__.setDisplayMode=l.setDisplayMode=function(t,e,n){return q(t),R(e),T(n),this},{title:\"\",subject:\"\",author:\"\",keywords:\"\",creator:\"\"}),U=(l.__private__.getDocumentProperty=function(t){if(-1===Object.keys(D).indexOf(t))throw new Error(\"Invalid argument passed to jsPDF.getDocumentProperty\");return D[t]},l.__private__.getDocumentProperties=function(t){return D},l.__private__.setDocumentProperties=l.setProperties=l.setDocumentProperties=function(t){for(var e in D)D.hasOwnProperty(e)&&t[e]&&(D[e]=t[e]);return this},l.__private__.setDocumentProperty=function(t,e){if(-1===Object.keys(D).indexOf(t))throw new Error(\"Invalid arguments passed to jsPDF.setDocumentProperty\");return D[t]=e},0),z=[],rt={},H={},W=0,V=[],G=[],it=new oe(l),Y=r.hotfixes||[],J=l.__private__.newObject=function(){var t=X();return ot(t,!0),t},X=l.__private__.newObjectDeferred=function(){return z[++U]=function(){return B},U},ot=function(t,e){return e=\"boolean\"==typeof e&&e,z[t]=B,e&&tt(t+\" 0 obj\"),t},at=l.__private__.newAdditionalObject=function(){var t={objId:X(),content:\"\"};return G.push(t),t},st=X(),lt=X(),ht=l.__private__.decodeColorString=function(t){var e=t.split(\" \");if(2===e.length&&(\"g\"===e[1]||\"G\"===e[1])){var n=parseFloat(e[0]);e=[n,n,n,\"r\"]}for(var r=\"#\",i=0;i<3;i++)r+=(\"0\"+Math.floor(255*parseFloat(e[i])).toString(16)).slice(-2);return r},ut=l.__private__.encodeColorString=function(t){var e;\"string\"==typeof t&&(t={ch1:t});var n=t.ch1,r=t.ch2,i=t.ch3,o=t.ch4,a=(t.precision,\"draw\"===t.pdfColorType?[\"G\",\"RG\",\"K\"]:[\"g\",\"rg\",\"k\"]);if(\"string\"==typeof n&&\"#\"!==n.charAt(0)){var s=new RGBColor(n);if(s.ok)n=s.toHex();else if(!/^\\d*\\.?\\d*$/.test(n))throw new Error('Invalid color \"'+n+'\" passed to jsPDF.encodeColorString.')}if(\"string\"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n=\"#\"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),\"string\"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,i=255&l}if(void 0===r||void 0===o&&n===r&&r===i)if(\"string\"==typeof n)e=n+\" \"+a[0];else switch(t.precision){case 2:e=Z(n/255)+\" \"+a[0];break;case 3:default:e=Q(n/255)+\" \"+a[0]}else if(void 0===o||\"object\"===se(o)){if(o&&!isNaN(o.a)&&0===o.a)return e=[\"1.000\",\"1.000\",\"1.000\",a[1]].join(\" \");if(\"string\"==typeof n)e=[n,r,i,a[1]].join(\" \");else switch(t.precision){case 2:e=[Z(n/255),Z(r/255),Z(i/255),a[1]].join(\" \");break;default:case 3:e=[Q(n/255),Q(r/255),Q(i/255),a[1]].join(\" \")}}else if(\"string\"==typeof n)e=[n,r,i,o,a[2]].join(\" \");else switch(t.precision){case 2:e=[Z(n/255),Z(r/255),Z(i/255),Z(o/255),a[2]].join(\" \");break;case 3:default:e=[Q(n/255),Q(r/255),Q(i/255),Q(o/255),a[2]].join(\" \")}return e},ct=l.__private__.getFilters=function(){return o},ft=l.__private__.putStream=function(t){var e=(t=t||{}).data||\"\",n=t.filters||ct(),r=t.alreadyAppliedFilters||[],i=t.addLength1||!1,o=e.length,a={};!0===n&&(n=[\"FlateEncode\"]);var s=t.additionalKeyValues||[],l=(a=void 0!==ae.API.processDataByFilters?ae.API.processDataByFilters(e,n):{data:e,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(\" \"):r.toString());0!==a.data.length&&(s.push({key:\"Length\",value:a.data.length}),!0===i&&s.push({key:\"Length1\",value:o})),0!=l.length&&(l.split(\"/\").length-1==1?s.push({key:\"Filter\",value:l}):s.push({key:\"Filter\",value:\"[\"+l+\"]\"})),tt(\"<<\");for(var h=0;h<s.length;h++)tt(\"/\"+s[h].key+\" \"+s[h].value);tt(\">>\"),0!==a.data.length&&(tt(\"stream\"),tt(a.data),tt(\"endstream\"))},pt=l.__private__.putPage=function(t){t.mediaBox;var e=t.number,n=t.data,r=t.objId,i=t.contentsObjId;ot(r,!0);V[x].mediaBox.topRightX,V[x].mediaBox.bottomLeftX,V[x].mediaBox.topRightY,V[x].mediaBox.bottomLeftY;tt(\"<</Type /Page\"),tt(\"/Parent \"+t.rootDictionaryObjId+\" 0 R\"),tt(\"/Resources \"+t.resourceDictionaryObjId+\" 0 R\"),tt(\"/MediaBox [\"+parseFloat(Z(t.mediaBox.bottomLeftX))+\" \"+parseFloat(Z(t.mediaBox.bottomLeftY))+\" \"+Z(t.mediaBox.topRightX)+\" \"+Z(t.mediaBox.topRightY)+\"]\"),null!==t.cropBox&&tt(\"/CropBox [\"+Z(t.cropBox.bottomLeftX)+\" \"+Z(t.cropBox.bottomLeftY)+\" \"+Z(t.cropBox.topRightX)+\" \"+Z(t.cropBox.topRightY)+\"]\"),null!==t.bleedBox&&tt(\"/BleedBox [\"+Z(t.bleedBox.bottomLeftX)+\" \"+Z(t.bleedBox.bottomLeftY)+\" \"+Z(t.bleedBox.topRightX)+\" \"+Z(t.bleedBox.topRightY)+\"]\"),null!==t.trimBox&&tt(\"/TrimBox [\"+Z(t.trimBox.bottomLeftX)+\" \"+Z(t.trimBox.bottomLeftY)+\" \"+Z(t.trimBox.topRightX)+\" \"+Z(t.trimBox.topRightY)+\"]\"),null!==t.artBox&&tt(\"/ArtBox [\"+Z(t.artBox.bottomLeftX)+\" \"+Z(t.artBox.bottomLeftY)+\" \"+Z(t.artBox.topRightX)+\" \"+Z(t.artBox.topRightY)+\"]\"),\"number\"==typeof t.userUnit&&1!==t.userUnit&&tt(\"/UserUnit \"+t.userUnit),it.publish(\"putPage\",{objId:r,pageContext:V[e],pageNumber:e,page:n}),tt(\"/Contents \"+i+\" 0 R\"),tt(\">>\"),tt(\"endobj\");var o=n.join(\"\\n\");return ot(i,!0),ft({data:o,filters:ct()}),tt(\"endobj\"),r},dt=l.__private__.putPages=function(){var t,e,n=[];for(t=1;t<=W;t++)V[t].objId=X(),V[t].contentsObjId=X();for(t=1;t<=W;t++)n.push(pt({number:t,data:I[t],objId:V[t].objId,contentsObjId:V[t].contentsObjId,mediaBox:V[t].mediaBox,cropBox:V[t].cropBox,bleedBox:V[t].bleedBox,trimBox:V[t].trimBox,artBox:V[t].artBox,userUnit:V[t].userUnit,rootDictionaryObjId:st,resourceDictionaryObjId:lt}));ot(st,!0),tt(\"<</Type /Pages\");var r=\"/Kids [\";for(e=0;e<W;e++)r+=n[e]+\" 0 R \";tt(r+\"]\"),tt(\"/Count \"+W),tt(\">>\"),tt(\"endobj\"),it.publish(\"postPutPages\")},gt=function(){!function(){for(var t in rt)rt.hasOwnProperty(t)&&(!1===s||!0===s&&K.hasOwnProperty(t))&&(e=rt[t],it.publish(\"putFont\",{font:e,out:tt,newObject:J,putStream:ft}),!0!==e.isAlreadyPutted&&(e.objectNumber=J(),tt(\"<<\"),tt(\"/Type /Font\"),tt(\"/BaseFont /\"+e.postScriptName),tt(\"/Subtype /Type1\"),\"string\"==typeof e.encoding&&tt(\"/Encoding /\"+e.encoding),tt(\"/FirstChar 32\"),tt(\"/LastChar 255\"),tt(\">>\"),tt(\"endobj\")));var e}(),it.publish(\"putResources\"),ot(lt,!0),tt(\"<<\"),function(){for(var t in tt(\"/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]\"),tt(\"/Font <<\"),rt)rt.hasOwnProperty(t)&&(!1===s||!0===s&&K.hasOwnProperty(t))&&tt(\"/\"+t+\" \"+rt[t].objectNumber+\" 0 R\");tt(\">>\"),tt(\"/XObject <<\"),it.publish(\"putXobjectDict\"),tt(\">>\")}(),tt(\">>\"),tt(\"endobj\"),it.publish(\"postPutResources\")},mt=function(t,e,n){H.hasOwnProperty(e)||(H[e]={}),H[e][n]=t},yt=function(t,e,n,r,i){i=i||!1;var o=\"F\"+(Object.keys(rt).length+1).toString(10),a={id:o,postScriptName:t,fontName:e,fontStyle:n,encoding:r,isStandardFont:i,metadata:{}};return it.publish(\"addFont\",{font:a,instance:this}),void 0!==o&&(rt[o]=a,mt(o,e,n)),o},vt=l.__private__.pdfEscape=l.pdfEscape=function(t,e){return function(t,e){var n,r,i,o,a,s,l,h,u;if(i=(e=e||{}).sourceEncoding||\"Unicode\",a=e.outputEncoding,(e.autoencode||a)&&rt[$].metadata&&rt[$].metadata[i]&&rt[$].metadata[i].encoding&&(o=rt[$].metadata[i].encoding,!a&&rt[$].encoding&&(a=rt[$].encoding),!a&&o.codePages&&(a=o.codePages[0]),\"string\"==typeof a&&(a=o[a]),a)){for(l=!1,s=[],n=0,r=t.length;n<r;n++)(h=a[t.charCodeAt(n)])?s.push(String.fromCharCode(h)):s.push(t[n]),s[n].charCodeAt(0)>>8&&(l=!0);t=s.join(\"\")}for(n=t.length;void 0===l&&0!==n;)t.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return t;for(s=e.noBOM?[]:[254,255],n=0,r=t.length;n<r;n++){if((u=(h=t.charCodeAt(n))>>8)>>8)throw new Error(\"Character at position \"+n+\" of string '\"+t+\"' exceeds 16bits. Cannot be encoded into UCS-2 BE\");s.push(u),s.push(h-(u<<8))}return String.fromCharCode.apply(void 0,s)}(t,e).replace(/\\\\/g,\"\\\\\\\\\").replace(/\\(/g,\"\\\\(\").replace(/\\)/g,\"\\\\)\")},wt=l.__private__.beginPage=function(t,e){var n,r=\"string\"==typeof e&&e.toLowerCase();if(\"string\"==typeof t&&(n=f(t.toLowerCase()))&&(t=n[0],e=n[1]),Array.isArray(t)&&(e=t[1],t=t[0]),(isNaN(t)||isNaN(e))&&(t=i[0],e=i[1]),r){switch(r.substr(0,1)){case\"l\":t<e&&(r=\"s\");break;case\"p\":e<t&&(r=\"s\")}\"s\"===r&&(n=t,t=e,e=n)}(14400<t||14400<e)&&(console.warn(\"A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400\"),t=Math.min(14400,t),e=Math.min(14400,e)),i=[t,e],k=!0,I[++W]=[],V[W]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(t),topRightY:Number(e)}},xt(W)},bt=function(){wt.apply(this,arguments),Dt(Rt),tt(Jt),0!==te&&tt(te+\" J\"),0!==ne&&tt(ne+\" j\"),it.publish(\"addPage\",{pageNumber:W})},xt=function(t){0<t&&t<=W&&(x=t)},Nt=l.__private__.getNumberOfPages=l.getNumberOfPages=function(){return I.length-1},Lt=function(t,e,n){var r,i=void 0;return n=n||{},t=void 0!==t?t:rt[$].fontName,e=void 0!==e?e:rt[$].fontStyle,r=t.toLowerCase(),void 0!==H[r]&&void 0!==H[r][e]?i=H[r][e]:void 0!==H[t]&&void 0!==H[t][e]?i=H[t][e]:!1===n.disableWarning&&console.warn(\"Unable to look up font label for font '\"+t+\"', '\"+e+\"'. Refer to getFontList() for available fonts.\"),i||n.noFallback||null==(i=H.times[e])&&(i=H.times.normal),i},At=l.__private__.putInfo=function(){for(var t in J(),tt(\"<<\"),tt(\"/Producer (jsPDF \"+ae.version+\")\"),D)D.hasOwnProperty(t)&&D[t]&&tt(\"/\"+t.substr(0,1).toUpperCase()+t.substr(1)+\" (\"+vt(D[t])+\")\");tt(\"/CreationDate (\"+p+\")\"),tt(\">>\"),tt(\"endobj\")},St=l.__private__.putCatalog=function(t){var e=(t=t||{}).rootDictionaryObjId||st;switch(J(),tt(\"<<\"),tt(\"/Type /Catalog\"),tt(\"/Pages \"+e+\" 0 R\"),L||(L=\"fullwidth\"),L){case\"fullwidth\":tt(\"/OpenAction [3 0 R /FitH null]\");break;case\"fullheight\":tt(\"/OpenAction [3 0 R /FitV null]\");break;case\"fullpage\":tt(\"/OpenAction [3 0 R /Fit]\");break;case\"original\":tt(\"/OpenAction [3 0 R /XYZ null null 1]\");break;default:var n=\"\"+L;\"%\"===n.substr(n.length-1)&&(L=parseInt(L)/100),\"number\"==typeof L&&tt(\"/OpenAction [3 0 R /XYZ null null \"+Z(L)+\"]\")}switch(S||(S=\"continuous\"),S){case\"continuous\":tt(\"/PageLayout /OneColumn\");break;case\"single\":tt(\"/PageLayout /SinglePage\");break;case\"two\":case\"twoleft\":tt(\"/PageLayout /TwoColumnLeft\");break;case\"tworight\":tt(\"/PageLayout /TwoColumnRight\")}A&&tt(\"/PageMode /\"+A),it.publish(\"putCatalog\"),tt(\">>\"),tt(\"endobj\")},_t=l.__private__.putTrailer=function(){tt(\"trailer\"),tt(\"<<\"),tt(\"/Size \"+(U+1)),tt(\"/Root \"+U+\" 0 R\"),tt(\"/Info \"+(U-1)+\" 0 R\"),tt(\"/ID [ <\"+d+\"> <\"+d+\"> ]\"),tt(\">>\")},Ft=l.__private__.putHeader=function(){tt(\"%PDF-\"+h),tt(\"%\")},Pt=l.__private__.putXRef=function(){var t=1,e=\"0000000000\";for(tt(\"xref\"),tt(\"0 \"+(U+1)),tt(\"0000000000 65535 f \"),t=1;t<=U;t++){\"function\"==typeof z[t]?tt((e+z[t]()).slice(-10)+\" 00000 n \"):void 0!==z[t]?tt((e+z[t]).slice(-10)+\" 00000 n \"):tt(\"0000000000 00000 n \")}},kt=l.__private__.buildDocument=function(){k=!1,B=U=0,C=[],z=[],G=[],st=X(),lt=X(),it.publish(\"buildDocument\"),Ft(),dt(),function(){it.publish(\"putAdditionalObjects\");for(var t=0;t<G.length;t++){var e=G[t];ot(e.objId,!0),tt(e.content),tt(\"endobj\")}it.publish(\"postPutAdditionalObjects\")}(),gt(),At(),St();var t=B;return Pt(),_t(),tt(\"startxref\"),tt(\"\"+t),tt(\"%%EOF\"),k=!0,C.join(\"\\n\")},It=l.__private__.getBlob=function(t){return new Blob([E(t)],{type:\"application/pdf\"})},Ct=l.output=l.__private__.output=((F=function(t,e){e=e||{};var n=kt();switch(\"string\"==typeof e?e={filename:e}:e.filename=e.filename||\"generated.pdf\",t){case void 0:return n;case\"save\":l.save(e.filename);break;case\"arraybuffer\":return E(n);case\"blob\":return It(n);case\"bloburi\":case\"bloburl\":if(void 0!==ie.URL&&\"function\"==typeof ie.URL.createObjectURL)return ie.URL&&ie.URL.createObjectURL(It(n))||void 0;console.warn(\"bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.\");break;case\"datauristring\":case\"dataurlstring\":return\"data:application/pdf;filename=\"+e.filename+\";base64,\"+btoa(n);case\"dataurlnewwindow\":var r='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src=\"'+this.output(\"datauristring\")+'\"></iframe></body></html>',i=ie.open();if(null!==i&&i.document.write(r),i||\"undefined\"==typeof safari)return i;case\"datauri\":case\"dataurl\":return ie.document.location.href=\"data:application/pdf;filename=\"+e.filename+\";base64,\"+btoa(n);default:return null}}).foo=function(){try{return F.apply(this,arguments)}catch(t){var e=t.stack||\"\";~e.indexOf(\" at \")&&(e=e.split(\" at \")[1]);var n=\"Error in function \"+e.split(\"\\n\")[0].split(\"<\")[0]+\": \"+t.message;if(!ie.console)throw new Error(n);ie.console.error(n,t),ie.alert&&alert(n)}},(F.foo.bar=F).foo),Bt=function(t){return!0===Array.isArray(Y)&&-1<Y.indexOf(t)};switch(e){case\"pt\":_=1;break;case\"mm\":_=72/25.4;break;case\"cm\":_=72/2.54;break;case\"in\":_=72;break;case\"px\":_=1==Bt(\"px_scaling\")?.75:96/72;break;case\"pc\":case\"em\":_=12;break;case\"ex\":_=6;break;default:throw new Error(\"Invalid unit: \"+e)}w(),m();var jt=l.__private__.getPageInfo=function(t){if(isNaN(t)||t%1!=0)throw new Error(\"Invalid argument passed to jsPDF.getPageInfo\");return{objId:V[t].objId,pageNumber:t,pageContext:V[t]}},Et=l.__private__.getPageInfoByObjId=function(t){for(var e in V)if(V[e].objId===t)break;if(isNaN(t)||t%1!=0)throw new Error(\"Invalid argument passed to jsPDF.getPageInfoByObjId\");return jt(e)},Mt=l.__private__.getCurrentPageInfo=function(){return{objId:V[x].objId,pageNumber:x,pageContext:V[x]}};l.addPage=function(){return bt.apply(this,arguments),this},l.setPage=function(){return xt.apply(this,arguments),this},l.insertPage=function(t){return this.addPage(),this.movePage(x,t),this},l.movePage=function(t,e){if(e<t){for(var n=I[t],r=V[t],i=t;e<i;i--)I[i]=I[i-1],V[i]=V[i-1];I[e]=n,V[e]=r,this.setPage(e)}else if(t<e){for(n=I[t],r=V[t],i=t;i<e;i++)I[i]=I[i+1],V[i]=V[i+1];I[e]=n,V[e]=r,this.setPage(e)}return this},l.deletePage=function(){return function(t){0<t&&t<=W&&(I.splice(t,1),--W<x&&(x=W),this.setPage(x))}.apply(this,arguments),this};l.__private__.text=l.text=function(t,e,n,i){var r;\"number\"!=typeof t||\"number\"!=typeof e||\"string\"!=typeof n&&!Array.isArray(n)||(r=n,n=e,e=t,t=r);var o=arguments[3],a=arguments[4],s=arguments[5];if(\"object\"===se(o)&&null!==o||(\"string\"==typeof a&&(s=a,a=null),\"string\"==typeof o&&(s=o,o=null),\"number\"==typeof o&&(a=o,o=null),i={flags:o,angle:a,align:s}),(o=o||{}).noBOM=o.noBOM||!0,o.autoencode=o.autoencode||!0,isNaN(e)||isNaN(n)||null==t)throw new Error(\"Invalid arguments passed to jsPDF.text\");if(0===t.length)return c;var l,h=\"\",u=\"number\"==typeof i.lineHeightFactor?i.lineHeightFactor:Tt,c=i.scope||this;function f(t){for(var e,n=t.concat(),r=[],i=n.length;i--;)\"string\"==typeof(e=n.shift())?r.push(e):Array.isArray(t)&&1===e.length?r.push(e[0]):r.push([e[0],e[1],e[2]]);return r}function p(t,e){var n;if(\"string\"==typeof t)n=e(t)[0];else if(Array.isArray(t)){for(var r,i,o=t.concat(),a=[],s=o.length;s--;)\"string\"==typeof(r=o.shift())?a.push(e(r)[0]):Array.isArray(r)&&\"string\"===r[0]&&(i=e(r[0],r[1],r[2]),a.push([i[0],i[1],i[2]]));n=a}return n}var d=!1,g=!0;if(\"string\"==typeof t)d=!0;else if(Array.isArray(t)){for(var m,y=t.concat(),v=[],w=y.length;w--;)(\"string\"!=typeof(m=y.shift())||Array.isArray(m)&&\"string\"!=typeof m[0])&&(g=!1);d=g}if(!1===d)throw new Error('Type of text must be string or Array. \"'+t+'\" is not recognized.');var b=rt[$].encoding;\"WinAnsiEncoding\"!==b&&\"StandardEncoding\"!==b||(t=p(t,function(t,e,n){return[(r=t,r=r.split(\"\\t\").join(Array(i.TabLen||9).join(\" \")),vt(r,o)),e,n];var r})),\"string\"==typeof t&&(t=t.match(/[\\r?\\n]/)?t.split(/\\r\\n|\\r|\\n/g):[t]);var x=et/c.internal.scaleFactor,N=x*(Tt-1);switch(i.baseline){case\"bottom\":n-=N;break;case\"top\":n+=x-N;break;case\"hanging\":n+=x-2*N;break;case\"middle\":n+=x/2-N}0<(O=i.maxWidth||0)&&(\"string\"==typeof t?t=c.splitTextToSize(t,O):\"[object Array]\"===Object.prototype.toString.call(t)&&(t=c.splitTextToSize(t.join(\" \"),O)));var L={text:t,x:e,y:n,options:i,mutex:{pdfEscape:vt,activeFontKey:$,fonts:rt,activeFontSize:et}};it.publish(\"preProcessText\",L),t=L.text;a=(i=L.options).angle;var A=c.internal.scaleFactor,S=[];if(a){a*=Math.PI/180;var _=Math.cos(a),F=Math.sin(a);S=[Z(_),Z(F),Z(-1*F),Z(_)]}void 0!==(M=i.charSpace)&&(h+=Q(M*A)+\" Tc\\n\");i.lang;var P=-1,k=void 0!==i.renderingMode?i.renderingMode:i.stroke,I=c.internal.getCurrentPageInfo().pageContext;switch(k){case 0:case!1:case\"fill\":P=0;break;case 1:case!0:case\"stroke\":P=1;break;case 2:case\"fillThenStroke\":P=2;break;case 3:case\"invisible\":P=3;break;case 4:case\"fillAndAddForClipping\":P=4;break;case 5:case\"strokeAndAddPathForClipping\":P=5;break;case 6:case\"fillThenStrokeAndAddToPathForClipping\":P=6;break;case 7:case\"addToPathForClipping\":P=7}var C=void 0!==I.usedRenderingMode?I.usedRenderingMode:-1;-1!==P?h+=P+\" Tr\\n\":-1!==C&&(h+=\"0 Tr\\n\"),-1!==P&&(I.usedRenderingMode=P);s=i.align||\"left\";var B=et*u,j=c.internal.pageSize.getWidth(),E=(A=c.internal.scaleFactor,rt[$]),M=i.charSpace||Qt,O=i.maxWidth||0,q=(o={},[]);if(\"[object Array]\"===Object.prototype.toString.call(t)){var T,R;v=f(t);\"left\"!==s&&(R=v.map(function(t){return c.getStringUnitWidth(t,{font:E,charSpace:M,fontSize:et})*et/A}));var D,U=Math.max.apply(Math,R),z=0;if(\"right\"===s){e-=R[0],t=[];var H=0;for(w=v.length;H<w;H++)U-R[H],T=0===H?(D=Wt(e),Vt(n)):(D=(z-R[H])*A,-B),t.push([v[H],D,T]),z=R[H]}else if(\"center\"===s){e-=R[0]/2,t=[];for(H=0,w=v.length;H<w;H++)(U-R[H])/2,T=0===H?(D=Wt(e),Vt(n)):(D=(z-R[H])/2*A,-B),t.push([v[H],D,T]),z=R[H]}else if(\"left\"===s){t=[];for(H=0,w=v.length;H<w;H++)T=0===H?Vt(n):-B,D=0===H?Wt(e):0,t.push(v[H])}else{if(\"justify\"!==s)throw new Error('Unrecognized alignment option, use \"left\", \"center\", \"right\" or \"justify\".');t=[];for(O=0!==O?O:j,H=0,w=v.length;H<w;H++)T=0===H?Vt(n):-B,D=0===H?Wt(e):0,H<w-1&&q.push(((O-R[H])/(v[H].split(\" \").length-1)*A).toFixed(2)),t.push([v[H],D,T])}}!0===(\"boolean\"==typeof i.R2L?i.R2L:nt)&&(t=p(t,function(t,e,n){return[t.split(\"\").reverse().join(\"\"),e,n]}));L={text:t,x:e,y:n,options:i,mutex:{pdfEscape:vt,activeFontKey:$,fonts:rt,activeFontSize:et}};it.publish(\"postProcessText\",L),t=L.text,l=L.mutex.isHex;v=f(t);t=[];var W,V,G,Y=0,J=(w=v.length,\"\");for(H=0;H<w;H++)J=\"\",Array.isArray(v[H])?(W=parseFloat(v[H][1]),V=parseFloat(v[H][2]),G=(l?\"<\":\"(\")+v[H][0]+(l?\">\":\")\"),Y=1):(W=Wt(e),V=Vt(n),G=(l?\"<\":\"(\")+v[H]+(l?\">\":\")\")),void 0!==q&&void 0!==q[H]&&(J=q[H]+\" Tw\\n\"),0!==S.length&&0===H?t.push(J+S.join(\" \")+\" \"+W.toFixed(2)+\" \"+V.toFixed(2)+\" Tm\\n\"+G):1===Y||0===Y&&0===H?t.push(J+W.toFixed(2)+\" \"+V.toFixed(2)+\" Td\\n\"+G):t.push(J+G);t=0===Y?t.join(\" Tj\\nT* \"):t.join(\" Tj\\n\"),t+=\" Tj\\n\";var X=\"BT\\n/\"+$+\" \"+et+\" Tf\\n\"+(et*u).toFixed(2)+\" TL\\n\"+Kt+\"\\n\";return X+=h,X+=t,tt(X+=\"ET\"),K[$]=!0,c},l.__private__.lstext=l.lstext=function(t,e,n,r){return console.warn(\"jsPDF.lstext is deprecated\"),this.text(t,e,n,{charSpace:r})},l.__private__.clip=l.clip=function(t){tt(\"evenodd\"===t?\"W*\":\"W\"),tt(\"n\")},l.__private__.clip_fixed=l.clip_fixed=function(t){console.log(\"clip_fixed is deprecated\"),l.clip(t)};var Ot=l.__private__.isValidStyle=function(t){var e=!1;return-1!==[void 0,null,\"S\",\"F\",\"DF\",\"FD\",\"f\",\"f*\",\"B\",\"B*\"].indexOf(t)&&(e=!0),e},qt=l.__private__.getStyle=function(t){var e=\"S\";return\"F\"===t?e=\"f\":\"FD\"===t||\"DF\"===t?e=\"B\":\"f\"!==t&&\"f*\"!==t&&\"B\"!==t&&\"B*\"!==t||(e=t),e};l.__private__.line=l.line=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw new Error(\"Invalid arguments passed to jsPDF.line\");return this.lines([[n-t,r-e]],t,e)},l.__private__.lines=l.lines=function(t,e,n,r,i,o){var a,s,l,h,u,c,f,p,d,g,m,y;if(\"number\"==typeof t&&(y=n,n=e,e=t,t=y),r=r||[1,1],o=o||!1,isNaN(e)||isNaN(n)||!Array.isArray(t)||!Array.isArray(r)||!Ot(i)||\"boolean\"!=typeof o)throw new Error(\"Invalid arguments passed to jsPDF.lines\");for(tt(Q(Wt(e))+\" \"+Q(Vt(n))+\" m \"),a=r[0],s=r[1],h=t.length,g=e,m=n,l=0;l<h;l++)2===(u=t[l]).length?(g=u[0]*a+g,m=u[1]*s+m,tt(Q(Wt(g))+\" \"+Q(Vt(m))+\" l\")):(c=u[0]*a+g,f=u[1]*s+m,p=u[2]*a+g,d=u[3]*s+m,g=u[4]*a+g,m=u[5]*s+m,tt(Q(Wt(c))+\" \"+Q(Vt(f))+\" \"+Q(Wt(p))+\" \"+Q(Vt(d))+\" \"+Q(Wt(g))+\" \"+Q(Vt(m))+\" c\"));return o&&tt(\" h\"),null!==i&&tt(qt(i)),this},l.__private__.rect=l.rect=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Ot(i))throw new Error(\"Invalid arguments passed to jsPDF.rect\");return tt([Z(Wt(t)),Z(Vt(e)),Z(n*_),Z(-r*_),\"re\"].join(\" \")),null!==i&&tt(qt(i)),this},l.__private__.triangle=l.triangle=function(t,e,n,r,i,o,a){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!Ot(a))throw new Error(\"Invalid arguments passed to jsPDF.triangle\");return this.lines([[n-t,r-e],[i-n,o-r],[t-i,e-o]],t,e,[1,1],a,!0),this},l.__private__.roundedRect=l.roundedRect=function(t,e,n,r,i,o,a){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!Ot(a))throw new Error(\"Invalid arguments passed to jsPDF.roundedRect\");var s=4/3*(Math.SQRT2-1);return this.lines([[n-2*i,0],[i*s,0,i,o-o*s,i,o],[0,r-2*o],[0,o*s,-i*s,o,-i,o],[2*i-n,0],[-i*s,0,-i,-o*s,-i,-o],[0,2*o-r],[0,-o*s,i*s,-o,i,-o]],t+i,e,[1,1],a),this},l.__private__.ellipse=l.ellipse=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Ot(i))throw new Error(\"Invalid arguments passed to jsPDF.ellipse\");var o=4/3*(Math.SQRT2-1)*n,a=4/3*(Math.SQRT2-1)*r;return tt([Z(Wt(t+n)),Z(Vt(e)),\"m\",Z(Wt(t+n)),Z(Vt(e-a)),Z(Wt(t+o)),Z(Vt(e-r)),Z(Wt(t)),Z(Vt(e-r)),\"c\"].join(\" \")),tt([Z(Wt(t-o)),Z(Vt(e-r)),Z(Wt(t-n)),Z(Vt(e-a)),Z(Wt(t-n)),Z(Vt(e)),\"c\"].join(\" \")),tt([Z(Wt(t-n)),Z(Vt(e+a)),Z(Wt(t-o)),Z(Vt(e+r)),Z(Wt(t)),Z(Vt(e+r)),\"c\"].join(\" \")),tt([Z(Wt(t+o)),Z(Vt(e+r)),Z(Wt(t+n)),Z(Vt(e+a)),Z(Wt(t+n)),Z(Vt(e)),\"c\"].join(\" \")),null!==i&&tt(qt(i)),this},l.__private__.circle=l.circle=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||!Ot(r))throw new Error(\"Invalid arguments passed to jsPDF.circle\");return this.ellipse(t,e,n,n,r)};l.setFont=function(t,e){return $=Lt(t,e,{disableWarning:!1}),this},l.setFontStyle=l.setFontType=function(t){return $=Lt(void 0,t),this};l.__private__.getFontList=l.getFontList=function(){var t,e,n,r={};for(t in H)if(H.hasOwnProperty(t))for(e in r[t]=n=[],H[t])H[t].hasOwnProperty(e)&&n.push(e);return r};l.addFont=function(t,e,n,r){yt.call(this,t,e,n,r=r||\"Identity-H\")};var Tt,Rt=r.lineWidth||.200025,Dt=l.__private__.setLineWidth=l.setLineWidth=function(t){return tt((t*_).toFixed(2)+\" w\"),this},Ut=(l.__private__.setLineDash=ae.API.setLineDash=function(t,e){if(t=t||[],e=e||0,isNaN(e)||!Array.isArray(t))throw new Error(\"Invalid arguments passed to jsPDF.setLineDash\");return t=t.map(function(t){return(t*_).toFixed(3)}).join(\" \"),e=parseFloat((e*_).toFixed(3)),tt(\"[\"+t+\"] \"+e+\" d\"),this},l.__private__.getLineHeight=l.getLineHeight=function(){return et*Tt}),zt=(Ut=l.__private__.getLineHeight=l.getLineHeight=function(){return et*Tt},l.__private__.setLineHeightFactor=l.setLineHeightFactor=function(t){return\"number\"==typeof(t=t||1.15)&&(Tt=t),this}),Ht=l.__private__.getLineHeightFactor=l.getLineHeightFactor=function(){return Tt};zt(r.lineHeight);var Wt=l.__private__.getHorizontalCoordinate=function(t){return t*_},Vt=l.__private__.getVerticalCoordinate=function(t){return V[x].mediaBox.topRightY-V[x].mediaBox.bottomLeftY-t*_},Gt=l.__private__.getHorizontalCoordinateString=function(t){return Z(t*_)},Yt=l.__private__.getVerticalCoordinateString=function(t){return Z(V[x].mediaBox.topRightY-V[x].mediaBox.bottomLeftY-t*_)},Jt=r.strokeColor||\"0 G\",Xt=(l.__private__.getStrokeColor=l.getDrawColor=function(){return ht(Jt)},l.__private__.setStrokeColor=l.setDrawColor=function(t,e,n,r){return Jt=ut({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:\"draw\",precision:2}),tt(Jt),this},r.fillColor||\"0 g\"),Kt=(l.__private__.getFillColor=l.getFillColor=function(){return ht(Xt)},l.__private__.setFillColor=l.setFillColor=function(t,e,n,r){return Xt=ut({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:\"fill\",precision:2}),tt(Xt),this},r.textColor||\"0 g\"),Zt=l.__private__.getTextColor=l.getTextColor=function(){return ht(Kt)},Qt=(l.__private__.setTextColor=l.setTextColor=function(t,e,n,r){return Kt=ut({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:\"text\",precision:3}),this},r.charSpace||0),$t=l.__private__.getCharSpace=l.getCharSpace=function(){return Qt},te=(l.__private__.setCharSpace=l.setCharSpace=function(t){if(isNaN(t))throw new Error(\"Invalid argument passed to jsPDF.setCharSpace\");return Qt=t,this},0);l.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2};l.__private__.setLineCap=l.setLineCap=function(t){var e=l.CapJoinStyles[t];if(void 0===e)throw new Error(\"Line cap style of '\"+t+\"' is not recognized. See or extend .CapJoinStyles property for valid styles\");return tt((te=e)+\" J\"),this};var ee,ne=0;l.__private__.setLineJoin=l.setLineJoin=function(t){var e=l.CapJoinStyles[t];if(void 0===e)throw new Error(\"Line join style of '\"+t+\"' is not recognized. See or extend .CapJoinStyles property for valid styles\");return tt((ne=e)+\" j\"),this},l.__private__.setMiterLimit=l.setMiterLimit=function(t){if(t=t||0,isNaN(t))throw new Error(\"Invalid argument passed to jsPDF.setMiterLimit\");return ee=parseFloat(Z(t*_)),tt(ee+\" M\"),this};for(var re in l.save=function(r,t){if(r=r||\"generated.pdf\",(t=t||{}).returnPromise=t.returnPromise||!1,!1!==t.returnPromise)return new Promise(function(t,e){try{var n=le(It(kt()),r);\"function\"==typeof le.unload&&ie.setTimeout&&setTimeout(le.unload,911),t(n)}catch(t){e(t.message)}});le(It(kt()),r),\"function\"==typeof le.unload&&ie.setTimeout&&setTimeout(le.unload,911)},ae.API)ae.API.hasOwnProperty(re)&&(\"events\"===re&&ae.API.events.length?function(t,e){var n,r,i;for(i=e.length-1;-1!==i;i--)n=e[i][0],r=e[i][1],t.subscribe.apply(t,[n].concat(\"function\"==typeof r?[r]:r))}(it,ae.API.events):l[re]=ae.API[re]);return l.internal={pdfEscape:vt,getStyle:qt,getFont:function(){return rt[Lt.apply(l,arguments)]},getFontSize:O,getCharSpace:$t,getTextColor:Zt,getLineHeight:Ut,getLineHeightFactor:Ht,write:j,getHorizontalCoordinate:Wt,getVerticalCoordinate:Vt,getCoordinateString:Gt,getVerticalCoordinateString:Yt,collections:{},newObject:J,newAdditionalObject:at,newObjectDeferred:X,newObjectDeferredBegin:ot,getFilters:ct,putStream:ft,events:it,scaleFactor:_,pageSize:{getWidth:function(){return(V[x].mediaBox.topRightX-V[x].mediaBox.bottomLeftX)/_},setWidth:function(t){V[x].mediaBox.topRightX=t*_+V[x].mediaBox.bottomLeftX},getHeight:function(){return(V[x].mediaBox.topRightY-V[x].mediaBox.bottomLeftY)/_},setHeight:function(t){V[x].mediaBox.topRightY=t*_+V[x].mediaBox.bottomLeftY}},output:Ct,getNumberOfPages:Nt,pages:I,out:tt,f2:Z,f3:Q,getPageInfo:jt,getPageInfoByObjId:Et,getCurrentPageInfo:Mt,getPDFVersion:u,hasHotfix:Bt},Object.defineProperty(l.internal.pageSize,\"width\",{get:function(){return(V[x].mediaBox.topRightX-V[x].mediaBox.bottomLeftX)/_},set:function(t){V[x].mediaBox.topRightX=t*_+V[x].mediaBox.bottomLeftX},enumerable:!0,configurable:!0}),Object.defineProperty(l.internal.pageSize,\"height\",{get:function(){return(V[x].mediaBox.topRightY-V[x].mediaBox.bottomLeftY)/_},set:function(t){V[x].mediaBox.topRightY=t*_+V[x].mediaBox.bottomLeftY},enumerable:!0,configurable:!0}),function(t){for(var e=0,n=M.length;e<n;e++){var r=yt(t[e][0],t[e][1],t[e][2],M[e][3],!0);K[r]=!0;var i=t[e][0].split(\"-\");mt(r,i[0],i[1]||\"\")}it.publish(\"addFonts\",{fonts:rt,dictionary:H})}(M),$=\"F1\",bt(i,t),it.publish(\"initialized\"),l}return ae.API={events:[]},ae.version=\"1.5.3\",\"function\"==typeof define&&define.amd?define(\"jsPDF\",function(){return ae}):\"undefined\"!=typeof module&&module.exports?(module.exports=ae,module.exports.jsPDF=ae):ie.jsPDF=ae,ae}(\"undefined\"!=typeof self&&self||\"undefined\"!=typeof window&&window||\"undefined\"!=typeof global&&global||Function('return typeof this === \"object\" && this.content')()||Function(\"return this\")());\n/**\n   * @license\n   * Copyright (c) 2016 Alexander Weidt,\n   * https://github.com/BiggA94\n   * \n   * Licensed under the MIT License. http://opensource.org/licenses/mit-license\n   */\n(function(t,e){var A,n=1,S=function(t){return t.replace(/\\\\/g,\"\\\\\\\\\").replace(/\\(/g,\"\\\\(\").replace(/\\)/g,\"\\\\)\")},y=function(t){return t.replace(/\\\\\\\\/g,\"\\\\\").replace(/\\\\\\(/g,\"(\").replace(/\\\\\\)/g,\")\")},_=function(t){if(isNaN(t))throw new Error(\"Invalid argument passed to jsPDF.f2\");return t.toFixed(2)},s=function(t){if(isNaN(t))throw new Error(\"Invalid argument passed to jsPDF.f2\");return t.toFixed(5)};t.__acroform__={};var r=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},v=function(t){return t*n},w=function(t){return t/n},l=function(t){var e=new j,n=Y.internal.getHeight(t)||0,r=Y.internal.getWidth(t)||0;return e.BBox=[0,0,Number(_(r)),Number(_(n))],e},i=t.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error(\"Invalid arguments passed to jsPDF.API.__acroform__.setBit\");return t|=1<<e},o=t.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error(\"Invalid arguments passed to jsPDF.API.__acroform__.clearBit\");return t&=~(1<<e)},a=t.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error(\"Invalid arguments passed to jsPDF.API.__acroform__.getBit\");return 0==(t&1<<e)?0:1},b=t.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error(\"Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf\");return a(t,e-1)},x=t.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error(\"Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf\");return i(t,e-1)},N=t.__acroform__.clearBitForPdf=function(t,e,n){if(isNaN(t)||isNaN(e))throw new Error(\"Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf\");return o(t,e-1)},c=t.__acroform__.calculateCoordinates=function(t){var e=this.internal.getHorizontalCoordinate,n=this.internal.getVerticalCoordinate,r=t[0],i=t[1],o=t[2],a=t[3],s={};return s.lowerLeft_X=e(r)||0,s.lowerLeft_Y=n(i+a)||0,s.upperRight_X=e(r+o)||0,s.upperRight_Y=n(i)||0,[Number(_(s.lowerLeft_X)),Number(_(s.lowerLeft_Y)),Number(_(s.upperRight_X)),Number(_(s.upperRight_Y))]},f=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t.V||t.DV,r=h(t,n),i=A.internal.getFont(t.fontName,t.fontStyle).id;e.push(\"/Tx BMC\"),e.push(\"q\"),e.push(\"BT\"),e.push(A.__private__.encodeColorString(t.color)),e.push(\"/\"+i+\" \"+_(r.fontSize)+\" Tf\"),e.push(\"1 0 0 1 0 0 Tm\"),e.push(r.text),e.push(\"ET\"),e.push(\"Q\"),e.push(\"EMC\");var o=new l(t);return o.stream=e.join(\"\\n\"),o}},h=function(i,t){var e=i.maxFontSize||12,n=(i.fontName,{text:\"\",fontSize:\"\"}),o=(t=\")\"==(t=\"(\"==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(\" \"),r=(A.__private__.encodeColorString(i.color),e),a=Y.internal.getHeight(i)||0;a=a<0?-a:a;var s=Y.internal.getWidth(i)||0;s=s<0?-s:s;var l=function(t,e,n){if(t+1<o.length){var r=e+\" \"+o[t+1];return F(r,i,n).width<=s-4}return!1};r++;t:for(;;){t=\"\";var h=F(\"3\",i,--r).height,u=i.multiline?a-r:(a-h)/2,c=-2,f=u+=2,p=0,d=0,g=0;if(r<=0){t=\"(...) Tj\\n\",t+=\"% Width of Text: \"+F(t,i,r=12).width+\", FieldWidth:\"+s+\"\\n\";break}g=F(o[0]+\" \",i,r).width;var m=\"\",y=0;for(var v in o)if(o.hasOwnProperty(v)){m=\" \"==(m+=o[v]+\" \").substr(m.length-1)?m.substr(0,m.length-1):m;var w=parseInt(v);g=F(m+\" \",i,r).width;var b=l(w,m,r),x=v>=o.length-1;if(b&&!x){m+=\" \";continue}if(b||x){if(x)d=w;else if(i.multiline&&a<(h+2)*(y+2)+2)continue t}else{if(!i.multiline)continue t;if(a<(h+2)*(y+2)+2)continue t;d=w}for(var N=\"\",L=p;L<=d;L++)N+=o[L]+\" \";switch(N=\" \"==N.substr(N.length-1)?N.substr(0,N.length-1):N,g=F(N,i,r).width,i.textAlign){case\"right\":c=s-g-2;break;case\"center\":c=(s-g)/2;break;case\"left\":default:c=2}t+=_(c)+\" \"+_(f)+\" Td\\n\",t+=\"(\"+S(N)+\") Tj\\n\",t+=-_(c)+\" 0 Td\\n\",f=-(r+2),g=0,p=d+1,y++,m=\"\"}else;break}return n.text=t,n.fontSize=r,n},F=function(t,e,n){var r=A.internal.getFont(e.fontName,e.fontStyle),i=A.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:A.getStringUnitWidth(\"3\",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},u={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},p=function(){A.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=A.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];n.objId=void 0,n.hasAnnotation&&d.call(A,n)}},d=function(t){var e={type:\"reference\",object:t};void 0===A.internal.getPageInfo(t.page).pageContext.annotations.find(function(t){return t.type===e.type&&t.object===e.object})&&A.internal.getPageInfo(t.page).pageContext.annotations.push(e)},g=function(){if(void 0===A.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error(\"putCatalogCallback: Root missing.\");A.internal.write(\"/AcroForm \"+A.internal.acroformPlugin.acroFormDictionaryRoot.objId+\" 0 R\")},m=function(){A.internal.events.unsubscribe(A.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete A.internal.acroformPlugin.acroFormDictionaryRoot._eventID,A.internal.acroformPlugin.printedOut=!0},L=function(t){var e=!t;t||(A.internal.newObjectDeferredBegin(A.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),A.internal.acroformPlugin.acroFormDictionaryRoot.putStream());t=t||A.internal.acroformPlugin.acroFormDictionaryRoot.Kids;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n],i=[],o=r.Rect;if(r.Rect&&(r.Rect=c.call(this,r.Rect)),A.internal.newObjectDeferredBegin(r.objId,!0),r.DA=Y.createDefaultAppearanceStream(r),\"object\"===se(r)&&\"function\"==typeof r.getKeyValueListForStream&&(i=r.getKeyValueListForStream()),r.Rect=o,r.hasAppearanceStream&&!r.appearanceStreamContent){var a=f.call(this,r);i.push({key:\"AP\",value:\"<</N \"+a+\">>\"}),A.internal.acroformPlugin.xForms.push(a)}if(r.appearanceStreamContent){var s=\"\";for(var l in r.appearanceStreamContent)if(r.appearanceStreamContent.hasOwnProperty(l)){var h=r.appearanceStreamContent[l];if(s+=\"/\"+l+\" \",s+=\"<<\",1<=Object.keys(h).length||Array.isArray(h))for(var n in h){var u;if(h.hasOwnProperty(n))\"function\"==typeof(u=h[n])&&(u=u.call(this,r)),s+=\"/\"+n+\" \"+u+\" \",0<=A.internal.acroformPlugin.xForms.indexOf(u)||A.internal.acroformPlugin.xForms.push(u)}else\"function\"==typeof(u=h)&&(u=u.call(this,r)),s+=\"/\"+n+\" \"+u,0<=A.internal.acroformPlugin.xForms.indexOf(u)||A.internal.acroformPlugin.xForms.push(u);s+=\">>\"}i.push({key:\"AP\",value:\"<<\\n\"+s+\">>\"})}A.internal.putStream({additionalKeyValues:i}),A.internal.out(\"endobj\")}e&&P.call(this,A.internal.acroformPlugin.xForms)},P=function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=e,r=t[e];A.internal.newObjectDeferredBegin(r&&r.objId,!0),\"object\"===se(r)&&\"function\"==typeof r.putStream&&r.putStream(),delete t[n]}},k=function(){if(void 0!==this.internal&&(void 0===this.internal.acroformPlugin||!1===this.internal.acroformPlugin.isInitialized)){if(A=this,M.FieldNum=0,this.internal.acroformPlugin=JSON.parse(JSON.stringify(u)),this.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error(\"Exception while creating AcroformDictionary\");n=A.internal.scaleFactor,A.internal.acroformPlugin.acroFormDictionaryRoot=new E,A.internal.acroformPlugin.acroFormDictionaryRoot._eventID=A.internal.events.subscribe(\"postPutResources\",m),A.internal.events.subscribe(\"buildDocument\",p),A.internal.events.subscribe(\"putCatalog\",g),A.internal.events.subscribe(\"postPutPages\",L),A.internal.acroformPlugin.isInitialized=!0}},I=t.__acroform__.arrayToPdfArray=function(t){if(Array.isArray(t)){for(var e=\"[\",n=0;n<t.length;n++)switch(0!==n&&(e+=\" \"),se(t[n])){case\"boolean\":case\"number\":case\"object\":e+=t[n].toString();break;case\"string\":\"/\"!==t[n].substr(0,1)?e+=\"(\"+S(t[n].toString())+\")\":e+=t[n].toString()}return e+=\"]\"}throw new Error(\"Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray\")};var C=function(t){return(t=t||\"\").toString(),t=\"(\"+S(t)+\")\"},B=function(){var e;Object.defineProperty(this,\"objId\",{configurable:!0,get:function(){if(e||(e=A.internal.newObjectDeferred()),!e)throw new Error(\"AcroFormPDFObject: Couldn't create Object ID\");return e},set:function(t){e=t}})};B.prototype.toString=function(){return this.objId+\" 0 R\"},B.prototype.putStream=function(){var t=this.getKeyValueListForStream();A.internal.putStream({data:this.stream,additionalKeyValues:t}),A.internal.out(\"endobj\")},B.prototype.getKeyValueListForStream=function(){return function(t){var e=[],n=Object.getOwnPropertyNames(t).filter(function(t){return\"content\"!=t&&\"appearanceStreamContent\"!=t&&\"_\"!=t.substring(0,1)});for(var r in n)if(!1===Object.getOwnPropertyDescriptor(t,n[r]).configurable){var i=n[r],o=t[i];o&&(Array.isArray(o)?e.push({key:i,value:I(o)}):o instanceof B?e.push({key:i,value:o.objId+\" 0 R\"}):\"function\"!=typeof o&&e.push({key:i,value:o}))}return e}(this)};var j=function(){B.call(this),Object.defineProperty(this,\"Type\",{value:\"/XObject\",configurable:!1,writeable:!0}),Object.defineProperty(this,\"Subtype\",{value:\"/Form\",configurable:!1,writeable:!0}),Object.defineProperty(this,\"FormType\",{value:1,configurable:!1,writeable:!0});var e,n=[];Object.defineProperty(this,\"BBox\",{configurable:!1,writeable:!0,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,\"Resources\",{value:\"2 0 R\",configurable:!1,writeable:!0}),Object.defineProperty(this,\"stream\",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};r(j,B);var E=function(){B.call(this);var e,t=[];Object.defineProperty(this,\"Kids\",{enumerable:!1,configurable:!0,get:function(){return 0<t.length?t:void 0}}),Object.defineProperty(this,\"Fields\",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,\"DA\",{enumerable:!1,configurable:!1,get:function(){if(e)return\"(\"+e+\")\"},set:function(t){e=t}})};r(E,B);var M=function t(){B.call(this);var e=4;Object.defineProperty(this,\"F\",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){if(isNaN(t))throw new Error('Invalid value \"'+t+'\" for attribute F supplied.');e=t}}),Object.defineProperty(this,\"showWhenPrinted\",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(e,3))},set:function(t){!0===Boolean(t)?this.F=x(e,3):this.F=N(e,3)}});var n=0;Object.defineProperty(this,\"Ff\",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){if(isNaN(t))throw new Error('Invalid value \"'+t+'\" for attribute Ff supplied.');n=t}});var r=[];Object.defineProperty(this,\"Rect\",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(t){r=void 0!==t?t:[]}}),Object.defineProperty(this,\"x\",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:w(r[0])},set:function(t){r[0]=v(t)}}),Object.defineProperty(this,\"y\",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:w(r[1])},set:function(t){r[1]=v(t)}}),Object.defineProperty(this,\"width\",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:w(r[2])},set:function(t){r[2]=v(t)}}),Object.defineProperty(this,\"height\",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:w(r[3])},set:function(t){r[3]=v(t)}});var i=\"\";Object.defineProperty(this,\"FT\",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){switch(t){case\"/Btn\":case\"/Tx\":case\"/Ch\":case\"/Sig\":i=t;break;default:throw new Error('Invalid value \"'+t+'\" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,\"T\",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof H)return;o=\"FieldObject\"+t.FieldNum++}return\"(\"+S(o)+\")\"},set:function(t){o=t.toString()}}),Object.defineProperty(this,\"fieldName\",{configurable:!0,enumerable:!0,get:function(){return o},set:function(t){o=t}});var a=\"helvetica\";Object.defineProperty(this,\"fontName\",{enumerable:!0,configurable:!0,get:function(){return a},set:function(t){a=t}});var s=\"normal\";Object.defineProperty(this,\"fontStyle\",{enumerable:!0,configurable:!0,get:function(){return s},set:function(t){s=t}});var l=0;Object.defineProperty(this,\"fontSize\",{enumerable:!0,configurable:!0,get:function(){return w(l)},set:function(t){l=v(t)}});var h=50;Object.defineProperty(this,\"maxFontSize\",{enumerable:!0,configurable:!0,get:function(){return w(h)},set:function(t){h=v(t)}});var u=\"black\";Object.defineProperty(this,\"color\",{enumerable:!0,configurable:!0,get:function(){return u},set:function(t){u=t}});var c=\"/F1 0 Tf 0 g\";Object.defineProperty(this,\"DA\",{enumerable:!0,configurable:!1,get:function(){if(!(!c||this instanceof H||this instanceof V))return C(c)},set:function(t){t=t.toString(),c=t}});var f=null;Object.defineProperty(this,\"DV\",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof D==!1?C(f):f},set:function(t){t=t.toString(),f=this instanceof D==!1?\"(\"===t.substr(0,1)?y(t.substr(1,t.length-2)):y(t):t}}),Object.defineProperty(this,\"defaultValue\",{enumerable:!0,configurable:!0,get:function(){return this instanceof D==!0?y(f.substr(1,f.length-1)):f},set:function(t){t=t.toString(),f=this instanceof D==!0?\"/\"+t:t}});var p=null;Object.defineProperty(this,\"V\",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof D==!1?C(p):p},set:function(t){t=t.toString(),p=this instanceof D==!1?\"(\"===t.substr(0,1)?y(t.substr(1,t.length-2)):y(t):t}}),Object.defineProperty(this,\"value\",{enumerable:!0,configurable:!0,get:function(){return this instanceof D==!0?y(p.substr(1,p.length-1)):p},set:function(t){t=t.toString(),p=this instanceof D==!0?\"/\"+t:t}}),Object.defineProperty(this,\"hasAnnotation\",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,\"Type\",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?\"/Annot\":null}}),Object.defineProperty(this,\"Subtype\",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?\"/Widget\":null}});var d,g=!1;Object.defineProperty(this,\"hasAppearanceStream\",{enumerable:!0,configurable:!0,writeable:!0,get:function(){return g},set:function(t){t=Boolean(t),g=t}}),Object.defineProperty(this,\"page\",{enumerable:!0,configurable:!0,writeable:!0,get:function(){if(d)return d},set:function(t){d=t}}),Object.defineProperty(this,\"readOnly\",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,1))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,1):this.Ff=N(this.Ff,1)}}),Object.defineProperty(this,\"required\",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,2))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,2):this.Ff=N(this.Ff,2)}}),Object.defineProperty(this,\"noExport\",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,3))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,3):this.Ff=N(this.Ff,3)}});var m=null;Object.defineProperty(this,\"Q\",{enumerable:!0,configurable:!1,get:function(){if(null!==m)return m},set:function(t){if(-1===[0,1,2].indexOf(t))throw new Error('Invalid value \"'+t+'\" for attribute Q supplied.');m=t}}),Object.defineProperty(this,\"textAlign\",{get:function(){var t=\"left\";switch(m){case 0:default:t=\"left\";break;case 1:t=\"center\";break;case 2:t=\"right\"}return t},configurable:!0,enumerable:!0,set:function(t){switch(t){case\"right\":case 2:m=2;break;case\"center\":case 1:m=1;break;case\"left\":case 0:default:m=0}}})};r(M,B);var O=function(){M.call(this),this.FT=\"/Ch\",this.V=\"()\",this.fontName=\"zapfdingbats\";var e=0;Object.defineProperty(this,\"TI\",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,\"topIndex\",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var r=[];Object.defineProperty(this,\"Opt\",{enumerable:!0,configurable:!1,get:function(){return I(r)},set:function(t){var e,n;n=[],\"string\"==typeof(e=t)&&(n=function(t,e,n){n||(n=1);for(var r,i=[];r=e.exec(t);)i.push(r[n]);return i}(e,/\\((.*?)\\)/g)),r=n}}),this.getOptions=function(){return r},this.setOptions=function(t){r=t,this.sort&&r.sort()},this.addOption=function(t){t=(t=t||\"\").toString(),r.push(t),this.sort&&r.sort()},this.removeOption=function(t,e){for(e=e||!1,t=(t=t||\"\").toString();-1!==r.indexOf(t)&&(r.splice(r.indexOf(t),1),!1!==e););},Object.defineProperty(this,\"combo\",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,18))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,18):this.Ff=N(this.Ff,18)}}),Object.defineProperty(this,\"edit\",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,19))},set:function(t){!0===this.combo&&(!0===Boolean(t)?this.Ff=x(this.Ff,19):this.Ff=N(this.Ff,19))}}),Object.defineProperty(this,\"sort\",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,20))},set:function(t){!0===Boolean(t)?(this.Ff=x(this.Ff,20),r.sort()):this.Ff=N(this.Ff,20)}}),Object.defineProperty(this,\"multiSelect\",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,22))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,22):this.Ff=N(this.Ff,22)}}),Object.defineProperty(this,\"doNotSpellCheck\",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,23):this.Ff=N(this.Ff,23)}}),Object.defineProperty(this,\"commitOnSelChange\",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,27))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,27):this.Ff=N(this.Ff,27)}}),this.hasAppearanceStream=!1};r(O,M);var q=function(){O.call(this),this.fontName=\"helvetica\",this.combo=!1};r(q,O);var T=function(){q.call(this),this.combo=!0};r(T,q);var R=function(){T.call(this),this.edit=!0};r(R,T);var D=function(){M.call(this),this.FT=\"/Btn\",Object.defineProperty(this,\"noToggleToOff\",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,15))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,15):this.Ff=N(this.Ff,15)}}),Object.defineProperty(this,\"radio\",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,16))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,16):this.Ff=N(this.Ff,16)}}),Object.defineProperty(this,\"pushButton\",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,17))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,17):this.Ff=N(this.Ff,17)}}),Object.defineProperty(this,\"radioIsUnison\",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,26):this.Ff=N(this.Ff,26)}});var e,n={};Object.defineProperty(this,\"MK\",{enumerable:!1,configurable:!1,get:function(){if(0!==Object.keys(n).length){var t,e=[];for(t in e.push(\"<<\"),n)e.push(\"/\"+t+\" (\"+n[t]+\")\");return e.push(\">>\"),e.join(\"\\n\")}},set:function(t){\"object\"===se(t)&&(n=t)}}),Object.defineProperty(this,\"caption\",{enumerable:!0,configurable:!0,get:function(){return n.CA||\"\"},set:function(t){\"string\"==typeof t&&(n.CA=t)}}),Object.defineProperty(this,\"AS\",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,\"appearanceState\",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e=\"/\"+t}})};r(D,M);var U=function(){D.call(this),this.pushButton=!0};r(U,D);var z=function(){D.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,\"Kids\",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};r(z,D);var H=function(){var e,n;M.call(this),Object.defineProperty(this,\"Parent\",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,\"optionName\",{enumerable:!1,configurable:!0,get:function(){return n},set:function(t){n=t}});var r,i={};Object.defineProperty(this,\"MK\",{enumerable:!1,configurable:!1,get:function(){var t,e=[];for(t in e.push(\"<<\"),i)e.push(\"/\"+t+\" (\"+i[t]+\")\");return e.push(\">>\"),e.join(\"\\n\")},set:function(t){\"object\"===se(t)&&(i=t)}}),Object.defineProperty(this,\"caption\",{enumerable:!0,configurable:!0,get:function(){return i.CA||\"\"},set:function(t){\"string\"==typeof t&&(i.CA=t)}}),Object.defineProperty(this,\"AS\",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,\"appearanceState\",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r=\"/\"+t}}),this.optionName=name,this.caption=\"l\",this.appearanceState=\"Off\",this._AppearanceType=Y.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(name)};r(H,M),z.prototype.setAppearance=function(t){if(!(\"createAppearanceStream\"in t&&\"getCA\"in t))throw new Error(\"Couldn't assign Appearance to RadioButton. Appearance was Invalid!\");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},z.prototype.createOption=function(t){this.Kids.length;var e=new H;return e.Parent=this,e.optionName=t,this.Kids.push(e),J.call(this,e),e};var W=function(){D.call(this),this.fontName=\"zapfdingbats\",this.caption=\"3\",this.appearanceState=\"On\",this.value=\"On\",this.textAlign=\"center\",this.appearanceStreamContent=Y.CheckBox.createAppearanceStream()};r(W,D);var V=function(){M.call(this),this.FT=\"/Tx\",Object.defineProperty(this,\"multiline\",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,13))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,13):this.Ff=N(this.Ff,13)}}),Object.defineProperty(this,\"fileSelect\",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,21))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,21):this.Ff=N(this.Ff,21)}}),Object.defineProperty(this,\"doNotSpellCheck\",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,23):this.Ff=N(this.Ff,23)}}),Object.defineProperty(this,\"doNotScroll\",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,24))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,24):this.Ff=N(this.Ff,24)}}),Object.defineProperty(this,\"comb\",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,25))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,25):this.Ff=N(this.Ff,25)}}),Object.defineProperty(this,\"richText\",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,26):this.Ff=N(this.Ff,26)}});var e=null;Object.defineProperty(this,\"MaxLen\",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,\"maxLength\",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,\"hasAppearanceStream\",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};r(V,M);var G=function(){V.call(this),Object.defineProperty(this,\"password\",{enumerable:!0,configurable:!0,get:function(){return Boolean(b(this.Ff,14))},set:function(t){!0===Boolean(t)?this.Ff=x(this.Ff,14):this.Ff=N(this.Ff,14)}}),this.password=!0};r(G,V);var Y={CheckBox:{createAppearanceStream:function(){return{N:{On:Y.CheckBox.YesNormal},D:{On:Y.CheckBox.YesPushDown,Off:Y.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=l(t),n=[],r=A.internal.getFont(t.fontName,t.fontStyle).id,i=A.__private__.encodeColorString(t.color),o=h(t,t.caption);return n.push(\"0.749023 g\"),n.push(\"0 0 \"+_(Y.internal.getWidth(t))+\" \"+_(Y.internal.getHeight(t))+\" re\"),n.push(\"f\"),n.push(\"BMC\"),n.push(\"q\"),n.push(\"0 0 1 rg\"),n.push(\"/\"+r+\" \"+_(o.fontSize)+\" Tf \"+i),n.push(\"BT\"),n.push(o.text),n.push(\"ET\"),n.push(\"Q\"),n.push(\"EMC\"),e.stream=n.join(\"\\n\"),e},YesNormal:function(t){var e=l(t),n=A.internal.getFont(t.fontName,t.fontStyle).id,r=A.__private__.encodeColorString(t.color),i=[],o=Y.internal.getHeight(t),a=Y.internal.getWidth(t),s=h(t,t.caption);return i.push(\"1 g\"),i.push(\"0 0 \"+_(a)+\" \"+_(o)+\" re\"),i.push(\"f\"),i.push(\"q\"),i.push(\"0 0 1 rg\"),i.push(\"0 0 \"+_(a-1)+\" \"+_(o-1)+\" re\"),i.push(\"W\"),i.push(\"n\"),i.push(\"0 g\"),i.push(\"BT\"),i.push(\"/\"+n+\" \"+_(s.fontSize)+\" Tf \"+r),i.push(s.text),i.push(\"ET\"),i.push(\"Q\"),e.stream=i.join(\"\\n\"),e},OffPushDown:function(t){var e=l(t),n=[];return n.push(\"0.749023 g\"),n.push(\"0 0 \"+_(Y.internal.getWidth(t))+\" \"+_(Y.internal.getHeight(t))+\" re\"),n.push(\"f\"),e.stream=n.join(\"\\n\"),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Y.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Y.RadioButton.Circle.YesNormal,e.D[t]=Y.RadioButton.Circle.YesPushDown,e},getCA:function(){return\"l\"},YesNormal:function(t){var e=l(t),n=[],r=Y.internal.getWidth(t)<=Y.internal.getHeight(t)?Y.internal.getWidth(t)/4:Y.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Y.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push(\"q\"),n.push(\"1 0 0 1 \"+s(Y.internal.getWidth(t)/2)+\" \"+s(Y.internal.getHeight(t)/2)+\" cm\"),n.push(r+\" 0 m\"),n.push(r+\" \"+o+\" \"+o+\" \"+r+\" 0 \"+r+\" c\"),n.push(\"-\"+o+\" \"+r+\" -\"+r+\" \"+o+\" -\"+r+\" 0 c\"),n.push(\"-\"+r+\" -\"+o+\" -\"+o+\" -\"+r+\" 0 -\"+r+\" c\"),n.push(o+\" -\"+r+\" \"+r+\" -\"+o+\" \"+r+\" 0 c\"),n.push(\"f\"),n.push(\"Q\"),e.stream=n.join(\"\\n\"),e},YesPushDown:function(t){var e=l(t),n=[],r=Y.internal.getWidth(t)<=Y.internal.getHeight(t)?Y.internal.getWidth(t)/4:Y.internal.getHeight(t)/4,i=(r=Number((.9*r).toFixed(5)),Number((2*r).toFixed(5))),o=Number((i*Y.internal.Bezier_C).toFixed(5)),a=Number((r*Y.internal.Bezier_C).toFixed(5));return n.push(\"0.749023 g\"),n.push(\"q\"),n.push(\"1 0 0 1 \"+s(Y.internal.getWidth(t)/2)+\" \"+s(Y.internal.getHeight(t)/2)+\" cm\"),n.push(i+\" 0 m\"),n.push(i+\" \"+o+\" \"+o+\" \"+i+\" 0 \"+i+\" c\"),n.push(\"-\"+o+\" \"+i+\" -\"+i+\" \"+o+\" -\"+i+\" 0 c\"),n.push(\"-\"+i+\" -\"+o+\" -\"+o+\" -\"+i+\" 0 -\"+i+\" c\"),n.push(o+\" -\"+i+\" \"+i+\" -\"+o+\" \"+i+\" 0 c\"),n.push(\"f\"),n.push(\"Q\"),n.push(\"0 g\"),n.push(\"q\"),n.push(\"1 0 0 1 \"+s(Y.internal.getWidth(t)/2)+\" \"+s(Y.internal.getHeight(t)/2)+\" cm\"),n.push(r+\" 0 m\"),n.push(r+\" \"+a+\" \"+a+\" \"+r+\" 0 \"+r+\" c\"),n.push(\"-\"+a+\" \"+r+\" -\"+r+\" \"+a+\" -\"+r+\" 0 c\"),n.push(\"-\"+r+\" -\"+a+\" -\"+a+\" -\"+r+\" 0 -\"+r+\" c\"),n.push(a+\" -\"+r+\" \"+r+\" -\"+a+\" \"+r+\" 0 c\"),n.push(\"f\"),n.push(\"Q\"),e.stream=n.join(\"\\n\"),e},OffPushDown:function(t){var e=l(t),n=[],r=Y.internal.getWidth(t)<=Y.internal.getHeight(t)?Y.internal.getWidth(t)/4:Y.internal.getHeight(t)/4,i=(r=Number((.9*r).toFixed(5)),Number((2*r).toFixed(5))),o=Number((i*Y.internal.Bezier_C).toFixed(5));return n.push(\"0.749023 g\"),n.push(\"q\"),n.push(\"1 0 0 1 \"+s(Y.internal.getWidth(t)/2)+\" \"+s(Y.internal.getHeight(t)/2)+\" cm\"),n.push(i+\" 0 m\"),n.push(i+\" \"+o+\" \"+o+\" \"+i+\" 0 \"+i+\" c\"),n.push(\"-\"+o+\" \"+i+\" -\"+i+\" \"+o+\" -\"+i+\" 0 c\"),n.push(\"-\"+i+\" -\"+o+\" -\"+o+\" -\"+i+\" 0 -\"+i+\" c\"),n.push(o+\" -\"+i+\" \"+i+\" -\"+o+\" \"+i+\" 0 c\"),n.push(\"f\"),n.push(\"Q\"),e.stream=n.join(\"\\n\"),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Y.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Y.RadioButton.Cross.YesNormal,e.D[t]=Y.RadioButton.Cross.YesPushDown,e},getCA:function(){return\"8\"},YesNormal:function(t){var e=l(t),n=[],r=Y.internal.calculateCross(t);return n.push(\"q\"),n.push(\"1 1 \"+_(Y.internal.getWidth(t)-2)+\" \"+_(Y.internal.getHeight(t)-2)+\" re\"),n.push(\"W\"),n.push(\"n\"),n.push(_(r.x1.x)+\" \"+_(r.x1.y)+\" m\"),n.push(_(r.x2.x)+\" \"+_(r.x2.y)+\" l\"),n.push(_(r.x4.x)+\" \"+_(r.x4.y)+\" m\"),n.push(_(r.x3.x)+\" \"+_(r.x3.y)+\" l\"),n.push(\"s\"),n.push(\"Q\"),e.stream=n.join(\"\\n\"),e},YesPushDown:function(t){var e=l(t),n=Y.internal.calculateCross(t),r=[];return r.push(\"0.749023 g\"),r.push(\"0 0 \"+_(Y.internal.getWidth(t))+\" \"+_(Y.internal.getHeight(t))+\" re\"),r.push(\"f\"),r.push(\"q\"),r.push(\"1 1 \"+_(Y.internal.getWidth(t)-2)+\" \"+_(Y.internal.getHeight(t)-2)+\" re\"),r.push(\"W\"),r.push(\"n\"),r.push(_(n.x1.x)+\" \"+_(n.x1.y)+\" m\"),r.push(_(n.x2.x)+\" \"+_(n.x2.y)+\" l\"),r.push(_(n.x4.x)+\" \"+_(n.x4.y)+\" m\"),r.push(_(n.x3.x)+\" \"+_(n.x3.y)+\" l\"),r.push(\"s\"),r.push(\"Q\"),e.stream=r.join(\"\\n\"),e},OffPushDown:function(t){var e=l(t),n=[];return n.push(\"0.749023 g\"),n.push(\"0 0 \"+_(Y.internal.getWidth(t))+\" \"+_(Y.internal.getHeight(t))+\" re\"),n.push(\"f\"),e.stream=n.join(\"\\n\"),e}}},createDefaultAppearanceStream:function(t){var e=A.internal.getFont(t.fontName,t.fontStyle).id,n=A.__private__.encodeColorString(t.color);return\"/\"+e+\" \"+t.fontSize+\" Tf \"+n}};Y.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Y.internal.getWidth(t),n=Y.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Y.internal.getWidth=function(t){var e=0;return\"object\"===se(t)&&(e=v(t.Rect[2])),e},Y.internal.getHeight=function(t){var e=0;return\"object\"===se(t)&&(e=v(t.Rect[3])),e};var J=t.addField=function(t){if(k.call(this),!(t instanceof M))throw new Error(\"Invalid argument passed to jsPDF.addField.\");return function(t){A.internal.acroformPlugin.printedOut&&(A.internal.acroformPlugin.printedOut=!1,A.internal.acroformPlugin.acroFormDictionaryRoot=null),A.internal.acroformPlugin.acroFormDictionaryRoot||k.call(A),A.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t)}.call(this,t),t.page=A.internal.getCurrentPageInfo().pageNumber,this};t.addButton=function(t){if(t instanceof D==!1)throw new Error(\"Invalid argument passed to jsPDF.addButton.\");return J.call(this,t)},t.addTextField=function(t){if(t instanceof V==!1)throw new Error(\"Invalid argument passed to jsPDF.addTextField.\");return J.call(this,t)},t.addChoiceField=function(t){if(t instanceof O==!1)throw new Error(\"Invalid argument passed to jsPDF.addChoiceField.\");return J.call(this,t)};\"object\"==se(e)&&void 0===e.ChoiceField&&void 0===e.ListBox&&void 0===e.ComboBox&&void 0===e.EditBox&&void 0===e.Button&&void 0===e.PushButton&&void 0===e.RadioButton&&void 0===e.CheckBox&&void 0===e.TextField&&void 0===e.PasswordField?(e.ChoiceField=O,e.ListBox=q,e.ComboBox=T,e.EditBox=R,e.Button=D,e.PushButton=U,e.RadioButton=z,e.CheckBox=W,e.TextField=V,e.PasswordField=G,e.AcroForm={Appearance:Y}):console.warn(\"AcroForm-Classes are not populated into global-namespace, because the class-Names exist already.\"),t.AcroFormChoiceField=O,t.AcroFormListBox=q,t.AcroFormComboBox=T,t.AcroFormEditBox=R,t.AcroFormButton=D,t.AcroFormPushButton=U,t.AcroFormRadioButton=z,t.AcroFormCheckBox=W,t.AcroFormTextField=V,t.AcroFormPasswordField=G,t.AcroFormAppearance=Y,t.AcroForm={ChoiceField:O,ListBox:q,ComboBox:T,EditBox:R,Button:D,PushButton:U,RadioButton:z,CheckBox:W,TextField:V,PasswordField:G,Appearance:Y}})((window.tmp=lt).API,\"undefined\"!=typeof window&&window||\"undefined\"!=typeof global&&global),\n/** @license\n   * jsPDF addImage plugin\n   * Copyright (c) 2012 Jason Siefken, https://github.com/siefkenj/\n   *               2013 Chris Dowling, https://github.com/gingerchris\n   *               2013 Trinh Ho, https://github.com/ineedfat\n   *               2013 Edwin Alejandro Perez, https://github.com/eaparango\n   *               2013 Norah Smith, https://github.com/burnburnrocket\n   *               2014 Diego Casorran, https://github.com/diegocr\n   *               2014 James Robb, https://github.com/jamesbrobb\n   *\n   * \n   */\nfunction(x){var N=\"addImage_\",l={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},h=x.getImageFileTypeByImageData=function(t,e){var n,r;e=e||\"UNKNOWN\";var i,o,a,s=\"UNKNOWN\";for(a in x.isArrayBufferView(t)&&(t=x.arrayBufferToBinaryString(t)),l)for(i=l[a],n=0;n<i.length;n+=1){for(o=!0,r=0;r<i[n].length;r+=1)if(void 0!==i[n][r]&&i[n][r]!==t.charCodeAt(r)){o=!1;break}if(!0===o){s=a;break}}return\"UNKNOWN\"===s&&\"UNKNOWN\"!==e&&(console.warn('FileType of Image not recognized. Processing image as \"'+e+'\".'),s=e),s},n=function t(e){for(var n=this.internal.newObject(),r=this.internal.write,i=this.internal.putStream,o=(0,this.internal.getFilters)();-1!==o.indexOf(\"FlateEncode\");)o.splice(o.indexOf(\"FlateEncode\"),1);e.n=n;var a=[];if(a.push({key:\"Type\",value:\"/XObject\"}),a.push({key:\"Subtype\",value:\"/Image\"}),a.push({key:\"Width\",value:e.w}),a.push({key:\"Height\",value:e.h}),e.cs===this.color_spaces.INDEXED?a.push({key:\"ColorSpace\",value:\"[/Indexed /DeviceRGB \"+(e.pal.length/3-1)+\" \"+(\"smask\"in e?n+2:n+1)+\" 0 R]\"}):(a.push({key:\"ColorSpace\",value:\"/\"+e.cs}),e.cs===this.color_spaces.DEVICE_CMYK&&a.push({key:\"Decode\",value:\"[1 0 1 0 1 0 1 0]\"})),a.push({key:\"BitsPerComponent\",value:e.bpc}),\"dp\"in e&&a.push({key:\"DecodeParms\",value:\"<<\"+e.dp+\">>\"}),\"trns\"in e&&e.trns.constructor==Array){for(var s=\"\",l=0,h=e.trns.length;l<h;l++)s+=e.trns[l]+\" \"+e.trns[l]+\" \";a.push({key:\"Mask\",value:\"[\"+s+\"]\"})}\"smask\"in e&&a.push({key:\"SMask\",value:n+1+\" 0 R\"});var u=void 0!==e.f?[\"/\"+e.f]:void 0;if(i({data:e.data,additionalKeyValues:a,alreadyAppliedFilters:u}),r(\"endobj\"),\"smask\"in e){var c=\"/Predictor \"+e.p+\" /Colors 1 /BitsPerComponent \"+e.bpc+\" /Columns \"+e.w,f={w:e.w,h:e.h,cs:\"DeviceGray\",bpc:e.bpc,dp:c,data:e.smask};\"f\"in e&&(f.f=e.f),t.call(this,f)}e.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),i({data:this.arrayBufferToBinaryString(new Uint8Array(e.pal))}),r(\"endobj\"))},L=function(){var t=this.internal.collections[N+\"images\"];for(var e in t)n.call(this,t[e])},A=function(){var t,e=this.internal.collections[N+\"images\"],n=this.internal.write;for(var r in e)n(\"/I\"+(t=e[r]).i,t.n,\"0\",\"R\")},S=function(t){return\"function\"==typeof x[\"process\"+t.toUpperCase()]},_=function(t){return\"object\"===se(t)&&1===t.nodeType},F=function(t,e){if(\"IMG\"===t.nodeName&&t.hasAttribute(\"src\")){var n=\"\"+t.getAttribute(\"src\");if(0===n.indexOf(\"data:image/\"))return unescape(n);var r=x.loadFile(n);if(void 0!==r)return btoa(r)}if(\"CANVAS\"===t.nodeName){var i=t;return t.toDataURL(\"image/jpeg\",1)}(i=document.createElement(\"canvas\")).width=t.clientWidth||t.width,i.height=t.clientHeight||t.height;var o=i.getContext(\"2d\");if(!o)throw\"addImage requires canvas to be supported by browser.\";return o.drawImage(t,0,0,i.width,i.height),i.toDataURL(\"png\"==(\"\"+e).toLowerCase()?\"image/png\":\"image/jpeg\")},P=function(t,e){var n;if(e)for(var r in e)if(t===e[r].alias){n=e[r];break}return n};x.color_spaces={DEVICE_RGB:\"DeviceRGB\",DEVICE_GRAY:\"DeviceGray\",DEVICE_CMYK:\"DeviceCMYK\",CAL_GREY:\"CalGray\",CAL_RGB:\"CalRGB\",LAB:\"Lab\",ICC_BASED:\"ICCBased\",INDEXED:\"Indexed\",PATTERN:\"Pattern\",SEPARATION:\"Separation\",DEVICE_N:\"DeviceN\"},x.decode={DCT_DECODE:\"DCTDecode\",FLATE_DECODE:\"FlateDecode\",LZW_DECODE:\"LZWDecode\",JPX_DECODE:\"JPXDecode\",JBIG2_DECODE:\"JBIG2Decode\",ASCII85_DECODE:\"ASCII85Decode\",ASCII_HEX_DECODE:\"ASCIIHexDecode\",RUN_LENGTH_DECODE:\"RunLengthDecode\",CCITT_FAX_DECODE:\"CCITTFaxDecode\"},x.image_compression={NONE:\"NONE\",FAST:\"FAST\",MEDIUM:\"MEDIUM\",SLOW:\"SLOW\"},x.sHashCode=function(t){var e,n=0;if(0===(t=t||\"\").length)return n;for(e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return n},x.isString=function(t){return\"string\"==typeof t},x.validateStringAsBase64=function(t){(t=t||\"\").toString().trim();var e=!0;return 0===t.length&&(e=!1),t.length%4!=0&&(e=!1),!1===/^[A-Za-z0-9+\\/]+$/.test(t.substr(0,t.length-2))&&(e=!1),!1===/^[A-Za-z0-9\\/][A-Za-z0-9+\\/]|[A-Za-z0-9+\\/]=|==$/.test(t.substr(-2))&&(e=!1),e},x.extractInfoFromBase64DataURI=function(t){return/^data:([\\w]+?\\/([\\w]+?));\\S*;*base64,(.+)$/g.exec(t)},x.extractImageFromDataUrl=function(t){var e=(t=t||\"\").split(\"base64,\"),n=null;if(2===e.length){var r=/^data:(\\w*\\/\\w*);*(charset=[\\w=-]*)*;*$/.exec(e[0]);Array.isArray(r)&&(n={mimeType:r[1],charset:r[2],data:e[1]})}return n},x.supportsArrayBuffer=function(){return\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array},x.isArrayBuffer=function(t){return!!this.supportsArrayBuffer()&&t instanceof ArrayBuffer},x.isArrayBufferView=function(t){return!!this.supportsArrayBuffer()&&(\"undefined\"!=typeof Uint32Array&&(t instanceof Int8Array||t instanceof Uint8Array||\"undefined\"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array))},x.binaryStringToUint8Array=function(t){for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t.charCodeAt(r);return n},x.arrayBufferToBinaryString=function(t){if(\"function\"==typeof atob)return atob(this.arrayBufferToBase64(t))},x.arrayBufferToBase64=function(t){for(var e,n=\"\",r=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",i=new Uint8Array(t),o=i.byteLength,a=o%3,s=o-a,l=0;l<s;l+=3)n+=r[(16515072&(e=i[l]<<16|i[l+1]<<8|i[l+2]))>>18]+r[(258048&e)>>12]+r[(4032&e)>>6]+r[63&e];return 1==a?n+=r[(252&(e=i[s]))>>2]+r[(3&e)<<4]+\"==\":2==a&&(n+=r[(64512&(e=i[s]<<8|i[s+1]))>>10]+r[(1008&e)>>4]+r[(15&e)<<2]+\"=\"),n},x.createImageInfo=function(t,e,n,r,i,o,a,s,l,h,u,c,f){var p={alias:s,w:e,h:n,cs:r,bpc:i,i:a,data:t};return o&&(p.f=o),l&&(p.dp=l),h&&(p.trns=h),u&&(p.pal=u),c&&(p.smask=c),f&&(p.p=f),p},x.addImage=function(t,e,n,r,i,o,a,s,l){var h=\"\";if(\"string\"!=typeof e){var u=o;o=i,i=r,r=n,n=e,e=u}if(\"object\"===se(t)&&!_(t)&&\"imageData\"in t){var c=t;t=c.imageData,e=c.format||e||\"UNKNOWN\",n=c.x||n||0,r=c.y||r||0,i=c.w||i,o=c.h||o,a=c.alias||a,s=c.compression||s,l=c.rotation||c.angle||l}var f=this.internal.getFilters();if(void 0===s&&-1!==f.indexOf(\"FlateEncode\")&&(s=\"SLOW\"),\"string\"==typeof t&&(t=unescape(t)),isNaN(n)||isNaN(r))throw console.error(\"jsPDF.addImage: Invalid coordinates\",arguments),new Error(\"Invalid coordinates passed to jsPDF.addImage\");var p,d,g,m,y,v,w,b=function(){var t=this.internal.collections[N+\"images\"];return t||(this.internal.collections[N+\"images\"]=t={},this.internal.events.subscribe(\"putResources\",L),this.internal.events.subscribe(\"putXobjectDict\",A)),t}.call(this);if(!((p=P(t,b))||(_(t)&&(t=F(t,e)),(null==(w=a)||0===w.length)&&(a=\"string\"==typeof(v=t)?x.sHashCode(v):x.isArrayBufferView(v)?x.sHashCode(x.arrayBufferToBinaryString(v)):null),p=P(a,b)))){if(this.isString(t)&&(\"\"!==(h=this.convertStringToImageData(t))?t=h:void 0!==(h=x.loadFile(t))&&(t=h)),e=this.getImageFileTypeByImageData(t,e),!S(e))throw new Error(\"addImage does not support files of type '\"+e+\"', please ensure that a plugin for '\"+e+\"' support is added.\");if(this.supportsArrayBuffer()&&(t instanceof Uint8Array||(d=t,t=this.binaryStringToUint8Array(t))),!(p=this[\"process\"+e.toUpperCase()](t,(y=0,(m=b)&&(y=Object.keys?Object.keys(m).length:function(t){var e=0;for(var n in t)t.hasOwnProperty(n)&&e++;return e}(m)),y),a,((g=s)&&\"string\"==typeof g&&(g=g.toUpperCase()),g in x.image_compression?g:x.image_compression.NONE),d)))throw new Error(\"An unknown error occurred whilst processing the image\")}return function(t,e,n,r,i,o,a,s){var l=function(t,e,n){return t||e||(e=t=-96),t<0&&(t=-1*n.w*72/t/this.internal.scaleFactor),e<0&&(e=-1*n.h*72/e/this.internal.scaleFactor),0===t&&(t=e*n.w/n.h),0===e&&(e=t*n.h/n.w),[t,e]}.call(this,n,r,i),h=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;if(n=l[0],r=l[1],a[o]=i,s){s*=Math.PI/180;var c=Math.cos(s),f=Math.sin(s),p=function(t){return t.toFixed(4)},d=[p(c),p(f),p(-1*f),p(c),0,0,\"cm\"]}this.internal.write(\"q\"),s?(this.internal.write([1,\"0\",\"0\",1,h(t),u(e+r),\"cm\"].join(\" \")),this.internal.write(d.join(\" \")),this.internal.write([h(n),\"0\",\"0\",h(r),\"0\",\"0\",\"cm\"].join(\" \"))):this.internal.write([h(n),\"0\",\"0\",h(r),h(t),u(e+r),\"cm\"].join(\" \")),this.internal.write(\"/I\"+i.i+\" Do\"),this.internal.write(\"Q\")}.call(this,n,r,i,o,p,p.i,b,l),this},x.convertStringToImageData=function(t){var e,n=\"\";if(this.isString(t)){var r;e=null!==(r=this.extractImageFromDataUrl(t))?r.data:t;try{n=atob(e)}catch(t){throw x.validateStringAsBase64(e)?new Error(\"atob-Error in jsPDF.convertStringToImageData \"+t.message):new Error(\"Supplied Data is not a valid base64-String jsPDF.convertStringToImageData \")}}return n};var u=function(t,e){return t.subarray(e,e+5)};x.processJPEG=function(t,e,n,r,i,o){var a,s=this.decode.DCT_DECODE;if(!this.isString(t)&&!this.isArrayBuffer(t)&&!this.isArrayBufferView(t))return null;if(this.isString(t)&&(a=function(t){var e;if(\"JPEG\"!==h(t))throw new Error(\"getJpegSize requires a binary string jpeg file\");for(var n=256*t.charCodeAt(4)+t.charCodeAt(5),r=4,i=t.length;r<i;){if(r+=n,255!==t.charCodeAt(r))throw new Error(\"getJpegSize could not find the size of the image\");if(192===t.charCodeAt(r+1)||193===t.charCodeAt(r+1)||194===t.charCodeAt(r+1)||195===t.charCodeAt(r+1)||196===t.charCodeAt(r+1)||197===t.charCodeAt(r+1)||198===t.charCodeAt(r+1)||199===t.charCodeAt(r+1))return e=256*t.charCodeAt(r+5)+t.charCodeAt(r+6),[256*t.charCodeAt(r+7)+t.charCodeAt(r+8),e,t.charCodeAt(r+9)];r+=2,n=256*t.charCodeAt(r)+t.charCodeAt(r+1)}}(t)),this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)&&(a=function(t){if(65496!=(t[0]<<8|t[1]))throw new Error(\"Supplied data is not a JPEG\");for(var e,n=t.length,r=(t[4]<<8)+t[5],i=4;i<n;){if(r=((e=u(t,i+=r))[2]<<8)+e[3],(192===e[1]||194===e[1])&&255===e[0]&&7<r)return{width:((e=u(t,i+5))[2]<<8)+e[3],height:(e[0]<<8)+e[1],numcomponents:e[4]};i+=2}throw new Error(\"getJpegSizeFromBytes could not find the size of the image\")}(t),t=i||this.arrayBufferToBinaryString(t)),void 0===o)switch(a.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;default:case 3:o=this.color_spaces.DEVICE_RGB}return this.createImageInfo(t,a.width,a.height,o,8,s,e,n)},x.processJPG=function(){return this.processJPEG.apply(this,arguments)},x.getImageProperties=function(t){var e,n,r=\"\";if(_(t)&&(t=F(t)),this.isString(t)&&(\"\"!==(r=this.convertStringToImageData(t))?t=r:void 0!==(r=x.loadFile(t))&&(t=r)),n=this.getImageFileTypeByImageData(t),!S(n))throw new Error(\"addImage does not support files of type '\"+n+\"', please ensure that a plugin for '\"+n+\"' support is added.\");if(this.supportsArrayBuffer()&&(t instanceof Uint8Array||(t=this.binaryStringToUint8Array(t))),!(e=this[\"process\"+n.toUpperCase()](t)))throw new Error(\"An unknown error occurred whilst processing the image\");return{fileType:n,width:e.w,height:e.h,colorSpace:e.cs,compressionMode:e.f,bitsPerComponent:e.bpc}}}(lt.API),\n/**\n   * @license\n   * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv\n   *\n   * Licensed under the MIT License.\n   * http://opensource.org/licenses/mit-license\n   */\nt=lt.API,lt.API.events.push([\"addPage\",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),t.events.push([\"putPage\",function(t){for(var e=this.internal.getPageInfoByObjId(t.objId),n=t.pageContext.annotations,r=function(t){if(void 0!==t&&\"\"!=t)return!0},i=!1,o=0;o<n.length&&!i;o++)switch((l=n[o]).type){case\"link\":if(r(l.options.url)||r(l.options.pageNumber)){i=!0;break}case\"reference\":case\"text\":case\"freetext\":i=!0}if(0!=i){this.internal.write(\"/Annots [\"),this.internal.pageSize.height;var a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString;for(o=0;o<n.length;o++){var l;switch((l=n[o]).type){case\"reference\":this.internal.write(\" \"+l.object.objId+\" 0 R \");break;case\"text\":var h=this.internal.newAdditionalObject(),u=this.internal.newAdditionalObject(),c=l.title||\"Note\";m=\"<</Type /Annot /Subtype /Text \"+(p=\"/Rect [\"+a(l.bounds.x)+\" \"+s(l.bounds.y+l.bounds.h)+\" \"+a(l.bounds.x+l.bounds.w)+\" \"+s(l.bounds.y)+\"] \")+\"/Contents (\"+l.contents+\")\",m+=\" /Popup \"+u.objId+\" 0 R\",m+=\" /P \"+e.objId+\" 0 R\",m+=\" /T (\"+c+\") >>\",h.content=m;var f=h.objId+\" 0 R\";m=\"<</Type /Annot /Subtype /Popup \"+(p=\"/Rect [\"+a(l.bounds.x+30)+\" \"+s(l.bounds.y+l.bounds.h)+\" \"+a(l.bounds.x+l.bounds.w+30)+\" \"+s(l.bounds.y)+\"] \")+\" /Parent \"+f,l.open&&(m+=\" /Open true\"),m+=\" >>\",u.content=m,this.internal.write(h.objId,\"0 R\",u.objId,\"0 R\");break;case\"freetext\":var p=\"/Rect [\"+a(l.bounds.x)+\" \"+s(l.bounds.y)+\" \"+a(l.bounds.x+l.bounds.w)+\" \"+s(l.bounds.y+l.bounds.h)+\"] \",d=l.color||\"#000000\";m=\"<</Type /Annot /Subtype /FreeText \"+p+\"/Contents (\"+l.contents+\")\",m+=\" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#\"+d+\")\",m+=\" /Border [0 0 0]\",m+=\" >>\",this.internal.write(m);break;case\"link\":if(l.options.name){var g=this.annotations._nameMap[l.options.name];l.options.pageNumber=g.page,l.options.top=g.y}else l.options.top||(l.options.top=0);p=\"/Rect [\"+a(l.x)+\" \"+s(l.y)+\" \"+a(l.x+l.w)+\" \"+s(l.y+l.h)+\"] \";var m=\"\";if(l.options.url)m=\"<</Type /Annot /Subtype /Link \"+p+\"/Border [0 0 0] /A <</S /URI /URI (\"+l.options.url+\") >>\";else if(l.options.pageNumber)switch(m=\"<</Type /Annot /Subtype /Link \"+p+\"/Border [0 0 0] /Dest [\"+this.internal.getPageInfo(l.options.pageNumber).objId+\" 0 R\",l.options.magFactor=l.options.magFactor||\"XYZ\",l.options.magFactor){case\"Fit\":m+=\" /Fit]\";break;case\"FitH\":m+=\" /FitH \"+l.options.top+\"]\";break;case\"FitV\":l.options.left=l.options.left||0,m+=\" /FitV \"+l.options.left+\"]\";break;case\"XYZ\":default:var y=s(l.options.top);l.options.left=l.options.left||0,void 0===l.options.zoom&&(l.options.zoom=0),m+=\" /XYZ \"+l.options.left+\" \"+y+\" \"+l.options.zoom+\"]\"}\"\"!=m&&(m+=\" >>\",this.internal.write(m))}}this.internal.write(\"]\")}}]),t.createAnnotation=function(t){var e=this.internal.getCurrentPageInfo();switch(t.type){case\"link\":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case\"text\":case\"freetext\":e.pageContext.annotations.push(t)}},t.link=function(t,e,n,r,i){this.internal.getCurrentPageInfo().pageContext.annotations.push({x:t,y:e,w:n,h:r,options:i,type:\"link\"})},t.textWithLink=function(t,e,n,r){var i=this.getTextWidth(t),o=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(t,e,n),n+=.2*o,this.link(e,n-o,i,o,r),i},t.getTextWidth=function(t){var e=this.internal.getFontSize();return this.getStringUnitWidth(t)*e/this.internal.scaleFactor},\n/**\n   * @license\n   * Copyright (c) 2017 Aras Abbasi \n   *\n   * Licensed under the MIT License.\n   * http://opensource.org/licenses/mit-license\n   */\nfunction(t){var h={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},a={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},e={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];t.__arabicParser__={};var r=t.__arabicParser__.isInArabicSubstitutionA=function(t){return void 0!==h[t.charCodeAt(0)]},u=t.__arabicParser__.isArabicLetter=function(t){return\"string\"==typeof t&&/^[\\u0600-\\u06FF\\u0750-\\u077F\\u08A0-\\u08FF\\uFB50-\\uFDFF\\uFE70-\\uFEFF]+$/.test(t)},i=t.__arabicParser__.isArabicEndLetter=function(t){return u(t)&&r(t)&&h[t.charCodeAt(0)].length<=2},o=t.__arabicParser__.isArabicAlfLetter=function(t){return u(t)&&0<=n.indexOf(t.charCodeAt(0))},s=(t.__arabicParser__.arabicLetterHasIsolatedForm=function(t){return u(t)&&r(t)&&1<=h[t.charCodeAt(0)].length},t.__arabicParser__.arabicLetterHasFinalForm=function(t){return u(t)&&r(t)&&2<=h[t.charCodeAt(0)].length}),l=(t.__arabicParser__.arabicLetterHasInitialForm=function(t){return u(t)&&r(t)&&3<=h[t.charCodeAt(0)].length},t.__arabicParser__.arabicLetterHasMedialForm=function(t){return u(t)&&r(t)&&4==h[t.charCodeAt(0)].length}),c=t.__arabicParser__.resolveLigatures=function(t){var e=0,n=a,r=0,i=\"\",o=0;for(e=0;e<t.length;e+=1)void 0!==n[t.charCodeAt(e)]?(o++,\"number\"==typeof(n=n[t.charCodeAt(e)])&&(r=-1!==(r=f(t.charAt(e),t.charAt(e-o),t.charAt(e+1)))?r:0,i+=String.fromCharCode(n),n=a,o=0),e===t.length-1&&(n=a,i+=t.charAt(e-(o-1)),e-=o-1,o=0)):(n=a,i+=t.charAt(e-o),e-=o,o=0);return i},f=(t.__arabicParser__.isArabicDiacritic=function(t){return void 0!==t&&void 0!==e[t.charCodeAt(0)]},t.__arabicParser__.getCorrectForm=function(t,e,n){return u(t)?!1===r(t)?-1:!s(t)||!u(e)&&!u(n)||!u(n)&&i(e)||i(t)&&!u(e)||i(t)&&o(e)||i(t)&&i(e)?0:l(t)&&u(e)&&!i(e)&&u(n)&&s(n)?3:i(t)||!u(n)?1:2:-1}),p=t.__arabicParser__.processArabic=t.processArabic=function(t){var e=0,n=0,r=0,i=\"\",o=\"\",a=\"\",s=(t=t||\"\").split(\"\\\\s+\"),l=[];for(e=0;e<s.length;e+=1){for(l.push(\"\"),n=0;n<s[e].length;n+=1)i=s[e][n],o=s[e][n-1],a=s[e][n+1],u(i)?(r=f(i,o,a),l[e]+=-1!==r?String.fromCharCode(h[i.charCodeAt(0)][r]):i):l[e]+=i;l[e]=c(l[e])}return l.join(\" \")};t.events.push([\"preProcessText\",function(t){var e=t.text,n=(t.x,t.y,t.options||{}),r=(t.mutex,n.lang,[]);if(\"[object Array]\"===Object.prototype.toString.call(e)){var i=0;for(r=[],i=0;i<e.length;i+=1)\"[object Array]\"===Object.prototype.toString.call(e[i])?r.push([p(e[i][0]),e[i][1],e[i][2]]):r.push([p(e[i])]);t.text=r}else t.text=p(e)}])}(lt.API),lt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||\"non-conform\",t.variant){case\"javascript\":this.addJS(\"print({});\");break;case\"non-conform\":default:this.internal.events.subscribe(\"postPutResources\",function(){e=this.internal.newObject(),this.internal.out(\"<<\"),this.internal.out(\"/S /Named\"),this.internal.out(\"/Type /Action\"),this.internal.out(\"/N /Print\"),this.internal.out(\">>\"),this.internal.out(\"endobj\")}),this.internal.events.subscribe(\"putCatalog\",function(){this.internal.out(\"/OpenAction \"+e+\" 0 R\")})}return this},\n/**\n   * @license\n   * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv\n   *\n   * Licensed under the MIT License.\n   * http://opensource.org/licenses/mit-license\n   */\ne=lt.API,(n=function(){var e=void 0;Object.defineProperty(this,\"pdf\",{get:function(){return e},set:function(t){e=t}});var n=150;Object.defineProperty(this,\"width\",{get:function(){return n},set:function(t){n=isNaN(t)||!1===Number.isInteger(t)||t<0?150:t,this.getContext(\"2d\").pageWrapXEnabled&&(this.getContext(\"2d\").pageWrapX=n+1)}});var r=300;Object.defineProperty(this,\"height\",{get:function(){return r},set:function(t){r=isNaN(t)||!1===Number.isInteger(t)||t<0?300:t,this.getContext(\"2d\").pageWrapYEnabled&&(this.getContext(\"2d\").pageWrapY=r+1)}});var i=[];Object.defineProperty(this,\"childNodes\",{get:function(){return i},set:function(t){i=t}});var o={};Object.defineProperty(this,\"style\",{get:function(){return o},set:function(t){o=t}}),Object.defineProperty(this,\"parentNode\",{get:function(){return!1}})}).prototype.getContext=function(t,e){var n;if(\"2d\"!==(t=t||\"2d\"))return null;for(n in e)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=e[n]);return(this.pdf.context2d._canvas=this).pdf.context2d},n.prototype.toDataURL=function(){throw new Error(\"toDataURL is not implemented.\")},e.events.push([\"initialized\",function(){this.canvas=new n,this.canvas.pdf=this}]),\n/** \n   * @license\n   * ====================================================================\n   * Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com\n   *               2013 Eduardo Menezes de Morais, eduardo.morais@usp.br\n   *               2013 Lee Driscoll, https://github.com/lsdriscoll\n   *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria\n   *               2014 James Hall, james@parall.ax\n   *               2014 Diego Casorran, https://github.com/diegocr\n   *\n   * \n   * ====================================================================\n   */\n_=lt.API,F={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},P=1,p=function(t,e,n,r,i){F={x:t,y:e,w:n,h:r,ln:i}},d=function(){return F},k={left:0,top:0,bottom:0},_.setHeaderFunction=function(t){l=t},_.getTextDimensions=function(t,e){var n=this.table_font_size||this.internal.getFontSize(),r=(this.internal.getFont().fontStyle,(e=e||{}).scaleFactor||this.internal.scaleFactor),i=0,o=0,a=0;if(\"string\"==typeof t)0!=(i=this.getStringUnitWidth(t)*n)&&(o=1);else{if(\"[object Array]\"!==Object.prototype.toString.call(t))throw new Error(\"getTextDimensions expects text-parameter to be of type String or an Array of Strings.\");for(var s=0;s<t.length;s++)i<(a=this.getStringUnitWidth(t[s])*n)&&(i=a);0!==i&&(o=t.length)}return{w:i/=r,h:Math.max((o*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/r,0)}},_.cellAddPage=function(){var t=this.margins||k;this.addPage(),p(t.left,t.top,void 0,void 0),P+=1},_.cellInitialize=function(){F={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},P=1},_.cell=function(t,e,n,r,i,o,a){var s=d(),l=!1;if(void 0!==s.ln)if(s.ln===o)t=s.x+s.w,e=s.y;else{var h=this.margins||k;s.y+s.h+r+13>=this.internal.pageSize.getHeight()-h.bottom&&(this.cellAddPage(),l=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(o,!0)),e=d().y+d().h,l&&(e=23)}if(void 0!==i[0])if(this.printingHeaderRow?this.rect(t,e,n,r,\"FD\"):this.rect(t,e,n,r),\"right\"===a){i instanceof Array||(i=[i]);for(var u=0;u<i.length;u++){var c=i[u],f=this.getStringUnitWidth(c)*this.internal.getFontSize()/this.internal.scaleFactor;this.text(c,t+n-f-3,e+this.internal.getLineHeight()*(u+1))}}else this.text(i,t+3,e+this.internal.getLineHeight());return p(t,e,n,r,o),this},_.arrayMax=function(t,e){var n,r,i,o=t[0];for(n=0,r=t.length;n<r;n+=1)i=t[n],e?-1===e(o,i)&&(o=i):o<i&&(o=i);return o},_.table=function(t,e,n,r,i){if(!n)throw\"No data for PDF table\";var o,a,s,l,h,u,c,f,p,d,g=[],m=[],y={},v={},w=[],b=[],x=!1,N=!0,L=12,A=k;if(A.width=this.internal.pageSize.getWidth(),i&&(!0===i.autoSize&&(x=!0),!1===i.printHeaders&&(N=!1),i.fontSize&&(L=i.fontSize),i.css&&void 0!==i.css[\"font-size\"]&&(L=16*i.css[\"font-size\"]),i.margins&&(A=i.margins)),this.lnMod=0,F={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},P=1,this.printHeaders=N,this.margins=A,this.setFontSize(L),this.table_font_size=L,null==r)g=Object.keys(n[0]);else if(r[0]&&\"string\"!=typeof r[0])for(a=0,s=r.length;a<s;a+=1)o=r[a],g.push(o.name),m.push(o.prompt),v[o.name]=o.width*(19.049976/25.4);else g=r;if(x)for(d=function(t){return t[o]},a=0,s=g.length;a<s;a+=1){for(y[o=g[a]]=n.map(d),w.push(this.getTextDimensions(m[a]||o,{scaleFactor:1}).w),c=0,l=(u=y[o]).length;c<l;c+=1)h=u[c],w.push(this.getTextDimensions(h,{scaleFactor:1}).w);v[o]=_.arrayMax(w),w=[]}if(N){var S=this.calculateLineHeight(g,v,m.length?m:g);for(a=0,s=g.length;a<s;a+=1)o=g[a],b.push([t,e,v[o],S,String(m.length?m[a]:o)]);this.setTableHeaderRow(b),this.printHeaderRow(1,!1)}for(a=0,s=n.length;a<s;a+=1)for(f=n[a],S=this.calculateLineHeight(g,v,f),c=0,p=g.length;c<p;c+=1)o=g[c],this.cell(t,e,v[o],S,f[o],a+2,o.align);return this.lastCellPos=F,this.table_x=t,this.table_y=e,this},_.calculateLineHeight=function(t,e,n){for(var r,i=0,o=0;o<t.length;o++){n[r=t[o]]=this.splitTextToSize(String(n[r]),e[r]-3);var a=this.internal.getLineHeight()*n[r].length+3;i<a&&(i=a)}return i},_.setTableHeaderRow=function(t){this.tableHeaderRow=t},_.printHeaderRow=function(t,e){if(!this.tableHeaderRow)throw\"Property tableHeaderRow does not exist.\";var n,r,i,o;if(this.printingHeaderRow=!0,void 0!==l){var a=l(this,P);p(a[0],a[1],a[2],a[3],-1)}this.setFontStyle(\"bold\");var s=[];for(i=0,o=this.tableHeaderRow.length;i<o;i+=1)this.setFillColor(200,200,200),n=this.tableHeaderRow[i],e&&(this.margins.top=13,n[1]=this.margins&&this.margins.top||0,s.push(n)),r=[].concat(n),this.cell.apply(this,r.concat(t));0<s.length&&this.setTableHeaderRow(s),this.setFontStyle(\"normal\"),this.printingHeaderRow=!1},\n/**\n   * jsPDF Context2D PlugIn Copyright (c) 2014 Steven Spungin (TwelveTone LLC) steven@twelvetone.tv\n   *\n   * Licensed under the MIT License. http://opensource.org/licenses/mit-license\n   */\nfunction(t,e){var l,i,o,h,u,c=function(t){return t=t||{},this.isStrokeTransparent=t.isStrokeTransparent||!1,this.strokeOpacity=t.strokeOpacity||1,this.strokeStyle=t.strokeStyle||\"#000000\",this.fillStyle=t.fillStyle||\"#000000\",this.isFillTransparent=t.isFillTransparent||!1,this.fillOpacity=t.fillOpacity||1,this.font=t.font||\"10px sans-serif\",this.textBaseline=t.textBaseline||\"alphabetic\",this.textAlign=t.textAlign||\"left\",this.lineWidth=t.lineWidth||1,this.lineJoin=t.lineJoin||\"miter\",this.lineCap=t.lineCap||\"butt\",this.path=t.path||[],this.transform=void 0!==t.transform?t.transform.clone():new M,this.globalCompositeOperation=t.globalCompositeOperation||\"normal\",this.globalAlpha=t.globalAlpha||1,this.clip_path=t.clip_path||[],this.currentPoint=t.currentPoint||new j,this.miterLimit=t.miterLimit||10,this.lastPoint=t.lastPoint||new j,this.ignoreClearRect=\"boolean\"!=typeof t.ignoreClearRect||t.ignoreClearRect,this};t.events.push([\"initialized\",function(){this.context2d=new n(this),l=this.internal.f2,this.internal.f3,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,h=this.internal.getHorizontalCoordinate,u=this.internal.getVerticalCoordinate}]);var n=function(t){Object.defineProperty(this,\"canvas\",{get:function(){return{parentNode:!1,style:!1}}}),Object.defineProperty(this,\"pdf\",{get:function(){return t}});var e=!1;Object.defineProperty(this,\"pageWrapXEnabled\",{get:function(){return e},set:function(t){e=Boolean(t)}});var n=!1;Object.defineProperty(this,\"pageWrapYEnabled\",{get:function(){return n},set:function(t){n=Boolean(t)}});var r=0;Object.defineProperty(this,\"posX\",{get:function(){return r},set:function(t){isNaN(t)||(r=t)}});var i=0;Object.defineProperty(this,\"posY\",{get:function(){return i},set:function(t){isNaN(t)||(i=t)}});var o=!1;Object.defineProperty(this,\"autoPaging\",{get:function(){return o},set:function(t){o=Boolean(t)}});var a=0;Object.defineProperty(this,\"lastBreak\",{get:function(){return a},set:function(t){a=t}});var s=[];Object.defineProperty(this,\"pageBreaks\",{get:function(){return s},set:function(t){s=t}});var l=new c;Object.defineProperty(this,\"ctx\",{get:function(){return l},set:function(t){t instanceof c&&(l=t)}}),Object.defineProperty(this,\"path\",{get:function(){return l.path},set:function(t){l.path=t}});var h=[];Object.defineProperty(this,\"ctxStack\",{get:function(){return h},set:function(t){h=t}}),Object.defineProperty(this,\"fillStyle\",{get:function(){return this.ctx.fillStyle},set:function(t){var e;e=f(t),this.ctx.fillStyle=e.style,this.ctx.isFillTransparent=0===e.a,this.ctx.fillOpacity=e.a,this.pdf.setFillColor(e.r,e.g,e.b,{a:e.a}),this.pdf.setTextColor(e.r,e.g,e.b,{a:e.a})}}),Object.defineProperty(this,\"strokeStyle\",{get:function(){return this.ctx.strokeStyle},set:function(t){var e=f(t);this.ctx.strokeStyle=e.style,this.ctx.isStrokeTransparent=0===e.a,this.ctx.strokeOpacity=e.a,0===e.a?this.pdf.setDrawColor(255,255,255):(e.a,this.pdf.setDrawColor(e.r,e.g,e.b))}}),Object.defineProperty(this,\"lineCap\",{get:function(){return this.ctx.lineCap},set:function(t){-1!==[\"butt\",\"round\",\"square\"].indexOf(t)&&(this.ctx.lineCap=t,this.pdf.setLineCap(t))}}),Object.defineProperty(this,\"lineWidth\",{get:function(){return this.ctx.lineWidth},set:function(t){isNaN(t)||(this.ctx.lineWidth=t,this.pdf.setLineWidth(t))}}),Object.defineProperty(this,\"lineJoin\",{get:function(){return this.ctx.lineJoin},set:function(t){-1!==[\"bevel\",\"round\",\"miter\"].indexOf(t)&&(this.ctx.lineJoin=t,this.pdf.setLineJoin(t))}}),Object.defineProperty(this,\"miterLimit\",{get:function(){return this.ctx.miterLimit},set:function(t){isNaN(t)||(this.ctx.miterLimit=t,this.pdf.setMiterLimit(t))}}),Object.defineProperty(this,\"textBaseline\",{get:function(){return this.ctx.textBaseline},set:function(t){this.ctx.textBaseline=t}}),Object.defineProperty(this,\"textAlign\",{get:function(){return this.ctx.textAlign},set:function(t){-1!==[\"right\",\"end\",\"center\",\"left\",\"start\"].indexOf(t)&&(this.ctx.textAlign=t)}}),Object.defineProperty(this,\"font\",{get:function(){return this.ctx.font},set:function(t){var e;if(this.ctx.font=t,null!==(e=/^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))(?:\\s*\\/\\s*(normal|[.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])))?\\s*([-_,\\\"\\'\\sa-z]+?)\\s*$/i.exec(t))){var n=e[1],r=(e[2],e[3]),i=e[4],o=e[5],a=e[6];i=\"px\"===o?Math.floor(parseFloat(i)):\"em\"===o?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)),this.pdf.setFontSize(i);var s=\"\";(\"bold\"===r||700<=parseInt(r,10)||\"bold\"===n)&&(s=\"bold\"),\"italic\"===n&&(s+=\"italic\"),0===s.length&&(s=\"normal\");for(var l=\"\",h=a.toLowerCase().replace(/\"|'/g,\"\").split(/\\s*,\\s*/),u={arial:\"Helvetica\",verdana:\"Helvetica\",helvetica:\"Helvetica\",\"sans-serif\":\"Helvetica\",fixed:\"Courier\",monospace:\"Courier\",terminal:\"Courier\",courier:\"Courier\",times:\"Times\",cursive:\"Times\",fantasy:\"Times\",serif:\"Times\"},c=0;c<h.length;c++){if(void 0!==this.pdf.internal.getFont(h[c],s,{noFallback:!0,disableWarning:!0})){l=h[c];break}if(\"bolditalic\"===s&&void 0!==this.pdf.internal.getFont(h[c],\"bold\",{noFallback:!0,disableWarning:!0}))l=h[c],s=\"bold\";else if(void 0!==this.pdf.internal.getFont(h[c],\"normal\",{noFallback:!0,disableWarning:!0})){l=h[c],s=\"normal\";break}}if(\"\"===l)for(c=0;c<h.length;c++)if(u[h[c]]){l=u[h[c]];break}l=\"\"===l?\"Times\":l,this.pdf.setFont(l,s)}}}),Object.defineProperty(this,\"globalCompositeOperation\",{get:function(){return this.ctx.globalCompositeOperation},set:function(t){this.ctx.globalCompositeOperation=t}}),Object.defineProperty(this,\"globalAlpha\",{get:function(){return this.ctx.globalAlpha},set:function(t){this.ctx.globalAlpha=t}}),Object.defineProperty(this,\"ignoreClearRect\",{get:function(){return this.ctx.ignoreClearRect},set:function(t){this.ctx.ignoreClearRect=Boolean(t)}})};n.prototype.fill=function(){r.call(this,\"fill\",!1)},n.prototype.stroke=function(){r.call(this,\"stroke\",!1)},n.prototype.beginPath=function(){this.path=[{type:\"begin\"}]},n.prototype.moveTo=function(t,e){if(isNaN(t)||isNaN(e))throw console.error(\"jsPDF.context2d.moveTo: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.moveTo\");var n=this.ctx.transform.applyToPoint(new j(t,e));this.path.push({type:\"mt\",x:n.x,y:n.y}),this.ctx.lastPoint=new j(t,e)},n.prototype.closePath=function(){var t=new j(0,0),e=0;for(e=this.path.length-1;-1!==e;e--)if(\"begin\"===this.path[e].type&&\"object\"===se(this.path[e+1])&&\"number\"==typeof this.path[e+1].x){t=new j(this.path[e+1].x,this.path[e+1].y),this.path.push({type:\"lt\",x:t.x,y:t.y});break}\"object\"===se(this.path[e+2])&&\"number\"==typeof this.path[e+2].x&&this.path.push(JSON.parse(JSON.stringify(this.path[e+2]))),this.path.push({type:\"close\"}),this.ctx.lastPoint=new j(t.x,t.y)},n.prototype.lineTo=function(t,e){if(isNaN(t)||isNaN(e))throw console.error(\"jsPDF.context2d.lineTo: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.lineTo\");var n=this.ctx.transform.applyToPoint(new j(t,e));this.path.push({type:\"lt\",x:n.x,y:n.y}),this.ctx.lastPoint=new j(n.x,n.y)},n.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),r.call(this,null,!0)},n.prototype.quadraticCurveTo=function(t,e,n,r){if(isNaN(n)||isNaN(r)||isNaN(t)||isNaN(e))throw console.error(\"jsPDF.context2d.quadraticCurveTo: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.quadraticCurveTo\");var i=this.ctx.transform.applyToPoint(new j(n,r)),o=this.ctx.transform.applyToPoint(new j(t,e));this.path.push({type:\"qct\",x1:o.x,y1:o.y,x:i.x,y:i.y}),this.ctx.lastPoint=new j(i.x,i.y)},n.prototype.bezierCurveTo=function(t,e,n,r,i,o){if(isNaN(i)||isNaN(o)||isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw console.error(\"jsPDF.context2d.bezierCurveTo: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.bezierCurveTo\");var a=this.ctx.transform.applyToPoint(new j(i,o)),s=this.ctx.transform.applyToPoint(new j(t,e)),l=this.ctx.transform.applyToPoint(new j(n,r));this.path.push({type:\"bct\",x1:s.x,y1:s.y,x2:l.x,y2:l.y,x:a.x,y:a.y}),this.ctx.lastPoint=new j(a.x,a.y)},n.prototype.arc=function(t,e,n,r,i,o){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i))throw console.error(\"jsPDF.context2d.arc: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.arc\");if(o=Boolean(o),!this.ctx.transform.isIdentity){var a=this.ctx.transform.applyToPoint(new j(t,e));t=a.x,e=a.y;var s=this.ctx.transform.applyToPoint(new j(0,n)),l=this.ctx.transform.applyToPoint(new j(0,0));n=Math.sqrt(Math.pow(s.x-l.x,2)+Math.pow(s.y-l.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:\"arc\",x:t,y:e,radius:n,startAngle:r,endAngle:i,counterclockwise:o})},n.prototype.arcTo=function(t,e,n,r,i){throw new Error(\"arcTo not implemented.\")},n.prototype.rect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw console.error(\"jsPDF.context2d.rect: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.rect\");this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.lineTo(t,e),this.lineTo(t+n,e),this.lineTo(t,e)},n.prototype.fillRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw console.error(\"jsPDF.context2d.fillRect: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.fillRect\");if(!N.call(this)){var i={};\"butt\"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap=\"butt\"),\"miter\"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin=\"miter\"),this.beginPath(),this.rect(t,e,n,r),this.fill(),i.hasOwnProperty(\"lineCap\")&&(this.lineCap=i.lineCap),i.hasOwnProperty(\"lineJoin\")&&(this.lineJoin=i.lineJoin)}},n.prototype.strokeRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw console.error(\"jsPDF.context2d.strokeRect: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.strokeRect\");L.call(this)||(this.beginPath(),this.rect(t,e,n,r),this.stroke())},n.prototype.clearRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw console.error(\"jsPDF.context2d.clearRect: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.clearRect\");this.ignoreClearRect||(this.fillStyle=\"#ffffff\",this.fillRect(t,e,n,r))},n.prototype.save=function(t){t=\"boolean\"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out(\"q\");if(this.pdf.setPage(e),t){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},n.prototype.restore=function(t){t=\"boolean\"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out(\"Q\");this.pdf.setPage(e),t&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin)},n.prototype.toDataURL=function(){throw new Error(\"toDataUrl not implemented.\")};var f=function(t){var e,n,r,i;if(!0===t.isCanvasGradient&&(t=t.getColor()),!t)return{r:0,g:0,b:0,a:0,style:t};if(/transparent|rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*0+\\s*\\)/.test(t))i=r=n=e=0;else{var o=/rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)/.exec(t);if(null!==o)e=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=1;else if(null!==(o=/rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*([\\d\\.]+)\\s*\\)/.exec(t)))e=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=parseFloat(o[4]);else{if(i=1,\"string\"==typeof t&&\"#\"!==t.charAt(0)){var a=new RGBColor(t);t=a.ok?a.toHex():\"#000000\"}4===t.length?(e=t.substring(1,2),e+=e,n=t.substring(2,3),n+=n,r=t.substring(3,4),r+=r):(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7)),e=parseInt(e,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:e,g:n,b:r,a:i,style:t}},N=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},L=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};n.prototype.fillText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||\"string\"!=typeof t)throw console.error(\"jsPDF.context2d.fillText: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.fillText\");if(r=isNaN(r)?void 0:r,!N.call(this)){n=a.call(this,n);var i=B(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;s.call(this,{text:t,x:e,y:n,scale:o,angle:i,align:this.textAlign,maxWidth:r})}},n.prototype.strokeText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||\"string\"!=typeof t)throw console.error(\"jsPDF.context2d.strokeText: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.strokeText\");if(!L.call(this)){r=isNaN(r)?void 0:r,n=a.call(this,n);var i=B(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;s.call(this,{text:t,x:e,y:n,scale:o,renderingMode:\"stroke\",angle:i,align:this.textAlign,maxWidth:r})}},n.prototype.measureText=function(t){if(\"string\"!=typeof t)throw console.error(\"jsPDF.context2d.measureText: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.measureText\");var e=this.pdf,n=this.pdf.internal.scaleFactor,r=e.internal.getFontSize(),i=e.getStringUnitWidth(t)*r/e.internal.scaleFactor;return new function(t){var e=(t=t||{}).width||0;return Object.defineProperty(this,\"width\",{get:function(){return e}}),this}({width:i*=Math.round(96*n/72*1e4)/1e4})},n.prototype.scale=function(t,e){if(isNaN(t)||isNaN(e))throw console.error(\"jsPDF.context2d.scale: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.scale\");var n=new M(t,0,0,e,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},n.prototype.rotate=function(t){if(isNaN(t))throw console.error(\"jsPDF.context2d.rotate: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.rotate\");var e=new M(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0);this.ctx.transform=this.ctx.transform.multiply(e)},n.prototype.translate=function(t,e){if(isNaN(t)||isNaN(e))throw console.error(\"jsPDF.context2d.translate: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.translate\");var n=new M(1,0,0,1,t,e);this.ctx.transform=this.ctx.transform.multiply(n)},n.prototype.transform=function(t,e,n,r,i,o){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o))throw console.error(\"jsPDF.context2d.transform: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.transform\");var a=new M(t,e,n,r,i,o);this.ctx.transform=this.ctx.transform.multiply(a)},n.prototype.setTransform=function(t,e,n,r,i,o){t=isNaN(t)?1:t,e=isNaN(e)?0:e,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,o=isNaN(o)?0:o,this.ctx.transform=new M(t,e,n,r,i,o)},n.prototype.drawImage=function(t,e,n,r,i,o,a,s,l){var h=this.pdf.getImageProperties(t),u=1,c=1,f=1,p=1;void 0!==r&&void 0!==s&&(f=s/r,p=l/i,u=h.width/r*s/r,c=h.height/i*l/i),void 0===o&&(o=e,a=n,n=e=0),void 0!==r&&void 0===s&&(s=r,l=i),void 0===r&&void 0===s&&(s=h.width,l=h.height);var d=this.ctx.transform.decompose(),g=B(d.rotate.shx);d.scale.sx,d.scale.sy;for(var m,y=new M,v=((y=(y=(y=y.multiply(d.translate)).multiply(d.skew)).multiply(d.scale)).applyToPoint(new j(s,l)),y.applyToRectangle(new E(o-e*f,a-n*p,r*u,i*c))),w=F.call(this,v),b=[],x=0;x<w.length;x+=1)-1===b.indexOf(w[x])&&b.push(w[x]);if(b.sort(),this.autoPaging)for(var N=b[0],L=b[b.length-1],A=N;A<L+1;A++){if(this.pdf.setPage(A),0!==this.ctx.clip_path.length){var S=this.path;m=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(m,this.posX,-1*this.pdf.internal.pageSize.height*(A-1)+this.posY),k.call(this,\"fill\",!0),this.path=S}var _=JSON.parse(JSON.stringify(v));_=P([_],this.posX,-1*this.pdf.internal.pageSize.height*(A-1)+this.posY)[0],this.pdf.addImage(t,\"jpg\",_.x,_.y,_.w,_.h,null,null,g)}else this.pdf.addImage(t,\"jpg\",v.x,v.y,v.w,v.h,null,null,g)};var F=function(t,e,n){var r=[];switch(e=e||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height,t.type){default:case\"mt\":case\"lt\":r.push(Math.floor((t.y+this.posY)/n)+1);break;case\"arc\":r.push(Math.floor((t.y+this.posY-t.radius)/n)+1),r.push(Math.floor((t.y+this.posY+t.radius)/n)+1);break;case\"qct\":var i=w(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x,t.y);r.push(Math.floor(i.y/n)+1),r.push(Math.floor((i.y+i.h)/n)+1);break;case\"bct\":var o=b(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x2,t.y2,t.x,t.y);r.push(Math.floor(o.y/n)+1),r.push(Math.floor((o.y+o.h)/n)+1);break;case\"rect\":r.push(Math.floor((t.y+this.posY)/n)+1),r.push(Math.floor((t.y+t.h+this.posY)/n)+1)}for(var a=0;a<r.length;a+=1)for(;this.pdf.internal.getNumberOfPages()<r[a];)v.call(this);return r},v=function(){var t=this.fillStyle,e=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,o=this.lineJoin;this.pdf.addPage(),this.fillStyle=t,this.strokeStyle=e,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=o},P=function(t,e,n){for(var r=0;r<t.length;r++)switch(t[r].type){case\"bct\":t[r].x2+=e,t[r].y2+=n;case\"qct\":t[r].x1+=e,t[r].y1+=n;case\"mt\":case\"lt\":case\"arc\":default:t[r].x+=e,t[r].y+=n}return t},r=function(t,e){for(var n,r,i=this.fillStyle,o=this.strokeStyle,a=(this.font,this.lineCap),s=this.lineWidth,l=this.lineJoin,h=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),c=[],f=0;f<u.length;f++)if(void 0!==u[f].x)for(var p=F.call(this,u[f]),d=0;d<p.length;d+=1)-1===c.indexOf(p[d])&&c.push(p[d]);for(f=0;f<c.length;f++)for(;this.pdf.internal.getNumberOfPages()<c[f];)v.call(this);if(c.sort(),this.autoPaging){var g=c[0],m=c[c.length-1];for(f=g;f<m+1;f++){if(this.pdf.setPage(f),this.fillStyle=i,this.strokeStyle=o,this.lineCap=a,this.lineWidth=s,this.lineJoin=l,0!==this.ctx.clip_path.length){var y=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(n,this.posX,-1*this.pdf.internal.pageSize.height*(f-1)+this.posY),k.call(this,t,!0),this.path=y}r=JSON.parse(JSON.stringify(h)),this.path=P(r,this.posX,-1*this.pdf.internal.pageSize.height*(f-1)+this.posY),!1!==e&&0!==f||k.call(this,t,e)}}else k.call(this,t,e);this.path=h},k=function(t,e){if((\"stroke\"!==t||e||!L.call(this))&&(\"stroke\"===t||e||!N.call(this))){var n=[];this.ctx.globalAlpha;this.ctx.fillOpacity<1&&this.ctx.fillOpacity;for(var r,i=this.path,o=0;o<i.length;o++){var a=i[o];switch(a.type){case\"begin\":n.push({begin:!0});break;case\"close\":n.push({close:!0});break;case\"mt\":n.push({start:a,deltas:[],abs:[]});break;case\"lt\":var s=n.length;if(!isNaN(i[o-1].x)){var l=[a.x-i[o-1].x,a.y-i[o-1].y];if(0<s)for(;0<=s;s--)if(!0!==n[s-1].close&&!0!==n[s-1].begin){n[s-1].deltas.push(l),n[s-1].abs.push(a);break}}break;case\"bct\":l=[a.x1-i[o-1].x,a.y1-i[o-1].y,a.x2-i[o-1].x,a.y2-i[o-1].y,a.x-i[o-1].x,a.y-i[o-1].y];n[n.length-1].deltas.push(l);break;case\"qct\":var h=i[o-1].x+2/3*(a.x1-i[o-1].x),u=i[o-1].y+2/3*(a.y1-i[o-1].y),c=a.x+2/3*(a.x1-a.x),f=a.y+2/3*(a.y1-a.y),p=a.x,d=a.y;l=[h-i[o-1].x,u-i[o-1].y,c-i[o-1].x,f-i[o-1].y,p-i[o-1].x,d-i[o-1].y];n[n.length-1].deltas.push(l);break;case\"arc\":n.push({deltas:[],abs:[],arc:!0}),Array.isArray(n[n.length-1].abs)&&n[n.length-1].abs.push(a)}}r=e?null:\"stroke\"===t?\"stroke\":\"fill\";for(o=0;o<n.length;o++){if(n[o].arc)for(var g=n[o].abs,m=0;m<g.length;m++){var y=g[m];if(void 0!==y.startAngle){var v=B(y.startAngle),w=B(y.endAngle),b=y.x,x=y.y;A.call(this,b,x,y.radius,v,w,y.counterclockwise,r,e)}else I.call(this,y.x,y.y)}if(!n[o].arc&&!0!==n[o].close&&!0!==n[o].begin){b=n[o].start.x,x=n[o].start.y;C.call(this,n[o].deltas,b,x,null,null)}}r&&S.call(this,r),e&&_.call(this)}},a=function(t){var e=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=e*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case\"bottom\":return t-n;case\"top\":return t+e-n;case\"hanging\":return t+e-2*n;case\"middle\":return t+e/2-n;case\"ideographic\":return t;case\"alphabetic\":default:return t}};n.prototype.createLinearGradient=function(){var t=function(){};return t.colorStops=[],t.addColorStop=function(t,e){this.colorStops.push([t,e])},t.getColor=function(){return 0===this.colorStops.length?\"#000000\":this.colorStops[0][1]},t.isCanvasGradient=!0,t},n.prototype.createPattern=function(){return this.createLinearGradient()},n.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(t,e,n,r,i,o,a,s){this.pdf.internal.scaleFactor;for(var l=y(r),h=y(i),u=g.call(this,n,l,h,o),c=0;c<u.length;c++){var f=u[c];0===c&&p.call(this,f.x1+t,f.y1+e),d.call(this,t,e,f.x2,f.y2,f.x3,f.y3,f.x4,f.y4)}s?_.call(this):S.call(this,a)},S=function(t){switch(t){case\"stroke\":this.pdf.internal.out(\"S\");break;case\"fill\":this.pdf.internal.out(\"f\")}},_=function(){this.pdf.clip()},p=function(t,e){this.pdf.internal.out(i(t)+\" \"+o(e)+\" m\")},s=function(t){var e;switch(t.align){case\"right\":case\"end\":e=\"right\";break;case\"center\":e=\"center\";break;case\"left\":case\"start\":default:e=\"left\"}var n=this.ctx.transform.applyToPoint(new j(t.x,t.y)),r=this.ctx.transform.decompose(),i=new M;i=(i=(i=i.multiply(r.translate)).multiply(r.skew)).multiply(r.scale);for(var o,a=this.pdf.getTextDimensions(t.text),s=this.ctx.transform.applyToRectangle(new E(t.x,t.y,a.w,a.h)),l=i.applyToRectangle(new E(t.x,t.y-a.h,a.w,a.h)),h=F.call(this,l),u=[],c=0;c<h.length;c+=1)-1===u.indexOf(h[c])&&u.push(h[c]);if(u.sort(),!0===this.autoPaging)for(var f=u[0],p=u[u.length-1],d=f;d<p+1;d++){if(this.pdf.setPage(d),0!==this.ctx.clip_path.length){var g=this.path;o=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(o,this.posX,-1*this.pdf.internal.pageSize.height*(d-1)+this.posY),k.call(this,\"fill\",!0),this.path=g}var m=JSON.parse(JSON.stringify(s));if(m=P([m],this.posX,-1*this.pdf.internal.pageSize.height*(d-1)+this.posY)[0],.01<=t.scale){var y=this.pdf.internal.getFontSize();this.pdf.setFontSize(y*t.scale)}this.pdf.text(t.text,m.x,m.y,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),.01<=t.scale&&this.pdf.setFontSize(y)}else{if(.01<=t.scale){y=this.pdf.internal.getFontSize();this.pdf.setFontSize(y*t.scale)}this.pdf.text(t.text,n.x+this.posX,n.y+this.posY,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),.01<=t.scale&&this.pdf.setFontSize(y)}},I=function(t,e,n,r){n=n||0,r=r||0,this.pdf.internal.out(i(t+n)+\" \"+o(e+r)+\" l\")},C=function(t,e,n){return this.pdf.lines(t,e,n,null,null)},d=function(t,e,n,r,i,o,a,s){this.pdf.internal.out([l(h(n+t)),l(u(r+e)),l(h(i+t)),l(u(o+e)),l(h(a+t)),l(u(s+e)),\"c\"].join(\" \"))},g=function(t,e,n,r){var i=2*Math.PI,o=e;(o<i||i<o)&&(o%=i);var a=n;(a<i||i<a)&&(a%=i);for(var s=[],l=Math.PI/2,h=r?-1:1,u=e,c=Math.min(i,Math.abs(a-o));1e-5<c;){var f=u+h*Math.min(c,l);s.push(m.call(this,t,u,f)),c-=Math.abs(f-u),u=f}return s},m=function(t,e,n){var r=(n-e)/2,i=t*Math.cos(r),o=t*Math.sin(r),a=i,s=-o,l=a*a+s*s,h=l+a*i+s*o,u=4/3*(Math.sqrt(2*l*h)-h)/(a*o-s*i),c=a-u*s,f=s+u*a,p=c,d=-f,g=r+e,m=Math.cos(g),y=Math.sin(g);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:c*m-f*y,y2:c*y+f*m,x3:p*m-d*y,y3:p*y+d*m,x4:t*Math.cos(n),y4:t*Math.sin(n)}},B=function(t){return 180*t/Math.PI},y=function(t){return t*Math.PI/180},w=function(t,e,n,r,i,o){var a=t+.5*(n-t),s=e+.5*(r-e),l=i+.5*(n-i),h=o+.5*(r-o),u=Math.min(t,i,a,l),c=Math.max(t,i,a,l),f=Math.min(e,o,s,h),p=Math.max(e,o,s,h);return new E(u,f,c-u,p-f)},b=function(t,e,n,r,i,o,a,s){for(var l,h,u,c,f,p,d,g,m,y,v,w,b,x=n-t,N=r-e,L=i-n,A=o-r,S=a-i,_=s-o,F=0;F<41;F++)g=(p=(h=t+(l=F/40)*x)+l*((c=n+l*L)-h))+l*(c+l*(i+l*S-c)-p),m=(d=(u=e+l*N)+l*((f=r+l*A)-u))+l*(f+l*(o+l*_-f)-d),b=0==F?(w=y=g,v=m):(y=Math.min(y,g),v=Math.min(v,m),w=Math.max(w,g),Math.max(b,m));return new E(Math.round(y),Math.round(v),Math.round(w-y),Math.round(b-v))},j=function(t,e){var n=t||0;Object.defineProperty(this,\"x\",{enumerable:!0,get:function(){return n},set:function(t){isNaN(t)||(n=parseFloat(t))}});var r=e||0;Object.defineProperty(this,\"y\",{enumerable:!0,get:function(){return r},set:function(t){isNaN(t)||(r=parseFloat(t))}});var i=\"pt\";return Object.defineProperty(this,\"type\",{enumerable:!0,get:function(){return i},set:function(t){i=t.toString()}}),this},E=function(t,e,n,r){j.call(this,t,e),this.type=\"rect\";var i=n||0;Object.defineProperty(this,\"w\",{enumerable:!0,get:function(){return i},set:function(t){isNaN(t)||(i=parseFloat(t))}});var o=r||0;return Object.defineProperty(this,\"h\",{enumerable:!0,get:function(){return o},set:function(t){isNaN(t)||(o=parseFloat(t))}}),this},M=function(t,e,n,r,i,o){var a=[];return Object.defineProperty(this,\"sx\",{get:function(){return a[0]},set:function(t){a[0]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,\"shy\",{get:function(){return a[1]},set:function(t){a[1]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,\"shx\",{get:function(){return a[2]},set:function(t){a[2]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,\"sy\",{get:function(){return a[3]},set:function(t){a[3]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,\"tx\",{get:function(){return a[4]},set:function(t){a[4]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,\"ty\",{get:function(){return a[5]},set:function(t){a[5]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,\"rotation\",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(this,\"scaleX\",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(this,\"scaleY\",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(this,\"isIdentity\",{get:function(){return 1===this.sx&&(0===this.shy&&(0===this.shx&&(1===this.sy&&(0===this.tx&&0===this.ty))))}}),this.sx=isNaN(t)?1:t,this.shy=isNaN(e)?0:e,this.shx=isNaN(n)?0:n,this.sy=isNaN(r)?1:r,this.tx=isNaN(i)?0:i,this.ty=isNaN(o)?0:o,this};M.prototype.multiply=function(t){var e=t.sx*this.sx+t.shy*this.shx,n=t.sx*this.shy+t.shy*this.sy,r=t.shx*this.sx+t.sy*this.shx,i=t.shx*this.shy+t.sy*this.sy,o=t.tx*this.sx+t.ty*this.shx+this.tx,a=t.tx*this.shy+t.ty*this.sy+this.ty;return new M(e,n,r,i,o,a)},M.prototype.decompose=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,a=Math.sqrt(t*t+e*e),s=(t/=a)*n+(e/=a)*r;n-=t*s,r-=e*s;var l=Math.sqrt(n*n+r*r);return s/=l,t*(r/=l)<e*(n/=l)&&(t=-t,e=-e,s=-s,a=-a),{scale:new M(a,0,0,l,0,0),translate:new M(1,0,0,1,i,o),rotate:new M(t,e,-e,t,0,0),skew:new M(1,0,s,1,0,0)}},M.prototype.applyToPoint=function(t){var e=t.x*this.sx+t.y*this.shx+this.tx,n=t.x*this.shy+t.y*this.sy+this.ty;return new j(e,n)},M.prototype.applyToRectangle=function(t){var e=this.applyToPoint(t),n=this.applyToPoint(new j(t.x+t.w,t.y+t.h));return new E(e.x,e.y,n.x-e.x,n.y-e.y)},M.prototype.clone=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty;return new M(t,e,n,r,i,o)}}(lt.API,\"undefined\"!=typeof self&&self||\"undefined\"!=typeof window&&window||\"undefined\"!=typeof global&&global||Function('return typeof this === \"object\" && this.content')()||Function(\"return this\")()),\n/**\n   * jsPDF filters PlugIn\n   * Copyright (c) 2014 Aras Abbasi \n   *\n   * Licensed under the MIT License.\n   * http://opensource.org/licenses/mit-license\n   */\na=lt.API,o=function(t){var r,e,n,i,o,a,s,l,h,u;for(/[^\\x00-\\xFF]/.test(t),e=[],n=0,i=(t+=r=\"\\0\\0\\0\\0\".slice(t.length%4||4)).length;n<i;n+=4)0!==(o=(t.charCodeAt(n)<<24)+(t.charCodeAt(n+1)<<16)+(t.charCodeAt(n+2)<<8)+t.charCodeAt(n+3))?(a=(o=((o=((o=((o=(o-(u=o%85))/85)-(h=o%85))/85)-(l=o%85))/85)-(s=o%85))/85)%85,e.push(a+33,s+33,l+33,h+33,u+33)):e.push(122);return function(t,e){for(var n=r.length;0<n;n--)t.pop()}(e),String.fromCharCode.apply(String,e)+\"~>\"},s=function(t){var r,e,n,i,o,a=String,s=\"length\",l=\"charCodeAt\",h=\"slice\",u=\"replace\";for(t[h](-2),t=t[h](0,-2)[u](/\\s/g,\"\")[u](\"z\",\"!!!!!\"),n=[],i=0,o=(t+=r=\"uuuuu\"[h](t[s]%5||5))[s];i<o;i+=5)e=52200625*(t[l](i)-33)+614125*(t[l](i+1)-33)+7225*(t[l](i+2)-33)+85*(t[l](i+3)-33)+(t[l](i+4)-33),n.push(255&e>>24,255&e>>16,255&e>>8,255&e);return function(t,e){for(var n=r[s];0<n;n--)t.pop()}(n),a.fromCharCode.apply(a,n)},h=function(t){for(var e=\"\",n=0;n<t.length;n+=1)e+=(\"0\"+t.charCodeAt(n).toString(16)).slice(-2);return e+=\">\"},u=function(t){var e=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(t=t.replace(/\\s/g,\"\")).indexOf(\">\")&&(t=t.substr(0,t.indexOf(\">\"))),t.length%2&&(t+=\"0\"),!1===e.test(t))return\"\";for(var n=\"\",r=0;r<t.length;r+=2)n+=String.fromCharCode(\"0x\"+(t[r]+t[r+1]));return n},c=function(t,e){e=Object.assign({predictor:1,colors:1,bitsPerComponent:8,columns:1},e);for(var n,r,i=[],o=t.length;o--;)i[o]=t.charCodeAt(o);return n=a.adler32cs.from(t),(r=new Deflater(6)).append(new Uint8Array(i)),t=r.flush(),(i=new Uint8Array(t.length+6)).set(new Uint8Array([120,156])),i.set(t,2),i.set(new Uint8Array([255&n,n>>8&255,n>>16&255,n>>24&255]),t.length+2),t=String.fromCharCode.apply(null,i)},a.processDataByFilters=function(t,e){var n=0,r=t||\"\",i=[];for(\"string\"==typeof(e=e||[])&&(e=[e]),n=0;n<e.length;n+=1)switch(e[n]){case\"ASCII85Decode\":case\"/ASCII85Decode\":r=s(r),i.push(\"/ASCII85Encode\");break;case\"ASCII85Encode\":case\"/ASCII85Encode\":r=o(r),i.push(\"/ASCII85Decode\");break;case\"ASCIIHexDecode\":case\"/ASCIIHexDecode\":r=u(r),i.push(\"/ASCIIHexEncode\");break;case\"ASCIIHexEncode\":case\"/ASCIIHexEncode\":r=h(r),i.push(\"/ASCIIHexDecode\");break;case\"FlateEncode\":case\"/FlateEncode\":r=c(r),i.push(\"/FlateDecode\");break;default:throw'The filter: \"'+e[n]+'\" is not implemented'}return{data:r,reverseChain:i.reverse().join(\" \")}},(\n/**\n   * jsPDF fileloading PlugIn\n   * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)\n   *\n   * Licensed under the MIT License.\n   * http://opensource.org/licenses/mit-license\n   */\nr=lt.API).loadFile=function(t,e,n){var r;e=e||!0,n=n||function(){};try{r=function(t,e,n){var r=new XMLHttpRequest,i=[],o=0,a=function(t){var e=t.length,n=String.fromCharCode;for(o=0;o<e;o+=1)i.push(n(255&t.charCodeAt(o)));return i.join(\"\")};if(r.open(\"GET\",t,!e),r.overrideMimeType(\"text/plain; charset=x-user-defined\"),!1===e&&(r.onload=function(){return a(this.responseText)}),r.send(null),200===r.status)return e?a(r.responseText):void 0;console.warn('Unable to load file \"'+t+'\"')}(t,e)}catch(t){r=void 0}return r},r.loadImageFile=r.loadFile,\n/**\n   * Copyright (c) 2018 Erik Koopmans\n   * Released under the MIT License.\n   *\n   * Licensed under the MIT License.\n   * http://opensource.org/licenses/mit-license\n   */\ni=lt.API,f=\"undefined\"!=typeof window&&window||\"undefined\"!=typeof global&&global,g=function(t){var e=se(t);return\"undefined\"===e?\"undefined\":\"string\"===e||t instanceof String?\"string\":\"number\"===e||t instanceof Number?\"number\":\"function\"===e||t instanceof Function?\"function\":t&&t.constructor===Array?\"array\":t&&1===t.nodeType?\"element\":\"object\"===e?\"object\":\"unknown\"},m=function(t,e){var n=document.createElement(t);if(e.className&&(n.className=e.className),e.innerHTML){n.innerHTML=e.innerHTML;for(var r=n.getElementsByTagName(\"script\"),i=r.length;0<i--;null)r[i].parentNode.removeChild(r[i])}for(var o in e.style)n.style[o]=e.style[o];return n},(((y=function t(e){var n=Object.assign(t.convert(Promise.resolve()),JSON.parse(JSON.stringify(t.template))),r=t.convert(Promise.resolve(),n);return r=(r=r.setProgress(1,t,1,[t])).set(e)}).prototype=Object.create(Promise.prototype)).constructor=y).convert=function(t,e){return t.__proto__=e||y.prototype,t},y.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:\"file.pdf\",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{}}},y.prototype.from=function(t,e){return this.then(function(){switch(e=e||function(t){switch(g(t)){case\"string\":return\"string\";case\"element\":return\"canvas\"===t.nodeName.toLowerCase?\"canvas\":\"element\";default:return\"unknown\"}}(t)){case\"string\":return this.set({src:m(\"div\",{innerHTML:t})});case\"element\":return this.set({src:t});case\"canvas\":return this.set({canvas:t});case\"img\":return this.set({img:t});default:return this.error(\"Unknown source type.\")}})},y.prototype.to=function(t){switch(t){case\"container\":return this.toContainer();case\"canvas\":return this.toCanvas();case\"img\":return this.toImg();case\"pdf\":return this.toPdf();default:return this.error(\"Invalid target.\")}},y.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error(\"Cannot duplicate - no source HTML.\")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var t={position:\"relative\",display:\"inline-block\",width:Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth)+\"px\",left:0,right:0,top:0,margin:\"auto\",backgroundColor:\"white\"},e=function t(e,n){for(var r=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),i=e.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&\"SCRIPT\"===i.nodeName||r.appendChild(t(i,n));return 1===e.nodeType&&(\"CANVAS\"===e.nodeName?(r.width=e.width,r.height=e.height,r.getContext(\"2d\").drawImage(e,0,0)):\"TEXTAREA\"!==e.nodeName&&\"SELECT\"!==e.nodeName||(r.value=e.value),r.addEventListener(\"load\",function(){r.scrollTop=e.scrollTop,r.scrollLeft=e.scrollLeft},!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);\"BODY\"===e.tagName&&(t.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+\"px\"),this.prop.overlay=m(\"div\",{className:\"html2pdf__overlay\",style:{position:\"fixed\",overflow:\"hidden\",zIndex:1e3,left:\"-100000px\",right:0,bottom:0,top:0}}),this.prop.container=m(\"div\",{className:\"html2pdf__container\",style:t}),this.prop.container.appendChild(e),this.prop.container.firstChild.appendChild(m(\"div\",{style:{clear:\"both\",border:\"0 none transparent\",margin:0,padding:0,height:0}})),this.prop.container.style.float=\"none\",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position=\"relative\",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+\"px\"})},y.prototype.toCanvas=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(function(){var t=Object.assign({},this.opt.html2canvas);if(delete t.onrendered,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,t)}).then(function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},y.prototype.toContext2d=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(function(){var t=this.opt.jsPDF,e=Object.assign({async:!0,allowTaint:!0,backgroundColor:\"#ffffff\",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete e.onrendered,t.context2d.autoPaging=!0,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,e.windowHeight=e.windowHeight||0,e.windowHeight=0==e.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):e.windowHeight,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,e)}).then(function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},y.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var t=this.prop.canvas.toDataURL(\"image/\"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement(\"img\"),this.prop.img.src=t})},y.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},y.prototype.output=function(t,e,n){return\"img\"===(n=n||\"pdf\").toLowerCase()||\"image\"===n.toLowerCase()?this.outputImg(t,e):this.outputPdf(t,e)},y.prototype.outputPdf=function(t,e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(t,e)})},y.prototype.outputImg=function(t,e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(t){case void 0:case\"img\":return this.prop.img;case\"datauristring\":case\"dataurlstring\":return this.prop.img.src;case\"datauri\":case\"dataurl\":return document.location.href=this.prop.img.src;default:throw'Image output type \"'+t+'\" is not supported.'}})},y.prototype.isHtml2CanvasLoaded=function(){var t=void 0!==f.html2canvas;return t||console.error(\"html2canvas not loaded.\"),t},y.prototype.save=function(t){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(t?{filename:t}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},y.prototype.doCallback=function(t){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},y.prototype.set=function(e){if(\"object\"!==g(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in y.template.prop)return function(){this.prop[t]=e[t]};switch(t){case\"margin\":return this.setMargin.bind(this,e.margin);case\"jsPDF\":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case\"pageSize\":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},y.prototype.get=function(e,n){return this.then(function(){var t=e in y.template.prop?this.prop[e]:this.opt[e];return n?n(t):t})},y.prototype.setMargin=function(t){return this.then(function(){switch(g(t)){case\"number\":t=[t,t,t,t];case\"array\":if(2===t.length&&(t=[t[0],t[1],t[0],t[1]]),4===t.length)break;default:return this.error(\"Invalid margin array.\")}this.opt.margin=t}).then(this.setPageSize)},y.prototype.setPageSize=function(t){function e(t,e){return Math.floor(t*e/72*96)}return this.then(function(){(t=t||lt.getPageSize(this.opt.jsPDF)).hasOwnProperty(\"inner\")||(t.inner={width:t.width-this.opt.margin[1]-this.opt.margin[3],height:t.height-this.opt.margin[0]-this.opt.margin[2]},t.inner.px={width:e(t.inner.width,t.k),height:e(t.inner.height,t.k)},t.inner.ratio=t.inner.height/t.inner.width),this.prop.pageSize=t})},y.prototype.setProgress=function(t,e,n,r){return null!=t&&(this.progress.val=t),null!=e&&(this.progress.state=e),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},y.prototype.updateProgress=function(t,e,n,r){return this.setProgress(t?this.progress.val+t:null,e||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},y.prototype.then=function(t,e){var n=this;return this.thenCore(t,e,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(t){return n.updateProgress(1),t})})},y.prototype.thenCore=function(t,e,n){n=n||Promise.prototype.then;var r=this;t&&(t=t.bind(r)),e&&(e=e.bind(r));var i=-1!==Promise.toString().indexOf(\"[native code]\")&&\"Promise\"===Promise.name?r:y.convert(Object.assign({},r),Promise.prototype),o=n.call(i,t,e);return y.convert(o,r.__proto__)},y.prototype.thenExternal=function(t,e){return Promise.prototype.then.call(this,t,e)},y.prototype.thenList=function(t){var e=this;return t.forEach(function(t){e=e.thenCore(t)}),e},y.prototype.catch=function(t){t&&(t=t.bind(this));var e=Promise.prototype.catch.call(this,t);return y.convert(e,this)},y.prototype.catchExternal=function(t){return Promise.prototype.catch.call(this,t)},y.prototype.error=function(t){return this.then(function(){throw new Error(t)})},y.prototype.using=y.prototype.set,y.prototype.saveAs=y.prototype.save,y.prototype.export=y.prototype.output,y.prototype.run=y.prototype.then,lt.getPageSize=function(t,e,n){if(\"object\"===se(t)){var r=t;t=r.orientation,e=r.unit||e,n=r.format||n}e=e||\"mm\",n=n||\"a4\",t=(\"\"+(t||\"P\")).toLowerCase();var i=(\"\"+n).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],\"government-letter\":[576,756],legal:[612,1008],\"junior-legal\":[576,360],ledger:[1224,792],tabloid:[792,1224],\"credit-card\":[153,243]};switch(e){case\"pt\":var a=1;break;case\"mm\":a=72/25.4;break;case\"cm\":a=72/2.54;break;case\"in\":a=72;break;case\"px\":a=.75;break;case\"pc\":case\"em\":a=12;break;case\"ex\":a=6;break;default:throw\"Invalid unit: \"+e}if(o.hasOwnProperty(i))var s=o[i][1]/a,l=o[i][0]/a;else try{s=n[1],l=n[0]}catch(t){throw new Error(\"Invalid format: \"+n)}if(\"p\"===t||\"portrait\"===t){if(t=\"p\",s<l){var h=l;l=s,s=h}}else{if(\"l\"!==t&&\"landscape\"!==t)throw\"Invalid orientation: \"+t;t=\"l\",l<s&&(h=l,l=s,s=h)}return{width:l,height:s,unit:e,k:a}},i.html=function(t,e){(e=e||{}).callback=e.callback||function(){},e.html2canvas=e.html2canvas||{},e.html2canvas.canvas=e.html2canvas.canvas||this.canvas,e.jsPDF=e.jsPDF||this,e.jsPDF;var n=new y(e);return e.worker?n:n.from(t).doCallback()},lt.API.addJS=function(t){return b=t,this.internal.events.subscribe(\"postPutResources\",function(t){v=this.internal.newObject(),this.internal.out(\"<<\"),this.internal.out(\"/Names [(EmbeddedJS) \"+(v+1)+\" 0 R]\"),this.internal.out(\">>\"),this.internal.out(\"endobj\"),w=this.internal.newObject(),this.internal.out(\"<<\"),this.internal.out(\"/S /JavaScript\"),this.internal.out(\"/JS (\"+b+\")\"),this.internal.out(\">>\"),this.internal.out(\"endobj\")}),this.internal.events.subscribe(\"putCatalog\",function(){void 0!==v&&void 0!==w&&this.internal.out(\"/Names <</JavaScript \"+v+\" 0 R>>\")}),this},(\n/**\n   * @license\n   * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv\n   *\n   * Licensed under the MIT License.\n   * http://opensource.org/licenses/mit-license\n   */\nx=lt.API).events.push([\"postPutResources\",function(){var t=this,e=/^(\\d+) 0 obj$/;if(0<this.outline.root.children.length)for(var n=t.outline.render().split(/\\r\\n/),r=0;r<n.length;r++){var i=n[r],o=e.exec(i);if(null!=o){var a=o[1];t.internal.newObjectDeferredBegin(a,!1)}t.internal.write(i)}if(this.outline.createNamedDestinations){var s=this.internal.pages.length,l=[];for(r=0;r<s;r++){var h=t.internal.newObject();l.push(h);var u=t.internal.getPageInfo(r+1);t.internal.write(\"<< /D[\"+u.objId+\" 0 R /XYZ null null null]>> endobj\")}var c=t.internal.newObject();for(t.internal.write(\"<< /Names [ \"),r=0;r<l.length;r++)t.internal.write(\"(page_\"+(r+1)+\")\"+l[r]+\" 0 R\");t.internal.write(\" ] >>\",\"endobj\"),t.internal.newObject(),t.internal.write(\"<< /Dests \"+c+\" 0 R\"),t.internal.write(\">>\",\"endobj\")}}]),x.events.push([\"putCatalog\",function(){0<this.outline.root.children.length&&(this.internal.write(\"/Outlines\",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write(\"/Names \"+namesOid+\" 0 R\"))}]),x.events.push([\"initialized\",function(){var a=this;a.outline={createNamedDestinations:!1,root:{children:[]}},a.outline.add=function(t,e,n){var r={title:e,options:n,children:[]};return null==t&&(t=this.root),t.children.push(r),r},a.outline.render=function(){return this.ctx={},this.ctx.val=\"\",this.ctx.pdf=a,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},a.outline.genIds_r=function(t){t.id=a.internal.newObjectDeferred();for(var e=0;e<t.children.length;e++)this.genIds_r(t.children[e])},a.outline.renderRoot=function(t){this.objStart(t),this.line(\"/Type /Outlines\"),0<t.children.length&&(this.line(\"/First \"+this.makeRef(t.children[0])),this.line(\"/Last \"+this.makeRef(t.children[t.children.length-1]))),this.line(\"/Count \"+this.count_r({count:0},t)),this.objEnd()},a.outline.renderItems=function(t){this.ctx.pdf.internal.getCoordinateString;for(var e=this.ctx.pdf.internal.getVerticalCoordinateString,n=0;n<t.children.length;n++){var r=t.children[n];this.objStart(r),this.line(\"/Title \"+this.makeString(r.title)),this.line(\"/Parent \"+this.makeRef(t)),0<n&&this.line(\"/Prev \"+this.makeRef(t.children[n-1])),n<t.children.length-1&&this.line(\"/Next \"+this.makeRef(t.children[n+1])),0<r.children.length&&(this.line(\"/First \"+this.makeRef(r.children[0])),this.line(\"/Last \"+this.makeRef(r.children[r.children.length-1])));var i=this.count=this.count_r({count:0},r);if(0<i&&this.line(\"/Count \"+i),r.options&&r.options.pageNumber){var o=a.internal.getPageInfo(r.options.pageNumber);this.line(\"/Dest [\"+o.objId+\" 0 R /XYZ 0 \"+e(0)+\" 0]\")}this.objEnd()}for(n=0;n<t.children.length;n++)r=t.children[n],this.renderItems(r)},a.outline.line=function(t){this.ctx.val+=t+\"\\r\\n\"},a.outline.makeRef=function(t){return t.id+\" 0 R\"},a.outline.makeString=function(t){return\"(\"+a.internal.pdfEscape(t)+\")\"},a.outline.objStart=function(t){this.ctx.val+=\"\\r\\n\"+t.id+\" 0 obj\\r\\n<<\\r\\n\"},a.outline.objEnd=function(t){this.ctx.val+=\">> \\r\\nendobj\\r\\n\"},a.outline.count_r=function(t,e){for(var n=0;n<e.children.length;n++)t.count++,this.count_r(t,e.children[n]);return t.count}}]),\n/**\n   * @license\n   * \n   * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb\n   *\n   * \n   * ====================================================================\n   */\nI=lt.API,C=function(){var t=\"function\"==typeof Deflater;if(!t)throw new Error(\"requires deflate.js for compression\");return t},B=function(t,e,n,r){var i=5,o=E;switch(r){case I.image_compression.FAST:i=3,o=j;break;case I.image_compression.MEDIUM:i=6,o=M;break;case I.image_compression.SLOW:i=9,o=O}t=A(t,e,n,o);var a=new Uint8Array(N(i)),s=L(t),l=new Deflater(i),h=l.append(t),u=l.flush(),c=a.length+h.length+u.length,f=new Uint8Array(c+4);return f.set(a),f.set(h,a.length),f.set(u,a.length+h.length),f[c++]=s>>>24&255,f[c++]=s>>>16&255,f[c++]=s>>>8&255,f[c++]=255&s,I.arrayBufferToBinaryString(f)},N=function(t,e){var n=Math.LOG2E*Math.log(32768)-8<<4|8,r=n<<8;return r|=Math.min(3,(e-1&255)>>1)<<6,r|=0,[n,255&(r+=31-r%31)]},L=function(t,e){for(var n,r=1,i=0,o=t.length,a=0;0<o;){for(o-=n=e<o?e:o;i+=r+=t[a++],--n;);r%=65521,i%=65521}return(i<<16|r)>>>0},A=function(t,e,n,r){for(var i,o,a,s=t.length/e,l=new Uint8Array(t.length+s),h=T(),u=0;u<s;u++){if(a=u*e,i=t.subarray(a,a+e),r)l.set(r(i,n,o),a+u);else{for(var c=0,f=h.length,p=[];c<f;c++)p[c]=h[c](i,n,o);var d=R(p.concat());l.set(p[d],a+u)}o=i}return l},S=function(t,e,n){var r=Array.apply([],t);return r.unshift(0),r},j=function(t,e,n){var r,i=[],o=0,a=t.length;for(i[0]=1;o<a;o++)r=t[o-e]||0,i[o+1]=t[o]-r+256&255;return i},E=function(t,e,n){var r,i=[],o=0,a=t.length;for(i[0]=2;o<a;o++)r=n&&n[o]||0,i[o+1]=t[o]-r+256&255;return i},M=function(t,e,n){var r,i,o=[],a=0,s=t.length;for(o[0]=3;a<s;a++)r=t[a-e]||0,i=n&&n[a]||0,o[a+1]=t[a]+256-(r+i>>>1)&255;return o},O=function(t,e,n){var r,i,o,a,s=[],l=0,h=t.length;for(s[0]=4;l<h;l++)r=t[l-e]||0,i=n&&n[l]||0,o=n&&n[l-e]||0,a=q(r,i,o),s[l+1]=t[l]-a+256&255;return s},q=function(t,e,n){var r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),a=Math.abs(r-n);return i<=o&&i<=a?t:o<=a?e:n},T=function(){return[S,j,E,M,O]},R=function(t){for(var e,n,r,i=0,o=t.length;i<o;)((e=D(t[i].slice(1)))<n||!n)&&(n=e,r=i),i++;return r},D=function(t){for(var e=0,n=t.length,r=0;e<n;)r+=Math.abs(t[e++]);return r},I.processPNG=function(t,e,n,r,i){var o,a,s,l,h,u,c=this.color_spaces.DEVICE_RGB,f=this.decode.FLATE_DECODE,p=8;if(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)){if(\"function\"!=typeof PNG||\"function\"!=typeof kt)throw new Error(\"PNG support requires png.js and zlib.js\");if(t=(o=new PNG(t)).imgData,p=o.bits,c=o.colorSpace,l=o.colors,-1!==[4,6].indexOf(o.colorType)){if(8===o.bits)for(var d,g=(_=32==o.pixelBitlength?new Uint32Array(o.decodePixels().buffer):16==o.pixelBitlength?new Uint16Array(o.decodePixels().buffer):new Uint8Array(o.decodePixels().buffer)).length,m=new Uint8Array(g*o.colors),y=new Uint8Array(g),v=o.pixelBitlength-o.bits,w=0,b=0;w<g;w++){for(x=_[w],d=0;d<v;)m[b++]=x>>>d&255,d+=o.bits;y[w]=x>>>d&255}if(16===o.bits){g=(_=new Uint32Array(o.decodePixels().buffer)).length,m=new Uint8Array(g*(32/o.pixelBitlength)*o.colors),y=new Uint8Array(g*(32/o.pixelBitlength));for(var x,N=1<o.colors,L=b=w=0;w<g;)x=_[w++],m[b++]=x>>>0&255,N&&(m[b++]=x>>>16&255,x=_[w++],m[b++]=x>>>0&255),y[L++]=x>>>16&255;p=8}r!==I.image_compression.NONE&&C()?(t=B(m,o.width*o.colors,o.colors,r),u=B(y,o.width,1,r)):(t=m,u=y,f=null)}if(3===o.colorType&&(c=this.color_spaces.INDEXED,h=o.palette,o.transparency.indexed)){var A=o.transparency.indexed,S=0;for(w=0,g=A.length;w<g;++w)S+=A[w];if((S/=255)==g-1&&-1!==A.indexOf(0))s=[A.indexOf(0)];else if(S!==g){var _=o.decodePixels();for(y=new Uint8Array(_.length),w=0,g=_.length;w<g;w++)y[w]=A[_[w]];u=B(y,o.width,1)}}var F=function(t){var e;switch(t){case I.image_compression.FAST:e=11;break;case I.image_compression.MEDIUM:e=13;break;case I.image_compression.SLOW:e=14;break;default:e=12}return e}(r);return a=f===this.decode.FLATE_DECODE?\"/Predictor \"+F+\" /Colors \"+l+\" /BitsPerComponent \"+p+\" /Columns \"+o.width:\"/Colors \"+l+\" /BitsPerComponent \"+p+\" /Columns \"+o.width,(this.isArrayBuffer(t)||this.isArrayBufferView(t))&&(t=this.arrayBufferToBinaryString(t)),(u&&this.isArrayBuffer(u)||this.isArrayBufferView(u))&&(u=this.arrayBufferToBinaryString(u)),this.createImageInfo(t,o.width,o.height,c,p,f,e,n,a,s,h,u,F)}throw new Error(\"Unsupported PNG image data, try using JPEG instead.\")},(\n/**\n   * @license\n   * Copyright (c) 2017 Aras Abbasi \n   *\n   * Licensed under the MIT License.\n   * http://opensource.org/licenses/mit-license\n   */\nU=lt.API).processGIF89A=function(t,e,n,r,i){var o=new At(t),a=o.width,s=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var h={data:l,width:a,height:s},u=new _t(100).encode(h,100);return U.processJPEG.call(this,u,e,n,r)},U.processGIF87A=U.processGIF89A,(\n/**\n   * Copyright (c) 2018 Aras Abbasi \n   *\n   * Licensed under the MIT License.\n   * http://opensource.org/licenses/mit-license\n   */\nz=lt.API).processBMP=function(t,e,n,r,i){var o=new Ft(t,!1),a=o.width,s=o.height,l={data:o.getData(),width:a,height:s},h=new _t(100).encode(l,100);return z.processJPEG.call(this,h,e,n,r)},lt.API.setLanguage=function(t){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:\"Afrikaans\",sq:\"Albanian\",ar:\"Arabic (Standard)\",\"ar-DZ\":\"Arabic (Algeria)\",\"ar-BH\":\"Arabic (Bahrain)\",\"ar-EG\":\"Arabic (Egypt)\",\"ar-IQ\":\"Arabic (Iraq)\",\"ar-JO\":\"Arabic (Jordan)\",\"ar-KW\":\"Arabic (Kuwait)\",\"ar-LB\":\"Arabic (Lebanon)\",\"ar-LY\":\"Arabic (Libya)\",\"ar-MA\":\"Arabic (Morocco)\",\"ar-OM\":\"Arabic (Oman)\",\"ar-QA\":\"Arabic (Qatar)\",\"ar-SA\":\"Arabic (Saudi Arabia)\",\"ar-SY\":\"Arabic (Syria)\",\"ar-TN\":\"Arabic (Tunisia)\",\"ar-AE\":\"Arabic (U.A.E.)\",\"ar-YE\":\"Arabic (Yemen)\",an:\"Aragonese\",hy:\"Armenian\",as:\"Assamese\",ast:\"Asturian\",az:\"Azerbaijani\",eu:\"Basque\",be:\"Belarusian\",bn:\"Bengali\",bs:\"Bosnian\",br:\"Breton\",bg:\"Bulgarian\",my:\"Burmese\",ca:\"Catalan\",ch:\"Chamorro\",ce:\"Chechen\",zh:\"Chinese\",\"zh-HK\":\"Chinese (Hong Kong)\",\"zh-CN\":\"Chinese (PRC)\",\"zh-SG\":\"Chinese (Singapore)\",\"zh-TW\":\"Chinese (Taiwan)\",cv:\"Chuvash\",co:\"Corsican\",cr:\"Cree\",hr:\"Croatian\",cs:\"Czech\",da:\"Danish\",nl:\"Dutch (Standard)\",\"nl-BE\":\"Dutch (Belgian)\",en:\"English\",\"en-AU\":\"English (Australia)\",\"en-BZ\":\"English (Belize)\",\"en-CA\":\"English (Canada)\",\"en-IE\":\"English (Ireland)\",\"en-JM\":\"English (Jamaica)\",\"en-NZ\":\"English (New Zealand)\",\"en-PH\":\"English (Philippines)\",\"en-ZA\":\"English (South Africa)\",\"en-TT\":\"English (Trinidad & Tobago)\",\"en-GB\":\"English (United Kingdom)\",\"en-US\":\"English (United States)\",\"en-ZW\":\"English (Zimbabwe)\",eo:\"Esperanto\",et:\"Estonian\",fo:\"Faeroese\",fj:\"Fijian\",fi:\"Finnish\",fr:\"French (Standard)\",\"fr-BE\":\"French (Belgium)\",\"fr-CA\":\"French (Canada)\",\"fr-FR\":\"French (France)\",\"fr-LU\":\"French (Luxembourg)\",\"fr-MC\":\"French (Monaco)\",\"fr-CH\":\"French (Switzerland)\",fy:\"Frisian\",fur:\"Friulian\",gd:\"Gaelic (Scots)\",\"gd-IE\":\"Gaelic (Irish)\",gl:\"Galacian\",ka:\"Georgian\",de:\"German (Standard)\",\"de-AT\":\"German (Austria)\",\"de-DE\":\"German (Germany)\",\"de-LI\":\"German (Liechtenstein)\",\"de-LU\":\"German (Luxembourg)\",\"de-CH\":\"German (Switzerland)\",el:\"Greek\",gu:\"Gujurati\",ht:\"Haitian\",he:\"Hebrew\",hi:\"Hindi\",hu:\"Hungarian\",is:\"Icelandic\",id:\"Indonesian\",iu:\"Inuktitut\",ga:\"Irish\",it:\"Italian (Standard)\",\"it-CH\":\"Italian (Switzerland)\",ja:\"Japanese\",kn:\"Kannada\",ks:\"Kashmiri\",kk:\"Kazakh\",km:\"Khmer\",ky:\"Kirghiz\",tlh:\"Klingon\",ko:\"Korean\",\"ko-KP\":\"Korean (North Korea)\",\"ko-KR\":\"Korean (South Korea)\",la:\"Latin\",lv:\"Latvian\",lt:\"Lithuanian\",lb:\"Luxembourgish\",mk:\"FYRO Macedonian\",ms:\"Malay\",ml:\"Malayalam\",mt:\"Maltese\",mi:\"Maori\",mr:\"Marathi\",mo:\"Moldavian\",nv:\"Navajo\",ng:\"Ndonga\",ne:\"Nepali\",no:\"Norwegian\",nb:\"Norwegian (Bokmal)\",nn:\"Norwegian (Nynorsk)\",oc:\"Occitan\",or:\"Oriya\",om:\"Oromo\",fa:\"Persian\",\"fa-IR\":\"Persian/Iran\",pl:\"Polish\",pt:\"Portuguese\",\"pt-BR\":\"Portuguese (Brazil)\",pa:\"Punjabi\",\"pa-IN\":\"Punjabi (India)\",\"pa-PK\":\"Punjabi (Pakistan)\",qu:\"Quechua\",rm:\"Rhaeto-Romanic\",ro:\"Romanian\",\"ro-MO\":\"Romanian (Moldavia)\",ru:\"Russian\",\"ru-MO\":\"Russian (Moldavia)\",sz:\"Sami (Lappish)\",sg:\"Sango\",sa:\"Sanskrit\",sc:\"Sardinian\",sd:\"Sindhi\",si:\"Singhalese\",sr:\"Serbian\",sk:\"Slovak\",sl:\"Slovenian\",so:\"Somani\",sb:\"Sorbian\",es:\"Spanish\",\"es-AR\":\"Spanish (Argentina)\",\"es-BO\":\"Spanish (Bolivia)\",\"es-CL\":\"Spanish (Chile)\",\"es-CO\":\"Spanish (Colombia)\",\"es-CR\":\"Spanish (Costa Rica)\",\"es-DO\":\"Spanish (Dominican Republic)\",\"es-EC\":\"Spanish (Ecuador)\",\"es-SV\":\"Spanish (El Salvador)\",\"es-GT\":\"Spanish (Guatemala)\",\"es-HN\":\"Spanish (Honduras)\",\"es-MX\":\"Spanish (Mexico)\",\"es-NI\":\"Spanish (Nicaragua)\",\"es-PA\":\"Spanish (Panama)\",\"es-PY\":\"Spanish (Paraguay)\",\"es-PE\":\"Spanish (Peru)\",\"es-PR\":\"Spanish (Puerto Rico)\",\"es-ES\":\"Spanish (Spain)\",\"es-UY\":\"Spanish (Uruguay)\",\"es-VE\":\"Spanish (Venezuela)\",sx:\"Sutu\",sw:\"Swahili\",sv:\"Swedish\",\"sv-FI\":\"Swedish (Finland)\",\"sv-SV\":\"Swedish (Sweden)\",ta:\"Tamil\",tt:\"Tatar\",te:\"Teluga\",th:\"Thai\",tig:\"Tigre\",ts:\"Tsonga\",tn:\"Tswana\",tr:\"Turkish\",tk:\"Turkmen\",uk:\"Ukrainian\",hsb:\"Upper Sorbian\",ur:\"Urdu\",ve:\"Venda\",vi:\"Vietnamese\",vo:\"Volapuk\",wa:\"Walloon\",cy:\"Welsh\",xh:\"Xhosa\",ji:\"Yiddish\",zu:\"Zulu\"}[t]&&(this.internal.languageSettings.languageCode=t,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe(\"putCatalog\",function(){this.internal.write(\"/Lang (\"+this.internal.languageSettings.languageCode+\")\")}),this.internal.languageSettings.isSubscribed=!0)),this},\n/** @license\n   * MIT license.\n   * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com\n   *               2014 Diego Casorran, https://github.com/diegocr\n   *\n   * \n   * ====================================================================\n   */\nH=lt.API,W=H.getCharWidthsArray=function(t,e){var n,r,i,o=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:o.metadata.Unicode.widths,h=l.fof?l.fof:1,u=e.kerning?e.kerning:o.metadata.Unicode.kerning,c=u.fof?u.fof:1,f=0,p=l[0]||h,d=[];for(n=0,r=t.length;n<r;n++)i=t.charCodeAt(n),\"function\"==typeof o.metadata.widthOfString?d.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(i))+s*(1e3/a)||0)/1e3):d.push((l[i]||p)/h+(u[i]&&u[i][f]||0)/c),f=i;return d},V=H.getArraySum=function(t){for(var e=t.length,n=0;e;)n+=t[--e];return n},G=H.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return\"function\"==typeof r.metadata.widthOfString?r.metadata.widthOfString(t,n,i)/n:V(W.apply(this,arguments))},Y=function(t,e,n,r){for(var i=[],o=0,a=t.length,s=0;o!==a&&s+e[o]<n;)s+=e[o],o++;i.push(t.slice(0,o));var l=o;for(s=0;o!==a;)s+e[o]>r&&(i.push(t.slice(l,o)),s=0,l=o),s+=e[o],o++;return l!==o&&i.push(t.slice(l,o)),i},J=function(t,e,n){n||(n={});var r,i,o,a,s,l,h=[],u=[h],c=n.textIndent||0,f=0,p=0,d=t.split(\" \"),g=W.apply(this,[\" \",n])[0];if(l=-1===n.lineIndent?d[0].length+2:n.lineIndent||0){var m=Array(l).join(\" \"),y=[];d.map(function(t){1<(t=t.split(/\\s*\\n/)).length?y=y.concat(t.map(function(t,e){return(e&&t.length?\"\\n\":\"\")+t})):y.push(t[0])}),d=y,l=G.apply(this,[m,n])}for(o=0,a=d.length;o<a;o++){var v=0;if(r=d[o],l&&\"\\n\"==r[0]&&(r=r.substr(1),v=1),i=W.apply(this,[r,n]),e<c+f+(p=V(i))||v){if(e<p){for(s=Y.apply(this,[r,i,e-(c+f),e]),h.push(s.shift()),h=[s.pop()];s.length;)u.push([s.shift()]);p=V(i.slice(r.length-(h[0]?h[0].length:0)))}else h=[r];u.push(h),c=p+l,f=g}else h.push(r),c+=f+p,f=g}if(l)var w=function(t,e){return(e?m:\"\")+t.join(\" \")};else w=function(t){return t.join(\" \")};return u.map(w)},H.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=function(t){var e={0:1},n={};if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var r=this.internal.getFont(t.fontName,t.fontStyle),i=\"Unicode\";return r.metadata[i]?{widths:r.metadata[i].widths||e,kerning:r.metadata[i].kerning||n}:{font:r.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(t)?t:t.split(/\\r?\\n/);var a=1*this.internal.scaleFactor*e/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var s,l,h=[];for(s=0,l=r.length;s<l;s++)h=h.concat(J.apply(this,[r[s],a,o]));return h},\n/** @license\n   jsPDF standard_fonts_metrics plugin\n   * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com\n   * MIT license.\n   * \n   * ====================================================================\n   */\nX=lt.API,Z={codePages:[\"WinAnsiEncoding\"],WinAnsiEncoding:(K=function(t){for(var e=\"klmnopqrstuvwxyz\",n={},r=0;r<e.length;r++)n[e[r]]=\"0123456789abcdef\"[r];var i,o,a,s,l,h={},u=1,c=h,f=[],p=\"\",d=\"\",g=t.length-1;for(r=1;r!=g;)l=t[r],r+=1,\"'\"==l?o=o?(s=o.join(\"\"),i):[]:o?o.push(l):\"{\"==l?(f.push([c,s]),c={},s=i):\"}\"==l?((a=f.pop())[0][a[1]]=c,s=i,c=a[0]):\"-\"==l?u=-1:s===i?n.hasOwnProperty(l)?(p+=n[l],s=parseInt(p,16)*u,u=1,p=\"\"):p+=l:n.hasOwnProperty(l)?(d+=n[l],c[s]=parseInt(d,16)*u,u=1,s=i,d=\"\"):d+=l;return h})(\"{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}\")},Q={Unicode:{Courier:Z,\"Courier-Bold\":Z,\"Courier-BoldOblique\":Z,\"Courier-Oblique\":Z,Helvetica:Z,\"Helvetica-Bold\":Z,\"Helvetica-BoldOblique\":Z,\"Helvetica-Oblique\":Z,\"Times-Roman\":Z,\"Times-Bold\":Z,\"Times-BoldItalic\":Z,\"Times-Italic\":Z}},$={Unicode:{\"Courier-Oblique\":K(\"{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}\"),\"Times-BoldItalic\":K(\"{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}\"),\"Helvetica-Bold\":K(\"{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}\"),Courier:K(\"{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}\"),\"Courier-BoldOblique\":K(\"{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}\"),\"Times-Bold\":K(\"{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}\"),Symbol:K(\"{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}\"),Helvetica:K(\"{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}\"),\"Helvetica-BoldOblique\":K(\"{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}\"),ZapfDingbats:K(\"{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}\"),\"Courier-Bold\":K(\"{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}\"),\"Times-Italic\":K(\"{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}\"),\"Times-Roman\":K(\"{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}\"),\"Helvetica-Oblique\":K(\"{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}\")}},X.events.push([\"addFont\",function(t){var e,n,r,i=t.font,o=\"Unicode\";(e=$[o][i.postScriptName])&&((n=i.metadata[o]?i.metadata[o]:i.metadata[o]={}).widths=e.widths,n.kerning=e.kerning),(r=Q[o][i.postScriptName])&&((n=i.metadata[o]?i.metadata[o]:i.metadata[o]={}).encoding=r).codePages&&r.codePages.length&&(i.encoding=r.codePages[0])}]),\n/**\n   * @license\n   * Licensed under the MIT License.\n   * http://opensource.org/licenses/mit-license\n   */\ntt=lt,\"undefined\"!=typeof self&&self||\"undefined\"!=typeof global&&global||\"undefined\"!=typeof window&&window||Function(\"return this\")(),tt.API.events.push([\"addFont\",function(t){var e=t.font,n=t.instance;if(void 0!==n&&n.existsFileInVFS(e.postScriptName)){var r=n.getFileFromVFS(e.postScriptName);if(\"string\"!=typeof r)throw new Error(\"Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('\"+e.postScriptName+\"').\");e.metadata=tt.API.TTFFont.open(e.postScriptName,e.fontName,r,e.encoding),e.metadata.Unicode=e.metadata.Unicode||{encoding:{},kerning:{},widths:[]},e.metadata.glyIdsUsed=[0]}else if(!1===e.isStandardFont)throw new Error(\"Font does not exist in vFS, import fonts or remove declaration doc.addFont('\"+e.postScriptName+\"').\")}]),(\n/** @license\n   * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com\n   * \n   * \n   * ====================================================================\n   */\net=lt.API).addSvg=function(t,e,n,r,i){if(void 0===e||void 0===n)throw new Error(\"addSVG needs values for 'x' and 'y'\");function o(t){for(var e=parseFloat(t[1]),n=parseFloat(t[2]),r=[],i=3,o=t.length;i<o;)\"c\"===t[i]?(r.push([parseFloat(t[i+1]),parseFloat(t[i+2]),parseFloat(t[i+3]),parseFloat(t[i+4]),parseFloat(t[i+5]),parseFloat(t[i+6])]),i+=7):\"l\"===t[i]?(r.push([parseFloat(t[i+1]),parseFloat(t[i+2])]),i+=3):i+=1;return[e,n,r]}var a,s,l,h,u,c,f,p,d=(h=document,p=h.createElement(\"iframe\"),u=\".jsPDF_sillysvg_iframe {display:none;position:absolute;}\",(f=(c=h).createElement(\"style\")).type=\"text/css\",f.styleSheet?f.styleSheet.cssText=u:f.appendChild(c.createTextNode(u)),c.getElementsByTagName(\"head\")[0].appendChild(f),p.name=\"childframe\",p.setAttribute(\"width\",0),p.setAttribute(\"height\",0),p.setAttribute(\"frameborder\",\"0\"),p.setAttribute(\"scrolling\",\"no\"),p.setAttribute(\"seamless\",\"seamless\"),p.setAttribute(\"class\",\"jsPDF_sillysvg_iframe\"),h.body.appendChild(p),p),g=(a=t,(l=((s=d).contentWindow||s.contentDocument).document).write(a),l.close(),l.getElementsByTagName(\"svg\")[0]),m=[1,1],y=parseFloat(g.getAttribute(\"width\")),v=parseFloat(g.getAttribute(\"height\"));y&&v&&(r&&i?m=[r/y,i/v]:r?m=[r/y,r/y]:i&&(m=[i/v,i/v]));var w,b,x,N,L=g.childNodes;for(w=0,b=L.length;w<b;w++)(x=L[w]).tagName&&\"PATH\"===x.tagName.toUpperCase()&&((N=o(x.getAttribute(\"d\").split(\" \")))[0]=N[0]*m[0]+e,N[1]=N[1]*m[1]+n,this.lines.call(this,N[2],N[0],N[1],m));return this},et.addSVG=et.addSvg,et.addSvgAsImage=function(t,e,n,r,i,o,a,s){if(isNaN(e)||isNaN(n))throw console.error(\"jsPDF.addSvgAsImage: Invalid coordinates\",arguments),new Error(\"Invalid coordinates passed to jsPDF.addSvgAsImage\");if(isNaN(r)||isNaN(i))throw console.error(\"jsPDF.addSvgAsImage: Invalid measurements\",arguments),new Error(\"Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage\");var l=document.createElement(\"canvas\");l.width=r,l.height=i;var h=l.getContext(\"2d\");return h.fillStyle=\"#fff\",h.fillRect(0,0,l.width,l.height),canvg(l,t,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0}),this.addImage(l.toDataURL(\"image/jpeg\",1),e,n,r,i,a,s),this},lt.API.putTotalPages=function(t){var e,n=0;n=parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,\"g\"),this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),\"g\"),this.pdfEscape16(this.internal.getNumberOfPages()+\"\",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},lt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,o={HideToolbar:{defaultValue:!1,value:!1,type:\"boolean\",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:\"boolean\",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:\"boolean\",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:\"boolean\",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:\"boolean\",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:\"boolean\",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:\"UseNone\",value:\"UseNone\",type:\"name\",explicitSet:!1,valueSet:[\"UseNone\",\"UseOutlines\",\"UseThumbs\",\"UseOC\"],pdfVersion:1.3},Direction:{defaultValue:\"L2R\",value:\"L2R\",type:\"name\",explicitSet:!1,valueSet:[\"L2R\",\"R2L\"],pdfVersion:1.3},ViewArea:{defaultValue:\"CropBox\",value:\"CropBox\",type:\"name\",explicitSet:!1,valueSet:[\"MediaBox\",\"CropBox\",\"TrimBox\",\"BleedBox\",\"ArtBox\"],pdfVersion:1.4},ViewClip:{defaultValue:\"CropBox\",value:\"CropBox\",type:\"name\",explicitSet:!1,valueSet:[\"MediaBox\",\"CropBox\",\"TrimBox\",\"BleedBox\",\"ArtBox\"],pdfVersion:1.4},PrintArea:{defaultValue:\"CropBox\",value:\"CropBox\",type:\"name\",explicitSet:!1,valueSet:[\"MediaBox\",\"CropBox\",\"TrimBox\",\"BleedBox\",\"ArtBox\"],pdfVersion:1.4},PrintClip:{defaultValue:\"CropBox\",value:\"CropBox\",type:\"name\",explicitSet:!1,valueSet:[\"MediaBox\",\"CropBox\",\"TrimBox\",\"BleedBox\",\"ArtBox\"],pdfVersion:1.4},PrintScaling:{defaultValue:\"AppDefault\",value:\"AppDefault\",type:\"name\",explicitSet:!1,valueSet:[\"AppDefault\",\"None\"],pdfVersion:1.6},Duplex:{defaultValue:\"\",value:\"none\",type:\"name\",explicitSet:!1,valueSet:[\"Simplex\",\"DuplexFlipShortEdge\",\"DuplexFlipLongEdge\",\"none\"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:\"boolean\",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:\"\",value:\"\",type:\"array\",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:\"integer\",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),s=[],l=0,h=0,u=0,c=!0;function f(t,e){var n,r=!1;for(n=0;n<t.length;n+=1)t[n]===e&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,\"reset\"===t||!0===e){var p=a.length;for(u=0;u<p;u+=1)n[a[u]].value=n[a[u]].defaultValue,n[a[u]].explicitSet=!1}if(\"object\"===se(t))for(r in t)if(i=t[r],f(a,r)&&void 0!==i){if(\"boolean\"===n[r].type&&\"boolean\"==typeof i)n[r].value=i;else if(\"name\"===n[r].type&&f(n[r].valueSet,i))n[r].value=i;else if(\"integer\"===n[r].type&&Number.isInteger(i))n[r].value=i;else if(\"array\"===n[r].type){for(l=0;l<i.length;l+=1)if(c=!0,1===i[l].length&&\"number\"==typeof i[l][0])s.push(String(i[l]-1));else if(1<i[l].length){for(h=0;h<i[l].length;h+=1)\"number\"!=typeof i[l][h]&&(c=!1);!0===c&&s.push([i[l][0]-1,i[l][1]-1].join(\" \"))}n[r].value=\"[\"+s.join(\" \")+\"]\"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe(\"putCatalog\",function(){var t,e=[];for(t in n)!0===n[t].explicitSet&&(\"name\"===n[t].type?e.push(\"/\"+t+\" /\"+n[t].value):e.push(\"/\"+t+\" \"+n[t].value));0!==e.length&&this.internal.write(\"/ViewerPreferences\\n<<\\n\"+e.join(\"\\n\")+\"\\n>>\")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},\n/** ==================================================================== \n   * jsPDF XMP metadata plugin\n   * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi\n   * \n   * \n   * ====================================================================\n   */\nnt=lt.API,ot=it=rt=\"\",nt.addMetadata=function(t,e){return it=e||\"http://jspdf.default.namespaceuri/\",rt=t,this.internal.events.subscribe(\"postPutResources\",function(){if(rt){var t='<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"><rdf:Description rdf:about=\"\" xmlns:jspdf=\"'+it+'\"><jspdf:metadata>',e=unescape(encodeURIComponent('<x:xmpmeta xmlns:x=\"adobe:ns:meta/\">')),n=unescape(encodeURIComponent(t)),r=unescape(encodeURIComponent(rt)),i=unescape(encodeURIComponent(\"</jspdf:metadata></rdf:Description></rdf:RDF>\")),o=unescape(encodeURIComponent(\"</x:xmpmeta>\")),a=n.length+r.length+i.length+e.length+o.length;ot=this.internal.newObject(),this.internal.write(\"<< /Type /Metadata /Subtype /XML /Length \"+a+\" >>\"),this.internal.write(\"stream\"),this.internal.write(e+n+r+i+o),this.internal.write(\"endstream\"),this.internal.write(\"endobj\")}else ot=\"\"}),this.internal.events.subscribe(\"putCatalog\",function(){ot&&this.internal.write(\"/Metadata \"+ot+\" 0 R\")}),this},function(f,t){var e=f.API;var m=e.pdfEscape16=function(t,e){for(var n,r=e.metadata.Unicode.widths,i=[\"\",\"0\",\"00\",\"000\",\"0000\"],o=[\"\"],a=0,s=t.length;a<s;++a){if(n=e.metadata.characterToGlyph(t.charCodeAt(a)),e.metadata.glyIdsUsed.push(n),e.metadata.toUnicode[n]=t.charCodeAt(a),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(e.metadata.widthOfGlyph(n),10)])),\"0\"==n)return o.join(\"\");n=n.toString(16),o.push(i[4-n.length],n)}return o.join(\"\")},p=function(t){var e,n,r,i,o,a,s;for(o=\"/CIDInit /ProcSet findresource begin\\n12 dict begin\\nbegincmap\\n/CIDSystemInfo <<\\n  /Registry (Adobe)\\n  /Ordering (UCS)\\n  /Supplement 0\\n>> def\\n/CMapName /Adobe-Identity-UCS def\\n/CMapType 2 def\\n1 begincodespacerange\\n<0000><ffff>\\nendcodespacerange\",r=[],a=0,s=(n=Object.keys(t).sort(function(t,e){return t-e})).length;a<s;a++)e=n[a],100<=r.length&&(o+=\"\\n\"+r.length+\" beginbfchar\\n\"+r.join(\"\\n\")+\"\\nendbfchar\",r=[]),i=(\"0000\"+t[e].toString(16)).slice(-4),e=(\"0000\"+(+e).toString(16)).slice(-4),r.push(\"<\"+e+\"><\"+i+\">\");return r.length&&(o+=\"\\n\"+r.length+\" beginbfchar\\n\"+r.join(\"\\n\")+\"\\nendbfchar\\n\"),o+=\"endcmap\\nCMapName currentdict /CMap defineresource pop\\nend\\nend\"};e.events.push([\"putFont\",function(t){!function(t,e,n,r){if(t.metadata instanceof f.API.TTFFont&&\"Identity-H\"===t.encoding){for(var i=t.metadata.Unicode.widths,o=t.metadata.subset.encode(t.metadata.glyIdsUsed,1),a=\"\",s=0;s<o.length;s++)a+=String.fromCharCode(o[s]);var l=n();r({data:a,addLength1:!0}),e(\"endobj\");var h=n();r({data:p(t.metadata.toUnicode),addLength1:!0}),e(\"endobj\");var u=n();e(\"<<\"),e(\"/Type /FontDescriptor\"),e(\"/FontName /\"+t.fontName),e(\"/FontFile2 \"+l+\" 0 R\"),e(\"/FontBBox \"+f.API.PDFObject.convert(t.metadata.bbox)),e(\"/Flags \"+t.metadata.flags),e(\"/StemV \"+t.metadata.stemV),e(\"/ItalicAngle \"+t.metadata.italicAngle),e(\"/Ascent \"+t.metadata.ascender),e(\"/Descent \"+t.metadata.decender),e(\"/CapHeight \"+t.metadata.capHeight),e(\">>\"),e(\"endobj\");var c=n();e(\"<<\"),e(\"/Type /Font\"),e(\"/BaseFont /\"+t.fontName),e(\"/FontDescriptor \"+u+\" 0 R\"),e(\"/W \"+f.API.PDFObject.convert(i)),e(\"/CIDToGIDMap /Identity\"),e(\"/DW 1000\"),e(\"/Subtype /CIDFontType2\"),e(\"/CIDSystemInfo\"),e(\"<<\"),e(\"/Supplement 0\"),e(\"/Registry (Adobe)\"),e(\"/Ordering (\"+t.encoding+\")\"),e(\">>\"),e(\">>\"),e(\"endobj\"),t.objectNumber=n(),e(\"<<\"),e(\"/Type /Font\"),e(\"/Subtype /Type0\"),e(\"/ToUnicode \"+h+\" 0 R\"),e(\"/BaseFont /\"+t.fontName),e(\"/Encoding /\"+t.encoding),e(\"/DescendantFonts [\"+c+\" 0 R]\"),e(\">>\"),e(\"endobj\"),t.isAlreadyPutted=!0}}(t.font,t.out,t.newObject,t.putStream)}]);e.events.push([\"putFont\",function(t){!function(t,e,n,r){if(t.metadata instanceof f.API.TTFFont&&\"WinAnsiEncoding\"===t.encoding){t.metadata.Unicode.widths;for(var i=t.metadata.rawData,o=\"\",a=0;a<i.length;a++)o+=String.fromCharCode(i[a]);var s=n();r({data:o,addLength1:!0}),e(\"endobj\");var l=n();r({data:p(t.metadata.toUnicode),addLength1:!0}),e(\"endobj\");var h=n();for(e(\"<<\"),e(\"/Descent \"+t.metadata.decender),e(\"/CapHeight \"+t.metadata.capHeight),e(\"/StemV \"+t.metadata.stemV),e(\"/Type /FontDescriptor\"),e(\"/FontFile2 \"+s+\" 0 R\"),e(\"/Flags 96\"),e(\"/FontBBox \"+f.API.PDFObject.convert(t.metadata.bbox)),e(\"/FontName /\"+t.fontName),e(\"/ItalicAngle \"+t.metadata.italicAngle),e(\"/Ascent \"+t.metadata.ascender),e(\">>\"),e(\"endobj\"),t.objectNumber=n(),a=0;a<t.metadata.hmtx.widths.length;a++)t.metadata.hmtx.widths[a]=parseInt(t.metadata.hmtx.widths[a]*(1e3/t.metadata.head.unitsPerEm));e(\"<</Subtype/TrueType/Type/Font/ToUnicode \"+l+\" 0 R/BaseFont/\"+t.fontName+\"/FontDescriptor \"+h+\" 0 R/Encoding/\"+t.encoding+\" /FirstChar 29 /LastChar 255 /Widths \"+f.API.PDFObject.convert(t.metadata.hmtx.widths)+\">>\"),e(\"endobj\"),t.isAlreadyPutted=!0}}(t.font,t.out,t.newObject,t.putStream)}]);var h=function(t){var e,n,r=t.text||\"\",i=t.x,o=t.y,a=t.options||{},s=t.mutex||{},l=s.pdfEscape,h=s.activeFontKey,u=s.fonts,c=(s.activeFontSize,\"\"),f=0,p=\"\",d=u[n=h].encoding;if(\"Identity-H\"!==u[n].encoding)return{text:r,x:i,y:o,options:a,mutex:s};for(p=r,n=h,\"[object Array]\"===Object.prototype.toString.call(r)&&(p=r[0]),f=0;f<p.length;f+=1)u[n].metadata.hasOwnProperty(\"cmap\")&&(e=u[n].metadata.cmap.unicode.codeMap[p[f].charCodeAt(0)]),e?c+=p[f]:p[f].charCodeAt(0)<256&&u[n].metadata.hasOwnProperty(\"Unicode\")?c+=p[f]:c+=\"\";var g=\"\";return parseInt(n.slice(1))<14||\"WinAnsiEncoding\"===d?g=function(t){for(var e=\"\",n=0;n<t.length;n++)e+=\"\"+t.charCodeAt(n).toString(16);return e}(l(c,n)):\"Identity-H\"===d&&(g=m(c,u[n])),s.isHex=!0,{text:g,x:i,y:o,options:a,mutex:s}};e.events.push([\"postProcessText\",function(t){var e=t.text||\"\",n=t.x,r=t.y,i=t.options,o=t.mutex,a=(i.lang,[]),s={text:e,x:n,y:r,options:i,mutex:o};if(\"[object Array]\"===Object.prototype.toString.call(e)){var l=0;for(l=0;l<e.length;l+=1)\"[object Array]\"===Object.prototype.toString.call(e[l])&&3===e[l].length?a.push([h(Object.assign({},s,{text:e[l][0]})).text,e[l][1],e[l][2]]):a.push(h(Object.assign({},s,{text:e[l]})).text);t.text=a}else t.text=h(Object.assign({},s,{text:e})).text}])}(lt,\"undefined\"!=typeof self&&self||\"undefined\"!=typeof global&&global||\"undefined\"!=typeof window&&window||Function(\"return this\")()),at=lt.API,st=function(t){return void 0!==t&&(void 0===t.vFS&&(t.vFS={}),!0)},at.existsFileInVFS=function(t){return!!st(this.internal)&&void 0!==this.internal.vFS[t]},at.addFileToVFS=function(t,e){return st(this.internal),this.internal.vFS[t]=e,this},at.getFileFromVFS=function(t){return st(this.internal),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null},lt.API.addHTML=function(t,d,g,s,m){if(\"undefined\"==typeof html2canvas&&\"undefined\"==typeof rasterizeHTML)throw new Error(\"You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js\");\"number\"!=typeof d&&(s=d,m=g),\"function\"==typeof s&&(m=s,s=null),\"function\"!=typeof m&&(m=function(){});var e=this.internal,y=e.scaleFactor,v=e.pageSize.getWidth(),w=e.pageSize.getHeight();if((s=s||{}).onrendered=function(l){d=parseInt(d)||0,g=parseInt(g)||0;var t=s.dim||{},h=Object.assign({top:0,right:0,bottom:0,left:0,useFor:\"content\"},s.margin),e=t.h||Math.min(w,l.height/y),u=t.w||Math.min(v,l.width/y)-d,c=s.format||\"JPEG\",f=s.imageCompression||\"SLOW\";if(l.height>w-h.top-h.bottom&&s.pagesplit){var p=function(t,e,n,r,i){var o=document.createElement(\"canvas\");o.height=i,o.width=r;var a=o.getContext(\"2d\");return a.mozImageSmoothingEnabled=!1,a.webkitImageSmoothingEnabled=!1,a.msImageSmoothingEnabled=!1,a.imageSmoothingEnabled=!1,a.fillStyle=s.backgroundColor||\"#ffffff\",a.fillRect(0,0,r,i),a.drawImage(t,e,n,r,i,0,0,r,i),o},n=function(){for(var t,e,n=0,r=0,i={},o=!1;;){var a;if(r=0,i.top=0!==n?h.top:g,i.left=0!==n?h.left:d,o=(v-h.left-h.right)*y<l.width,\"content\"===h.useFor?0===n?(t=Math.min((v-h.left)*y,l.width),e=Math.min((w-h.top)*y,l.height-n)):(t=Math.min(v*y,l.width),e=Math.min(w*y,l.height-n),i.top=0):(t=Math.min((v-h.left-h.right)*y,l.width),e=Math.min((w-h.bottom-h.top)*y,l.height-n)),o)for(;;){\"content\"===h.useFor&&(0===r?t=Math.min((v-h.left)*y,l.width):(t=Math.min(v*y,l.width-r),i.left=0));var s=[a=p(l,r,n,t,e),i.left,i.top,a.width/y,a.height/y,c,null,f];if(this.addImage.apply(this,s),(r+=t)>=l.width)break;this.addPage()}else s=[a=p(l,0,n,t,e),i.left,i.top,a.width/y,a.height/y,c,null,f],this.addImage.apply(this,s);if((n+=e)>=l.height)break;this.addPage()}m(u,n,null,s)}.bind(this);if(\"CANVAS\"===l.nodeName){var r=new Image;r.onload=n,r.src=l.toDataURL(\"image/png\"),l=r}else n()}else{var i=Math.random().toString(35),o=[l,d,g,u,e,c,i,f];this.addImage.apply(this,o),m(u,e,i,o)}}.bind(this),\"undefined\"!=typeof html2canvas&&!s.rstz)return html2canvas(t,s);if(\"undefined\"==typeof rasterizeHTML)return null;var n=\"drawDocument\";return\"string\"==typeof t&&(n=/^http/.test(t)?\"drawURL\":\"drawHTML\"),s.width=s.width||v*y,rasterizeHTML[n](t,void 0,s).then(function(t){s.onrendered(t.image)},function(t){m(null,t)})},\n/**\n   * jsPDF fromHTML plugin. BETA stage. API subject to change. Needs browser\n   * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com\n   *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria\n   *               2014 Diego Casorran, https://github.com/diegocr\n   *               2014 Daniel Husar, https://github.com/danielhusar\n   *               2014 Wolfgang Gassler, https://github.com/woolfg\n   *               2014 Steven Spungin, https://github.com/flamenco\n   *\n   * @license\n   * \n   * ====================================================================\n   */\nfunction(t){var P,k,i,a,s,l,h,u,I,w,f,c,p,n,C,B,d,g,m,j;P=function(){return function(t){return e.prototype=t,new e};function e(){}}(),w=function(t){var e,n,r,i,o,a,s;for(n=0,r=t.length,e=void 0,a=i=!1;!i&&n!==r;)(e=t[n]=t[n].trimLeft())&&(i=!0),n++;for(n=r-1;r&&!a&&-1!==n;)(e=t[n]=t[n].trimRight())&&(a=!0),n--;for(o=/\\s+$/g,s=!0,n=0;n!==r;)\"\\u2028\"!=t[n]&&(e=t[n].replace(/\\s+/g,\" \"),s&&(e=e.trimLeft()),e&&(s=o.test(e)),t[n]=e),n++;return t},c=function(t){var e,n,r;for(e=void 0,n=(r=t.split(\",\")).shift();!e&&n;)e=i[n.trim().toLowerCase()],n=r.shift();return e},p=function(t){var e;return-1<(t=\"auto\"===t?\"0px\":t).indexOf(\"em\")&&!isNaN(Number(t.replace(\"em\",\"\")))&&(t=18.719*Number(t.replace(\"em\",\"\"))+\"px\"),-1<t.indexOf(\"pt\")&&!isNaN(Number(t.replace(\"pt\",\"\")))&&(t=1.333*Number(t.replace(\"pt\",\"\"))+\"px\"),void 0,16,(e=n[t])?e:void 0!==(e={\"xx-small\":9,\"x-small\":11,small:13,medium:16,large:19,\"x-large\":23,\"xx-large\":28,auto:0}[t])?n[t]=e/16:(e=parseFloat(t))?n[t]=e/16:(e=t.match(/([\\d\\.]+)(px)/),Array.isArray(e)&&3===e.length?n[t]=parseFloat(e[1])/16:n[t]=1)},I=function(t){var e,n,r,i,o;return o=t,i=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(o,null):o.currentStyle?o.currentStyle:o.style,n=void 0,(e={})[\"font-family\"]=c((r=function(t){return t=t.replace(/-\\D/g,function(t){return t.charAt(1).toUpperCase()}),i[t]})(\"font-family\"))||\"times\",e[\"font-style\"]=a[r(\"font-style\")]||\"normal\",e[\"text-align\"]=s[r(\"text-align\")]||\"left\",\"bold\"===(n=l[r(\"font-weight\")]||\"normal\")&&(\"normal\"===e[\"font-style\"]?e[\"font-style\"]=n:e[\"font-style\"]=n+e[\"font-style\"]),e[\"font-size\"]=p(r(\"font-size\"))||1,e[\"line-height\"]=p(r(\"line-height\"))||1,e.display=\"inline\"===r(\"display\")?\"inline\":\"block\",n=\"block\"===e.display,e[\"margin-top\"]=n&&p(r(\"margin-top\"))||0,e[\"margin-bottom\"]=n&&p(r(\"margin-bottom\"))||0,e[\"padding-top\"]=n&&p(r(\"padding-top\"))||0,e[\"padding-bottom\"]=n&&p(r(\"padding-bottom\"))||0,e[\"margin-left\"]=n&&p(r(\"margin-left\"))||0,e[\"margin-right\"]=n&&p(r(\"margin-right\"))||0,e[\"padding-left\"]=n&&p(r(\"padding-left\"))||0,e[\"padding-right\"]=n&&p(r(\"padding-right\"))||0,e[\"page-break-before\"]=r(\"page-break-before\")||\"auto\",e.float=h[r(\"cssFloat\")]||\"none\",e.clear=u[r(\"clear\")]||\"none\",e.color=r(\"color\"),e},C=function(t,e,n){var r,i,o,a,s;if(o=!1,a=i=void 0,r=n[\"#\"+t.id])if(\"function\"==typeof r)o=r(t,e);else for(i=0,a=r.length;!o&&i!==a;)o=r[i](t,e),i++;if(r=n[t.nodeName],!o&&r)if(\"function\"==typeof r)o=r(t,e);else for(i=0,a=r.length;!o&&i!==a;)o=r[i](t,e),i++;for(s=\"string\"==typeof t.className?t.className.split(\" \"):[],i=0;i<s.length;i++)if(r=n[\".\"+s[i]],!o&&r)if(\"function\"==typeof r)o=r(t,e);else for(i=0,a=r.length;!o&&i!==a;)o=r[i](t,e),i++;return o},j=function(t,e){var n,r,i,o,a,s,l,h,u;for(n=[],r=[],i=0,u=t.rows[0].cells.length,l=t.clientWidth;i<u;)h=t.rows[0].cells[i],r[i]={name:h.textContent.toLowerCase().replace(/\\s+/g,\"\"),prompt:h.textContent.replace(/\\r?\\n/g,\"\"),width:h.clientWidth/l*e.pdf.internal.pageSize.getWidth()},i++;for(i=1;i<t.rows.length;){for(s=t.rows[i],a={},o=0;o<s.cells.length;)a[r[o].name]=s.cells[o].textContent.replace(/\\r?\\n/g,\"\"),o++;n.push(a),i++}return{rows:n,headers:r}};var E={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},M=1;k=function(t,i,e){var n,r,o,a,s,l,h,u;for(r=t.childNodes,n=void 0,(s=\"block\"===(o=I(t)).display)&&(i.setBlockBoundary(),i.setBlockStyle(o)),a=0,l=r.length;a<l;){if(\"object\"===se(n=r[a])){if(i.executeWatchFunctions(n),1===n.nodeType&&\"HEADER\"===n.nodeName){var c=n,f=i.pdf.margins_doc.top;i.pdf.internal.events.subscribe(\"addPage\",function(t){i.y=f,k(c,i,e),i.pdf.margins_doc.top=i.y+10,i.y+=10},!1)}if(8===n.nodeType&&\"#comment\"===n.nodeName)~n.textContent.indexOf(\"ADD_PAGE\")&&(i.pdf.addPage(),i.y=i.pdf.margins_doc.top);else if(1!==n.nodeType||E[n.nodeName])if(3===n.nodeType){var p=n.nodeValue;if(n.nodeValue&&\"LI\"===n.parentNode.nodeName)if(\"OL\"===n.parentNode.parentNode.nodeName)p=M+++\". \"+p;else{var d=o[\"font-size\"],g=(3-.75*d)*i.pdf.internal.scaleFactor,m=.75*d*i.pdf.internal.scaleFactor,y=1.74*d/i.pdf.internal.scaleFactor;u=function(t,e){this.pdf.circle(t+g,e+m,y,\"FD\")}}16&n.ownerDocument.body.compareDocumentPosition(n)&&i.addText(p,o)}else\"string\"==typeof n&&i.addText(n,o);else{var v;if(\"IMG\"===n.nodeName){var w=n.getAttribute(\"src\");v=B[i.pdf.sHashCode(w)||w]}if(v){i.pdf.internal.pageSize.getHeight()-i.pdf.margins_doc.bottom<i.y+n.height&&i.y>i.pdf.margins_doc.top&&(i.pdf.addPage(),i.y=i.pdf.margins_doc.top,i.executeWatchFunctions(n));var b=I(n),x=i.x,N=12/i.pdf.internal.scaleFactor,L=(b[\"margin-left\"]+b[\"padding-left\"])*N,A=(b[\"margin-right\"]+b[\"padding-right\"])*N,S=(b[\"margin-top\"]+b[\"padding-top\"])*N,_=(b[\"margin-bottom\"]+b[\"padding-bottom\"])*N;void 0!==b.float&&\"right\"===b.float?x+=i.settings.width-n.width-A:x+=L,i.pdf.addImage(v,x,i.y+S,n.width,n.height),v=void 0,\"right\"===b.float||\"left\"===b.float?(i.watchFunctions.push(function(t,e,n,r){return i.y>=e?(i.x+=t,i.settings.width+=n,!0):!!(r&&1===r.nodeType&&!E[r.nodeName]&&i.x+r.width>i.pdf.margins_doc.left+i.pdf.margins_doc.width)&&(i.x+=t,i.y=e,i.settings.width+=n,!0)}.bind(this,\"left\"===b.float?-n.width-L-A:0,i.y+n.height+S+_,n.width)),i.watchFunctions.push(function(t,e,n){return!(i.y<t&&e===i.pdf.internal.getNumberOfPages())||1===n.nodeType&&\"both\"===I(n).clear&&(i.y=t,!0)}.bind(this,i.y+n.height,i.pdf.internal.getNumberOfPages())),i.settings.width-=n.width+L+A,\"left\"===b.float&&(i.x+=n.width+L+A)):i.y+=n.height+S+_}else if(\"TABLE\"===n.nodeName)h=j(n,i),i.y+=10,i.pdf.table(i.x,i.y,h.rows,h.headers,{autoSize:!1,printHeaders:e.printHeaders,margins:i.pdf.margins_doc,css:I(n)}),i.y=i.pdf.lastCellPos.y+i.pdf.lastCellPos.h+20;else if(\"OL\"===n.nodeName||\"UL\"===n.nodeName)M=1,C(n,i,e)||k(n,i,e),i.y+=10;else if(\"LI\"===n.nodeName){var F=i.x;i.x+=20/i.pdf.internal.scaleFactor,i.y+=3,C(n,i,e)||k(n,i,e),i.x=F}else\"BR\"===n.nodeName?(i.y+=o[\"font-size\"]*i.pdf.internal.scaleFactor,i.addText(\"\\u2028\",P(o))):C(n,i,e)||k(n,i,e)}}a++}if(e.outY=i.y,s)return i.setBlockBoundary(u)},B={},d=function(t,o,e,n){var a,r=t.getElementsByTagName(\"img\"),i=r.length,s=0;function l(){o.pdf.internal.events.publish(\"imagesLoaded\"),n(a)}function h(e,n,r){if(e){var i=new Image;a=++s,i.crossOrigin=\"\",i.onerror=i.onload=function(){if(i.complete&&(0===i.src.indexOf(\"data:image/\")&&(i.width=n||i.width||0,i.height=r||i.height||0),i.width+i.height)){var t=o.pdf.sHashCode(e)||e;B[t]=B[t]||i}--s||l()},i.src=e}}for(;i--;)h(r[i].getAttribute(\"src\"),r[i].width,r[i].height);return s||l()},g=function(t,o,a){var s=t.getElementsByTagName(\"footer\");if(0<s.length){s=s[0];var e=o.pdf.internal.write,n=o.y;o.pdf.internal.write=function(){},k(s,o,a);var l=Math.ceil(o.y-n)+5;o.y=n,o.pdf.internal.write=e,o.pdf.margins_doc.bottom+=l;for(var r=function(t){var e=void 0!==t?t.pageNumber:1,n=o.y;o.y=o.pdf.internal.pageSize.getHeight()-o.pdf.margins_doc.bottom,o.pdf.margins_doc.bottom-=l;for(var r=s.getElementsByTagName(\"span\"),i=0;i<r.length;++i)-1<(\" \"+r[i].className+\" \").replace(/[\\n\\t]/g,\" \").indexOf(\" pageCounter \")&&(r[i].innerHTML=e),-1<(\" \"+r[i].className+\" \").replace(/[\\n\\t]/g,\" \").indexOf(\" totalPages \")&&(r[i].innerHTML=\"###jsPDFVarTotalPages###\");k(s,o,a),o.pdf.margins_doc.bottom+=l,o.y=n},i=s.getElementsByTagName(\"span\"),h=0;h<i.length;++h)-1<(\" \"+i[h].className+\" \").replace(/[\\n\\t]/g,\" \").indexOf(\" totalPages \")&&o.pdf.internal.events.subscribe(\"htmlRenderingFinished\",o.pdf.putTotalPages.bind(o.pdf,\"###jsPDFVarTotalPages###\"),!0);o.pdf.internal.events.subscribe(\"addPage\",r,!1),r(),E.FOOTER=1}},m=function(t,e,n,r,i,o){if(!e)return!1;var a,s,l,h;\"string\"==typeof e||e.parentNode||(e=\"\"+e.innerHTML),\"string\"==typeof e&&(a=e.replace(/<\\/?script[^>]*?>/gi,\"\"),h=\"jsPDFhtmlText\"+Date.now().toString()+(1e3*Math.random()).toFixed(0),(l=document.createElement(\"div\")).style.cssText=\"position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;\",l.innerHTML='<iframe style=\"height:1px;width:1px\" name=\"'+h+'\" />',document.body.appendChild(l),(s=window.frames[h]).document.open(),s.document.writeln(a),s.document.close(),e=s.document.body);var u,c=new f(t,n,r,i);return d.call(this,e,c,i.elementHandlers,function(t){g(e,c,i.elementHandlers),k(e,c,i.elementHandlers),c.pdf.internal.events.publish(\"htmlRenderingFinished\"),u=c.dispose(),\"function\"==typeof o?o(u):t&&console.error(\"jsPDF Warning: rendering issues? provide a callback to fromHTML!\")}),u||{x:c.x,y:c.y}},(f=function(t,e,n,r){return this.pdf=t,this.x=e,this.y=n,this.settings=r,this.watchFunctions=[],this.init(),this}).prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write(\"q\")},f.prototype.dispose=function(){return this.pdf.internal.write(\"Q\"),{x:this.x,y:this.y,ready:!0}},f.prototype.executeWatchFunctions=function(t){var e=!1,n=[];if(0<this.watchFunctions.length){for(var r=0;r<this.watchFunctions.length;++r)!0===this.watchFunctions[r](t)?e=!0:n.push(this.watchFunctions[r]);this.watchFunctions=n}return e},f.prototype.splitFragmentsIntoLines=function(t,e){var n,r,i,o,a,s,l,h,u,c,f,p,d,g;for(12,c=this.pdf.internal.scaleFactor,o={},s=l=h=g=a=i=u=r=void 0,p=[f=[]],n=0,d=this.settings.width;t.length;)if(a=t.shift(),g=e.shift(),a)if((i=o[(r=g[\"font-family\"])+(u=g[\"font-style\"])])||(i=this.pdf.internal.getFont(r,u).metadata.Unicode,o[r+u]=i),h={widths:i.widths,kerning:i.kerning,fontSize:12*g[\"font-size\"],textIndent:n},l=this.pdf.getStringUnitWidth(a,h)*h.fontSize/c,\"\\u2028\"==a)f=[],p.push(f);else if(d<n+l){for(s=this.pdf.splitTextToSize(a,d,h),f.push([s.shift(),g]);s.length;)f=[[s.shift(),g]],p.push(f);n=this.pdf.getStringUnitWidth(f[0][0],h)*h.fontSize/c}else f.push([a,g]),n+=l;if(void 0!==g[\"text-align\"]&&(\"center\"===g[\"text-align\"]||\"right\"===g[\"text-align\"]||\"justify\"===g[\"text-align\"]))for(var m=0;m<p.length;++m){var y=this.pdf.getStringUnitWidth(p[m][0][0],h)*h.fontSize/c;0<m&&(p[m][0][1]=P(p[m][0][1]));var v=d-y;if(\"right\"===g[\"text-align\"])p[m][0][1][\"margin-left\"]=v;else if(\"center\"===g[\"text-align\"])p[m][0][1][\"margin-left\"]=v/2;else if(\"justify\"===g[\"text-align\"]){var w=p[m][0][0].split(\" \").length-1;p[m][0][1][\"word-spacing\"]=v/w,m===p.length-1&&(p[m][0][1][\"word-spacing\"]=0)}}return p},f.prototype.RenderTextFragment=function(t,e){var n,r;r=0,this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write(\"ET\",\"Q\"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write(\"q\",\"BT\",this.getPdfColor(e.color),this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),\"Td\"),r=Math.max(r,e[\"line-height\"],e[\"font-size\"]),this.pdf.internal.write(0,(-12*r).toFixed(2),\"Td\")),n=this.pdf.internal.getFont(e[\"font-family\"],e[\"font-style\"]);var i=this.getPdfColor(e.color);i!==this.lastTextColor&&(this.pdf.internal.write(i),this.lastTextColor=i),void 0!==e[\"word-spacing\"]&&0<e[\"word-spacing\"]&&this.pdf.internal.write(e[\"word-spacing\"].toFixed(2),\"Tw\"),this.pdf.internal.write(\"/\"+n.id,(12*e[\"font-size\"]).toFixed(2),\"Tf\",\"(\"+this.pdf.internal.pdfEscape(t)+\") Tj\"),void 0!==e[\"word-spacing\"]&&this.pdf.internal.write(0,\"Tw\")},f.prototype.getPdfColor=function(t){var e,n,r,i=/rgb\\s*\\(\\s*(\\d+),\\s*(\\d+),\\s*(\\d+\\s*)\\)/.exec(t);if(null!=i)e=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]);else{if(\"string\"==typeof t&&\"#\"!=t.charAt(0)){var o=new RGBColor(t);t=o.ok?o.toHex():\"#000000\"}e=t.substring(1,3),e=parseInt(e,16),n=t.substring(3,5),n=parseInt(n,16),r=t.substring(5,7),r=parseInt(r,16)}if(\"string\"==typeof e&&/^#[0-9A-Fa-f]{6}$/.test(e)){var a=parseInt(e.substr(1),16);e=a>>16&255,n=a>>8&255,r=255&a}var s=this.f3;return 0===e&&0===n&&0===r||void 0===n?s(e/255)+\" g\":[s(e/255),s(n/255),s(r/255),\"rg\"].join(\" \")},f.prototype.f3=function(t){return t.toFixed(3)},f.prototype.renderParagraph=function(t){var e,n,r,i,o,a,s,l,h,u,c,f,p;if(r=w(this.paragraph.text),f=this.paragraph.style,e=this.paragraph.blockstyle,this.paragraph.priorblockstyle||{},this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:e},r.join(\"\").trim()){s=this.splitFragmentsIntoLines(r,f),l=a=void 0,n=12/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,c=(Math.max((e[\"margin-top\"]||0)-this.priorMarginBottom,0)+(e[\"padding-top\"]||0))*n,u=((e[\"margin-bottom\"]||0)+(e[\"padding-bottom\"]||0))*n,this.priorMarginBottom=e[\"margin-bottom\"]||0,\"always\"===e[\"page-break-before\"]&&(this.pdf.addPage(),this.y=0,c=((e[\"margin-top\"]||0)+(e[\"padding-top\"]||0))*n),h=this.pdf.internal.write,o=i=void 0,this.y+=c,h(\"q\",\"BT 0 g\",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),\"Td\");for(var d=0;s.length;){for(i=l=0,o=(a=s.shift()).length;i!==o;)a[i][0].trim()&&(l=Math.max(l,a[i][1][\"line-height\"],a[i][1][\"font-size\"]),p=7*a[i][1][\"font-size\"]),i++;var g=0,m=0;for(void 0!==a[0][1][\"margin-left\"]&&0<a[0][1][\"margin-left\"]&&(g=(m=this.pdf.internal.getCoordinateString(a[0][1][\"margin-left\"]))-d,d=m),h(g+Math.max(e[\"margin-left\"]||0,0)*n,(-12*l).toFixed(2),\"Td\"),i=0,o=a.length;i!==o;)a[i][0]&&this.RenderTextFragment(a[i][0],a[i][1]),i++;if(this.y+=l*n,this.executeWatchFunctions(a[0][1])&&0<s.length){var y=[],v=[];s.forEach(function(t){for(var e=0,n=t.length;e!==n;)t[e][0]&&(y.push(t[e][0]+\" \"),v.push(t[e][1])),++e}),s=this.splitFragmentsIntoLines(w(y),v),h(\"ET\",\"Q\"),h(\"q\",\"BT 0 g\",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),\"Td\")}}return t&&\"function\"==typeof t&&t.call(this,this.x-9,this.y-p/2),h(\"ET\",\"Q\"),this.y+=u}},f.prototype.setBlockBoundary=function(t){return this.renderParagraph(t)},f.prototype.setBlockStyle=function(t){return this.paragraph.blockstyle=t},f.prototype.addText=function(t,e){return this.paragraph.text.push(t),this.paragraph.style.push(e)},i={helvetica:\"helvetica\",\"sans-serif\":\"helvetica\",\"times new roman\":\"times\",serif:\"times\",times:\"times\",monospace:\"courier\",courier:\"courier\"},l={100:\"normal\",200:\"normal\",300:\"normal\",400:\"normal\",500:\"bold\",600:\"bold\",700:\"bold\",800:\"bold\",900:\"bold\",normal:\"normal\",bold:\"bold\",bolder:\"bold\",lighter:\"normal\"},a={normal:\"normal\",italic:\"italic\",oblique:\"italic\"},s={left:\"left\",right:\"right\",center:\"center\",justify:\"justify\"},h={none:\"none\",right:\"right\",left:\"left\"},u={none:\"none\",both:\"both\"},n={normal:1},t.fromHTML=function(t,e,n,r,i,o){return this.margins_doc=o||{top:0,bottom:0},r||(r={}),r.elementHandlers||(r.elementHandlers={}),m(this,t,isNaN(e)?4:e,isNaN(n)?4:n,r,i)}}(lt.API),lt.API,(\"undefined\"!=typeof window&&window||\"undefined\"!=typeof global&&global).html2pdf=function(t,a,e){var n=a.canvas;if(n){var r,i;if((n.pdf=a).annotations={_nameMap:[],createAnnotation:function(t,e){var n,r=a.context2d._wrapX(e.left),i=a.context2d._wrapY(e.top),o=(a.context2d._page(e.top),t.indexOf(\"#\"));n=0<=o?{name:t.substring(o+1)}:{url:t},a.link(r,i,e.right-e.left,e.bottom-e.top,n)},setName:function(t,e){var n=a.context2d._wrapX(e.left),r=a.context2d._wrapY(e.top),i=a.context2d._page(e.top);this._nameMap[t]={page:i,x:n,y:r}}},n.annotations=a.annotations,a.context2d._pageBreakAt=function(t){this.pageBreaks.push(t)},a.context2d._gotoPage=function(t){for(;a.internal.getNumberOfPages()<t;)a.addPage();a.setPage(t)},\"string\"==typeof t){t=t.replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\"\");var o,s,l=document.createElement(\"iframe\");document.body.appendChild(l),null!=(o=l.contentDocument)&&null!=o||(o=l.contentWindow.document),o.open(),o.write(t),o.close(),r=o.body,s=o.body||{},t=o.documentElement||{},i=Math.max(s.scrollHeight,s.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}else s=(r=t).body||{},i=Math.max(s.scrollHeight,s.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight);var h={async:!0,allowTaint:!0,backgroundColor:\"#ffffff\",canvas:n,imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1,windowHeight:i=a.internal.pageSize.getHeight(),scrollY:i};a.context2d.pageWrapYEnabled=!0,a.context2d.pageWrapY=a.internal.pageSize.getHeight(),html2canvas(r,h).then(function(t){e&&(l&&l.parentElement.removeChild(l),e(a))})}else alert(\"jsPDF canvas plugin not installed\")},window.tmp=html2pdf,function(f){var r=f.BlobBuilder||f.WebKitBlobBuilder||f.MSBlobBuilder||f.MozBlobBuilder;f.URL=f.URL||f.webkitURL||function(t,e){return(e=document.createElement(\"a\")).href=t,e};var n=f.Blob,p=URL.createObjectURL,d=URL.revokeObjectURL,o=f.Symbol&&f.Symbol.toStringTag,t=!1,e=!1,g=!!f.ArrayBuffer,i=r&&r.prototype.append&&r.prototype.getBlob;try{t=2===new Blob([\"\"]).size,e=2===new Blob([new Uint8Array([1,2])]).size}catch(t){}function a(t){return t.map(function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t})}function s(t,e){e=e||{};var n=new r;return a(t).forEach(function(t){n.append(t)}),e.type?n.getBlob(e.type):n.getBlob()}function l(t,e){return new n(a(t),e||{})}if(f.Blob&&(s.prototype=Blob.prototype,l.prototype=Blob.prototype),o)try{File.prototype[o]=\"File\",Blob.prototype[o]=\"Blob\",FileReader.prototype[o]=\"FileReader\"}catch(t){}function h(){var t=!!f.ActiveXObject||\"-ms-scroll-limit\"in document.documentElement.style&&\"-ms-ime-align\"in document.documentElement.style,e=f.XMLHttpRequest&&f.XMLHttpRequest.prototype.send;t&&e&&(XMLHttpRequest.prototype.send=function(t){t instanceof Blob&&this.setRequestHeader(\"Content-Type\",t.type),e.call(this,t)});try{new File([],\"\")}catch(t){try{var n=new Function('class File extends Blob {constructor(chunks, name, opts) {opts = opts || {};super(chunks, opts || {});this.name = name;this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date;this.lastModified = +this.lastModifiedDate;}};return new File([], \"\"), File')();f.File=n}catch(t){n=function(t,e,n){var r=new Blob(t,n),i=n&&void 0!==n.lastModified?new Date(n.lastModified):new Date;return r.name=e,r.lastModifiedDate=i,r.lastModified=+i,r.toString=function(){return\"[object File]\"},o&&(r[o]=\"File\"),r};f.File=n}}}t?(h(),f.Blob=e?f.Blob:l):i?(h(),f.Blob=s):function(){function a(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e.push(r):r<2048?e.push(192|r>>6,128|63&r):r<55296||57344<=r?e.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&t.charCodeAt(n)),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return e}function e(t){var e,n,r,i,o,a;for(e=\"\",r=t.length,n=0;n<r;)switch((i=t[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCharCode(i);break;case 12:case 13:o=t[n++],e+=String.fromCharCode((31&i)<<6|63&o);break;case 14:o=t[n++],a=t[n++],e+=String.fromCharCode((15&i)<<12|(63&o)<<6|(63&a)<<0)}return e}function s(t){for(var e=new Array(t.byteLength),n=new Uint8Array(t),r=e.length;r--;)e[r]=n[r];return e}function n(t){for(var e=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",n=[],r=0;r<t.length;r+=3){var i=t[r],o=r+1<t.length,a=o?t[r+1]:0,s=r+2<t.length,l=s?t[r+2]:0,h=i>>2,u=(3&i)<<4|a>>4,c=(15&a)<<2|l>>6,f=63&l;s||(f=64,o||(c=64)),n.push(e[h],e[u],e[c],e[f])}return n.join(\"\")}var t=Object.create||function(t){function e(){}return e.prototype=t,new e};if(g)var r=[\"[object Int8Array]\",\"[object Uint8Array]\",\"[object Uint8ClampedArray]\",\"[object Int16Array]\",\"[object Uint16Array]\",\"[object Int32Array]\",\"[object Uint32Array]\",\"[object Float32Array]\",\"[object Float64Array]\"],l=ArrayBuffer.isView||function(t){return t&&-1<r.indexOf(Object.prototype.toString.call(t))};function h(t,e){for(var n=0,r=(t=t||[]).length;n<r;n++){var i=t[n];i instanceof h?t[n]=i._buffer:\"string\"==typeof i?t[n]=a(i):g&&(ArrayBuffer.prototype.isPrototypeOf(i)||l(i))?t[n]=s(i):g&&(o=i)&&DataView.prototype.isPrototypeOf(o)?t[n]=s(i.buffer):t[n]=a(String(i))}var o;this._buffer=[].concat.apply([],t),this.size=this._buffer.length,this.type=e&&e.type||\"\"}function i(t,e,n){var r=h.call(this,t,n=n||{})||this;return r.name=e,r.lastModifiedDate=n.lastModified?new Date(n.lastModified):new Date,r.lastModified=+r.lastModifiedDate,r}if(h.prototype.slice=function(t,e,n){return new h([this._buffer.slice(t||0,e||this._buffer.length)],{type:n})},h.prototype.toString=function(){return\"[object Blob]\"},(i.prototype=t(h.prototype)).constructor=i,Object.setPrototypeOf)Object.setPrototypeOf(i,h);else try{i.__proto__=h}catch(t){}function o(){if(!(this instanceof o))throw new TypeError(\"Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\");var n=document.createDocumentFragment();this.addEventListener=n.addEventListener,this.dispatchEvent=function(t){var e=this[\"on\"+t.type];\"function\"==typeof e&&e(t),n.dispatchEvent(t)},this.removeEventListener=n.removeEventListener}function u(t,e,n){if(!(e instanceof h))throw new TypeError(\"Failed to execute '\"+n+\"' on 'FileReader': parameter 1 is not of type 'Blob'.\");t.result=\"\",setTimeout(function(){this.readyState=o.LOADING,t.dispatchEvent(new Event(\"load\")),t.dispatchEvent(new Event(\"loadend\"))})}i.prototype.toString=function(){return\"[object File]\"},o.EMPTY=0,o.LOADING=1,o.DONE=2,o.prototype.error=null,o.prototype.onabort=null,o.prototype.onerror=null,o.prototype.onload=null,o.prototype.onloadend=null,o.prototype.onloadstart=null,o.prototype.onprogress=null,o.prototype.readAsDataURL=function(t){u(this,t,\"readAsDataURL\"),this.result=\"data:\"+t.type+\";base64,\"+n(t._buffer)},o.prototype.readAsText=function(t){u(this,t,\"readAsText\"),this.result=e(t._buffer)},o.prototype.readAsArrayBuffer=function(t){u(this,t,\"readAsText\"),this.result=t._buffer.slice()},o.prototype.abort=function(){},URL.createObjectURL=function(t){return t instanceof h?\"data:\"+t.type+\";base64,\"+n(t._buffer):p.call(URL,t)},URL.revokeObjectURL=function(t){d&&d.call(URL,t)};var c=f.XMLHttpRequest&&f.XMLHttpRequest.prototype.send;c&&(XMLHttpRequest.prototype.send=function(t){t instanceof h?(this.setRequestHeader(\"Content-Type\",t.type),c.call(this,e(t._buffer))):c.call(this,t)}),f.FileReader=o,f.File=i,f.Blob=h}()}(\"undefined\"!=typeof self&&self||\"undefined\"!=typeof window&&window||\"undefined\"!=typeof global&&global||Function('return typeof this === \"object\" && this.content')()||Function(\"return this\")());var ht,ut,ct,ft,pt,dt,gt,mt,yt,vt,wt,bt,xt,Nt,Lt,le=le||function(s){if(!(void 0===s||\"undefined\"!=typeof navigator&&/MSIE [1-9]\\./.test(navigator.userAgent))){var t=s.document,l=function(){return s.URL||s.webkitURL||s},h=t.createElementNS(\"http://www.w3.org/1999/xhtml\",\"a\"),u=\"download\"in h,c=/constructor/i.test(s.HTMLElement)||s.safari,f=/CriOS\\/[\\d]+/.test(navigator.userAgent),p=s.setImmediate||s.setTimeout,d=function(t){p(function(){throw t},0)},g=function(t){setTimeout(function(){\"string\"==typeof t?l().revokeObjectURL(t):t.remove()},4e4)},m=function(t){return/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},r=function(t,n,e){e||(t=m(t));var r,i=this,o=\"application/octet-stream\"===t.type,a=function(){!function(t,e,n){for(var r=(e=[].concat(e)).length;r--;){var i=t[\"on\"+e[r]];if(\"function\"==typeof i)try{i.call(t,n||t)}catch(t){d(t)}}}(i,\"writestart progress write writeend\".split(\" \"))};if(i.readyState=i.INIT,u)return r=l().createObjectURL(t),void p(function(){var t,e;h.href=r,h.download=n,t=h,e=new MouseEvent(\"click\"),t.dispatchEvent(e),a(),g(r),i.readyState=i.DONE},0);!function(){if((f||o&&c)&&s.FileReader){var e=new FileReader;return e.onloadend=function(){var t=f?e.result:e.result.replace(/^data:[^;]*;/,\"data:attachment/file;\");s.open(t,\"_blank\")||(s.location.href=t),t=void 0,i.readyState=i.DONE,a()},e.readAsDataURL(t),i.readyState=i.INIT}r||(r=l().createObjectURL(t)),o?s.location.href=r:s.open(r,\"_blank\")||(s.location.href=r);i.readyState=i.DONE,a(),g(r)}()},e=r.prototype;return\"undefined\"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||\"download\",n||(t=m(t)),navigator.msSaveOrOpenBlob(t,e)}:(e.abort=function(){},e.readyState=e.INIT=0,e.WRITING=1,e.DONE=2,e.error=e.onwritestart=e.onprogress=e.onwrite=e.onabort=e.onerror=e.onwriteend=null,function(t,e,n){return new r(t,e||t.name||\"download\",n)})}}(\"undefined\"!=typeof self&&self||\"undefined\"!=typeof window&&window||void 0);function At(x){var t=0;if(71!==x[t++]||73!==x[t++]||70!==x[t++]||56!==x[t++]||56!=(x[t++]+1&253)||97!==x[t++])throw\"Invalid GIF 87a/89a header.\";var N=x[t++]|x[t++]<<8,e=x[t++]|x[t++]<<8,n=x[t++],r=n>>7,i=1<<(7&n)+1;x[t++];x[t++];var o=null;r&&(o=t,t+=3*i);var a=!0,s=[],l=0,h=null,u=0,c=null;for(this.width=N,this.height=e;a&&t<x.length;)switch(x[t++]){case 33:switch(x[t++]){case 255:if(11!==x[t]||78==x[t+1]&&69==x[t+2]&&84==x[t+3]&&83==x[t+4]&&67==x[t+5]&&65==x[t+6]&&80==x[t+7]&&69==x[t+8]&&50==x[t+9]&&46==x[t+10]&&48==x[t+11]&&3==x[t+12]&&1==x[t+13]&&0==x[t+16])t+=14,c=x[t++]|x[t++]<<8,t++;else for(t+=12;;){if(0===(A=x[t++]))break;t+=A}break;case 249:if(4!==x[t++]||0!==x[t+4])throw\"Invalid graphics extension block.\";var f=x[t++];l=x[t++]|x[t++]<<8,h=x[t++],0==(1&f)&&(h=null),u=f>>2&7,t++;break;case 254:for(;;){if(0===(A=x[t++]))break;t+=A}break;default:throw\"Unknown graphic control label: 0x\"+x[t-1].toString(16)}break;case 44:var p=x[t++]|x[t++]<<8,d=x[t++]|x[t++]<<8,g=x[t++]|x[t++]<<8,m=x[t++]|x[t++]<<8,y=x[t++],v=y>>6&1,w=o,b=!1;if(y>>7){b=!0;w=t,t+=3*(1<<(7&y)+1)}var L=t;for(t++;;){var A;if(0===(A=x[t++]))break;t+=A}s.push({x:p,y:d,width:g,height:m,has_local_palette:b,palette_offset:w,data_offset:L,data_length:t-L,transparent_index:h,interlaced:!!v,delay:l,disposal:u});break;case 59:a=!1;break;default:throw\"Unknown gif block: 0x\"+x[t-1].toString(16)}this.numFrames=function(){return s.length},this.loopCount=function(){return c},this.frameInfo=function(t){if(t<0||t>=s.length)throw\"Frame index out of range.\";return s[t]},this.decodeAndBlitFrameBGRA=function(t,e){var n=this.frameInfo(t),r=n.width*n.height,i=new Uint8Array(r);St(x,n.data_offset,i,r);var o=n.palette_offset,a=n.transparent_index;null===a&&(a=256);var s=n.width,l=N-s,h=s,u=4*(n.y*N+n.x),c=4*((n.y+n.height)*N+n.x),f=u,p=4*l;!0===n.interlaced&&(p+=4*(s+l)*7);for(var d=8,g=0,m=i.length;g<m;++g){var y=i[g];if(0===h&&(h=s,c<=(f+=p)&&(p=l+4*(s+l)*(d-1),f=u+(s+l)*(d<<1),d>>=1)),y===a)f+=4;else{var v=x[o+3*y],w=x[o+3*y+1],b=x[o+3*y+2];e[f++]=b,e[f++]=w,e[f++]=v,e[f++]=255}--h}},this.decodeAndBlitFrameRGBA=function(t,e){var n=this.frameInfo(t),r=n.width*n.height,i=new Uint8Array(r);St(x,n.data_offset,i,r);var o=n.palette_offset,a=n.transparent_index;null===a&&(a=256);var s=n.width,l=N-s,h=s,u=4*(n.y*N+n.x),c=4*((n.y+n.height)*N+n.x),f=u,p=4*l;!0===n.interlaced&&(p+=4*(s+l)*7);for(var d=8,g=0,m=i.length;g<m;++g){var y=i[g];if(0===h&&(h=s,c<=(f+=p)&&(p=l+4*(s+l)*(d-1),f=u+(s+l)*(d<<1),d>>=1)),y===a)f+=4;else{var v=x[o+3*y],w=x[o+3*y+1],b=x[o+3*y+2];e[f++]=v,e[f++]=w,e[f++]=b,e[f++]=255}--h}}}function St(t,e,n,r){for(var i=t[e++],o=1<<i,a=o+1,s=a+1,l=i+1,h=(1<<l)-1,u=0,c=0,f=0,p=t[e++],d=new Int32Array(4096),g=null;;){for(;u<16&&0!==p;)c|=t[e++]<<u,u+=8,1===p?p=t[e++]:--p;if(u<l)break;var m=c&h;if(c>>=l,u-=l,m!==o){if(m===a)break;for(var y=m<s?m:g,v=0,w=y;o<w;)w=d[w]>>8,++v;var b=w;if(r<f+v+(y!==m?1:0))return void console.log(\"Warning, gif stream longer than expected.\");n[f++]=b;var x=f+=v;for(y!==m&&(n[f++]=b),w=y;v--;)w=d[w],n[--x]=255&w,w>>=8;null!==g&&s<4096&&(d[s++]=g<<8|b,h+1<=s&&l<12&&(++l,h=h<<1|1)),g=m}else s=a+1,h=(1<<(l=i+1))-1,g=null}return f!==r&&console.log(\"Warning, gif stream shorter than expected.\"),n}try{exports.GifWriter=function(y,t,e,n){var v=0,r=void 0===(n=void 0===n?{}:n).loop?null:n.loop,w=void 0===n.palette?null:n.palette;if(t<=0||e<=0||65535<t||65535<e)throw\"Width/Height invalid.\";function b(t){var e=t.length;if(e<2||256<e||e&e-1)throw\"Invalid code/color length, must be power of 2 and 2 .. 256.\";return e}y[v++]=71,y[v++]=73,y[v++]=70,y[v++]=56,y[v++]=57,y[v++]=97;var i=0,o=0;if(null!==w){for(var a=b(w);a>>=1;)++i;if(a=1<<i,--i,void 0!==n.background){if(a<=(o=n.background))throw\"Background index out of range.\";if(0===o)throw\"Background index explicitly passed as 0.\"}}if(y[v++]=255&t,y[v++]=t>>8&255,y[v++]=255&e,y[v++]=e>>8&255,y[v++]=(null!==w?128:0)|i,y[v++]=o,y[v++]=0,null!==w)for(var s=0,l=w.length;s<l;++s){var h=w[s];y[v++]=h>>16&255,y[v++]=h>>8&255,y[v++]=255&h}if(null!==r){if(r<0||65535<r)throw\"Loop count invalid.\";y[v++]=33,y[v++]=255,y[v++]=11,y[v++]=78,y[v++]=69,y[v++]=84,y[v++]=83,y[v++]=67,y[v++]=65,y[v++]=80,y[v++]=69,y[v++]=50,y[v++]=46,y[v++]=48,y[v++]=3,y[v++]=1,y[v++]=255&r,y[v++]=r>>8&255,y[v++]=0}var x=!1;this.addFrame=function(t,e,n,r,i,o){if(!0===x&&(--v,x=!1),o=void 0===o?{}:o,t<0||e<0||65535<t||65535<e)throw\"x/y invalid.\";if(n<=0||r<=0||65535<n||65535<r)throw\"Width/Height invalid.\";if(i.length<n*r)throw\"Not enough pixels for the frame size.\";var a=!0,s=o.palette;if(null==s&&(a=!1,s=w),null==s)throw\"Must supply either a local or global palette.\";for(var l=b(s),h=0;l>>=1;)++h;l=1<<h;var u=void 0===o.delay?0:o.delay,c=void 0===o.disposal?0:o.disposal;if(c<0||3<c)throw\"Disposal out of range.\";var f=!1,p=0;if(void 0!==o.transparent&&null!==o.transparent&&(f=!0,(p=o.transparent)<0||l<=p))throw\"Transparent color index.\";if((0!==c||f||0!==u)&&(y[v++]=33,y[v++]=249,y[v++]=4,y[v++]=c<<2|(!0===f?1:0),y[v++]=255&u,y[v++]=u>>8&255,y[v++]=p,y[v++]=0),y[v++]=44,y[v++]=255&t,y[v++]=t>>8&255,y[v++]=255&e,y[v++]=e>>8&255,y[v++]=255&n,y[v++]=n>>8&255,y[v++]=255&r,y[v++]=r>>8&255,y[v++]=!0===a?128|h-1:0,!0===a)for(var d=0,g=s.length;d<g;++d){var m=s[d];y[v++]=m>>16&255,y[v++]=m>>8&255,y[v++]=255&m}v=function(e,n,t,r){e[n++]=t;var i=n++,o=1<<t,a=o-1,s=o+1,l=s+1,h=t+1,u=0,c=0;function f(t){for(;t<=u;)e[n++]=255&c,c>>=8,u-=8,n===i+256&&(e[i]=255,i=n++)}function p(t){c|=t<<u,u+=h,f(8)}var d=r[0]&a,g={};p(o);for(var m=1,y=r.length;m<y;++m){var v=r[m]&a,w=d<<8|v,b=g[w];if(void 0===b){for(c|=d<<u,u+=h;8<=u;)e[n++]=255&c,c>>=8,u-=8,n===i+256&&(e[i]=255,i=n++);4096===l?(p(o),l=s+1,h=t+1,g={}):(1<<h<=l&&++h,g[w]=l++),d=v}else d=b}return p(d),p(s),f(1),i+1===n?e[i]=0:(e[i]=n-i-1,e[n++]=0),n}(y,v,h<2?2:h,i)},this.end=function(){return!1===x&&(y[v++]=59,x=!0),v}},exports.GifReader=At}catch(t){}\n/*\n    Copyright (c) 2008, Adobe Systems Incorporated\n    All rights reserved.\n\n    Redistribution and use in source and binary forms, with or without \n    modification, are permitted provided that the following conditions are\n    met:\n\n    * Redistributions of source code must retain the above copyright notice, \n      this list of conditions and the following disclaimer.\n    \n    * Redistributions in binary form must reproduce the above copyright\n      notice, this list of conditions and the following disclaimer in the \n      documentation and/or other materials provided with the distribution.\n    \n    * Neither the name of Adobe Systems Incorporated nor the names of its \n      contributors may be used to endorse or promote products derived from \n      this software without specific prior written permission.\n\n    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS\n    IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\n    THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR \n    CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n    EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n    LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n    NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n    SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n  */\nfunction _t(t){var N,L,A,S,e,c=Math.floor,_=new Array(64),F=new Array(64),P=new Array(64),k=new Array(64),y=new Array(65535),v=new Array(65535),Z=new Array(64),w=new Array(64),I=[],C=0,B=7,j=new Array(64),E=new Array(64),M=new Array(64),n=new Array(256),O=new Array(2048),b=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],W=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function r(t,e){for(var n=0,r=0,i=new Array,o=1;o<=16;o++){for(var a=1;a<=t[o];a++)i[e[r]]=[],i[e[r]][0]=n,i[e[r]][1]=o,r++,n++;n*=2}return i}function V(t){for(var e=t[0],n=t[1]-1;0<=n;)e&1<<n&&(C|=1<<B),n--,--B<0&&(255==C?(G(255),G(0)):G(C),B=7,C=0)}function G(t){I.push(t)}function Y(t){G(t>>8&255),G(255&t)}function J(t,e,n,r,i){for(var o,a=i[0],s=i[240],l=function(t,e){var n,r,i,o,a,s,l,h,u,c,f=0;for(u=0;u<8;++u){n=t[f],r=t[f+1],i=t[f+2],o=t[f+3],a=t[f+4],s=t[f+5],l=t[f+6];var p=n+(h=t[f+7]),d=n-h,g=r+l,m=r-l,y=i+s,v=i-s,w=o+a,b=o-a,x=p+w,N=p-w,L=g+y,A=g-y;t[f]=x+L,t[f+4]=x-L;var S=.707106781*(A+N);t[f+2]=N+S,t[f+6]=N-S;var _=.382683433*((x=b+v)-(A=m+d)),F=.5411961*x+_,P=1.306562965*A+_,k=.707106781*(L=v+m),I=d+k,C=d-k;t[f+5]=C+F,t[f+3]=C-F,t[f+1]=I+P,t[f+7]=I-P,f+=8}for(u=f=0;u<8;++u){n=t[f],r=t[f+8],i=t[f+16],o=t[f+24],a=t[f+32],s=t[f+40],l=t[f+48];var B=n+(h=t[f+56]),j=n-h,E=r+l,M=r-l,O=i+s,q=i-s,T=o+a,R=o-a,D=B+T,U=B-T,z=E+O,H=E-O;t[f]=D+z,t[f+32]=D-z;var W=.707106781*(H+U);t[f+16]=U+W,t[f+48]=U-W;var V=.382683433*((D=R+q)-(H=M+j)),G=.5411961*D+V,Y=1.306562965*H+V,J=.707106781*(z=q+M),X=j+J,K=j-J;t[f+40]=K+G,t[f+24]=K-G,t[f+8]=X+Y,t[f+56]=X-Y,f++}for(u=0;u<64;++u)c=t[u]*e[u],Z[u]=0<c?c+.5|0:c-.5|0;return Z}(t,e),h=0;h<64;++h)w[b[h]]=l[h];var u=w[0]-n;n=w[0],0==u?V(r[0]):(V(r[v[o=32767+u]]),V(y[o]));for(var c=63;0<c&&0==w[c];c--);if(0==c)return V(a),n;for(var f,p=1;p<=c;){for(var d=p;0==w[p]&&p<=c;++p);var g=p-d;if(16<=g){f=g>>4;for(var m=1;m<=f;++m)V(s);g&=15}o=32767+w[p],V(i[(g<<4)+v[o]]),V(y[o]),p++}return 63!=c&&V(a),n}function X(t){if(t<=0&&(t=1),100<t&&(t=100),e!=t){(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=c((e[n]*t+50)/100);r<1?r=1:255<r&&(r=255),_[b[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var a=c((i[o]*t+50)/100);a<1?a=1:255<a&&(a=255),F[b[o]]=a}for(var s=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],l=0,h=0;h<8;h++)for(var u=0;u<8;u++)P[l]=1/(_[b[l]]*s[h]*s[u]*8),k[l]=1/(F[b[l]]*s[h]*s[u]*8),l++})(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),e=t}}this.encode=function(t,e){var n,r;(new Date).getTime();e&&X(e),I=new Array,C=0,B=7,Y(65496),Y(65504),Y(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),Y(1),Y(1),G(0),G(0),function(){Y(65499),Y(132),G(0);for(var t=0;t<64;t++)G(_[t]);G(1);for(var e=0;e<64;e++)G(F[e])}(),n=t.width,r=t.height,Y(65472),Y(17),G(8),Y(r),Y(n),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1),function(){Y(65476),Y(418),G(0);for(var t=0;t<16;t++)G(q[t+1]);for(var e=0;e<=11;e++)G(T[e]);G(16);for(var n=0;n<16;n++)G(R[n+1]);for(var r=0;r<=161;r++)G(D[r]);G(1);for(var i=0;i<16;i++)G(U[i+1]);for(var o=0;o<=11;o++)G(z[o]);G(17);for(var a=0;a<16;a++)G(H[a+1]);for(var s=0;s<=161;s++)G(W[s])}(),Y(65498),Y(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var i=0,o=0,a=0;C=0,B=7,this.encode.displayName=\"_encode_\";for(var s,l,h,u,c,f,p,d,g,m=t.data,y=t.width,v=t.height,w=4*y,b=0;b<v;){for(s=0;s<w;){for(f=c=w*b+s,p=-1,g=d=0;g<64;g++)f=c+(d=g>>3)*w+(p=4*(7&g)),v<=b+d&&(f-=w*(b+1+d-v)),w<=s+p&&(f-=s+p-w+4),l=m[f++],h=m[f++],u=m[f++],j[g]=(O[l]+O[h+256>>0]+O[u+512>>0]>>16)-128,E[g]=(O[l+768>>0]+O[h+1024>>0]+O[u+1280>>0]>>16)-128,M[g]=(O[l+1280>>0]+O[h+1536>>0]+O[u+1792>>0]>>16)-128;i=J(j,P,i,N,A),o=J(E,k,o,L,S),a=J(M,k,a,L,S),s+=32}b+=8}if(0<=B){var x=[];x[1]=B+1,x[0]=(1<<B+1)-1,V(x)}return Y(65497),new Uint8Array(I)},function(){(new Date).getTime();t||(t=50),function(){for(var t=String.fromCharCode,e=0;e<256;e++)n[e]=t(e)}(),N=r(q,T),L=r(U,z),A=r(R,D),S=r(H,W),function(){for(var t=1,e=2,n=1;n<=15;n++){for(var r=t;r<e;r++)v[32767+r]=n,y[32767+r]=[],y[32767+r][1]=n,y[32767+r][0]=r;for(var i=-(e-1);i<=-t;i++)v[32767+i]=n,y[32767+i]=[],y[32767+i][1]=n,y[32767+i][0]=e-1+i;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)O[t]=19595*t,O[t+256>>0]=38470*t,O[t+512>>0]=7471*t+32768,O[t+768>>0]=-11059*t,O[t+1024>>0]=-21709*t,O[t+1280>>0]=32768*t+8421375,O[t+1536>>0]=-27439*t,O[t+1792>>0]=-5329*t}(),X(t),(new Date).getTime()}()}function Ft(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===[\"BM\",\"BA\",\"CI\",\"CP\",\"IC\",\"PT\"].indexOf(this.flag))throw new Error(\"Invalid BMP File\");this.parseHeader(),this.parseBGR()}window.tmp=At,lt.API.adler32cs=(dt=\"function\"==typeof ArrayBuffer&&\"function\"==typeof Uint8Array,gt=null,mt=function(){if(!dt)return function(){return!1};try{var t={};\"function\"==typeof t.Buffer&&(gt=t.Buffer)}catch(t){}return function(t){return t instanceof ArrayBuffer||null!==gt&&t instanceof gt}}(),yt=null!==gt?function(t){return new gt(t,\"utf8\").toString(\"binary\")}:function(t){return unescape(encodeURIComponent(t))},vt=function(t,e){for(var n=65535&t,r=t>>>16,i=0,o=e.length;i<o;i++)n=(n+(255&e.charCodeAt(i)))%65521,r=(r+n)%65521;return(r<<16|n)>>>0},wt=function(t,e){for(var n=65535&t,r=t>>>16,i=0,o=e.length;i<o;i++)n=(n+e[i])%65521,r=(r+n)%65521;return(r<<16|n)>>>0},xt=(bt={}).Adler32=(((pt=(ft=function(t){if(!(this instanceof ft))throw new TypeError(\"Constructor cannot called be as a function.\");if(!isFinite(t=null==t?1:+t))throw new Error(\"First arguments needs to be a finite number.\");this.checksum=t>>>0}).prototype={}).constructor=ft).from=((ht=function(t){if(!(this instanceof ft))throw new TypeError(\"Constructor cannot called be as a function.\");if(null==t)throw new Error(\"First argument needs to be a string.\");this.checksum=vt(1,t.toString())}).prototype=pt,ht),ft.fromUtf8=((ut=function(t){if(!(this instanceof ft))throw new TypeError(\"Constructor cannot called be as a function.\");if(null==t)throw new Error(\"First argument needs to be a string.\");var e=yt(t.toString());this.checksum=vt(1,e)}).prototype=pt,ut),dt&&(ft.fromBuffer=((ct=function(t){if(!(this instanceof ft))throw new TypeError(\"Constructor cannot called be as a function.\");if(!mt(t))throw new Error(\"First argument needs to be ArrayBuffer.\");var e=new Uint8Array(t);return this.checksum=wt(1,e)}).prototype=pt,ct)),pt.update=function(t){if(null==t)throw new Error(\"First argument needs to be a string.\");return t=t.toString(),this.checksum=vt(this.checksum,t)},pt.updateUtf8=function(t){if(null==t)throw new Error(\"First argument needs to be a string.\");var e=yt(t.toString());return this.checksum=vt(this.checksum,e)},dt&&(pt.updateBuffer=function(t){if(!mt(t))throw new Error(\"First argument needs to be ArrayBuffer.\");var e=new Uint8Array(t);return this.checksum=wt(this.checksum,e)}),pt.clone=function(){return new xt(this.checksum)},ft),bt.from=function(t){if(null==t)throw new Error(\"First argument needs to be a string.\");return vt(1,t.toString())},bt.fromUtf8=function(t){if(null==t)throw new Error(\"First argument needs to be a string.\");var e=yt(t.toString());return vt(1,e)},dt&&(bt.fromBuffer=function(t){if(!mt(t))throw new Error(\"First argument need to be ArrayBuffer.\");var e=new Uint8Array(t);return wt(1,e)}),bt),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(t){var d,g,c,f,i,o,a,s=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},l={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},h=[\"(\",\")\",\"(\",\"<\",\">\",\"<\",\"[\",\"]\",\"[\",\"{\",\"}\",\"{\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],u=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,b=0;this.__bidiEngine__={};var x=function(t){var e=t.charCodeAt(),n=e>>8,r=l[n];return void 0!==r?s[256*r+(255&e)]:252===n||253===n?\"AL\":u.test(n)?\"L\":8===n?\"R\":\"N\"},p=function(t){for(var e,n=0;n<t.length;n++){if(\"L\"===(e=x(t.charAt(n))))return!1;if(\"R\"===e)return!0}return!1},N=function(t,e,n,r){var i,o,a,s,l=e[r];switch(l){case\"L\":case\"R\":w=!1;break;case\"N\":case\"AN\":break;case\"EN\":w&&(l=\"AN\");break;case\"AL\":w=!0,l=\"R\";break;case\"WS\":l=\"N\";break;case\"CS\":r<1||r+1>=e.length||\"EN\"!==(i=n[r-1])&&\"AN\"!==i||\"EN\"!==(o=e[r+1])&&\"AN\"!==o?l=\"N\":w&&(o=\"AN\"),l=o===i?o:\"N\";break;case\"ES\":l=\"EN\"===(i=0<r?n[r-1]:\"B\")&&r+1<e.length&&\"EN\"===e[r+1]?\"EN\":\"N\";break;case\"ET\":if(0<r&&\"EN\"===n[r-1]){l=\"EN\";break}if(w){l=\"N\";break}for(a=r+1,s=e.length;a<s&&\"ET\"===e[a];)a++;l=a<s&&\"EN\"===e[a]?\"EN\":\"N\";break;case\"NSM\":if(c&&!f){for(s=e.length,a=r+1;a<s&&\"NSM\"===e[a];)a++;if(a<s){var h=t[r],u=1425<=h&&h<=2303||64286===h;if(i=e[a],u&&(\"R\"===i||\"AL\"===i)){l=\"R\";break}}}l=r<1||\"B\"===(i=e[r-1])?\"N\":n[r-1];break;case\"B\":d=!(w=!1),l=b;break;case\"S\":g=!0,l=\"N\";break;case\"LRE\":case\"RLE\":case\"LRO\":case\"RLO\":case\"PDF\":w=!1;break;case\"BN\":l=\"N\"}return l},L=function(t,e,n){var r=t.split(\"\");return n&&A(r,n,{hiLevel:b}),r.reverse(),e&&e.reverse(),r.join(\"\")},A=function(t,e,n){var r,i,o,a,s,l=-1,h=t.length,u=0,c=[],f=b?y:m,p=[];for(g=d=w=!1,i=0;i<h;i++)p[i]=x(t[i]);for(o=0;o<h;o++){if(s=u,c[o]=N(t,p,c,o),r=240&(u=f[s][v[c[o]]]),u&=15,e[o]=a=f[u][5],0<r)if(16===r){for(i=l;i<o;i++)e[i]=1;l=-1}else l=-1;if(f[u][6])-1===l&&(l=o);else if(-1<l){for(i=l;i<o;i++)e[i]=a;l=-1}\"B\"===p[o]&&(e[o]=0),n.hiLevel|=a}g&&function(t,e,n){for(var r=0;r<n;r++)if(\"S\"===t[r]){e[r]=b;for(var i=r-1;0<=i&&\"WS\"===t[i];i--)e[i]=b}}(p,e,h)},S=function(t,e,n,r,i){if(!(i.hiLevel<t)){if(1===t&&1===b&&!d)return e.reverse(),void(n&&n.reverse());for(var o,a,s,l,h=e.length,u=0;u<h;){if(r[u]>=t){for(s=u+1;s<h&&r[s]>=t;)s++;for(l=u,a=s-1;l<a;l++,a--)o=e[l],e[l]=e[a],e[a]=o,n&&(o=n[l],n[l]=n[a],n[a]=o);u=s}u++}}},_=function(t,e,n){var r=t.split(\"\"),i={hiLevel:b};return n||(n=[]),A(r,n,i),function(t,e,n){if(0!==n.hiLevel&&a)for(var r,i=0;i<t.length;i++)1===e[i]&&0<=(r=h.indexOf(t[i]))&&(t[i]=h[r+1])}(r,n,i),S(2,r,e,n,i),S(1,r,e,n,i),r.join(\"\")};return this.__bidiEngine__.doBidiReorder=function(t,e,n){if(function(t,e){if(e)for(var n=0;n<t.length;n++)e[n]=n;void 0===f&&(f=p(t)),void 0===o&&(o=p(t))}(t,e),c||!i||o)if(c&&i&&f^o)b=f?1:0,t=L(t,e,n);else if(!c&&i&&o)b=f?1:0,t=_(t,e,n),t=L(t,e);else if(!c||f||i||o){if(c&&!i&&f^o)t=L(t,e),t=f?(b=0,_(t,e,n)):(b=1,t=_(t,e,n),L(t,e));else if(c&&f&&!i&&o)b=1,t=_(t,e,n),t=L(t,e);else if(!c&&!i&&f^o){var r=a;f?(b=1,t=_(t,e,n),b=0,a=!1,t=_(t,e,n),a=r):(b=0,t=_(t,e,n),t=L(t,e),a=!(b=1),t=_(t,e,n),a=r,t=L(t,e))}}else b=0,t=_(t,e,n);else b=f?1:0,t=_(t,e,n);return t},this.__bidiEngine__.setOptions=function(t){t&&(c=t.isInputVisual,i=t.isOutputVisual,f=t.isInputRtl,o=t.isOutputRtl,a=t.isSymmetricSwapping)},this.__bidiEngine__.setOptions(t),this.__bidiEngine__};var e=[\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"S\",\"B\",\"S\",\"WS\",\"B\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"B\",\"B\",\"B\",\"S\",\"WS\",\"N\",\"N\",\"ET\",\"ET\",\"ET\",\"N\",\"N\",\"N\",\"N\",\"N\",\"ES\",\"CS\",\"ES\",\"CS\",\"CS\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"CS\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"N\",\"N\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"B\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"CS\",\"N\",\"ET\",\"ET\",\"ET\",\"ET\",\"N\",\"N\",\"N\",\"N\",\"L\",\"N\",\"N\",\"BN\",\"N\",\"N\",\"ET\",\"ET\",\"EN\",\"EN\",\"N\",\"L\",\"N\",\"N\",\"N\",\"EN\",\"L\",\"N\",\"N\",\"N\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"L\",\"N\",\"N\",\"N\",\"N\",\"N\",\"ET\",\"N\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"R\",\"NSM\",\"R\",\"NSM\",\"NSM\",\"R\",\"NSM\",\"NSM\",\"R\",\"NSM\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"N\",\"N\",\"N\",\"N\",\"N\",\"R\",\"R\",\"R\",\"R\",\"R\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"N\",\"N\",\"AL\",\"ET\",\"ET\",\"AL\",\"CS\",\"AL\",\"N\",\"N\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"AL\",\"AL\",\"N\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"ET\",\"AN\",\"AN\",\"AL\",\"AL\",\"AL\",\"NSM\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"AN\",\"N\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"AL\",\"AL\",\"NSM\",\"NSM\",\"N\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"AL\",\"AL\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"N\",\"AL\",\"AL\",\"NSM\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"N\",\"N\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"AL\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"R\",\"R\",\"N\",\"N\",\"N\",\"N\",\"R\",\"N\",\"N\",\"N\",\"N\",\"N\",\"WS\",\"WS\",\"WS\",\"WS\",\"WS\",\"WS\",\"WS\",\"WS\",\"WS\",\"WS\",\"WS\",\"BN\",\"BN\",\"BN\",\"L\",\"R\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"WS\",\"B\",\"LRE\",\"RLE\",\"PDF\",\"LRO\",\"RLO\",\"CS\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"CS\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"WS\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"N\",\"LRI\",\"RLI\",\"FSI\",\"PDI\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"EN\",\"L\",\"N\",\"N\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"ES\",\"ES\",\"N\",\"N\",\"N\",\"L\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"ES\",\"ES\",\"N\",\"N\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"N\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"N\",\"N\",\"N\",\"R\",\"NSM\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"ES\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"N\",\"R\",\"R\",\"R\",\"R\",\"R\",\"N\",\"R\",\"N\",\"R\",\"R\",\"N\",\"R\",\"R\",\"N\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"CS\",\"N\",\"CS\",\"N\",\"N\",\"CS\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"ET\",\"N\",\"N\",\"ES\",\"ES\",\"N\",\"N\",\"N\",\"N\",\"N\",\"ET\",\"ET\",\"N\",\"N\",\"N\",\"N\",\"N\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"N\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"N\",\"N\",\"BN\",\"N\",\"N\",\"N\",\"ET\",\"ET\",\"ET\",\"N\",\"N\",\"N\",\"N\",\"N\",\"ES\",\"CS\",\"ES\",\"CS\",\"CS\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"CS\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"L\",\"L\",\"L\",\"N\",\"N\",\"N\",\"ET\",\"ET\",\"N\",\"N\",\"N\",\"ET\",\"ET\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\"],o=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push([\"postProcessText\",function(t){var e=t.text,n=(t.x,t.y,t.options||{}),r=(t.mutex,n.lang,[]);if(\"[object Array]\"===Object.prototype.toString.call(e)){var i=0;for(r=[],i=0;i<e.length;i+=1)\"[object Array]\"===Object.prototype.toString.call(e[i])?r.push([o.doBidiReorder(e[i][0]),e[i][1],e[i][2]]):r.push([o.doBidiReorder(e[i])]);t.text=r}else t.text=o.doBidiReorder(e)}])}(lt),window.tmp=_t,Ft.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ft.prototype.parseBGR=function(){this.pos=this.offset;try{var t=\"bit\"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(t){console.log(\"bit decode error:\"+t)}},Ft.prototype.bit1=function(){var t=Math.ceil(this.width/8),e=t%4,n=0<=this.height?this.height-1:-this.height;for(n=this.height-1;0<=n;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++)for(var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[o>>7-s&1];this.data[a+4*s]=l.blue,this.data[a+4*s+1]=l.green,this.data[a+4*s+2]=l.red,this.data[a+4*s+3]=255}0!=e&&(this.pos+=4-e)}},Ft.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;0<=n;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,s=o>>4,l=15&o,h=this.palette[s];if(this.data[a]=h.blue,this.data[a+1]=h.green,this.data[a+2]=h.red,this.data[a+3]=255,2*i+1>=this.width)break;h=this.palette[l],this.data[a+4]=h.blue,this.data[a+4+1]=h.green,this.data[a+4+2]=h.red,this.data[a+4+3]=255}0!=e&&(this.pos+=4-e)}},Ft.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;0<=e;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[o]=a.red,this.data[o+1]=a.green,this.data[o+2]=a.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!=t&&(this.pos+=4-t)}},Ft.prototype.bit15=function(){for(var t=this.width%3,e=parseInt(\"11111\",2),n=this.height-1;0<=n;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,s=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,h=o>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=s,this.data[u+2]=a,this.data[u+3]=h}this.pos+=t}},Ft.prototype.bit16=function(){for(var t=this.width%3,e=parseInt(\"11111\",2),n=parseInt(\"111111\",2),r=this.height-1;0<=r;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,h=(a>>11)/e*255|0,u=i*this.width*4+4*o;this.data[u]=h,this.data[u+1]=l,this.data[u+2]=s,this.data[u+3]=255}this.pos+=t}},Ft.prototype.bit24=function(){for(var t=this.height-1;0<=t;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Ft.prototype.bit32=function(){for(var t=this.height-1;0<=t;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=a}},Ft.prototype.getData=function(){return this.data},window.tmp=Ft,\n/*\n   Copyright (c) 2013 Gildas Lormeau. All rights reserved.\n\n   Redistribution and use in source and binary forms, with or without\n   modification, are permitted provided that the following conditions are met:\n\n   1. Redistributions of source code must retain the above copyright notice,\n   this list of conditions and the following disclaimer.\n\n   2. Redistributions in binary form must reproduce the above copyright \n   notice, this list of conditions and the following disclaimer in \n   the documentation and/or other materials provided with the distribution.\n\n   3. The names of the authors may not be used to endorse or promote products\n   derived from this software without specific prior written permission.\n\n   THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,\n   INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n   FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,\n   INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,\n   INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n   LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n   OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n   LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n   NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n   EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n   */\nfunction(t){var d=15,g=573,e=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function ct(){var p=this;function l(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}p.build_tree=function(t){var e,n,r,i=p.dyn_tree,o=p.stat_desc.static_tree,a=p.stat_desc.elems,s=-1;for(t.heap_len=0,t.heap_max=g,e=0;e<a;e++)0!==i[2*e]?(t.heap[++t.heap_len]=s=e,t.depth[e]=0):i[2*e+1]=0;for(;t.heap_len<2;)i[2*(r=t.heap[++t.heap_len]=s<2?++s:0)]=1,t.depth[r]=0,t.opt_len--,o&&(t.static_len-=o[2*r+1]);for(p.max_code=s,e=Math.floor(t.heap_len/2);1<=e;e--)t.pqdownheap(i,e);for(r=a;e=t.heap[1],t.heap[1]=t.heap[t.heap_len--],t.pqdownheap(i,1),n=t.heap[1],t.heap[--t.heap_max]=e,t.heap[--t.heap_max]=n,i[2*r]=i[2*e]+i[2*n],t.depth[r]=Math.max(t.depth[e],t.depth[n])+1,i[2*e+1]=i[2*n+1]=r,t.heap[1]=r++,t.pqdownheap(i,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t){var e,n,r,i,o,a,s=p.dyn_tree,l=p.stat_desc.static_tree,h=p.stat_desc.extra_bits,u=p.stat_desc.extra_base,c=p.stat_desc.max_length,f=0;for(i=0;i<=d;i++)t.bl_count[i]=0;for(s[2*t.heap[t.heap_max]+1]=0,e=t.heap_max+1;e<g;e++)c<(i=s[2*s[2*(n=t.heap[e])+1]+1]+1)&&(i=c,f++),s[2*n+1]=i,n>p.max_code||(t.bl_count[i]++,o=0,u<=n&&(o=h[n-u]),a=s[2*n],t.opt_len+=a*(i+o),l&&(t.static_len+=a*(l[2*n+1]+o)));if(0!==f){do{for(i=c-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[c]--,f-=2}while(0<f);for(i=c;0!==i;i--)for(n=t.bl_count[i];0!==n;)(r=t.heap[--e])>p.max_code||(s[2*r+1]!=i&&(t.opt_len+=(i-s[2*r+1])*s[2*r],s[2*r+1]=i),n--)}}(t),function(t,e,n){var r,i,o,a=[],s=0;for(r=1;r<=d;r++)a[r]=s=s+n[r-1]<<1;for(i=0;i<=e;i++)0!==(o=t[2*i+1])&&(t[2*i]=l(a[o]++,o))}(i,p.max_code,t.bl_count)}}function ft(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i}ct._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],ct.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],ct.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],ct.d_code=function(t){return t<256?e[t]:e[256+(t>>>7)]},ct.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ct.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ct.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ct.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ft.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],ft.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],ft.static_l_desc=new ft(ft.static_ltree,ct.extra_lbits,257,286,d),ft.static_d_desc=new ft(ft.static_dtree,ct.extra_dbits,0,30,d),ft.static_bl_desc=new ft(null,ct.extra_blbits,0,19,7);function n(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}var pt=[new n(0,0,0,0,0),new n(4,4,8,4,1),new n(4,5,16,8,1),new n(4,6,32,32,1),new n(4,4,16,16,2),new n(8,16,32,32,2),new n(8,16,128,128,2),new n(8,32,128,256,2),new n(32,128,258,1024,2),new n(32,258,258,4096,2)],dt=[\"need dictionary\",\"stream end\",\"\",\"\",\"stream error\",\"data error\",\"\",\"buffer error\",\"\",\"\"];function gt(t,e,n,r){var i=t[2*e],o=t[2*n];return i<o||i==o&&r[e]<=r[n]}function r(){var l,h,u,c,f,p,d,g,i,m,y,v,w,a,b,x,N,L,A,S,_,F,P,k,I,C,B,j,E,M,s,O,q,T,R,D,U,o,z,H,W,V=this,G=new ct,Y=new ct,J=new ct;function X(){var t;for(t=0;t<286;t++)s[2*t]=0;for(t=0;t<30;t++)O[2*t]=0;for(t=0;t<19;t++)q[2*t]=0;s[512]=1,V.opt_len=V.static_len=0,D=o=0}function K(t,e){var n,r,i=-1,o=t[1],a=0,s=7,l=4;for(0===o&&(s=138,l=3),t[2*(e+1)+1]=65535,n=0;n<=e;n++)r=o,o=t[2*(n+1)+1],++a<s&&r==o||(a<l?q[2*r]+=a:0!==r?(r!=i&&q[2*r]++,q[32]++):a<=10?q[34]++:q[36]++,i=r,l=(a=0)===o?(s=138,3):r==o?(s=6,3):(s=7,4))}function Z(t){V.pending_buf[V.pending++]=t}function Q(t){Z(255&t),Z(t>>>8&255)}function $(t,e){var n,r=e;16-r<W?(Q(H|=(n=t)<<W&65535),H=n>>>16-W,W+=r-16):(H|=t<<W&65535,W+=r)}function tt(t,e){var n=2*t;$(65535&e[n],65535&e[n+1])}function et(t,e){var n,r,i=-1,o=t[1],a=0,s=7,l=4;for(0===o&&(s=138,l=3),n=0;n<=e;n++)if(r=o,o=t[2*(n+1)+1],!(++a<s&&r==o)){if(a<l)for(;tt(r,q),0!=--a;);else 0!==r?(r!=i&&(tt(r,q),a--),tt(16,q),$(a-3,2)):a<=10?(tt(17,q),$(a-3,3)):(tt(18,q),$(a-11,7));i=r,l=(a=0)===o?(s=138,3):r==o?(s=6,3):(s=7,4)}}function nt(){16==W?(Q(H),W=H=0):8<=W&&(Z(255&H),H>>>=8,W-=8)}function rt(t,e){var n,r,i;if(V.pending_buf[U+2*D]=t>>>8&255,V.pending_buf[U+2*D+1]=255&t,V.pending_buf[T+D]=255&e,D++,0===t?s[2*e]++:(o++,t--,s[2*(ct._length_code[e]+256+1)]++,O[2*ct.d_code(t)]++),0==(8191&D)&&2<B){for(n=8*D,r=_-N,i=0;i<30;i++)n+=O[2*i]*(5+ct.extra_dbits[i]);if(n>>>=3,o<Math.floor(D/2)&&n<Math.floor(r/2))return!0}return D==R-1}function it(t,e){var n,r,i,o,a=0;if(0!==D)for(;n=V.pending_buf[U+2*a]<<8&65280|255&V.pending_buf[U+2*a+1],r=255&V.pending_buf[T+a],a++,0===n?tt(r,t):(tt((i=ct._length_code[r])+256+1,t),0!==(o=ct.extra_lbits[i])&&$(r-=ct.base_length[i],o),tt(i=ct.d_code(--n),e),0!==(o=ct.extra_dbits[i])&&$(n-=ct.base_dist[i],o)),a<D;);tt(256,t),z=t[513]}function ot(){8<W?Q(H):0<W&&Z(255&H),W=H=0}function at(t,e,n){var r,i,o;$(0+(n?1:0),3),r=t,i=e,o=!0,ot(),z=8,o&&(Q(i),Q(~i)),V.pending_buf.set(g.subarray(r,r+i),V.pending),V.pending+=i}function e(t,e,n){var r,i,o=0;0<B?(G.build_tree(V),Y.build_tree(V),o=function(){var t;for(K(s,G.max_code),K(O,Y.max_code),J.build_tree(V),t=18;3<=t&&0===q[2*ct.bl_order[t]+1];t--);return V.opt_len+=3*(t+1)+5+5+4,t}(),r=V.opt_len+3+7>>>3,(i=V.static_len+3+7>>>3)<=r&&(r=i)):r=i=e+5,e+4<=r&&-1!=t?at(t,e,n):i==r?($(2+(n?1:0),3),it(ft.static_ltree,ft.static_dtree)):($(4+(n?1:0),3),function(t,e,n){var r;for($(t-257,5),$(e-1,5),$(n-4,4),r=0;r<n;r++)$(q[2*ct.bl_order[r]+1],3);et(s,t-1),et(O,e-1)}(G.max_code+1,Y.max_code+1,o+1),it(s,O)),X(),n&&ot()}function st(t){e(0<=N?N:-1,_-N,t),N=_,l.flush_pending()}function lt(){var t,e,n,r;do{if(0===(r=i-P-_)&&0===_&&0===P)r=f;else if(-1==r)r--;else if(f+f-262<=_){for(g.set(g.subarray(f,f+f),0),F-=f,_-=f,N-=f,n=t=w;e=65535&y[--n],y[n]=f<=e?e-f:0,0!=--t;);for(n=t=f;e=65535&m[--n],m[n]=f<=e?e-f:0,0!=--t;);r+=f}if(0===l.avail_in)return;t=l.read_buf(g,_+P,r),3<=(P+=t)&&(v=((v=255&g[_])<<x^255&g[_+1])&b)}while(P<262&&0!==l.avail_in)}function ht(t){var e,n,r=I,i=_,o=k,a=f-262<_?_-(f-262):0,s=M,l=d,h=_+258,u=g[i+o-1],c=g[i+o];E<=k&&(r>>=2),P<s&&(s=P);do{if(g[(e=t)+o]==c&&g[e+o-1]==u&&g[e]==g[i]&&g[++e]==g[i+1]){i+=2,e++;do{}while(g[++i]==g[++e]&&g[++i]==g[++e]&&g[++i]==g[++e]&&g[++i]==g[++e]&&g[++i]==g[++e]&&g[++i]==g[++e]&&g[++i]==g[++e]&&g[++i]==g[++e]&&i<h);if(n=258-(h-i),i=h-258,o<n){if(F=t,s<=(o=n))break;u=g[i+o-1],c=g[i+o]}}}while((t=65535&m[t&l])>a&&0!=--r);return o<=P?o:P}function ut(t){return t.total_in=t.total_out=0,t.msg=null,V.pending=0,V.pending_out=0,h=113,c=0,G.dyn_tree=s,G.stat_desc=ft.static_l_desc,Y.dyn_tree=O,Y.stat_desc=ft.static_d_desc,J.dyn_tree=q,J.stat_desc=ft.static_bl_desc,W=H=0,z=8,X(),function(){var t;for(i=2*f,t=y[w-1]=0;t<w-1;t++)y[t]=0;C=pt[B].max_lazy,E=pt[B].good_length,M=pt[B].nice_length,I=pt[B].max_chain,L=k=2,v=S=P=N=_=0}(),0}V.depth=[],V.bl_count=[],V.heap=[],s=[],O=[],q=[],V.pqdownheap=function(t,e){for(var n=V.heap,r=n[e],i=e<<1;i<=V.heap_len&&(i<V.heap_len&&gt(t,n[i+1],n[i],V.depth)&&i++,!gt(t,r,n[i],V.depth));)n[e]=n[i],e=i,i<<=1;n[e]=r},V.deflateInit=function(t,e,n,r,i,o){return r||(r=8),i||(i=8),o||(o=0),t.msg=null,-1==e&&(e=6),i<1||9<i||8!=r||n<9||15<n||e<0||9<e||o<0||2<o?-2:(t.dstate=V,d=(f=1<<(p=n))-1,b=(w=1<<(a=i+7))-1,x=Math.floor((a+3-1)/3),g=new Uint8Array(2*f),m=[],y=[],R=1<<i+6,V.pending_buf=new Uint8Array(4*R),u=4*R,U=Math.floor(R/2),T=3*R,B=e,j=o,ut(t))},V.deflateEnd=function(){return 42!=h&&113!=h&&666!=h?-2:(V.pending_buf=null,g=m=y=null,V.dstate=null,113==h?-3:0)},V.deflateParams=function(t,e,n){var r=0;return-1==e&&(e=6),e<0||9<e||n<0||2<n?-2:(pt[B].func!=pt[e].func&&0!==t.total_in&&(r=t.deflate(1)),B!=e&&(C=pt[B=e].max_lazy,E=pt[B].good_length,M=pt[B].nice_length,I=pt[B].max_chain),j=n,r)},V.deflateSetDictionary=function(t,e,n){var r,i=n,o=0;if(!e||42!=h)return-2;if(i<3)return 0;for(f-262<i&&(o=n-(i=f-262)),g.set(e.subarray(o,o+i),0),N=_=i,v=((v=255&g[0])<<x^255&g[1])&b,r=0;r<=i-3;r++)v=(v<<x^255&g[r+2])&b,m[r&d]=y[v],y[v]=r;return 0},V.deflate=function(t,e){var n,r,i,o,a,s;if(4<e||e<0)return-2;if(!t.next_out||!t.next_in&&0!==t.avail_in||666==h&&4!=e)return t.msg=dt[4],-2;if(0===t.avail_out)return t.msg=dt[7],-5;if(l=t,o=c,c=e,42==h&&(r=8+(p-8<<4)<<8,3<(i=(B-1&255)>>1)&&(i=3),r|=i<<6,0!==_&&(r|=32),h=113,Z((s=r+=31-r%31)>>8&255),Z(255&s)),0!==V.pending){if(l.flush_pending(),0===l.avail_out)return c=-1,0}else if(0===l.avail_in&&e<=o&&4!=e)return l.msg=dt[7],-5;if(666==h&&0!==l.avail_in)return t.msg=dt[7],-5;if(0!==l.avail_in||0!==P||0!=e&&666!=h){switch(a=-1,pt[B].func){case 0:a=function(t){var e,n=65535;for(u-5<n&&(n=u-5);;){if(P<=1){if(lt(),0===P&&0==t)return 0;if(0===P)break}if(_+=P,e=N+n,((P=0)===_||e<=_)&&(P=_-e,_=e,st(!1),0===l.avail_out))return 0;if(f-262<=_-N&&(st(!1),0===l.avail_out))return 0}return st(4==t),0===l.avail_out?4==t?2:0:4==t?3:1}(e);break;case 1:a=function(t){for(var e,n=0;;){if(P<262){if(lt(),P<262&&0==t)return 0;if(0===P)break}if(3<=P&&(v=(v<<x^255&g[_+2])&b,n=65535&y[v],m[_&d]=y[v],y[v]=_),0!==n&&(_-n&65535)<=f-262&&2!=j&&(L=ht(n)),3<=L)if(e=rt(_-F,L-3),P-=L,L<=C&&3<=P){for(L--;v=(v<<x^255&g[++_+2])&b,n=65535&y[v],m[_&d]=y[v],y[v]=_,0!=--L;);_++}else _+=L,L=0,v=((v=255&g[_])<<x^255&g[_+1])&b;else e=rt(0,255&g[_]),P--,_++;if(e&&(st(!1),0===l.avail_out))return 0}return st(4==t),0===l.avail_out?4==t?2:0:4==t?3:1}(e);break;case 2:a=function(t){for(var e,n,r=0;;){if(P<262){if(lt(),P<262&&0==t)return 0;if(0===P)break}if(3<=P&&(v=(v<<x^255&g[_+2])&b,r=65535&y[v],m[_&d]=y[v],y[v]=_),k=L,A=F,L=2,0!==r&&k<C&&(_-r&65535)<=f-262&&(2!=j&&(L=ht(r)),L<=5&&(1==j||3==L&&4096<_-F)&&(L=2)),3<=k&&L<=k){for(n=_+P-3,e=rt(_-1-A,k-3),P-=k-1,k-=2;++_<=n&&(v=(v<<x^255&g[_+2])&b,r=65535&y[v],m[_&d]=y[v],y[v]=_),0!=--k;);if(S=0,L=2,_++,e&&(st(!1),0===l.avail_out))return 0}else if(0!==S){if((e=rt(0,255&g[_-1]))&&st(!1),_++,P--,0===l.avail_out)return 0}else S=1,_++,P--}return 0!==S&&(e=rt(0,255&g[_-1]),S=0),st(4==t),0===l.avail_out?4==t?2:0:4==t?3:1}(e)}if(2!=a&&3!=a||(h=666),0==a||2==a)return 0===l.avail_out&&(c=-1),0;if(1==a){if(1==e)$(2,3),tt(256,ft.static_ltree),nt(),1+z+10-W<9&&($(2,3),tt(256,ft.static_ltree),nt()),z=7;else if(at(0,0,!1),3==e)for(n=0;n<w;n++)y[n]=0;if(l.flush_pending(),0===l.avail_out)return c=-1,0}}return 4!=e?0:1}}function i(){this.next_in_index=0,this.next_out_index=0,this.avail_in=0,this.total_in=0,this.avail_out=0,this.total_out=0}i.prototype={deflateInit:function(t,e){return this.dstate=new r,e||(e=d),this.dstate.deflateInit(this,t,e)},deflate:function(t){return this.dstate?this.dstate.deflate(this,t):-2},deflateEnd:function(){if(!this.dstate)return-2;var t=this.dstate.deflateEnd();return this.dstate=null,t},deflateParams:function(t,e){return this.dstate?this.dstate.deflateParams(this,t,e):-2},deflateSetDictionary:function(t,e){return this.dstate?this.dstate.deflateSetDictionary(this,t,e):-2},read_buf:function(t,e,n){var r=this.avail_in;return n<r&&(r=n),0===r?0:(this.avail_in-=r,t.set(this.next_in.subarray(this.next_in_index,this.next_in_index+r),e),this.next_in_index+=r,this.total_in+=r,r)},flush_pending:function(){var t=this,e=t.dstate.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out,t.dstate.pending_out+e),t.next_out_index),t.next_out_index+=e,t.dstate.pending_out+=e,t.total_out+=e,t.avail_out-=e,t.dstate.pending-=e,0===t.dstate.pending&&(t.dstate.pending_out=0))}};var o=t.zip||t;o.Deflater=o._jzlib_Deflater=function(t){var s=new i,l=new Uint8Array(512),e=t?t.level:-1;void 0===e&&(e=-1),s.deflateInit(e),s.next_out=l,this.append=function(t,e){var n,r=[],i=0,o=0,a=0;if(t.length){s.next_in_index=0,s.next_in=t,s.avail_in=t.length;do{if(s.next_out_index=0,s.avail_out=512,0!=s.deflate(0))throw new Error(\"deflating: \"+s.msg);s.next_out_index&&(512==s.next_out_index?r.push(new Uint8Array(l)):r.push(new Uint8Array(l.subarray(0,s.next_out_index)))),a+=s.next_out_index,e&&0<s.next_in_index&&s.next_in_index!=i&&(e(s.next_in_index),i=s.next_in_index)}while(0<s.avail_in||0===s.avail_out);return n=new Uint8Array(a),r.forEach(function(t){n.set(t,o),o+=t.length}),n}},this.flush=function(){var t,e,n=[],r=0,i=0;do{if(s.next_out_index=0,s.avail_out=512,1!=(t=s.deflate(4))&&0!=t)throw new Error(\"deflating: \"+s.msg);0<512-s.avail_out&&n.push(new Uint8Array(l.subarray(0,s.next_out_index))),i+=s.next_out_index}while(0<s.avail_in||0===s.avail_out);return s.deflateEnd(),e=new Uint8Array(i),n.forEach(function(t){e.set(t,r),r+=t.length}),e}}}(\"undefined\"!=typeof self&&self||\"undefined\"!=typeof window&&window||\"undefined\"!=typeof global&&global||Function('return typeof this === \"object\" && this.content')()||Function(\"return this\")()),(\"undefined\"!=typeof self&&self||\"undefined\"!=typeof window&&window||\"undefined\"!=typeof global&&global||Function('return typeof this === \"object\" && this.content')()||Function(\"return this\")()).RGBColor=function(t){var e;t=t||\"\",this.ok=!1,\"#\"==t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,\"\")).toLowerCase();var n={aliceblue:\"f0f8ff\",antiquewhite:\"faebd7\",aqua:\"00ffff\",aquamarine:\"7fffd4\",azure:\"f0ffff\",beige:\"f5f5dc\",bisque:\"ffe4c4\",black:\"000000\",blanchedalmond:\"ffebcd\",blue:\"0000ff\",blueviolet:\"8a2be2\",brown:\"a52a2a\",burlywood:\"deb887\",cadetblue:\"5f9ea0\",chartreuse:\"7fff00\",chocolate:\"d2691e\",coral:\"ff7f50\",cornflowerblue:\"6495ed\",cornsilk:\"fff8dc\",crimson:\"dc143c\",cyan:\"00ffff\",darkblue:\"00008b\",darkcyan:\"008b8b\",darkgoldenrod:\"b8860b\",darkgray:\"a9a9a9\",darkgreen:\"006400\",darkkhaki:\"bdb76b\",darkmagenta:\"8b008b\",darkolivegreen:\"556b2f\",darkorange:\"ff8c00\",darkorchid:\"9932cc\",darkred:\"8b0000\",darksalmon:\"e9967a\",darkseagreen:\"8fbc8f\",darkslateblue:\"483d8b\",darkslategray:\"2f4f4f\",darkturquoise:\"00ced1\",darkviolet:\"9400d3\",deeppink:\"ff1493\",deepskyblue:\"00bfff\",dimgray:\"696969\",dodgerblue:\"1e90ff\",feldspar:\"d19275\",firebrick:\"b22222\",floralwhite:\"fffaf0\",forestgreen:\"228b22\",fuchsia:\"ff00ff\",gainsboro:\"dcdcdc\",ghostwhite:\"f8f8ff\",gold:\"ffd700\",goldenrod:\"daa520\",gray:\"808080\",green:\"008000\",greenyellow:\"adff2f\",honeydew:\"f0fff0\",hotpink:\"ff69b4\",indianred:\"cd5c5c\",indigo:\"4b0082\",ivory:\"fffff0\",khaki:\"f0e68c\",lavender:\"e6e6fa\",lavenderblush:\"fff0f5\",lawngreen:\"7cfc00\",lemonchiffon:\"fffacd\",lightblue:\"add8e6\",lightcoral:\"f08080\",lightcyan:\"e0ffff\",lightgoldenrodyellow:\"fafad2\",lightgrey:\"d3d3d3\",lightgreen:\"90ee90\",lightpink:\"ffb6c1\",lightsalmon:\"ffa07a\",lightseagreen:\"20b2aa\",lightskyblue:\"87cefa\",lightslateblue:\"8470ff\",lightslategray:\"778899\",lightsteelblue:\"b0c4de\",lightyellow:\"ffffe0\",lime:\"00ff00\",limegreen:\"32cd32\",linen:\"faf0e6\",magenta:\"ff00ff\",maroon:\"800000\",mediumaquamarine:\"66cdaa\",mediumblue:\"0000cd\",mediumorchid:\"ba55d3\",mediumpurple:\"9370d8\",mediumseagreen:\"3cb371\",mediumslateblue:\"7b68ee\",mediumspringgreen:\"00fa9a\",mediumturquoise:\"48d1cc\",mediumvioletred:\"c71585\",midnightblue:\"191970\",mintcream:\"f5fffa\",mistyrose:\"ffe4e1\",moccasin:\"ffe4b5\",navajowhite:\"ffdead\",navy:\"000080\",oldlace:\"fdf5e6\",olive:\"808000\",olivedrab:\"6b8e23\",orange:\"ffa500\",orangered:\"ff4500\",orchid:\"da70d6\",palegoldenrod:\"eee8aa\",palegreen:\"98fb98\",paleturquoise:\"afeeee\",palevioletred:\"d87093\",papayawhip:\"ffefd5\",peachpuff:\"ffdab9\",peru:\"cd853f\",pink:\"ffc0cb\",plum:\"dda0dd\",powderblue:\"b0e0e6\",purple:\"800080\",red:\"ff0000\",rosybrown:\"bc8f8f\",royalblue:\"4169e1\",saddlebrown:\"8b4513\",salmon:\"fa8072\",sandybrown:\"f4a460\",seagreen:\"2e8b57\",seashell:\"fff5ee\",sienna:\"a0522d\",silver:\"c0c0c0\",skyblue:\"87ceeb\",slateblue:\"6a5acd\",slategray:\"708090\",snow:\"fffafa\",springgreen:\"00ff7f\",steelblue:\"4682b4\",tan:\"d2b48c\",teal:\"008080\",thistle:\"d8bfd8\",tomato:\"ff6347\",turquoise:\"40e0d0\",violet:\"ee82ee\",violetred:\"d02090\",wheat:\"f5deb3\",white:\"ffffff\",whitesmoke:\"f5f5f5\",yellow:\"ffff00\",yellowgreen:\"9acd32\"};for(var r in n)t==r&&(t=n[r]);for(var i=[{re:/^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,example:[\"rgb(123, 234, 45)\",\"rgb(255,234,245)\"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\\w{2})(\\w{2})(\\w{2})$/,example:[\"#00ff00\",\"336699\"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\\w{1})(\\w{1})(\\w{1})$/,example:[\"#fb0\",\"f0f\"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],o=0;o<i.length;o++){var a=i[o].re,s=i[o].process,l=a.exec(t);l&&(e=s(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.toRGB=function(){return\"rgb(\"+this.r+\", \"+this.g+\", \"+this.b+\")\"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t=\"0\"+t),1==e.length&&(e=\"0\"+e),1==n.length&&(n=\"0\"+n),\"#\"+t+e+n}},function(t){var n=\"+\".charCodeAt(0),r=\"/\".charCodeAt(0),i=\"0\".charCodeAt(0),o=\"a\".charCodeAt(0),a=\"A\".charCodeAt(0),s=\"-\".charCodeAt(0),l=\"_\".charCodeAt(0),u=function(t){var e=t.charCodeAt(0);return e===n||e===s?62:e===r||e===l?63:e<i?-1:e<i+10?e-i+26+26:e<a+26?e-a:e<o+26?e-o+26:void 0};t.API.TTFFont=function(){function i(t,e,n){var r;if(this.rawData=t,r=this.contents=new J(t),this.contents.pos=4,\"ttcf\"===r.readString(4)){if(!e)throw new Error(\"Must specify a font name for TTC files.\");throw new Error(\"Font \"+e+\" not found in TTC file.\")}r.pos=0,this.parse(),this.subset=new P(this),this.registerTTF()}return i.open=function(t,e,n,r){if(\"string\"!=typeof n)throw new Error(\"Invalid argument supplied in TTFFont.open\");return new i(function(t){var e,n,r,i,o,a;if(0<t.length%4)throw new Error(\"Invalid string. Length must be a multiple of 4\");var s=t.length;o=\"=\"===t.charAt(s-2)?2:\"=\"===t.charAt(s-1)?1:0,a=new Uint8Array(3*t.length/4-o),r=0<o?t.length-4:t.length;var l=0;function h(t){a[l++]=t}for(n=e=0;e<r;e+=4,n+=3)h((16711680&(i=u(t.charAt(e))<<18|u(t.charAt(e+1))<<12|u(t.charAt(e+2))<<6|u(t.charAt(e+3))))>>16),h((65280&i)>>8),h(255&i);return 2===o?h(255&(i=u(t.charAt(e))<<2|u(t.charAt(e+1))>>4)):1===o&&(h((i=u(t.charAt(e))<<10|u(t.charAt(e+1))<<4|u(t.charAt(e+2))>>2)>>8&255),h(255&i)),a}(n),e,r)},i.prototype.parse=function(){return this.directory=new e(this.contents),this.head=new p(this),this.name=new b(this),this.cmap=new y(this),this.toUnicode=new Map,this.hhea=new g(this),this.maxp=new x(this),this.hmtx=new N(this),this.post=new v(this),this.os2=new m(this),this.loca=new F(this),this.glyf=new A(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var i,t,e,n,r;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,e,n,r;for(r=[],t=0,e=(n=this.bbox).length;t<e;t++)i=n[t],r.push(Math.round(i*this.scaleFactor));return r}.call(this),this.stemV=0,this.post.exists?(e=255&(n=this.post.italic_angle),!0&(t=n>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+\".\"+e)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(r=this.familyClass)||2===r||3===r||4===r||5===r||7===r,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error(\"No unicode cmap for font\")},i.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},i.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},i.prototype.widthOfString=function(t,e,n){var r,i,o,a,s;for(i=a=o=0,s=(t=\"\"+t).length;0<=s?a<s:s<a;i=0<=s?++a:--a)r=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/e)||0;return o*(e/1e3)},i.prototype.lineHeight=function(t,e){var n;return null==e&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},i}();var h,J=function(){function t(t){this.data=null!=t?t:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(t){return this.data[this.pos++]=t},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt32=function(){var t;return 2147483648<=(t=this.readUInt32())?t-4294967296:t},t.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt16=function(){var t;return 32768<=(t=this.readUInt16())?t-65536:t},t.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},t.prototype.readString=function(t){var e,n,r;for(n=[],e=r=0;0<=t?r<t:t<r;e=0<=t?++r:--r)n[e]=String.fromCharCode(this.readByte());return n.join(\"\")},t.prototype.writeString=function(t){var e,n,r,i;for(i=[],e=n=0,r=t.length;0<=r?n<r:r<n;e=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(e)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(t){return this.writeInt16(t)},t.prototype.readLongLong=function(){var t,e,n,r,i,o,a,s;return t=this.readByte(),e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),s=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^o)+256*(255^a)+(255^s)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*r+16777216*i+65536*o+256*a+s},t.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(t){return this.writeInt32(t)},t.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:t<n;0<=t?++n:--n)e.push(this.readByte());return e},t.prototype.write=function(t){var e,n,r,i;for(i=[],n=0,r=t.length;n<r;n++)e=t[n],i.push(this.writeByte(e));return i},t}(),e=function(){var d;function t(t){var e,n,r;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:r<n;0<=r?++n:--n)e={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[e.tag]=e}return t.prototype.encode=function(t){var e,n,r,i,o,a,s,l,h,u,c,f,p;for(p in c=Object.keys(t).length,a=Math.log(2),h=16*Math.floor(Math.log(c)/a),i=Math.floor(h/a),l=16*c-h,(n=new J).writeInt(this.scalarType),n.writeShort(c),n.writeShort(h),n.writeShort(i),n.writeShort(l),r=16*c,s=n.pos+r,o=null,f=[],t)for(u=t[p],n.writeString(p),n.writeInt(d(u)),n.writeInt(s),n.writeInt(u.length),f=f.concat(u),\"head\"===p&&(o=s),s+=u.length;s%4;)f.push(0),s++;return n.write(f),e=2981146554-d(n.data),n.pos=o+8,n.writeUInt32(e),n.data},d=function(t){var e,n,r,i;for(t=L.call(t);t.length%4;)t.push(0);for(n=new J(t),r=e=0,i=t.length;r<i;r+=4)e+=n.readUInt32();return 4294967295&e},t}(),c={}.hasOwnProperty,f=function(t,e){for(var n in e)c.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};h=function(){function t(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var p=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,h),e.prototype.tag=\"head\",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var e;return(e=new J).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},e}(),d=function(){function t(n,t){var e,r,i,o,a,s,l,h,u,c,f,p,d,g,m,y,v,w;switch(this.platformID=n.readUInt16(),this.encodingID=n.readShort(),this.offset=t+n.readInt(),u=n.pos,n.pos=this.offset,this.format=n.readUInt16(),this.length=n.readUInt16(),this.language=n.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s=m=0;m<256;s=++m)this.codeMap[s]=n.readByte();break;case 4:for(f=n.readUInt16(),c=f/2,n.pos+=6,i=function(){var t,e;for(e=[],s=t=0;0<=c?t<c:c<t;s=0<=c?++t:--t)e.push(n.readUInt16());return e}(),n.pos+=2,d=function(){var t,e;for(e=[],s=t=0;0<=c?t<c:c<t;s=0<=c?++t:--t)e.push(n.readUInt16());return e}(),l=function(){var t,e;for(e=[],s=t=0;0<=c?t<c:c<t;s=0<=c?++t:--t)e.push(n.readUInt16());return e}(),h=function(){var t,e;for(e=[],s=t=0;0<=c?t<c:c<t;s=0<=c?++t:--t)e.push(n.readUInt16());return e}(),r=(this.length-n.pos+this.offset)/2,a=function(){var t,e;for(e=[],s=t=0;0<=r?t<r:r<t;s=0<=r?++t:--t)e.push(n.readUInt16());return e}(),s=y=0,w=i.length;y<w;s=++y)for(g=i[s],e=v=p=d[s];p<=g?v<=g:g<=v;e=p<=g?++v:--v)0===h[s]?o=e+l[s]:0!==(o=a[h[s]/2+(e-p)-(c-s)]||0)&&(o+=l[s]),this.codeMap[e]=65535&o}n.pos=u}return t.encode=function(t,e){var n,r,i,o,a,s,l,h,u,c,f,p,d,g,m,y,v,w,b,x,N,L,A,S,_,F,P,k,I,C,B,j,E,M,O,q,T,R,D,U,z,H,W,V,G,Y;switch(k=new J,o=Object.keys(t).sort(function(t,e){return t-e}),e){case\"macroman\":for(d=0,g=function(){var t,e;for(e=[],p=t=0;t<256;p=++t)e.push(0);return e}(),y={0:0},i={},I=0,E=o.length;I<E;I++)null==y[W=t[r=o[I]]]&&(y[W]=++d),i[r]={old:t[r],new:y[t[r]]},g[r]=y[t[r]];return k.writeUInt16(1),k.writeUInt16(0),k.writeUInt32(12),k.writeUInt16(0),k.writeUInt16(262),k.writeUInt16(0),k.write(g),{charMap:i,subtable:k.data,maxGlyphID:d+1};case\"unicode\":for(F=[],u=[],y={},n={},m=l=null,C=v=0,M=o.length;C<M;C++)null==y[b=t[r=o[C]]]&&(y[b]=++v),n[r]={old:b,new:y[b]},a=y[b]-r,null!=m&&a===l||(m&&u.push(m),F.push(r),l=a),m=r;for(m&&u.push(m),u.push(65535),F.push(65535),S=2*(A=F.length),L=2*Math.pow(Math.log(A)/Math.LN2,2),c=Math.log(L/2)/Math.LN2,N=2*A-L,s=[],x=[],f=[],p=B=0,O=F.length;B<O;p=++B){if(_=F[p],h=u[p],65535===_){s.push(0),x.push(0);break}if(32768<=_-(P=n[_].new))for(s.push(0),x.push(2*(f.length+A-p)),r=j=_;_<=h?j<=h:h<=j;r=_<=h?++j:--j)f.push(n[r].new);else s.push(P-_),x.push(0)}for(k.writeUInt16(3),k.writeUInt16(1),k.writeUInt32(12),k.writeUInt16(4),k.writeUInt16(16+8*A+2*f.length),k.writeUInt16(0),k.writeUInt16(S),k.writeUInt16(L),k.writeUInt16(c),k.writeUInt16(N),z=0,q=u.length;z<q;z++)r=u[z],k.writeUInt16(r);for(k.writeUInt16(0),H=0,T=F.length;H<T;H++)r=F[H],k.writeUInt16(r);for(V=0,R=s.length;V<R;V++)a=s[V],k.writeUInt16(a);for(G=0,D=x.length;G<D;G++)w=x[G],k.writeUInt16(w);for(Y=0,U=f.length;Y<U;Y++)d=f[Y],k.writeUInt16(d);return{charMap:n,subtable:k.data,maxGlyphID:v+1}}},t}(),y=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,h),e.prototype.tag=\"cmap\",e.prototype.parse=function(t){var e,n,r;for(t.pos=this.offset,this.version=t.readUInt16(),n=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=n?r<n:n<r;0<=n?++r:--r)e=new d(t,this.offset),this.tables.push(e),e.isUnicode&&null==this.unicode&&(this.unicode=e);return!0},e.encode=function(t,e){var n,r;return null==e&&(e=\"macroman\"),n=d.encode(t,e),(r=new J).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),g=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,h),e.prototype.tag=\"hhea\",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),m=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,h),e.prototype.tag=\"OS/2\",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var t,e;for(e=[],t=0;t<10;++t)e.push(n.readByte());return e}(),this.charRange=function(){var t,e;for(e=[],t=0;t<4;++t)e.push(n.readInt());return e}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),0<this.version&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var t,e;for(e=[],t=0;t<2;++t)e.push(n.readInt());return e}(),1<this.version))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),v=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,h),e.prototype.tag=\"post\",e.prototype.parse=function(r){var t,e,n,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:for(e=r.readUInt16(),this.glyphNameIndex=[],n=0;0<=e?n<e:e<n;0<=e?++n:--n)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)t=r.readByte(),i.push(this.names.push(r.readString(t)));return i;case 151552:return e=r.readUInt16(),this.offsets=r.read(e);case 196608:break;case 262144:return this.map=function(){var t,e,n;for(n=[],t=0,e=this.file.maxp.numGlyphs;0<=e?t<e:e<t;0<=e?++t:--t)n.push(r.readUInt32());return n}.call(this)}},e}(),w=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},b=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,h),e.prototype.tag=\"name\",e.prototype.parse=function(t){var e,n,r,i,o,a,s,l,h,u,c,f;for(t.pos=this.offset,t.readShort(),e=t.readShort(),a=t.readShort(),n=[],i=h=0;0<=e?h<e:e<h;i=0<=e?++h:--h)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(s={},i=u=0,c=n.length;u<c;i=++u)r=n[i],t.pos=r.offset,l=t.readString(r.length),o=new w(l,r),null==s[f=r.nameID]&&(s[f]=[]),s[r.nameID].push(o);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\\x00-\\x19\\x80-\\xff]/g,\"\")}catch(t){this.postscriptName=s[4][0].raw.replace(/[\\x00-\\x19\\x80-\\xff]/g,\"\")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},e}(),x=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,h),e.prototype.tag=\"maxp\",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),N=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,h),e.prototype.tag=\"hmtx\",e.prototype.parse=function(n){var t,r,i,e,o,a,s;for(n.pos=this.offset,this.metrics=[],e=0,a=this.file.hhea.numberOfMetrics;0<=a?e<a:a<e;0<=a?++e:--e)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var t,e;for(e=[],t=0;0<=r?t<r:r<t;0<=r?++t:--t)e.push(n.readInt16());return e}(),this.widths=function(){var t,e,n,r;for(r=[],t=0,e=(n=this.metrics).length;t<e;t++)i=n[t],r.push(i.advance);return r}.call(this),t=this.widths[this.widths.length-1],s=[],o=0;0<=r?o<r:r<o;0<=r?++o:--o)s.push(this.widths.push(t));return s},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),L=[].slice,A=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,h),e.prototype.tag=\"glyf\",e.prototype.parse=function(t){return this.cache={}},e.prototype.glyphFor=function(t){var e,n,r,i,o,a,s,l,h,u;return(t=t)in this.cache?this.cache[t]:(i=this.file.loca,e=this.file.contents,n=i.indexOf(t),0===(r=i.lengthOf(t))?this.cache[t]=null:(e.pos=this.offset+n,o=(a=new J(e.read(r))).readShort(),l=a.readShort(),u=a.readShort(),s=a.readShort(),h=a.readShort(),this.cache[t]=-1===o?new _(a,l,u,s,h):new S(a,o,l,u,s,h),this.cache[t]))},e.prototype.encode=function(t,e,n){var r,i,o,a,s;for(o=[],i=[],a=0,s=e.length;a<s;a++)r=t[e[a]],i.push(o.length),r&&(o=o.concat(r.encode(n)));return i.push(o.length),{table:o,offsets:i}},e}(),S=function(){function t(t,e,n,r,i,o){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),_=function(){function t(t,e,n,r,i){var o,a;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readShort()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return 1,8,32,64,128,t.prototype.encode=function(t){var e,n,r,i,o;for(n=new J(L.call(this.raw.data)),e=r=0,i=(o=this.glyphIDs).length;r<i;e=++r)o[e],n.pos=this.glyphOffsets[e];return n.data},t}(),F=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,h),e.prototype.tag=\"loca\",e.prototype.parse=function(r){var t;return r.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,e,n;for(n=[],t=0,e=this.length;t<e;t+=2)n.push(2*r.readUInt16());return n}.call(this):function(){var t,e,n;for(n=[],t=0,e=this.length;t<e;t+=4)n.push(r.readUInt32());return n}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,e){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,o=0;o<n.length;++o)if(n[o]=r,i<e.length&&e[i]==o){++i,n[o]=r;var a=this.offsets[o],s=this.offsets[o+1]-a;0<s&&(r+=s)}for(var l=new Array(4*n.length),h=0;h<n.length;++h)l[4*h+3]=255&n[h],l[4*h+2]=(65280&n[h])>>8,l[4*h+1]=(16711680&n[h])>>16,l[4*h]=(4278190080&n[h])>>24;return l},e}(),P=function(){function t(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var t,e,n,r,i;for(e in r=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[e],t[e]=r[n];return t},t.prototype.glyphsFor=function(t){var e,n,r,i,o,a,s;for(r={},o=0,a=t.length;o<a;o++)r[i=t[o]]=this.font.glyf.glyphFor(i);for(i in e=[],r)(null!=(n=r[i])?n.compound:void 0)&&e.push.apply(e,n.glyphIDs);if(0<e.length)for(i in s=this.glyphsFor(e))n=s[i],r[i]=n;return r},t.prototype.encode=function(t,e){var n,r,i,o,a,s,l,h,u,c,f,p,d,g,m;for(r in n=y.encode(this.generateCmap(),\"unicode\"),o=this.glyphsFor(t),f={0:0},m=n.charMap)f[(s=m[r]).old]=s.new;for(p in c=n.maxGlyphID,o)p in f||(f[p]=c++);return h=function(t){var e,n;for(e in n={},t)n[t[e]]=e;return n}(f),u=Object.keys(h).sort(function(t,e){return t-e}),d=function(){var t,e,n;for(n=[],t=0,e=u.length;t<e;t++)a=u[t],n.push(h[a]);return n}(),i=this.font.glyf.encode(o,d,f),l=this.font.loca.encode(i.offsets,d),g={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(g[\"OS/2\"]=this.font.os2.raw()),this.font.directory.encode(g)},t}();t.API.PDFObject=function(){var o;function a(){}return o=function(t,e){return(Array(e+1).join(\"0\")+t).slice(-e)},a.convert=function(r){var i,t,e,n;if(Array.isArray(r))return\"[\"+function(){var t,e,n;for(n=[],t=0,e=r.length;t<e;t++)i=r[t],n.push(a.convert(i));return n}().join(\" \")+\"]\";if(\"string\"==typeof r)return\"/\"+r;if(null!=r?r.isString:void 0)return\"(\"+r+\")\";if(r instanceof Date)return\"(D:\"+o(r.getUTCFullYear(),4)+o(r.getUTCMonth(),2)+o(r.getUTCDate(),2)+o(r.getUTCHours(),2)+o(r.getUTCMinutes(),2)+o(r.getUTCSeconds(),2)+\"Z)\";if(\"[object Object]\"!=={}.toString.call(r))return\"\"+r;for(t in e=[\"<<\"],r)n=r[t],e.push(\"/\"+t+\" \"+a.convert(n));return e.push(\">>\"),e.join(\"\\n\")},a}()}(lt),\n/*\n  # PNG.js\n  # Copyright (c) 2011 Devon Govett\n  # MIT LICENSE\n  # \n  # \n  */\nNt=\"undefined\"!=typeof self&&self||\"undefined\"!=typeof window&&window||\"undefined\"!=typeof global&&global||Function('return typeof this === \"object\" && this.content')()||Function(\"return this\")(),Lt=function(){var h,n,r;function i(t){var e,n,r,i,o,a,s,l,h,u,c,f,p,d;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},a=null;;){switch(e=this.readUInt32(),h=function(){var t,e;for(e=[],t=0;t<4;++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join(\"\")){case\"IHDR\":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case\"acTL\":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case\"PLTE\":this.palette=this.read(e);break;case\"fcTL\":a&&this.animation.frames.push(a),this.pos+=4,a={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},o=this.readUInt16(),i=this.readUInt16()||100,a.delay=1e3*o/i,a.disposeOp=this.data[this.pos++],a.blendOp=this.data[this.pos++],a.data=[];break;case\"IDAT\":case\"fdAT\":for(\"fdAT\"===h&&(this.pos+=4,e-=4),t=(null!=a?a.data:void 0)||this.imgData,f=0;0<=e?f<e:e<f;0<=e?++f:--f)t.push(this.data[this.pos++]);break;case\"tRNS\":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>r)throw new Error(\"More transparent colors than palette size\");if(0<(u=r-this.transparency.indexed.length))for(p=0;0<=u?p<u:u<p;0<=u?++p:--p)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case\"tEXt\":s=(c=this.read(e)).indexOf(0),l=String.fromCharCode.apply(String,c.slice(0,s)),this.text[l]=String.fromCharCode.apply(String,c.slice(s+1));break;case\"IEND\":return a&&this.animation.frames.push(a),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(d=this.colorType)||6===d,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return\"DeviceGray\";case 3:return\"DeviceRGB\"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error(\"Incomplete or corrupt PNG file\")}}i.load=function(t,e,n){var r;return\"function\"==typeof e&&(n=e),(r=new XMLHttpRequest).open(\"GET\",t,!0),r.responseType=\"arraybuffer\",r.onload=function(){var t;return t=new i(new Uint8Array(r.response||r.mozResponseArrayBuffer)),\"function\"==typeof(null!=e?e.getContext:void 0)&&t.render(e),\"function\"==typeof n?n(t):void 0},r.send(null)},i.prototype.read=function(t){var e,n;for(n=[],e=0;0<=t?e<t:t<e;0<=t?++e:--e)n.push(this.data[this.pos++]);return n},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(C){var B=this.pixelBitlength/8,j=new Uint8Array(this.width*this.height*B),E=0,M=this;if(null==C&&(C=this.imgData),0===C.length)return new Uint8Array(0);function t(t,e,n,r){var i,o,a,s,l,h,u,c,f,p,d,g,m,y,v,w,b,x,N,L,A,S=Math.ceil((M.width-t)/n),_=Math.ceil((M.height-e)/r),F=M.width==S&&M.height==_;for(y=B*S,g=F?j:new Uint8Array(y*_),h=C.length,o=m=0;m<_&&E<h;){switch(C[E++]){case 0:for(s=b=0;b<y;s=b+=1)g[o++]=C[E++];break;case 1:for(s=x=0;x<y;s=x+=1)i=C[E++],l=s<B?0:g[o-B],g[o++]=(i+l)%256;break;case 2:for(s=N=0;N<y;s=N+=1)i=C[E++],a=(s-s%B)/B,v=m&&g[(m-1)*y+a*B+s%B],g[o++]=(v+i)%256;break;case 3:for(s=L=0;L<y;s=L+=1)i=C[E++],a=(s-s%B)/B,l=s<B?0:g[o-B],v=m&&g[(m-1)*y+a*B+s%B],g[o++]=(i+Math.floor((l+v)/2))%256;break;case 4:for(s=A=0;A<y;s=A+=1)i=C[E++],a=(s-s%B)/B,l=s<B?0:g[o-B],0===m?v=w=0:(v=g[(m-1)*y+a*B+s%B],w=a&&g[(m-1)*y+(a-1)*B+s%B]),u=l+v-w,c=Math.abs(u-l),p=Math.abs(u-v),d=Math.abs(u-w),f=c<=p&&c<=d?l:p<=d?v:w,g[o++]=(i+f)%256;break;default:throw new Error(\"Invalid filter algorithm: \"+C[E-1])}if(!F){var P=((e+m*r)*M.width+t)*B,k=m*y;for(s=0;s<S;s+=1){for(var I=0;I<B;I+=1)j[P++]=g[k++];P+=(n-1)*B}}m++}}return C=(C=new kt(C)).getBytes(),1==M.interlaceMethod?(t(0,0,8,8),t(4,0,8,8),t(0,4,4,8),t(2,0,4,4),t(0,2,2,4),t(1,0,2,2),t(0,1,1,2)):t(0,0,1,1),j},i.prototype.decodePalette=function(){var t,e,n,r,i,o,a,s,l;for(n=this.palette,o=this.transparency.indexed||[],i=new Uint8Array((o.length||0)+n.length),r=0,n.length,e=a=t=0,s=n.length;a<s;e=a+=3)i[r++]=n[e],i[r++]=n[e+1],i[r++]=n[e+2],i[r++]=null!=(l=o[t++])?l:255;return i},i.prototype.copyToImageData=function(t,e){var n,r,i,o,a,s,l,h,u,c,f;if(r=this.colors,u=null,n=this.hasAlphaChannel,this.palette.length&&(u=null!=(f=this._decodedPalette)?f:this._decodedPalette=this.decodePalette(),r=4,n=!0),h=(i=t.data||t).length,a=u||e,o=s=0,1===r)for(;o<h;)l=u?4*e[o/4]:s,c=a[l++],i[o++]=c,i[o++]=c,i[o++]=c,i[o++]=n?a[l++]:255,s=l;else for(;o<h;)l=u?4*e[o/4]:s,i[o++]=a[l++],i[o++]=a[l++],i[o++]=a[l++],i[o++]=n?a[l++]:255,s=l},i.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};try{n=Nt.document.createElement(\"canvas\"),r=n.getContext(\"2d\")}catch(t){return-1}return h=function(t){var e;return r.width=t.width,r.height=t.height,r.clearRect(0,0,t.width,t.height),r.putImageData(t,0,0),(e=new Image).src=n.toDataURL(),e},i.prototype.decodeFrames=function(t){var e,n,r,i,o,a,s,l;if(this.animation){for(l=[],n=o=0,a=(s=this.animation.frames).length;o<a;n=++o)e=s[n],r=t.createImageData(e.width,e.height),i=this.decodePixels(new Uint8Array(e.data)),this.copyToImageData(r,i),e.imageData=r,l.push(e.image=h(r));return l}},i.prototype.renderFrame=function(t,e){var n,r,i;return n=(r=this.animation.frames)[e],i=r[e-1],0===e&&t.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?t.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&t.putImageData(i.imageData,i.xOffset,i.yOffset),0===n.blendOp&&t.clearRect(n.xOffset,n.yOffset,n.width,n.height),t.drawImage(n.image,n.xOffset,n.yOffset)},i.prototype.animate=function(n){var r,i,o,a,s,t,l=this;return i=0,t=this.animation,a=t.numFrames,o=t.frames,s=t.numPlays,(r=function(){var t,e;if(t=i++%a,e=o[t],l.renderFrame(n,t),1<a&&i/a<s)return l.animation._timeout=setTimeout(r,e.delay)})()},i.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},i.prototype.render=function(t){var e,n;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext(\"2d\"),this.animation?(this.decodeFrames(e),this.animate(e)):(n=e.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),e.putImageData(n,0,0))},i}(),Nt.PNG=Lt;\n/*\n   * Extracted from pdf.js\n   * https://github.com/andreasgal/pdf.js\n   *\n   * Copyright (c) 2011 Mozilla Foundation\n   *\n   * Contributors: Andreas Gal <gal@mozilla.com>\n   *               Chris G Jones <cjones@mozilla.com>\n   *               Shaon Barman <shaon.barman@gmail.com>\n   *               Vivien Nicolas <21@vingtetun.org>\n   *               Justin D'Arcangelo <justindarc@gmail.com>\n   *               Yury Delendik\n   *\n   * \n   */\nvar Pt=function(){function t(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return t.prototype={ensureBuffer:function(t){var e=this.buffer,n=e?e.byteLength:0;if(t<n)return e;for(var r=512;r<t;)r<<=1;for(var i=new Uint8Array(r),o=0;o<n;++o)i[o]=e[o];return this.buffer=i},getByte:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(t){var e=this.pos;if(t){this.ensureBuffer(e+t);for(var n=e+t;!this.eof&&this.bufferLength<n;)this.readBlock();var r=this.bufferLength;r<n&&(n=r)}else{for(;!this.eof;)this.readBlock();n=this.bufferLength}return this.pos=n,this.buffer.subarray(e,n)},lookChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(t,e,n){for(var r=t+e;this.bufferLength<=r&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,e,n)},skip:function(t){t||(t=1),this.pos+=t},reset:function(){this.pos=0}},t}(),kt=function(){if(\"undefined\"!=typeof Uint32Array){var k=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),I=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),C=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),B=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],j=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return(t.prototype=Object.create(Pt.prototype)).getBits=function(t){for(var e,n=this.codeSize,r=this.codeBuf,i=this.bytes,o=this.bytesPos;n<t;)void 0===(e=i[o++])&&E(\"Bad encoding in flate stream\"),r|=e<<n,n+=8;return e=r&(1<<t)-1,this.codeBuf=r>>t,this.codeSize=n-=t,this.bytesPos=o,e},t.prototype.getCode=function(t){for(var e=t[0],n=t[1],r=this.codeSize,i=this.codeBuf,o=this.bytes,a=this.bytesPos;r<n;){var s;void 0===(s=o[a++])&&E(\"Bad encoding in flate stream\"),i|=s<<r,r+=8}var l=e[i&(1<<n)-1],h=l>>16,u=65535&l;return(0==r||r<h||0==h)&&E(\"Bad encoding in flate stream\"),this.codeBuf=i>>h,this.codeSize=r-h,this.bytesPos=a,u},t.prototype.generateHuffmanTable=function(t){for(var e=t.length,n=0,r=0;r<e;++r)t[r]>n&&(n=t[r]);for(var i=1<<n,o=new Uint32Array(i),a=1,s=0,l=2;a<=n;++a,s<<=1,l<<=1)for(var h=0;h<e;++h)if(t[h]==a){var u=0,c=s;for(r=0;r<a;++r)u=u<<1|1&c,c>>=1;for(r=u;r<i;r+=l)o[r]=a<<16|h;++s}return[o,n]},t.prototype.readBlock=function(){function t(t,e,n,r,i){for(var o=t.getBits(n)+r;0<o--;)e[l++]=i}var e=this.getBits(3);if(1&e&&(this.eof=!0),0!=(e>>=1)){var n,r;if(1==e)n=B,r=j;else if(2==e){for(var i=this.getBits(5)+257,o=this.getBits(5)+1,a=this.getBits(4)+4,s=Array(k.length),l=0;l<a;)s[k[l++]]=this.getBits(3);for(var h=this.generateHuffmanTable(s),u=0,c=(l=0,i+o),f=new Array(c);l<c;){var p=this.getCode(h);16==p?t(this,f,2,3,u):17==p?t(this,f,3,3,u=0):18==p?t(this,f,7,11,u=0):f[l++]=u=p}n=this.generateHuffmanTable(f.slice(0,i)),r=this.generateHuffmanTable(f.slice(i,c))}else E(\"Unknown block type in flate stream\");for(var d=(_=this.buffer)?_.length:0,g=this.bufferLength;;){var m=this.getCode(n);if(m<256)d<=g+1&&(d=(_=this.ensureBuffer(g+1)).length),_[g++]=m;else{if(256==m)return void(this.bufferLength=g);var y=(m=I[m-=257])>>16;0<y&&(y=this.getBits(y));u=(65535&m)+y;m=this.getCode(r),0<(y=(m=C[m])>>16)&&(y=this.getBits(y));var v=(65535&m)+y;d<=g+u&&(d=(_=this.ensureBuffer(g+u)).length);for(var w=0;w<u;++w,++g)_[g]=_[g-v]}}}else{var b,x=this.bytes,N=this.bytesPos;void 0===(b=x[N++])&&E(\"Bad block header in flate stream\");var L=b;void 0===(b=x[N++])&&E(\"Bad block header in flate stream\"),L|=b<<8,void 0===(b=x[N++])&&E(\"Bad block header in flate stream\");var A=b;void 0===(b=x[N++])&&E(\"Bad block header in flate stream\"),(A|=b<<8)!=(65535&~L)&&E(\"Bad uncompressed block length in flate stream\"),this.codeBuf=0,this.codeSize=0;var S=this.bufferLength,_=this.ensureBuffer(S+L),F=S+L;this.bufferLength=F;for(var P=S;P<F;++P){if(void 0===(b=x[N++])){this.eof=!0;break}_[P]=b}this.bytesPos=N}},t}function E(t){throw new Error(t)}function t(t){var e=0,n=t[e++],r=t[e++];-1!=n&&-1!=r||E(\"Invalid header in flate stream\"),8!=(15&n)&&E(\"Unknown compression method in flate stream\"),((n<<8)+r)%31!=0&&E(\"Bad FCHECK in flate stream\"),32&r&&E(\"FDICT bit set in flate stream\"),this.bytes=t,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,Pt.call(this)}}();window.tmp=kt});try{module.exports=jsPDF}catch(t){}","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","// Generated by CoffeeScript 1.8.0\n(function() {\n  var Heap, defaultCmp, floor, heapify, heappop, heappush, heappushpop, heapreplace, insort, min, nlargest, nsmallest, updateItem, _siftdown, _siftup;\n\n  floor = Math.floor, min = Math.min;\n\n\n  /*\n  Default comparison function to be used\n   */\n\n  defaultCmp = function(x, y) {\n    if (x < y) {\n      return -1;\n    }\n    if (x > y) {\n      return 1;\n    }\n    return 0;\n  };\n\n\n  /*\n  Insert item x in list a, and keep it sorted assuming a is sorted.\n  \n  If x is already in a, insert it to the right of the rightmost x.\n  \n  Optional args lo (default 0) and hi (default a.length) bound the slice\n  of a to be searched.\n   */\n\n  insort = function(a, x, lo, hi, cmp) {\n    var mid;\n    if (lo == null) {\n      lo = 0;\n    }\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (lo < 0) {\n      throw new Error('lo must be non-negative');\n    }\n    if (hi == null) {\n      hi = a.length;\n    }\n    while (lo < hi) {\n      mid = floor((lo + hi) / 2);\n      if (cmp(x, a[mid]) < 0) {\n        hi = mid;\n      } else {\n        lo = mid + 1;\n      }\n    }\n    return ([].splice.apply(a, [lo, lo - lo].concat(x)), x);\n  };\n\n\n  /*\n  Push item onto heap, maintaining the heap invariant.\n   */\n\n  heappush = function(array, item, cmp) {\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    array.push(item);\n    return _siftdown(array, 0, array.length - 1, cmp);\n  };\n\n\n  /*\n  Pop the smallest item off the heap, maintaining the heap invariant.\n   */\n\n  heappop = function(array, cmp) {\n    var lastelt, returnitem;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    lastelt = array.pop();\n    if (array.length) {\n      returnitem = array[0];\n      array[0] = lastelt;\n      _siftup(array, 0, cmp);\n    } else {\n      returnitem = lastelt;\n    }\n    return returnitem;\n  };\n\n\n  /*\n  Pop and return the current smallest value, and add the new item.\n  \n  This is more efficient than heappop() followed by heappush(), and can be\n  more appropriate when using a fixed size heap. Note that the value\n  returned may be larger than item! That constrains reasonable use of\n  this routine unless written as part of a conditional replacement:\n      if item > array[0]\n        item = heapreplace(array, item)\n   */\n\n  heapreplace = function(array, item, cmp) {\n    var returnitem;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    returnitem = array[0];\n    array[0] = item;\n    _siftup(array, 0, cmp);\n    return returnitem;\n  };\n\n\n  /*\n  Fast version of a heappush followed by a heappop.\n   */\n\n  heappushpop = function(array, item, cmp) {\n    var _ref;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (array.length && cmp(array[0], item) < 0) {\n      _ref = [array[0], item], item = _ref[0], array[0] = _ref[1];\n      _siftup(array, 0, cmp);\n    }\n    return item;\n  };\n\n\n  /*\n  Transform list into a heap, in-place, in O(array.length) time.\n   */\n\n  heapify = function(array, cmp) {\n    var i, _i, _j, _len, _ref, _ref1, _results, _results1;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    _ref1 = (function() {\n      _results1 = [];\n      for (var _j = 0, _ref = floor(array.length / 2); 0 <= _ref ? _j < _ref : _j > _ref; 0 <= _ref ? _j++ : _j--){ _results1.push(_j); }\n      return _results1;\n    }).apply(this).reverse();\n    _results = [];\n    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n      i = _ref1[_i];\n      _results.push(_siftup(array, i, cmp));\n    }\n    return _results;\n  };\n\n\n  /*\n  Update the position of the given item in the heap.\n  This function should be called every time the item is being modified.\n   */\n\n  updateItem = function(array, item, cmp) {\n    var pos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    pos = array.indexOf(item);\n    if (pos === -1) {\n      return;\n    }\n    _siftdown(array, 0, pos, cmp);\n    return _siftup(array, pos, cmp);\n  };\n\n\n  /*\n  Find the n largest elements in a dataset.\n   */\n\n  nlargest = function(array, n, cmp) {\n    var elem, result, _i, _len, _ref;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    result = array.slice(0, n);\n    if (!result.length) {\n      return result;\n    }\n    heapify(result, cmp);\n    _ref = array.slice(n);\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      elem = _ref[_i];\n      heappushpop(result, elem, cmp);\n    }\n    return result.sort(cmp).reverse();\n  };\n\n\n  /*\n  Find the n smallest elements in a dataset.\n   */\n\n  nsmallest = function(array, n, cmp) {\n    var elem, i, los, result, _i, _j, _len, _ref, _ref1, _results;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (n * 10 <= array.length) {\n      result = array.slice(0, n).sort(cmp);\n      if (!result.length) {\n        return result;\n      }\n      los = result[result.length - 1];\n      _ref = array.slice(n);\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        elem = _ref[_i];\n        if (cmp(elem, los) < 0) {\n          insort(result, elem, 0, null, cmp);\n          result.pop();\n          los = result[result.length - 1];\n        }\n      }\n      return result;\n    }\n    heapify(array, cmp);\n    _results = [];\n    for (i = _j = 0, _ref1 = min(n, array.length); 0 <= _ref1 ? _j < _ref1 : _j > _ref1; i = 0 <= _ref1 ? ++_j : --_j) {\n      _results.push(heappop(array, cmp));\n    }\n    return _results;\n  };\n\n  _siftdown = function(array, startpos, pos, cmp) {\n    var newitem, parent, parentpos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    newitem = array[pos];\n    while (pos > startpos) {\n      parentpos = (pos - 1) >> 1;\n      parent = array[parentpos];\n      if (cmp(newitem, parent) < 0) {\n        array[pos] = parent;\n        pos = parentpos;\n        continue;\n      }\n      break;\n    }\n    return array[pos] = newitem;\n  };\n\n  _siftup = function(array, pos, cmp) {\n    var childpos, endpos, newitem, rightpos, startpos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    endpos = array.length;\n    startpos = pos;\n    newitem = array[pos];\n    childpos = 2 * pos + 1;\n    while (childpos < endpos) {\n      rightpos = childpos + 1;\n      if (rightpos < endpos && !(cmp(array[childpos], array[rightpos]) < 0)) {\n        childpos = rightpos;\n      }\n      array[pos] = array[childpos];\n      pos = childpos;\n      childpos = 2 * pos + 1;\n    }\n    array[pos] = newitem;\n    return _siftdown(array, startpos, pos, cmp);\n  };\n\n  Heap = (function() {\n    Heap.push = heappush;\n\n    Heap.pop = heappop;\n\n    Heap.replace = heapreplace;\n\n    Heap.pushpop = heappushpop;\n\n    Heap.heapify = heapify;\n\n    Heap.updateItem = updateItem;\n\n    Heap.nlargest = nlargest;\n\n    Heap.nsmallest = nsmallest;\n\n    function Heap(cmp) {\n      this.cmp = cmp != null ? cmp : defaultCmp;\n      this.nodes = [];\n    }\n\n    Heap.prototype.push = function(x) {\n      return heappush(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.pop = function() {\n      return heappop(this.nodes, this.cmp);\n    };\n\n    Heap.prototype.peek = function() {\n      return this.nodes[0];\n    };\n\n    Heap.prototype.contains = function(x) {\n      return this.nodes.indexOf(x) !== -1;\n    };\n\n    Heap.prototype.replace = function(x) {\n      return heapreplace(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.pushpop = function(x) {\n      return heappushpop(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.heapify = function() {\n      return heapify(this.nodes, this.cmp);\n    };\n\n    Heap.prototype.updateItem = function(x) {\n      return updateItem(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.clear = function() {\n      return this.nodes = [];\n    };\n\n    Heap.prototype.empty = function() {\n      return this.nodes.length === 0;\n    };\n\n    Heap.prototype.size = function() {\n      return this.nodes.length;\n    };\n\n    Heap.prototype.clone = function() {\n      var heap;\n      heap = new Heap();\n      heap.nodes = this.nodes.slice(0);\n      return heap;\n    };\n\n    Heap.prototype.toArray = function() {\n      return this.nodes.slice(0);\n    };\n\n    Heap.prototype.insert = Heap.prototype.push;\n\n    Heap.prototype.top = Heap.prototype.peek;\n\n    Heap.prototype.front = Heap.prototype.peek;\n\n    Heap.prototype.has = Heap.prototype.contains;\n\n    Heap.prototype.copy = Heap.prototype.clone;\n\n    return Heap;\n\n  })();\n\n  (function(root, factory) {\n    if (typeof define === 'function' && define.amd) {\n      return define([], factory);\n    } else if (typeof exports === 'object') {\n      return module.exports = factory();\n    } else {\n      return root.Heap = factory();\n    }\n  })(this, function() {\n    return Heap;\n  });\n\n}).call(this);\n","module.exports = require('./lib/heap');\n","/**\n * Copyright (c) 2016-2019, The Cytoscape Consortium.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the Software), to deal in\n * the Software without restriction, including without limitation the rights to\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n * of the Software, and to permit persons to whom the Software is furnished to do\n * so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar util = _interopDefault(require('lodash.debounce'));\nvar Heap = _interopDefault(require('heap'));\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nvar window$1 = typeof window === 'undefined' ? null : window; // eslint-disable-line no-undef\n\nvar navigator = window$1 ? window$1.navigator : null;\nvar document$1 = window$1 ? window$1.document : null;\n\nvar typeofstr = _typeof('');\n\nvar typeofobj = _typeof({});\n\nvar typeoffn = _typeof(function () {});\n\nvar typeofhtmlele = typeof HTMLElement === \"undefined\" ? \"undefined\" : _typeof(HTMLElement);\n\nvar instanceStr = function instanceStr(obj) {\n  return obj && obj.instanceString && fn(obj.instanceString) ? obj.instanceString() : null;\n};\n\nvar string = function string(obj) {\n  return obj != null && _typeof(obj) == typeofstr;\n};\nvar fn = function fn(obj) {\n  return obj != null && _typeof(obj) === typeoffn;\n};\nvar array = function array(obj) {\n  return Array.isArray ? Array.isArray(obj) : obj != null && obj instanceof Array;\n};\nvar plainObject = function plainObject(obj) {\n  return obj != null && _typeof(obj) === typeofobj && !array(obj) && obj.constructor === Object;\n};\nvar object = function object(obj) {\n  return obj != null && _typeof(obj) === typeofobj;\n};\nvar number = function number(obj) {\n  return obj != null && _typeof(obj) === _typeof(1) && !isNaN(obj);\n};\nvar integer = function integer(obj) {\n  return number(obj) && Math.floor(obj) === obj;\n};\nvar htmlElement = function htmlElement(obj) {\n  if ('undefined' === typeofhtmlele) {\n    return undefined;\n  } else {\n    return null != obj && obj instanceof HTMLElement;\n  }\n};\nvar elementOrCollection = function elementOrCollection(obj) {\n  return element(obj) || collection(obj);\n};\nvar element = function element(obj) {\n  return instanceStr(obj) === 'collection' && obj._private.single;\n};\nvar collection = function collection(obj) {\n  return instanceStr(obj) === 'collection' && !obj._private.single;\n};\nvar core = function core(obj) {\n  return instanceStr(obj) === 'core';\n};\nvar stylesheet = function stylesheet(obj) {\n  return instanceStr(obj) === 'stylesheet';\n};\nvar event = function event(obj) {\n  return instanceStr(obj) === 'event';\n};\nvar emptyString = function emptyString(obj) {\n  if (obj === undefined || obj === null) {\n    // null is empty\n    return true;\n  } else if (obj === '' || obj.match(/^\\s+$/)) {\n    return true; // empty string is empty\n  }\n\n  return false; // otherwise, we don't know what we've got\n};\nvar domElement = function domElement(obj) {\n  if (typeof HTMLElement === 'undefined') {\n    return false; // we're not in a browser so it doesn't matter\n  } else {\n    return obj instanceof HTMLElement;\n  }\n};\nvar boundingBox = function boundingBox(obj) {\n  return plainObject(obj) && number(obj.x1) && number(obj.x2) && number(obj.y1) && number(obj.y2);\n};\nvar promise = function promise(obj) {\n  return object(obj) && fn(obj.then);\n};\nvar ms = function ms() {\n  return navigator && navigator.userAgent.match(/msie|trident|edge/i);\n}; // probably a better way to detect this...\n\nvar memoize = function memoize(fn, keyFn) {\n  if (!keyFn) {\n    keyFn = function keyFn() {\n      if (arguments.length === 1) {\n        return arguments[0];\n      } else if (arguments.length === 0) {\n        return 'undefined';\n      }\n\n      var args = [];\n\n      for (var i = 0; i < arguments.length; i++) {\n        args.push(arguments[i]);\n      }\n\n      return args.join('$');\n    };\n  }\n\n  var memoizedFn = function memoizedFn() {\n    var self = this;\n    var args = arguments;\n    var ret;\n    var k = keyFn.apply(self, args);\n    var cache = memoizedFn.cache;\n\n    if (!(ret = cache[k])) {\n      ret = cache[k] = fn.apply(self, args);\n    }\n\n    return ret;\n  };\n\n  memoizedFn.cache = {};\n  return memoizedFn;\n};\n\nvar camel2dash = memoize(function (str) {\n  return str.replace(/([A-Z])/g, function (v) {\n    return '-' + v.toLowerCase();\n  });\n});\nvar dash2camel = memoize(function (str) {\n  return str.replace(/(-\\w)/g, function (v) {\n    return v[1].toUpperCase();\n  });\n});\nvar prependCamel = memoize(function (prefix, str) {\n  return prefix + str[0].toUpperCase() + str.substring(1);\n}, function (prefix, str) {\n  return prefix + '$' + str;\n});\nvar capitalize = function capitalize(str) {\n  if (emptyString(str)) {\n    return str;\n  }\n\n  return str.charAt(0).toUpperCase() + str.substring(1);\n};\n\nvar number$1 = '(?:[-+]?(?:(?:\\\\d+|\\\\d*\\\\.\\\\d+)(?:[Ee][+-]?\\\\d+)?))';\nvar rgba = 'rgb[a]?\\\\((' + number$1 + '[%]?)\\\\s*,\\\\s*(' + number$1 + '[%]?)\\\\s*,\\\\s*(' + number$1 + '[%]?)(?:\\\\s*,\\\\s*(' + number$1 + '))?\\\\)';\nvar rgbaNoBackRefs = 'rgb[a]?\\\\((?:' + number$1 + '[%]?)\\\\s*,\\\\s*(?:' + number$1 + '[%]?)\\\\s*,\\\\s*(?:' + number$1 + '[%]?)(?:\\\\s*,\\\\s*(?:' + number$1 + '))?\\\\)';\nvar hsla = 'hsl[a]?\\\\((' + number$1 + ')\\\\s*,\\\\s*(' + number$1 + '[%])\\\\s*,\\\\s*(' + number$1 + '[%])(?:\\\\s*,\\\\s*(' + number$1 + '))?\\\\)';\nvar hslaNoBackRefs = 'hsl[a]?\\\\((?:' + number$1 + ')\\\\s*,\\\\s*(?:' + number$1 + '[%])\\\\s*,\\\\s*(?:' + number$1 + '[%])(?:\\\\s*,\\\\s*(?:' + number$1 + '))?\\\\)';\nvar hex3 = '\\\\#[0-9a-fA-F]{3}';\nvar hex6 = '\\\\#[0-9a-fA-F]{6}';\n\nvar ascending = function ascending(a, b) {\n  if (a < b) {\n    return -1;\n  } else if (a > b) {\n    return 1;\n  } else {\n    return 0;\n  }\n};\nvar descending = function descending(a, b) {\n  return -1 * ascending(a, b);\n};\n\nvar extend = Object.assign != null ? Object.assign.bind(Object) : function (tgt) {\n  var args = arguments;\n\n  for (var i = 1; i < args.length; i++) {\n    var obj = args[i];\n\n    if (obj == null) {\n      continue;\n    }\n\n    var keys = Object.keys(obj);\n\n    for (var j = 0; j < keys.length; j++) {\n      var k = keys[j];\n      tgt[k] = obj[k];\n    }\n  }\n\n  return tgt;\n};\n\nvar hex2tuple = function hex2tuple(hex) {\n  if (!(hex.length === 4 || hex.length === 7) || hex[0] !== '#') {\n    return;\n  }\n\n  var shortHex = hex.length === 4;\n  var r, g, b;\n  var base = 16;\n\n  if (shortHex) {\n    r = parseInt(hex[1] + hex[1], base);\n    g = parseInt(hex[2] + hex[2], base);\n    b = parseInt(hex[3] + hex[3], base);\n  } else {\n    r = parseInt(hex[1] + hex[2], base);\n    g = parseInt(hex[3] + hex[4], base);\n    b = parseInt(hex[5] + hex[6], base);\n  }\n\n  return [r, g, b];\n}; // get [r, g, b, a] from hsl(0, 0, 0) or hsla(0, 0, 0, 0)\n\nvar hsl2tuple = function hsl2tuple(hsl) {\n  var ret;\n  var h, s, l, a, r, g, b;\n\n  function hue2rgb(p, q, t) {\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n  }\n\n  var m = new RegExp('^' + hsla + '$').exec(hsl);\n\n  if (m) {\n    // get hue\n    h = parseInt(m[1]);\n\n    if (h < 0) {\n      h = (360 - -1 * h % 360) % 360;\n    } else if (h > 360) {\n      h = h % 360;\n    }\n\n    h /= 360; // normalise on [0, 1]\n\n    s = parseFloat(m[2]);\n\n    if (s < 0 || s > 100) {\n      return;\n    } // saturation is [0, 100]\n\n\n    s = s / 100; // normalise on [0, 1]\n\n    l = parseFloat(m[3]);\n\n    if (l < 0 || l > 100) {\n      return;\n    } // lightness is [0, 100]\n\n\n    l = l / 100; // normalise on [0, 1]\n\n    a = m[4];\n\n    if (a !== undefined) {\n      a = parseFloat(a);\n\n      if (a < 0 || a > 1) {\n        return;\n      } // alpha is [0, 1]\n\n    } // now, convert to rgb\n    // code from http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript\n\n\n    if (s === 0) {\n      r = g = b = Math.round(l * 255); // achromatic\n    } else {\n      var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n      var p = 2 * l - q;\n      r = Math.round(255 * hue2rgb(p, q, h + 1 / 3));\n      g = Math.round(255 * hue2rgb(p, q, h));\n      b = Math.round(255 * hue2rgb(p, q, h - 1 / 3));\n    }\n\n    ret = [r, g, b, a];\n  }\n\n  return ret;\n}; // get [r, g, b, a] from rgb(0, 0, 0) or rgba(0, 0, 0, 0)\n\nvar rgb2tuple = function rgb2tuple(rgb) {\n  var ret;\n  var m = new RegExp('^' + rgba + '$').exec(rgb);\n\n  if (m) {\n    ret = [];\n    var isPct = [];\n\n    for (var i = 1; i <= 3; i++) {\n      var channel = m[i];\n\n      if (channel[channel.length - 1] === '%') {\n        isPct[i] = true;\n      }\n\n      channel = parseFloat(channel);\n\n      if (isPct[i]) {\n        channel = channel / 100 * 255; // normalise to [0, 255]\n      }\n\n      if (channel < 0 || channel > 255) {\n        return;\n      } // invalid channel value\n\n\n      ret.push(Math.floor(channel));\n    }\n\n    var atLeastOneIsPct = isPct[1] || isPct[2] || isPct[3];\n    var allArePct = isPct[1] && isPct[2] && isPct[3];\n\n    if (atLeastOneIsPct && !allArePct) {\n      return;\n    } // must all be percent values if one is\n\n\n    var alpha = m[4];\n\n    if (alpha !== undefined) {\n      alpha = parseFloat(alpha);\n\n      if (alpha < 0 || alpha > 1) {\n        return;\n      } // invalid alpha value\n\n\n      ret.push(alpha);\n    }\n  }\n\n  return ret;\n};\nvar colorname2tuple = function colorname2tuple(color) {\n  return colors[color.toLowerCase()];\n};\nvar color2tuple = function color2tuple(color) {\n  return (array(color) ? color : null) || colorname2tuple(color) || hex2tuple(color) || rgb2tuple(color) || hsl2tuple(color);\n};\nvar colors = {\n  // special colour names\n  transparent: [0, 0, 0, 0],\n  // NB alpha === 0\n  // regular colours\n  aliceblue: [240, 248, 255],\n  antiquewhite: [250, 235, 215],\n  aqua: [0, 255, 255],\n  aquamarine: [127, 255, 212],\n  azure: [240, 255, 255],\n  beige: [245, 245, 220],\n  bisque: [255, 228, 196],\n  black: [0, 0, 0],\n  blanchedalmond: [255, 235, 205],\n  blue: [0, 0, 255],\n  blueviolet: [138, 43, 226],\n  brown: [165, 42, 42],\n  burlywood: [222, 184, 135],\n  cadetblue: [95, 158, 160],\n  chartreuse: [127, 255, 0],\n  chocolate: [210, 105, 30],\n  coral: [255, 127, 80],\n  cornflowerblue: [100, 149, 237],\n  cornsilk: [255, 248, 220],\n  crimson: [220, 20, 60],\n  cyan: [0, 255, 255],\n  darkblue: [0, 0, 139],\n  darkcyan: [0, 139, 139],\n  darkgoldenrod: [184, 134, 11],\n  darkgray: [169, 169, 169],\n  darkgreen: [0, 100, 0],\n  darkgrey: [169, 169, 169],\n  darkkhaki: [189, 183, 107],\n  darkmagenta: [139, 0, 139],\n  darkolivegreen: [85, 107, 47],\n  darkorange: [255, 140, 0],\n  darkorchid: [153, 50, 204],\n  darkred: [139, 0, 0],\n  darksalmon: [233, 150, 122],\n  darkseagreen: [143, 188, 143],\n  darkslateblue: [72, 61, 139],\n  darkslategray: [47, 79, 79],\n  darkslategrey: [47, 79, 79],\n  darkturquoise: [0, 206, 209],\n  darkviolet: [148, 0, 211],\n  deeppink: [255, 20, 147],\n  deepskyblue: [0, 191, 255],\n  dimgray: [105, 105, 105],\n  dimgrey: [105, 105, 105],\n  dodgerblue: [30, 144, 255],\n  firebrick: [178, 34, 34],\n  floralwhite: [255, 250, 240],\n  forestgreen: [34, 139, 34],\n  fuchsia: [255, 0, 255],\n  gainsboro: [220, 220, 220],\n  ghostwhite: [248, 248, 255],\n  gold: [255, 215, 0],\n  goldenrod: [218, 165, 32],\n  gray: [128, 128, 128],\n  grey: [128, 128, 128],\n  green: [0, 128, 0],\n  greenyellow: [173, 255, 47],\n  honeydew: [240, 255, 240],\n  hotpink: [255, 105, 180],\n  indianred: [205, 92, 92],\n  indigo: [75, 0, 130],\n  ivory: [255, 255, 240],\n  khaki: [240, 230, 140],\n  lavender: [230, 230, 250],\n  lavenderblush: [255, 240, 245],\n  lawngreen: [124, 252, 0],\n  lemonchiffon: [255, 250, 205],\n  lightblue: [173, 216, 230],\n  lightcoral: [240, 128, 128],\n  lightcyan: [224, 255, 255],\n  lightgoldenrodyellow: [250, 250, 210],\n  lightgray: [211, 211, 211],\n  lightgreen: [144, 238, 144],\n  lightgrey: [211, 211, 211],\n  lightpink: [255, 182, 193],\n  lightsalmon: [255, 160, 122],\n  lightseagreen: [32, 178, 170],\n  lightskyblue: [135, 206, 250],\n  lightslategray: [119, 136, 153],\n  lightslategrey: [119, 136, 153],\n  lightsteelblue: [176, 196, 222],\n  lightyellow: [255, 255, 224],\n  lime: [0, 255, 0],\n  limegreen: [50, 205, 50],\n  linen: [250, 240, 230],\n  magenta: [255, 0, 255],\n  maroon: [128, 0, 0],\n  mediumaquamarine: [102, 205, 170],\n  mediumblue: [0, 0, 205],\n  mediumorchid: [186, 85, 211],\n  mediumpurple: [147, 112, 219],\n  mediumseagreen: [60, 179, 113],\n  mediumslateblue: [123, 104, 238],\n  mediumspringgreen: [0, 250, 154],\n  mediumturquoise: [72, 209, 204],\n  mediumvioletred: [199, 21, 133],\n  midnightblue: [25, 25, 112],\n  mintcream: [245, 255, 250],\n  mistyrose: [255, 228, 225],\n  moccasin: [255, 228, 181],\n  navajowhite: [255, 222, 173],\n  navy: [0, 0, 128],\n  oldlace: [253, 245, 230],\n  olive: [128, 128, 0],\n  olivedrab: [107, 142, 35],\n  orange: [255, 165, 0],\n  orangered: [255, 69, 0],\n  orchid: [218, 112, 214],\n  palegoldenrod: [238, 232, 170],\n  palegreen: [152, 251, 152],\n  paleturquoise: [175, 238, 238],\n  palevioletred: [219, 112, 147],\n  papayawhip: [255, 239, 213],\n  peachpuff: [255, 218, 185],\n  peru: [205, 133, 63],\n  pink: [255, 192, 203],\n  plum: [221, 160, 221],\n  powderblue: [176, 224, 230],\n  purple: [128, 0, 128],\n  red: [255, 0, 0],\n  rosybrown: [188, 143, 143],\n  royalblue: [65, 105, 225],\n  saddlebrown: [139, 69, 19],\n  salmon: [250, 128, 114],\n  sandybrown: [244, 164, 96],\n  seagreen: [46, 139, 87],\n  seashell: [255, 245, 238],\n  sienna: [160, 82, 45],\n  silver: [192, 192, 192],\n  skyblue: [135, 206, 235],\n  slateblue: [106, 90, 205],\n  slategray: [112, 128, 144],\n  slategrey: [112, 128, 144],\n  snow: [255, 250, 250],\n  springgreen: [0, 255, 127],\n  steelblue: [70, 130, 180],\n  tan: [210, 180, 140],\n  teal: [0, 128, 128],\n  thistle: [216, 191, 216],\n  tomato: [255, 99, 71],\n  turquoise: [64, 224, 208],\n  violet: [238, 130, 238],\n  wheat: [245, 222, 179],\n  white: [255, 255, 255],\n  whitesmoke: [245, 245, 245],\n  yellow: [255, 255, 0],\n  yellowgreen: [154, 205, 50]\n};\n\nvar setMap = function setMap(options) {\n  var obj = options.map;\n  var keys = options.keys;\n  var l = keys.length;\n\n  for (var i = 0; i < l; i++) {\n    var key = keys[i];\n\n    if (plainObject(key)) {\n      throw Error('Tried to set map with object key');\n    }\n\n    if (i < keys.length - 1) {\n      // extend the map if necessary\n      if (obj[key] == null) {\n        obj[key] = {};\n      }\n\n      obj = obj[key];\n    } else {\n      // set the value\n      obj[key] = options.value;\n    }\n  }\n}; // gets the value in a map even if it's not built in places\n\nvar getMap = function getMap(options) {\n  var obj = options.map;\n  var keys = options.keys;\n  var l = keys.length;\n\n  for (var i = 0; i < l; i++) {\n    var key = keys[i];\n\n    if (plainObject(key)) {\n      throw Error('Tried to get map with object key');\n    }\n\n    obj = obj[key];\n\n    if (obj == null) {\n      return obj;\n    }\n  }\n\n  return obj;\n}; // deletes the entry in the map\n\nvar performance = window$1 ? window$1.performance : null;\nvar pnow = performance && performance.now ? function () {\n  return performance.now();\n} : function () {\n  return Date.now();\n};\n\nvar raf = function () {\n  if (window$1) {\n    if (window$1.requestAnimationFrame) {\n      return function (fn) {\n        window$1.requestAnimationFrame(fn);\n      };\n    } else if (window$1.mozRequestAnimationFrame) {\n      return function (fn) {\n        window$1.mozRequestAnimationFrame(fn);\n      };\n    } else if (window$1.webkitRequestAnimationFrame) {\n      return function (fn) {\n        window$1.webkitRequestAnimationFrame(fn);\n      };\n    } else if (window$1.msRequestAnimationFrame) {\n      return function (fn) {\n        window$1.msRequestAnimationFrame(fn);\n      };\n    }\n  }\n\n  return function (fn) {\n    if (fn) {\n      setTimeout(function () {\n        fn(pnow());\n      }, 1000 / 60);\n    }\n  };\n}();\n\nvar requestAnimationFrame = function requestAnimationFrame(fn) {\n  return raf(fn);\n};\nvar performanceNow = pnow;\n\nvar DEFAULT_SEED = 5381;\nvar hashIterableInts = function hashIterableInts(iterator) {\n  var seed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_SEED;\n  // djb2/string-hash\n  var hash = seed;\n  var entry;\n\n  for (;;) {\n    entry = iterator.next();\n\n    if (entry.done) {\n      break;\n    }\n\n    hash = (hash << 5) + hash + entry.value | 0;\n  }\n\n  return hash;\n};\nvar hashInt = function hashInt(num) {\n  var seed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_SEED;\n  // djb2/string-hash\n  return (seed << 5) + seed + num | 0;\n};\nvar hashIntsArray = function hashIntsArray(ints, seed) {\n  var entry = {\n    value: 0,\n    done: false\n  };\n  var i = 0;\n  var length = ints.length;\n  var iterator = {\n    next: function next() {\n      if (i < length) {\n        entry.value = ints[i++];\n      } else {\n        entry.done = true;\n      }\n\n      return entry;\n    }\n  };\n  return hashIterableInts(iterator, seed);\n};\nvar hashString = function hashString(str, seed) {\n  var entry = {\n    value: 0,\n    done: false\n  };\n  var i = 0;\n  var length = str.length;\n  var iterator = {\n    next: function next() {\n      if (i < length) {\n        entry.value = str.charCodeAt(i++);\n      } else {\n        entry.done = true;\n      }\n\n      return entry;\n    }\n  };\n  return hashIterableInts(iterator, seed);\n};\nvar hashStrings = function hashStrings() {\n  return hashStringsArray(arguments);\n};\nvar hashStringsArray = function hashStringsArray(strs) {\n  var hash;\n\n  for (var i = 0; i < strs.length; i++) {\n    var str = strs[i];\n\n    if (i === 0) {\n      hash = hashString(str);\n    } else {\n      hash = hashString(str, hash);\n    }\n  }\n\n  return hash;\n};\n\n/*global console */\nvar warningsEnabled = true;\nvar warnSupported = console.warn != null; // eslint-disable-line no-console\n\nvar traceSupported = console.trace != null; // eslint-disable-line no-console\n\nvar MAX_INT = Number.MAX_SAFE_INTEGER || 9007199254740991;\nvar trueify = function trueify() {\n  return true;\n};\nvar falsify = function falsify() {\n  return false;\n};\nvar zeroify = function zeroify() {\n  return 0;\n};\nvar noop = function noop() {};\nvar error = function error(msg) {\n  throw new Error(msg);\n};\nvar warnings = function warnings(enabled) {\n  if (enabled !== undefined) {\n    warningsEnabled = !!enabled;\n  } else {\n    return warningsEnabled;\n  }\n};\nvar warn = function warn(msg) {\n  /* eslint-disable no-console */\n  if (!warnings()) {\n    return;\n  }\n\n  if (warnSupported) {\n    console.warn(msg);\n  } else {\n    console.log(msg);\n\n    if (traceSupported) {\n      console.trace();\n    }\n  }\n};\n/* eslint-enable */\n\nvar clone = function clone(obj) {\n  return extend({}, obj);\n}; // gets a shallow copy of the argument\n\nvar copy = function copy(obj) {\n  if (obj == null) {\n    return obj;\n  }\n\n  if (array(obj)) {\n    return obj.slice();\n  } else if (plainObject(obj)) {\n    return clone(obj);\n  } else {\n    return obj;\n  }\n};\nvar copyArray = function copyArray(arr) {\n  return arr.slice();\n};\nvar uuid = function uuid(a, b\n/* placeholders */\n) {\n  for ( // loop :)\n  b = a = ''; // b - result , a - numeric letiable\n  a++ < 36; //\n  b += a * 51 & 52 // if \"a\" is not 9 or 14 or 19 or 24\n  ? //  return a random number or 4\n  (a ^ 15 // if \"a\" is not 15\n  ? // genetate a random number from 0 to 15\n  8 ^ Math.random() * (a ^ 20 ? 16 : 4) // unless \"a\" is 20, in which case a random number from 8 to 11\n  : 4 //  otherwise 4\n  ).toString(16) : '-' //  in other cases (if \"a\" is 9,14,19,24) insert \"-\"\n  ) {\n  }\n\n  return b;\n};\nvar _staticEmptyObject = {};\nvar staticEmptyObject = function staticEmptyObject() {\n  return _staticEmptyObject;\n};\nvar defaults = function defaults(_defaults) {\n  var keys = Object.keys(_defaults);\n  return function (opts) {\n    var filledOpts = {};\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      var optVal = opts == null ? undefined : opts[key];\n      filledOpts[key] = optVal === undefined ? _defaults[key] : optVal;\n    }\n\n    return filledOpts;\n  };\n};\nvar removeFromArray = function removeFromArray(arr, ele, manyCopies) {\n  for (var i = arr.length; i >= 0; i--) {\n    if (arr[i] === ele) {\n      arr.splice(i, 1);\n\n      if (!manyCopies) {\n        break;\n      }\n    }\n  }\n};\nvar clearArray = function clearArray(arr) {\n  arr.splice(0, arr.length);\n};\nvar push = function push(arr, otherArr) {\n  for (var i = 0; i < otherArr.length; i++) {\n    var el = otherArr[i];\n    arr.push(el);\n  }\n};\nvar getPrefixedProperty = function getPrefixedProperty(obj, propName, prefix) {\n  if (prefix) {\n    propName = prependCamel(prefix, propName); // e.g. (labelWidth, source) => sourceLabelWidth\n  }\n\n  return obj[propName];\n};\nvar setPrefixedProperty = function setPrefixedProperty(obj, propName, prefix, value) {\n  if (prefix) {\n    propName = prependCamel(prefix, propName); // e.g. (labelWidth, source) => sourceLabelWidth\n  }\n\n  obj[propName] = value;\n};\n\n/* global Map */\nvar ObjectMap =\n/*#__PURE__*/\nfunction () {\n  function ObjectMap() {\n    _classCallCheck(this, ObjectMap);\n\n    this._obj = {};\n  }\n\n  _createClass(ObjectMap, [{\n    key: \"set\",\n    value: function set(key, val) {\n      this._obj[key] = val;\n      return this;\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(key) {\n      this._obj[key] = undefined;\n      return this;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this._obj = {};\n    }\n  }, {\n    key: \"has\",\n    value: function has(key) {\n      return this._obj[key] !== undefined;\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      return this._obj[key];\n    }\n  }]);\n\n  return ObjectMap;\n}();\n\nvar Map$1 = typeof Map !== 'undefined' ? Map : ObjectMap;\n\n/* global Set */\nvar undef =  \"undefined\" ;\n\nvar ObjectSet =\n/*#__PURE__*/\nfunction () {\n  function ObjectSet(arrayOrObjectSet) {\n    _classCallCheck(this, ObjectSet);\n\n    this._obj = Object.create(null);\n    this.size = 0;\n\n    if (arrayOrObjectSet != null) {\n      var arr;\n\n      if (arrayOrObjectSet.instanceString != null && arrayOrObjectSet.instanceString() === this.instanceString()) {\n        arr = arrayOrObjectSet.toArray();\n      } else {\n        arr = arrayOrObjectSet;\n      }\n\n      for (var i = 0; i < arr.length; i++) {\n        this.add(arr[i]);\n      }\n    }\n  }\n\n  _createClass(ObjectSet, [{\n    key: \"instanceString\",\n    value: function instanceString() {\n      return 'set';\n    }\n  }, {\n    key: \"add\",\n    value: function add(val) {\n      var o = this._obj;\n\n      if (o[val] !== 1) {\n        o[val] = 1;\n        this.size++;\n      }\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(val) {\n      var o = this._obj;\n\n      if (o[val] === 1) {\n        o[val] = 0;\n        this.size--;\n      }\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this._obj = Object.create(null);\n    }\n  }, {\n    key: \"has\",\n    value: function has(val) {\n      return this._obj[val] === 1;\n    }\n  }, {\n    key: \"toArray\",\n    value: function toArray() {\n      var _this = this;\n\n      return Object.keys(this._obj).filter(function (key) {\n        return _this.has(key);\n      });\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(callback, thisArg) {\n      return this.toArray().forEach(callback, thisArg);\n    }\n  }]);\n\n  return ObjectSet;\n}();\n\nvar Set$1 = (typeof Set === \"undefined\" ? \"undefined\" : _typeof(Set)) !== undef ? Set : ObjectSet;\n\nvar Element = function Element(cy, params, restore) {\n  restore = restore === undefined || restore ? true : false;\n\n  if (cy === undefined || params === undefined || !core(cy)) {\n    error('An element must have a core reference and parameters set');\n    return;\n  }\n\n  var group = params.group; // try to automatically infer the group if unspecified\n\n  if (group == null) {\n    if (params.data && params.data.source != null && params.data.target != null) {\n      group = 'edges';\n    } else {\n      group = 'nodes';\n    }\n  } // validate group\n\n\n  if (group !== 'nodes' && group !== 'edges') {\n    error('An element must be of type `nodes` or `edges`; you specified `' + group + '`');\n    return;\n  } // make the element array-like, just like a collection\n\n\n  this.length = 1;\n  this[0] = this; // NOTE: when something is added here, add also to ele.json()\n\n  var _p = this._private = {\n    cy: cy,\n    single: true,\n    // indicates this is an element\n    data: params.data || {},\n    // data object\n    position: params.position || {\n      x: 0,\n      y: 0\n    },\n    // (x, y) position pair\n    autoWidth: undefined,\n    // width and height of nodes calculated by the renderer when set to special 'auto' value\n    autoHeight: undefined,\n    autoPadding: undefined,\n    compoundBoundsClean: false,\n    // whether the compound dimensions need to be recalculated the next time dimensions are read\n    listeners: [],\n    // array of bound listeners\n    group: group,\n    // string; 'nodes' or 'edges'\n    style: {},\n    // properties as set by the style\n    rstyle: {},\n    // properties for style sent from the renderer to the core\n    styleCxts: [],\n    // applied style contexts from the styler\n    styleKeys: {},\n    // per-group keys of style property values\n    removed: true,\n    // whether it's inside the vis; true if removed (set true here since we call restore)\n    selected: params.selected ? true : false,\n    // whether it's selected\n    selectable: params.selectable === undefined ? true : params.selectable ? true : false,\n    // whether it's selectable\n    locked: params.locked ? true : false,\n    // whether the element is locked (cannot be moved)\n    grabbed: false,\n    // whether the element is grabbed by the mouse; renderer sets this privately\n    grabbable: params.grabbable === undefined ? true : params.grabbable ? true : false,\n    // whether the element can be grabbed\n    pannable: params.pannable === undefined ? group === 'edges' ? true : false : params.pannable ? true : false,\n    // whether the element has passthrough panning enabled\n    active: false,\n    // whether the element is active from user interaction\n    classes: new Set$1(),\n    // map ( className => true )\n    animation: {\n      // object for currently-running animations\n      current: [],\n      queue: []\n    },\n    rscratch: {},\n    // object in which the renderer can store information\n    scratch: params.scratch || {},\n    // scratch objects\n    edges: [],\n    // array of connected edges\n    children: [],\n    // array of children\n    parent: null,\n    // parent ref\n    traversalCache: {},\n    // cache of output of traversal functions\n    backgrounding: false,\n    // whether background images are loading\n    bbCache: null,\n    // cache of the current bounding box\n    bbCacheShift: {\n      x: 0,\n      y: 0\n    },\n    // shift applied to cached bb to be applied on next get\n    bodyBounds: null,\n    // bounds cache of element body, w/o overlay\n    overlayBounds: null,\n    // bounds cache of element body, including overlay\n    labelBounds: {\n      // bounds cache of labels\n      all: null,\n      source: null,\n      target: null,\n      main: null\n    },\n    arrowBounds: {\n      // bounds cache of edge arrows\n      source: null,\n      target: null,\n      'mid-source': null,\n      'mid-target': null\n    }\n  };\n\n  if (_p.position.x == null) {\n    _p.position.x = 0;\n  }\n\n  if (_p.position.y == null) {\n    _p.position.y = 0;\n  } // renderedPosition overrides if specified\n\n\n  if (params.renderedPosition) {\n    var rpos = params.renderedPosition;\n    var pan = cy.pan();\n    var zoom = cy.zoom();\n    _p.position = {\n      x: (rpos.x - pan.x) / zoom,\n      y: (rpos.y - pan.y) / zoom\n    };\n  }\n\n  var classes = [];\n\n  if (array(params.classes)) {\n    classes = params.classes;\n  } else if (string(params.classes)) {\n    classes = params.classes.split(/\\s+/);\n  }\n\n  for (var i = 0, l = classes.length; i < l; i++) {\n    var cls = classes[i];\n\n    if (!cls || cls === '') {\n      continue;\n    }\n\n    _p.classes.add(cls);\n  }\n\n  this.createEmitter();\n  var bypass = params.style || params.css;\n\n  if (bypass) {\n    warn('Setting a `style` bypass at element creation is deprecated');\n    this.style(bypass);\n  }\n\n  if (restore === undefined || restore) {\n    this.restore();\n  }\n};\n\nvar defineSearch = function defineSearch(params) {\n  params = {\n    bfs: params.bfs || !params.dfs,\n    dfs: params.dfs || !params.bfs\n  }; // from pseudocode on wikipedia\n\n  return function searchFn(roots, fn$1, directed) {\n    var options;\n\n    if (plainObject(roots) && !elementOrCollection(roots)) {\n      options = roots;\n      roots = options.roots || options.root;\n      fn$1 = options.visit;\n      directed = options.directed;\n    }\n\n    directed = arguments.length === 2 && !fn(fn$1) ? fn$1 : directed;\n    fn$1 = fn(fn$1) ? fn$1 : function () {};\n    var cy = this._private.cy;\n    var v = roots = string(roots) ? this.filter(roots) : roots;\n    var Q = [];\n    var connectedNodes = [];\n    var connectedBy = {};\n    var id2depth = {};\n    var V = {};\n    var j = 0;\n    var found;\n\n    var _this$byGroup = this.byGroup(),\n        nodes = _this$byGroup.nodes,\n        edges = _this$byGroup.edges; // enqueue v\n\n\n    for (var i = 0; i < v.length; i++) {\n      var vi = v[i];\n      var viId = vi.id();\n\n      if (vi.isNode()) {\n        Q.unshift(vi);\n\n        if (params.bfs) {\n          V[viId] = true;\n          connectedNodes.push(vi);\n        }\n\n        id2depth[viId] = 0;\n      }\n    }\n\n    var _loop2 = function _loop2() {\n      var v = params.bfs ? Q.shift() : Q.pop();\n      var vId = v.id();\n\n      if (params.dfs) {\n        if (V[vId]) {\n          return \"continue\";\n        }\n\n        V[vId] = true;\n        connectedNodes.push(v);\n      }\n\n      var depth = id2depth[vId];\n      var prevEdge = connectedBy[vId];\n      var src = prevEdge != null ? prevEdge.source() : null;\n      var tgt = prevEdge != null ? prevEdge.target() : null;\n      var prevNode = prevEdge == null ? undefined : v.same(src) ? tgt[0] : src[0];\n      var ret = void 0;\n      ret = fn$1(v, prevEdge, prevNode, j++, depth);\n\n      if (ret === true) {\n        found = v;\n        return \"break\";\n      }\n\n      if (ret === false) {\n        return \"break\";\n      }\n\n      var vwEdges = v.connectedEdges().filter(function (e) {\n        return (!directed || e.source().same(v)) && edges.has(e);\n      });\n\n      for (var _i2 = 0; _i2 < vwEdges.length; _i2++) {\n        var e = vwEdges[_i2];\n        var w = e.connectedNodes().filter(function (n) {\n          return !n.same(v) && nodes.has(n);\n        });\n        var wId = w.id();\n\n        if (w.length !== 0 && !V[wId]) {\n          w = w[0];\n          Q.push(w);\n\n          if (params.bfs) {\n            V[wId] = true;\n            connectedNodes.push(w);\n          }\n\n          connectedBy[wId] = e;\n          id2depth[wId] = id2depth[vId] + 1;\n        }\n      }\n    };\n\n    _loop: while (Q.length !== 0) {\n      var _ret = _loop2();\n\n      switch (_ret) {\n        case \"continue\":\n          continue;\n\n        case \"break\":\n          break _loop;\n      }\n    }\n\n    var connectedEles = cy.collection();\n\n    for (var _i = 0; _i < connectedNodes.length; _i++) {\n      var node = connectedNodes[_i];\n      var edge = connectedBy[node.id()];\n\n      if (edge != null) {\n        connectedEles.merge(edge);\n      }\n\n      connectedEles.merge(node);\n    }\n\n    return {\n      path: cy.collection(connectedEles),\n      found: cy.collection(found)\n    };\n  };\n}; // search, spanning trees, etc\n\n\nvar elesfn = {\n  breadthFirstSearch: defineSearch({\n    bfs: true\n  }),\n  depthFirstSearch: defineSearch({\n    dfs: true\n  })\n}; // nice, short mathemathical alias\n\nelesfn.bfs = elesfn.breadthFirstSearch;\nelesfn.dfs = elesfn.depthFirstSearch;\n\nvar dijkstraDefaults = defaults({\n  root: null,\n  weight: function weight(edge) {\n    return 1;\n  },\n  directed: false\n});\nvar elesfn$1 = {\n  dijkstra: function dijkstra(options) {\n    if (!plainObject(options)) {\n      var args = arguments;\n      options = {\n        root: args[0],\n        weight: args[1],\n        directed: args[2]\n      };\n    }\n\n    var _dijkstraDefaults = dijkstraDefaults(options),\n        root = _dijkstraDefaults.root,\n        weight = _dijkstraDefaults.weight,\n        directed = _dijkstraDefaults.directed;\n\n    var eles = this;\n    var weightFn = weight;\n    var source = string(root) ? this.filter(root)[0] : root[0];\n    var dist = {};\n    var prev = {};\n    var knownDist = {};\n\n    var _this$byGroup = this.byGroup(),\n        nodes = _this$byGroup.nodes,\n        edges = _this$byGroup.edges;\n\n    edges.unmergeBy(function (ele) {\n      return ele.isLoop();\n    });\n\n    var getDist = function getDist(node) {\n      return dist[node.id()];\n    };\n\n    var setDist = function setDist(node, d) {\n      dist[node.id()] = d;\n      Q.updateItem(node);\n    };\n\n    var Q = new Heap(function (a, b) {\n      return getDist(a) - getDist(b);\n    });\n\n    for (var i = 0; i < nodes.length; i++) {\n      var node = nodes[i];\n      dist[node.id()] = node.same(source) ? 0 : Infinity;\n      Q.push(node);\n    }\n\n    var distBetween = function distBetween(u, v) {\n      var uvs = (directed ? u.edgesTo(v) : u.edgesWith(v)).intersect(edges);\n      var smallestDistance = Infinity;\n      var smallestEdge;\n\n      for (var _i = 0; _i < uvs.length; _i++) {\n        var edge = uvs[_i];\n\n        var _weight = weightFn(edge);\n\n        if (_weight < smallestDistance || !smallestEdge) {\n          smallestDistance = _weight;\n          smallestEdge = edge;\n        }\n      }\n\n      return {\n        edge: smallestEdge,\n        dist: smallestDistance\n      };\n    };\n\n    while (Q.size() > 0) {\n      var u = Q.pop();\n      var smalletsDist = getDist(u);\n      var uid = u.id();\n      knownDist[uid] = smalletsDist;\n\n      if (smalletsDist === Infinity) {\n        continue;\n      }\n\n      var neighbors = u.neighborhood().intersect(nodes);\n\n      for (var _i2 = 0; _i2 < neighbors.length; _i2++) {\n        var v = neighbors[_i2];\n        var vid = v.id();\n        var vDist = distBetween(u, v);\n        var alt = smalletsDist + vDist.dist;\n\n        if (alt < getDist(v)) {\n          setDist(v, alt);\n          prev[vid] = {\n            node: u,\n            edge: vDist.edge\n          };\n        }\n      } // for\n\n    } // while\n\n\n    return {\n      distanceTo: function distanceTo(node) {\n        var target = string(node) ? nodes.filter(node)[0] : node[0];\n        return knownDist[target.id()];\n      },\n      pathTo: function pathTo(node) {\n        var target = string(node) ? nodes.filter(node)[0] : node[0];\n        var S = [];\n        var u = target;\n        var uid = u.id();\n\n        if (target.length > 0) {\n          S.unshift(target);\n\n          while (prev[uid]) {\n            var p = prev[uid];\n            S.unshift(p.edge);\n            S.unshift(p.node);\n            u = p.node;\n            uid = u.id();\n          }\n        }\n\n        return eles.spawn(S);\n      }\n    };\n  }\n};\n\nvar elesfn$2 = {\n  // kruskal's algorithm (finds min spanning tree, assuming undirected graph)\n  // implemented from pseudocode from wikipedia\n  kruskal: function kruskal(weightFn) {\n    weightFn = weightFn || function (edge) {\n      return 1;\n    };\n\n    var _this$byGroup = this.byGroup(),\n        nodes = _this$byGroup.nodes,\n        edges = _this$byGroup.edges;\n\n    var numNodes = nodes.length;\n    var forest = new Array(numNodes);\n    var A = nodes; // assumes byGroup() creates new collections that can be safely mutated\n\n    var findSetIndex = function findSetIndex(ele) {\n      for (var i = 0; i < forest.length; i++) {\n        var eles = forest[i];\n\n        if (eles.has(ele)) {\n          return i;\n        }\n      }\n    }; // start with one forest per node\n\n\n    for (var i = 0; i < numNodes; i++) {\n      forest[i] = this.spawn(nodes[i]);\n    }\n\n    var S = edges.sort(function (a, b) {\n      return weightFn(a) - weightFn(b);\n    });\n\n    for (var _i = 0; _i < S.length; _i++) {\n      var edge = S[_i];\n      var u = edge.source()[0];\n      var v = edge.target()[0];\n      var setUIndex = findSetIndex(u);\n      var setVIndex = findSetIndex(v);\n      var setU = forest[setUIndex];\n      var setV = forest[setVIndex];\n\n      if (setUIndex !== setVIndex) {\n        A.merge(edge); // combine forests for u and v\n\n        setU.merge(setV);\n        forest.splice(setVIndex, 1);\n      }\n    }\n\n    return A;\n  }\n};\n\nvar aStarDefaults = defaults({\n  root: null,\n  goal: null,\n  weight: function weight(edge) {\n    return 1;\n  },\n  heuristic: function heuristic(edge) {\n    return 0;\n  },\n  directed: false\n});\nvar elesfn$3 = {\n  // Implemented from pseudocode from wikipedia\n  aStar: function aStar(options) {\n    var cy = this.cy();\n\n    var _aStarDefaults = aStarDefaults(options),\n        root = _aStarDefaults.root,\n        goal = _aStarDefaults.goal,\n        heuristic = _aStarDefaults.heuristic,\n        directed = _aStarDefaults.directed,\n        weight = _aStarDefaults.weight;\n\n    root = cy.collection(root)[0];\n    goal = cy.collection(goal)[0];\n    var sid = root.id();\n    var tid = goal.id();\n    var gScore = {};\n    var fScore = {};\n    var closedSetIds = {};\n    var openSet = new Heap(function (a, b) {\n      return fScore[a.id()] - fScore[b.id()];\n    });\n    var openSetIds = new Set$1();\n    var cameFrom = {};\n    var cameFromEdge = {};\n\n    var addToOpenSet = function addToOpenSet(ele, id) {\n      openSet.push(ele);\n      openSetIds.add(id);\n    };\n\n    var cMin, cMinId;\n\n    var popFromOpenSet = function popFromOpenSet() {\n      cMin = openSet.pop();\n      cMinId = cMin.id();\n      openSetIds[\"delete\"](cMinId);\n    };\n\n    var isInOpenSet = function isInOpenSet(id) {\n      return openSetIds.has(id);\n    };\n\n    addToOpenSet(root, sid);\n    gScore[sid] = 0;\n    fScore[sid] = heuristic(root); // Counter\n\n    var steps = 0; // Main loop\n\n    while (openSet.size() > 0) {\n      popFromOpenSet();\n      steps++; // If we've found our goal, then we are done\n\n      if (cMinId === tid) {\n        var path = [];\n        var pathNode = goal;\n        var pathNodeId = tid;\n        var pathEdge = cameFromEdge[pathNodeId];\n\n        for (;;) {\n          path.unshift(pathNode);\n\n          if (pathEdge != null) {\n            path.unshift(pathEdge);\n          }\n\n          pathNode = cameFrom[pathNodeId];\n\n          if (pathNode == null) {\n            break;\n          }\n\n          pathNodeId = pathNode.id();\n          pathEdge = cameFromEdge[pathNodeId];\n        }\n\n        return {\n          found: true,\n          distance: gScore[cMinId],\n          path: this.spawn(path),\n          steps: steps\n        };\n      } // Add cMin to processed nodes\n\n\n      closedSetIds[cMinId] = true; // Update scores for neighbors of cMin\n      // Take into account if graph is directed or not\n\n      var vwEdges = cMin._private.edges;\n\n      for (var i = 0; i < vwEdges.length; i++) {\n        var e = vwEdges[i]; // edge must be in set of calling eles\n\n        if (!this.hasElementWithId(e.id())) {\n          continue;\n        } // cMin must be the source of edge if directed\n\n\n        if (directed && e.data('source') !== cMinId) {\n          continue;\n        }\n\n        var wSrc = e.source();\n        var wTgt = e.target();\n        var w = wSrc.id() !== cMinId ? wSrc : wTgt;\n        var wid = w.id(); // node must be in set of calling eles\n\n        if (!this.hasElementWithId(wid)) {\n          continue;\n        } // if node is in closedSet, ignore it\n\n\n        if (closedSetIds[wid]) {\n          continue;\n        } // New tentative score for node w\n\n\n        var tempScore = gScore[cMinId] + weight(e); // Update gScore for node w if:\n        //   w not present in openSet\n        // OR\n        //   tentative gScore is less than previous value\n        // w not in openSet\n\n        if (!isInOpenSet(wid)) {\n          gScore[wid] = tempScore;\n          fScore[wid] = tempScore + heuristic(w);\n          addToOpenSet(w, wid);\n          cameFrom[wid] = cMin;\n          cameFromEdge[wid] = e;\n          continue;\n        } // w already in openSet, but with greater gScore\n\n\n        if (tempScore < gScore[wid]) {\n          gScore[wid] = tempScore;\n          fScore[wid] = tempScore + heuristic(w);\n          cameFrom[wid] = cMin;\n        }\n      } // End of neighbors update\n\n    } // End of main loop\n    // If we've reached here, then we've not reached our goal\n\n\n    return {\n      found: false,\n      distance: undefined,\n      path: undefined,\n      steps: steps\n    };\n  }\n}; // elesfn\n\nvar floydWarshallDefaults = defaults({\n  weight: function weight(edge) {\n    return 1;\n  },\n  directed: false\n});\nvar elesfn$4 = {\n  // Implemented from pseudocode from wikipedia\n  floydWarshall: function floydWarshall(options) {\n    var cy = this.cy();\n\n    var _floydWarshallDefault = floydWarshallDefaults(options),\n        weight = _floydWarshallDefault.weight,\n        directed = _floydWarshallDefault.directed;\n\n    var weightFn = weight;\n\n    var _this$byGroup = this.byGroup(),\n        nodes = _this$byGroup.nodes,\n        edges = _this$byGroup.edges;\n\n    var N = nodes.length;\n    var Nsq = N * N;\n\n    var indexOf = function indexOf(node) {\n      return nodes.indexOf(node);\n    };\n\n    var atIndex = function atIndex(i) {\n      return nodes[i];\n    }; // Initialize distance matrix\n\n\n    var dist = new Array(Nsq);\n\n    for (var n = 0; n < Nsq; n++) {\n      var j = n % N;\n      var i = (n - j) / N;\n\n      if (i === j) {\n        dist[n] = 0;\n      } else {\n        dist[n] = Infinity;\n      }\n    } // Initialize matrix used for path reconstruction\n    // Initialize distance matrix\n\n\n    var next = new Array(Nsq);\n    var edgeNext = new Array(Nsq); // Process edges\n\n    for (var _i = 0; _i < edges.length; _i++) {\n      var edge = edges[_i];\n      var src = edge.source()[0];\n      var tgt = edge.target()[0];\n\n      if (src === tgt) {\n        continue;\n      } // exclude loops\n\n\n      var s = indexOf(src);\n      var t = indexOf(tgt);\n      var st = s * N + t; // source to target index\n\n      var _weight = weightFn(edge); // Check if already process another edge between same 2 nodes\n\n\n      if (dist[st] > _weight) {\n        dist[st] = _weight;\n        next[st] = t;\n        edgeNext[st] = edge;\n      } // If undirected graph, process 'reversed' edge\n\n\n      if (!directed) {\n        var ts = t * N + s; // target to source index\n\n        if (!directed && dist[ts] > _weight) {\n          dist[ts] = _weight;\n          next[ts] = s;\n          edgeNext[ts] = edge;\n        }\n      }\n    } // Main loop\n\n\n    for (var k = 0; k < N; k++) {\n      for (var _i2 = 0; _i2 < N; _i2++) {\n        var ik = _i2 * N + k;\n\n        for (var _j = 0; _j < N; _j++) {\n          var ij = _i2 * N + _j;\n          var kj = k * N + _j;\n\n          if (dist[ik] + dist[kj] < dist[ij]) {\n            dist[ij] = dist[ik] + dist[kj];\n            next[ij] = next[ik];\n          }\n        }\n      }\n    }\n\n    var getArgEle = function getArgEle(ele) {\n      return (string(ele) ? cy.filter(ele) : ele)[0];\n    };\n\n    var indexOfArgEle = function indexOfArgEle(ele) {\n      return indexOf(getArgEle(ele));\n    };\n\n    var res = {\n      distance: function distance(from, to) {\n        var i = indexOfArgEle(from);\n        var j = indexOfArgEle(to);\n        return dist[i * N + j];\n      },\n      path: function path(from, to) {\n        var i = indexOfArgEle(from);\n        var j = indexOfArgEle(to);\n        var fromNode = atIndex(i);\n\n        if (i === j) {\n          return fromNode.collection();\n        }\n\n        if (next[i * N + j] == null) {\n          return cy.collection();\n        }\n\n        var path = cy.collection();\n        var prev = i;\n        var edge;\n        path.merge(fromNode);\n\n        while (i !== j) {\n          prev = i;\n          i = next[i * N + j];\n          edge = edgeNext[prev * N + i];\n          path.merge(edge);\n          path.merge(atIndex(i));\n        }\n\n        return path;\n      }\n    };\n    return res;\n  } // floydWarshall\n\n}; // elesfn\n\nvar bellmanFordDefaults = defaults({\n  weight: function weight(edge) {\n    return 1;\n  },\n  directed: false,\n  root: null\n});\nvar elesfn$5 = {\n  // Implemented from pseudocode from wikipedia\n  bellmanFord: function bellmanFord(options) {\n    var _this = this;\n\n    var _bellmanFordDefaults = bellmanFordDefaults(options),\n        weight = _bellmanFordDefaults.weight,\n        directed = _bellmanFordDefaults.directed,\n        root = _bellmanFordDefaults.root;\n\n    var weightFn = weight;\n    var eles = this;\n    var cy = this.cy();\n\n    var _this$byGroup = this.byGroup(),\n        edges = _this$byGroup.edges,\n        nodes = _this$byGroup.nodes;\n\n    var numNodes = nodes.length;\n    var infoMap = new Map$1();\n    var hasNegativeWeightCycle = false;\n    var negativeWeightCycles = [];\n    root = cy.collection(root)[0]; // in case selector passed\n\n    edges.unmergeBy(function (edge) {\n      return edge.isLoop();\n    });\n    var numEdges = edges.length;\n\n    var getInfo = function getInfo(node) {\n      var obj = infoMap.get(node.id());\n\n      if (!obj) {\n        obj = {};\n        infoMap.set(node.id(), obj);\n      }\n\n      return obj;\n    };\n\n    var getNodeFromTo = function getNodeFromTo(to) {\n      return (string(to) ? cy.$(to) : to)[0];\n    };\n\n    var distanceTo = function distanceTo(to) {\n      return getInfo(getNodeFromTo(to)).dist;\n    };\n\n    var pathTo = function pathTo(to) {\n      var thisStart = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : root;\n      var end = getNodeFromTo(to);\n      var path = [];\n      var node = end;\n\n      for (;;) {\n        if (node == null) {\n          return _this.spawn();\n        }\n\n        var _getInfo = getInfo(node),\n            edge = _getInfo.edge,\n            pred = _getInfo.pred;\n\n        path.unshift(node[0]);\n\n        if (node.same(thisStart) && path.length > 0) {\n          break;\n        }\n\n        if (edge != null) {\n          path.unshift(edge);\n        }\n\n        node = pred;\n      }\n\n      return eles.spawn(path);\n    }; // Initializations { dist, pred, edge }\n\n\n    for (var i = 0; i < numNodes; i++) {\n      var node = nodes[i];\n      var info = getInfo(node);\n\n      if (node.same(root)) {\n        info.dist = 0;\n      } else {\n        info.dist = Infinity;\n      }\n\n      info.pred = null;\n      info.edge = null;\n    } // Edges relaxation\n\n\n    var replacedEdge = false;\n\n    var checkForEdgeReplacement = function checkForEdgeReplacement(node1, node2, edge, info1, info2, weight) {\n      var dist = info1.dist + weight;\n\n      if (dist < info2.dist && !edge.same(info1.edge)) {\n        info2.dist = dist;\n        info2.pred = node1;\n        info2.edge = edge;\n        replacedEdge = true;\n      }\n    };\n\n    for (var _i = 1; _i < numNodes; _i++) {\n      replacedEdge = false;\n\n      for (var e = 0; e < numEdges; e++) {\n        var edge = edges[e];\n        var src = edge.source();\n        var tgt = edge.target();\n\n        var _weight = weightFn(edge);\n\n        var srcInfo = getInfo(src);\n        var tgtInfo = getInfo(tgt);\n        checkForEdgeReplacement(src, tgt, edge, srcInfo, tgtInfo, _weight); // If undirected graph, we need to take into account the 'reverse' edge\n\n        if (!directed) {\n          checkForEdgeReplacement(tgt, src, edge, tgtInfo, srcInfo, _weight);\n        }\n      }\n\n      if (!replacedEdge) {\n        break;\n      }\n    }\n\n    if (replacedEdge) {\n      // Check for negative weight cycles\n      for (var _e = 0; _e < numEdges; _e++) {\n        var _edge = edges[_e];\n\n        var _src = _edge.source();\n\n        var _tgt = _edge.target();\n\n        var _weight2 = weightFn(_edge);\n\n        var srcDist = getInfo(_src).dist;\n        var tgtDist = getInfo(_tgt).dist;\n\n        if (srcDist + _weight2 < tgtDist || !directed && tgtDist + _weight2 < srcDist) {\n          warn('Graph contains a negative weight cycle for Bellman-Ford');\n          hasNegativeWeightCycle = true;\n          break;\n        }\n      }\n    }\n\n    return {\n      distanceTo: distanceTo,\n      pathTo: pathTo,\n      hasNegativeWeightCycle: hasNegativeWeightCycle,\n      negativeWeightCycles: negativeWeightCycles\n    };\n  } // bellmanFord\n\n}; // elesfn\n\nvar sqrt2 = Math.sqrt(2); // Function which colapses 2 (meta) nodes into one\n// Updates the remaining edge lists\n// Receives as a paramater the edge which causes the collapse\n\nvar collapse = function collapse(edgeIndex, nodeMap, remainingEdges) {\n  if (remainingEdges.length === 0) {\n    error(\"Karger-Stein must be run on a connected (sub)graph\");\n  }\n\n  var edgeInfo = remainingEdges[edgeIndex];\n  var sourceIn = edgeInfo[1];\n  var targetIn = edgeInfo[2];\n  var partition1 = nodeMap[sourceIn];\n  var partition2 = nodeMap[targetIn];\n  var newEdges = remainingEdges; // re-use array\n  // Delete all edges between partition1 and partition2\n\n  for (var i = newEdges.length - 1; i >= 0; i--) {\n    var edge = newEdges[i];\n    var src = edge[1];\n    var tgt = edge[2];\n\n    if (nodeMap[src] === partition1 && nodeMap[tgt] === partition2 || nodeMap[src] === partition2 && nodeMap[tgt] === partition1) {\n      newEdges.splice(i, 1);\n    }\n  } // All edges pointing to partition2 should now point to partition1\n\n\n  for (var _i = 0; _i < newEdges.length; _i++) {\n    var _edge = newEdges[_i];\n\n    if (_edge[1] === partition2) {\n      // Check source\n      newEdges[_i] = _edge.slice(); // copy\n\n      newEdges[_i][1] = partition1;\n    } else if (_edge[2] === partition2) {\n      // Check target\n      newEdges[_i] = _edge.slice(); // copy\n\n      newEdges[_i][2] = partition1;\n    }\n  } // Move all nodes from partition2 to partition1\n\n\n  for (var _i2 = 0; _i2 < nodeMap.length; _i2++) {\n    if (nodeMap[_i2] === partition2) {\n      nodeMap[_i2] = partition1;\n    }\n  }\n\n  return newEdges;\n}; // Contracts a graph until we reach a certain number of meta nodes\n\n\nvar contractUntil = function contractUntil(metaNodeMap, remainingEdges, size, sizeLimit) {\n  while (size > sizeLimit) {\n    // Choose an edge randomly\n    var edgeIndex = Math.floor(Math.random() * remainingEdges.length); // Collapse graph based on edge\n\n    remainingEdges = collapse(edgeIndex, metaNodeMap, remainingEdges);\n    size--;\n  }\n\n  return remainingEdges;\n};\n\nvar elesfn$6 = {\n  // Computes the minimum cut of an undirected graph\n  // Returns the correct answer with high probability\n  kargerStein: function kargerStein() {\n    var _this$byGroup = this.byGroup(),\n        nodes = _this$byGroup.nodes,\n        edges = _this$byGroup.edges;\n\n    edges.unmergeBy(function (edge) {\n      return edge.isLoop();\n    });\n    var numNodes = nodes.length;\n    var numEdges = edges.length;\n    var numIter = Math.ceil(Math.pow(Math.log(numNodes) / Math.LN2, 2));\n    var stopSize = Math.floor(numNodes / sqrt2);\n\n    if (numNodes < 2) {\n      error('At least 2 nodes are required for Karger-Stein algorithm');\n      return undefined;\n    } // Now store edge destination as indexes\n    // Format for each edge (edge index, source node index, target node index)\n\n\n    var edgeIndexes = [];\n\n    for (var i = 0; i < numEdges; i++) {\n      var e = edges[i];\n      edgeIndexes.push([i, nodes.indexOf(e.source()), nodes.indexOf(e.target())]);\n    } // We will store the best cut found here\n\n\n    var minCutSize = Infinity;\n    var minCutEdgeIndexes = [];\n    var minCutNodeMap = new Array(numNodes); // Initial meta node partition\n\n    var metaNodeMap = new Array(numNodes);\n    var metaNodeMap2 = new Array(numNodes);\n\n    var copyNodesMap = function copyNodesMap(from, to) {\n      for (var _i3 = 0; _i3 < numNodes; _i3++) {\n        to[_i3] = from[_i3];\n      }\n    }; // Main loop\n\n\n    for (var iter = 0; iter <= numIter; iter++) {\n      // Reset meta node partition\n      for (var _i4 = 0; _i4 < numNodes; _i4++) {\n        metaNodeMap[_i4] = _i4;\n      } // Contract until stop point (stopSize nodes)\n\n\n      var edgesState = contractUntil(metaNodeMap, edgeIndexes.slice(), numNodes, stopSize);\n      var edgesState2 = edgesState.slice(); // copy\n      // Create a copy of the colapsed nodes state\n\n      copyNodesMap(metaNodeMap, metaNodeMap2); // Run 2 iterations starting in the stop state\n\n      var res1 = contractUntil(metaNodeMap, edgesState, stopSize, 2);\n      var res2 = contractUntil(metaNodeMap2, edgesState2, stopSize, 2); // Is any of the 2 results the best cut so far?\n\n      if (res1.length <= res2.length && res1.length < minCutSize) {\n        minCutSize = res1.length;\n        minCutEdgeIndexes = res1;\n        copyNodesMap(metaNodeMap, minCutNodeMap);\n      } else if (res2.length <= res1.length && res2.length < minCutSize) {\n        minCutSize = res2.length;\n        minCutEdgeIndexes = res2;\n        copyNodesMap(metaNodeMap2, minCutNodeMap);\n      }\n    } // end of main loop\n    // Construct result\n\n\n    var cut = this.spawn(minCutEdgeIndexes.map(function (e) {\n      return edges[e[0]];\n    }));\n    var partition1 = this.spawn();\n    var partition2 = this.spawn(); // traverse metaNodeMap for best cut\n\n    var witnessNodePartition = minCutNodeMap[0];\n\n    for (var _i5 = 0; _i5 < minCutNodeMap.length; _i5++) {\n      var partitionId = minCutNodeMap[_i5];\n      var node = nodes[_i5];\n\n      if (partitionId === witnessNodePartition) {\n        partition1.merge(node);\n      } else {\n        partition2.merge(node);\n      }\n    }\n\n    var ret = {\n      cut: cut,\n      partition1: partition1,\n      partition2: partition2\n    };\n    return ret;\n  }\n}; // elesfn\n\nvar copyPosition = function copyPosition(p) {\n  return {\n    x: p.x,\n    y: p.y\n  };\n};\nvar modelToRenderedPosition = function modelToRenderedPosition(p, zoom, pan) {\n  return {\n    x: p.x * zoom + pan.x,\n    y: p.y * zoom + pan.y\n  };\n};\nvar renderedToModelPosition = function renderedToModelPosition(p, zoom, pan) {\n  return {\n    x: (p.x - pan.x) / zoom,\n    y: (p.y - pan.y) / zoom\n  };\n};\nvar array2point = function array2point(arr) {\n  return {\n    x: arr[0],\n    y: arr[1]\n  };\n};\nvar min = function min(arr) {\n  var begin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : arr.length;\n  var min = Infinity;\n\n  for (var i = begin; i < end; i++) {\n    var val = arr[i];\n\n    if (isFinite(val)) {\n      min = Math.min(val, min);\n    }\n  }\n\n  return min;\n};\nvar max = function max(arr) {\n  var begin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : arr.length;\n  var max = -Infinity;\n\n  for (var i = begin; i < end; i++) {\n    var val = arr[i];\n\n    if (isFinite(val)) {\n      max = Math.max(val, max);\n    }\n  }\n\n  return max;\n};\nvar mean = function mean(arr) {\n  var begin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : arr.length;\n  var total = 0;\n  var n = 0;\n\n  for (var i = begin; i < end; i++) {\n    var val = arr[i];\n\n    if (isFinite(val)) {\n      total += val;\n      n++;\n    }\n  }\n\n  return total / n;\n};\nvar median = function median(arr) {\n  var begin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : arr.length;\n  var copy = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var sort = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  var includeHoles = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n\n  if (copy) {\n    arr = arr.slice(begin, end);\n  } else {\n    if (end < arr.length) {\n      arr.splice(end, arr.length - end);\n    }\n\n    if (begin > 0) {\n      arr.splice(0, begin);\n    }\n  } // all non finite (e.g. Infinity, NaN) elements must be -Infinity so they go to the start\n\n\n  var off = 0; // offset from non-finite values\n\n  for (var i = arr.length - 1; i >= 0; i--) {\n    var v = arr[i];\n\n    if (includeHoles) {\n      if (!isFinite(v)) {\n        arr[i] = -Infinity;\n        off++;\n      }\n    } else {\n      // just remove it if we don't want to consider holes\n      arr.splice(i, 1);\n    }\n  }\n\n  if (sort) {\n    arr.sort(function (a, b) {\n      return a - b;\n    }); // requires copy = true if you don't want to change the orig\n  }\n\n  var len = arr.length;\n  var mid = Math.floor(len / 2);\n\n  if (len % 2 !== 0) {\n    return arr[mid + 1 + off];\n  } else {\n    return (arr[mid - 1 + off] + arr[mid + off]) / 2;\n  }\n};\nvar deg2rad = function deg2rad(deg) {\n  return Math.PI * deg / 180;\n};\nvar getAngleFromDisp = function getAngleFromDisp(dispX, dispY) {\n  return Math.atan2(dispY, dispX) - Math.PI / 2;\n};\nvar log2 = Math.log2 || function (n) {\n  return Math.log(n) / Math.log(2);\n};\nvar signum = function signum(x) {\n  if (x > 0) {\n    return 1;\n  } else if (x < 0) {\n    return -1;\n  } else {\n    return 0;\n  }\n};\nvar dist = function dist(p1, p2) {\n  return Math.sqrt(sqdist(p1, p2));\n};\nvar sqdist = function sqdist(p1, p2) {\n  var dx = p2.x - p1.x;\n  var dy = p2.y - p1.y;\n  return dx * dx + dy * dy;\n};\nvar inPlaceSumNormalize = function inPlaceSumNormalize(v) {\n  var length = v.length; // First, get sum of all elements\n\n  var total = 0;\n\n  for (var i = 0; i < length; i++) {\n    total += v[i];\n  } // Now, divide each by the sum of all elements\n\n\n  for (var _i = 0; _i < length; _i++) {\n    v[_i] = v[_i] / total;\n  }\n\n  return v;\n};\n\nvar qbezierAt = function qbezierAt(p0, p1, p2, t) {\n  return (1 - t) * (1 - t) * p0 + 2 * (1 - t) * t * p1 + t * t * p2;\n};\nvar qbezierPtAt = function qbezierPtAt(p0, p1, p2, t) {\n  return {\n    x: qbezierAt(p0.x, p1.x, p2.x, t),\n    y: qbezierAt(p0.y, p1.y, p2.y, t)\n  };\n};\nvar lineAt = function lineAt(p0, p1, t, d) {\n  var vec = {\n    x: p1.x - p0.x,\n    y: p1.y - p0.y\n  };\n  var vecDist = dist(p0, p1);\n  var normVec = {\n    x: vec.x / vecDist,\n    y: vec.y / vecDist\n  };\n  t = t == null ? 0 : t;\n  d = d != null ? d : t * vecDist;\n  return {\n    x: p0.x + normVec.x * d,\n    y: p0.y + normVec.y * d\n  };\n};\nvar bound = function bound(min, val, max) {\n  return Math.max(min, Math.min(max, val));\n}; // makes a full bb (x1, y1, x2, y2, w, h) from implicit params\n\nvar makeBoundingBox = function makeBoundingBox(bb) {\n  if (bb == null) {\n    return {\n      x1: Infinity,\n      y1: Infinity,\n      x2: -Infinity,\n      y2: -Infinity,\n      w: 0,\n      h: 0\n    };\n  } else if (bb.x1 != null && bb.y1 != null) {\n    if (bb.x2 != null && bb.y2 != null && bb.x2 >= bb.x1 && bb.y2 >= bb.y1) {\n      return {\n        x1: bb.x1,\n        y1: bb.y1,\n        x2: bb.x2,\n        y2: bb.y2,\n        w: bb.x2 - bb.x1,\n        h: bb.y2 - bb.y1\n      };\n    } else if (bb.w != null && bb.h != null && bb.w >= 0 && bb.h >= 0) {\n      return {\n        x1: bb.x1,\n        y1: bb.y1,\n        x2: bb.x1 + bb.w,\n        y2: bb.y1 + bb.h,\n        w: bb.w,\n        h: bb.h\n      };\n    }\n  }\n};\nvar copyBoundingBox = function copyBoundingBox(bb) {\n  return {\n    x1: bb.x1,\n    x2: bb.x2,\n    w: bb.w,\n    y1: bb.y1,\n    y2: bb.y2,\n    h: bb.h\n  };\n};\nvar clearBoundingBox = function clearBoundingBox(bb) {\n  bb.x1 = Infinity;\n  bb.y1 = Infinity;\n  bb.x2 = -Infinity;\n  bb.y2 = -Infinity;\n  bb.w = 0;\n  bb.h = 0;\n};\nvar updateBoundingBox = function updateBoundingBox(bb1, bb2) {\n  // update bb1 with bb2 bounds\n  bb1.x1 = Math.min(bb1.x1, bb2.x1);\n  bb1.x2 = Math.max(bb1.x2, bb2.x2);\n  bb1.w = bb1.x2 - bb1.x1;\n  bb1.y1 = Math.min(bb1.y1, bb2.y1);\n  bb1.y2 = Math.max(bb1.y2, bb2.y2);\n  bb1.h = bb1.y2 - bb1.y1;\n};\nvar expandBoundingBoxByPoint = function expandBoundingBoxByPoint(bb, x, y) {\n  bb.x1 = Math.min(bb.x1, x);\n  bb.x2 = Math.max(bb.x2, x);\n  bb.w = bb.x2 - bb.x1;\n  bb.y1 = Math.min(bb.y1, y);\n  bb.y2 = Math.max(bb.y2, y);\n  bb.h = bb.y2 - bb.y1;\n};\nvar expandBoundingBox = function expandBoundingBox(bb) {\n  var padding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  bb.x1 -= padding;\n  bb.x2 += padding;\n  bb.y1 -= padding;\n  bb.y2 += padding;\n  bb.w = bb.x2 - bb.x1;\n  bb.h = bb.y2 - bb.y1;\n  return bb;\n};\nvar expandBoundingBoxSides = function expandBoundingBoxSides(bb) {\n  var padding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0];\n  var top, right, bottom, left;\n\n  if (padding.length === 1) {\n    top = right = bottom = left = padding[0];\n  } else if (padding.length === 2) {\n    top = bottom = padding[0];\n    left = right = padding[1];\n  } else if (padding.length === 4) {\n    var _padding = _slicedToArray(padding, 4);\n\n    top = _padding[0];\n    right = _padding[1];\n    bottom = _padding[2];\n    left = _padding[3];\n  }\n\n  bb.x1 -= left;\n  bb.x2 += right;\n  bb.y1 -= top;\n  bb.y2 += bottom;\n  bb.w = bb.x2 - bb.x1;\n  bb.h = bb.y2 - bb.y1;\n  return bb;\n};\n\nvar assignBoundingBox = function assignBoundingBox(bb1, bb2) {\n  bb1.x1 = bb2.x1;\n  bb1.y1 = bb2.y1;\n  bb1.x2 = bb2.x2;\n  bb1.y2 = bb2.y2;\n  bb1.w = bb1.x2 - bb1.x1;\n  bb1.h = bb1.y2 - bb1.y1;\n};\nvar assignShiftToBoundingBox = function assignShiftToBoundingBox(bb, delta) {\n  bb.x1 += delta.x;\n  bb.x2 += delta.x;\n  bb.y1 += delta.y;\n  bb.y2 += delta.y;\n};\nvar boundingBoxesIntersect = function boundingBoxesIntersect(bb1, bb2) {\n  // case: one bb to right of other\n  if (bb1.x1 > bb2.x2) {\n    return false;\n  }\n\n  if (bb2.x1 > bb1.x2) {\n    return false;\n  } // case: one bb to left of other\n\n\n  if (bb1.x2 < bb2.x1) {\n    return false;\n  }\n\n  if (bb2.x2 < bb1.x1) {\n    return false;\n  } // case: one bb above other\n\n\n  if (bb1.y2 < bb2.y1) {\n    return false;\n  }\n\n  if (bb2.y2 < bb1.y1) {\n    return false;\n  } // case: one bb below other\n\n\n  if (bb1.y1 > bb2.y2) {\n    return false;\n  }\n\n  if (bb2.y1 > bb1.y2) {\n    return false;\n  } // otherwise, must have some overlap\n\n\n  return true;\n};\nvar inBoundingBox = function inBoundingBox(bb, x, y) {\n  return bb.x1 <= x && x <= bb.x2 && bb.y1 <= y && y <= bb.y2;\n};\nvar pointInBoundingBox = function pointInBoundingBox(bb, pt) {\n  return inBoundingBox(bb, pt.x, pt.y);\n};\nvar boundingBoxInBoundingBox = function boundingBoxInBoundingBox(bb1, bb2) {\n  return inBoundingBox(bb1, bb2.x1, bb2.y1) && inBoundingBox(bb1, bb2.x2, bb2.y2);\n};\nvar roundRectangleIntersectLine = function roundRectangleIntersectLine(x, y, nodeX, nodeY, width, height, padding) {\n  var cornerRadius = getRoundRectangleRadius(width, height);\n  var halfWidth = width / 2;\n  var halfHeight = height / 2; // Check intersections with straight line segments\n\n  var straightLineIntersections; // Top segment, left to right\n\n  {\n    var topStartX = nodeX - halfWidth + cornerRadius - padding;\n    var topStartY = nodeY - halfHeight - padding;\n    var topEndX = nodeX + halfWidth - cornerRadius + padding;\n    var topEndY = topStartY;\n    straightLineIntersections = finiteLinesIntersect(x, y, nodeX, nodeY, topStartX, topStartY, topEndX, topEndY, false);\n\n    if (straightLineIntersections.length > 0) {\n      return straightLineIntersections;\n    }\n  } // Right segment, top to bottom\n\n  {\n    var rightStartX = nodeX + halfWidth + padding;\n    var rightStartY = nodeY - halfHeight + cornerRadius - padding;\n    var rightEndX = rightStartX;\n    var rightEndY = nodeY + halfHeight - cornerRadius + padding;\n    straightLineIntersections = finiteLinesIntersect(x, y, nodeX, nodeY, rightStartX, rightStartY, rightEndX, rightEndY, false);\n\n    if (straightLineIntersections.length > 0) {\n      return straightLineIntersections;\n    }\n  } // Bottom segment, left to right\n\n  {\n    var bottomStartX = nodeX - halfWidth + cornerRadius - padding;\n    var bottomStartY = nodeY + halfHeight + padding;\n    var bottomEndX = nodeX + halfWidth - cornerRadius + padding;\n    var bottomEndY = bottomStartY;\n    straightLineIntersections = finiteLinesIntersect(x, y, nodeX, nodeY, bottomStartX, bottomStartY, bottomEndX, bottomEndY, false);\n\n    if (straightLineIntersections.length > 0) {\n      return straightLineIntersections;\n    }\n  } // Left segment, top to bottom\n\n  {\n    var leftStartX = nodeX - halfWidth - padding;\n    var leftStartY = nodeY - halfHeight + cornerRadius - padding;\n    var leftEndX = leftStartX;\n    var leftEndY = nodeY + halfHeight - cornerRadius + padding;\n    straightLineIntersections = finiteLinesIntersect(x, y, nodeX, nodeY, leftStartX, leftStartY, leftEndX, leftEndY, false);\n\n    if (straightLineIntersections.length > 0) {\n      return straightLineIntersections;\n    }\n  } // Check intersections with arc segments\n\n  var arcIntersections; // Top Left\n\n  {\n    var topLeftCenterX = nodeX - halfWidth + cornerRadius;\n    var topLeftCenterY = nodeY - halfHeight + cornerRadius;\n    arcIntersections = intersectLineCircle(x, y, nodeX, nodeY, topLeftCenterX, topLeftCenterY, cornerRadius + padding); // Ensure the intersection is on the desired quarter of the circle\n\n    if (arcIntersections.length > 0 && arcIntersections[0] <= topLeftCenterX && arcIntersections[1] <= topLeftCenterY) {\n      return [arcIntersections[0], arcIntersections[1]];\n    }\n  } // Top Right\n\n  {\n    var topRightCenterX = nodeX + halfWidth - cornerRadius;\n    var topRightCenterY = nodeY - halfHeight + cornerRadius;\n    arcIntersections = intersectLineCircle(x, y, nodeX, nodeY, topRightCenterX, topRightCenterY, cornerRadius + padding); // Ensure the intersection is on the desired quarter of the circle\n\n    if (arcIntersections.length > 0 && arcIntersections[0] >= topRightCenterX && arcIntersections[1] <= topRightCenterY) {\n      return [arcIntersections[0], arcIntersections[1]];\n    }\n  } // Bottom Right\n\n  {\n    var bottomRightCenterX = nodeX + halfWidth - cornerRadius;\n    var bottomRightCenterY = nodeY + halfHeight - cornerRadius;\n    arcIntersections = intersectLineCircle(x, y, nodeX, nodeY, bottomRightCenterX, bottomRightCenterY, cornerRadius + padding); // Ensure the intersection is on the desired quarter of the circle\n\n    if (arcIntersections.length > 0 && arcIntersections[0] >= bottomRightCenterX && arcIntersections[1] >= bottomRightCenterY) {\n      return [arcIntersections[0], arcIntersections[1]];\n    }\n  } // Bottom Left\n\n  {\n    var bottomLeftCenterX = nodeX - halfWidth + cornerRadius;\n    var bottomLeftCenterY = nodeY + halfHeight - cornerRadius;\n    arcIntersections = intersectLineCircle(x, y, nodeX, nodeY, bottomLeftCenterX, bottomLeftCenterY, cornerRadius + padding); // Ensure the intersection is on the desired quarter of the circle\n\n    if (arcIntersections.length > 0 && arcIntersections[0] <= bottomLeftCenterX && arcIntersections[1] >= bottomLeftCenterY) {\n      return [arcIntersections[0], arcIntersections[1]];\n    }\n  }\n  return []; // if nothing\n};\nvar inLineVicinity = function inLineVicinity(x, y, lx1, ly1, lx2, ly2, tolerance) {\n  var t = tolerance;\n  var x1 = Math.min(lx1, lx2);\n  var x2 = Math.max(lx1, lx2);\n  var y1 = Math.min(ly1, ly2);\n  var y2 = Math.max(ly1, ly2);\n  return x1 - t <= x && x <= x2 + t && y1 - t <= y && y <= y2 + t;\n};\nvar inBezierVicinity = function inBezierVicinity(x, y, x1, y1, x2, y2, x3, y3, tolerance) {\n  var bb = {\n    x1: Math.min(x1, x3, x2) - tolerance,\n    x2: Math.max(x1, x3, x2) + tolerance,\n    y1: Math.min(y1, y3, y2) - tolerance,\n    y2: Math.max(y1, y3, y2) + tolerance\n  }; // if outside the rough bounding box for the bezier, then it can't be a hit\n\n  if (x < bb.x1 || x > bb.x2 || y < bb.y1 || y > bb.y2) {\n    // console.log('bezier out of rough bb')\n    return false;\n  } else {\n    // console.log('do more expensive check');\n    return true;\n  }\n};\nvar solveQuadratic = function solveQuadratic(a, b, c, val) {\n  c -= val;\n  var r = b * b - 4 * a * c;\n\n  if (r < 0) {\n    return [];\n  }\n\n  var sqrtR = Math.sqrt(r);\n  var denom = 2 * a;\n  var root1 = (-b + sqrtR) / denom;\n  var root2 = (-b - sqrtR) / denom;\n  return [root1, root2];\n};\nvar solveCubic = function solveCubic(a, b, c, d, result) {\n  // Solves a cubic function, returns root in form [r1, i1, r2, i2, r3, i3], where\n  // r is the real component, i is the imaginary component\n  // An implementation of the Cardano method from the year 1545\n  // http://en.wikipedia.org/wiki/Cubic_function#The_nature_of_the_roots\n  var epsilon = 0.00001; // avoid division by zero while keeping the overall expression close in value\n\n  if (a === 0) {\n    a = epsilon;\n  }\n\n  b /= a;\n  c /= a;\n  d /= a;\n  var discriminant, q, r, dum1, s, t, term1, r13;\n  q = (3.0 * c - b * b) / 9.0;\n  r = -(27.0 * d) + b * (9.0 * c - 2.0 * (b * b));\n  r /= 54.0;\n  discriminant = q * q * q + r * r;\n  result[1] = 0;\n  term1 = b / 3.0;\n\n  if (discriminant > 0) {\n    s = r + Math.sqrt(discriminant);\n    s = s < 0 ? -Math.pow(-s, 1.0 / 3.0) : Math.pow(s, 1.0 / 3.0);\n    t = r - Math.sqrt(discriminant);\n    t = t < 0 ? -Math.pow(-t, 1.0 / 3.0) : Math.pow(t, 1.0 / 3.0);\n    result[0] = -term1 + s + t;\n    term1 += (s + t) / 2.0;\n    result[4] = result[2] = -term1;\n    term1 = Math.sqrt(3.0) * (-t + s) / 2;\n    result[3] = term1;\n    result[5] = -term1;\n    return;\n  }\n\n  result[5] = result[3] = 0;\n\n  if (discriminant === 0) {\n    r13 = r < 0 ? -Math.pow(-r, 1.0 / 3.0) : Math.pow(r, 1.0 / 3.0);\n    result[0] = -term1 + 2.0 * r13;\n    result[4] = result[2] = -(r13 + term1);\n    return;\n  }\n\n  q = -q;\n  dum1 = q * q * q;\n  dum1 = Math.acos(r / Math.sqrt(dum1));\n  r13 = 2.0 * Math.sqrt(q);\n  result[0] = -term1 + r13 * Math.cos(dum1 / 3.0);\n  result[2] = -term1 + r13 * Math.cos((dum1 + 2.0 * Math.PI) / 3.0);\n  result[4] = -term1 + r13 * Math.cos((dum1 + 4.0 * Math.PI) / 3.0);\n  return;\n};\nvar sqdistToQuadraticBezier = function sqdistToQuadraticBezier(x, y, x1, y1, x2, y2, x3, y3) {\n  // Find minimum distance by using the minimum of the distance\n  // function between the given point and the curve\n  // This gives the coefficients of the resulting cubic equation\n  // whose roots tell us where a possible minimum is\n  // (Coefficients are divided by 4)\n  var a = 1.0 * x1 * x1 - 4 * x1 * x2 + 2 * x1 * x3 + 4 * x2 * x2 - 4 * x2 * x3 + x3 * x3 + y1 * y1 - 4 * y1 * y2 + 2 * y1 * y3 + 4 * y2 * y2 - 4 * y2 * y3 + y3 * y3;\n  var b = 1.0 * 9 * x1 * x2 - 3 * x1 * x1 - 3 * x1 * x3 - 6 * x2 * x2 + 3 * x2 * x3 + 9 * y1 * y2 - 3 * y1 * y1 - 3 * y1 * y3 - 6 * y2 * y2 + 3 * y2 * y3;\n  var c = 1.0 * 3 * x1 * x1 - 6 * x1 * x2 + x1 * x3 - x1 * x + 2 * x2 * x2 + 2 * x2 * x - x3 * x + 3 * y1 * y1 - 6 * y1 * y2 + y1 * y3 - y1 * y + 2 * y2 * y2 + 2 * y2 * y - y3 * y;\n  var d = 1.0 * x1 * x2 - x1 * x1 + x1 * x - x2 * x + y1 * y2 - y1 * y1 + y1 * y - y2 * y; // debug(\"coefficients: \" + a / a + \", \" + b / a + \", \" + c / a + \", \" + d / a);\n\n  var roots = []; // Use the cubic solving algorithm\n\n  solveCubic(a, b, c, d, roots);\n  var zeroThreshold = 0.0000001;\n  var params = [];\n\n  for (var index = 0; index < 6; index += 2) {\n    if (Math.abs(roots[index + 1]) < zeroThreshold && roots[index] >= 0 && roots[index] <= 1.0) {\n      params.push(roots[index]);\n    }\n  }\n\n  params.push(1.0);\n  params.push(0.0);\n  var minDistanceSquared = -1;\n  var curX, curY, distSquared;\n\n  for (var i = 0; i < params.length; i++) {\n    curX = Math.pow(1.0 - params[i], 2.0) * x1 + 2.0 * (1 - params[i]) * params[i] * x2 + params[i] * params[i] * x3;\n    curY = Math.pow(1 - params[i], 2.0) * y1 + 2 * (1.0 - params[i]) * params[i] * y2 + params[i] * params[i] * y3;\n    distSquared = Math.pow(curX - x, 2) + Math.pow(curY - y, 2); // debug('distance for param ' + params[i] + \": \" + Math.sqrt(distSquared));\n\n    if (minDistanceSquared >= 0) {\n      if (distSquared < minDistanceSquared) {\n        minDistanceSquared = distSquared;\n      }\n    } else {\n      minDistanceSquared = distSquared;\n    }\n  }\n\n  return minDistanceSquared;\n};\nvar sqdistToFiniteLine = function sqdistToFiniteLine(x, y, x1, y1, x2, y2) {\n  var offset = [x - x1, y - y1];\n  var line = [x2 - x1, y2 - y1];\n  var lineSq = line[0] * line[0] + line[1] * line[1];\n  var hypSq = offset[0] * offset[0] + offset[1] * offset[1];\n  var dotProduct = offset[0] * line[0] + offset[1] * line[1];\n  var adjSq = dotProduct * dotProduct / lineSq;\n\n  if (dotProduct < 0) {\n    return hypSq;\n  }\n\n  if (adjSq > lineSq) {\n    return (x - x2) * (x - x2) + (y - y2) * (y - y2);\n  }\n\n  return hypSq - adjSq;\n};\nvar pointInsidePolygonPoints = function pointInsidePolygonPoints(x, y, points) {\n  var x1, y1, x2, y2;\n  var y3; // Intersect with vertical line through (x, y)\n\n  var up = 0; // let down = 0;\n\n  for (var i = 0; i < points.length / 2; i++) {\n    x1 = points[i * 2];\n    y1 = points[i * 2 + 1];\n\n    if (i + 1 < points.length / 2) {\n      x2 = points[(i + 1) * 2];\n      y2 = points[(i + 1) * 2 + 1];\n    } else {\n      x2 = points[(i + 1 - points.length / 2) * 2];\n      y2 = points[(i + 1 - points.length / 2) * 2 + 1];\n    }\n\n    if (x1 == x && x2 == x) ; else if (x1 >= x && x >= x2 || x1 <= x && x <= x2) {\n      y3 = (x - x1) / (x2 - x1) * (y2 - y1) + y1;\n\n      if (y3 > y) {\n        up++;\n      } // if( y3 < y ){\n      // down++;\n      // }\n\n    } else {\n      continue;\n    }\n  }\n\n  if (up % 2 === 0) {\n    return false;\n  } else {\n    return true;\n  }\n};\nvar pointInsidePolygon = function pointInsidePolygon(x, y, basePoints, centerX, centerY, width, height, direction, padding) {\n  var transformedPoints = new Array(basePoints.length); // Gives negative angle\n\n  var angle;\n\n  if (direction[0] != null) {\n    angle = Math.atan(direction[1] / direction[0]);\n\n    if (direction[0] < 0) {\n      angle = angle + Math.PI / 2;\n    } else {\n      angle = -angle - Math.PI / 2;\n    }\n  } else {\n    angle = direction;\n  }\n\n  var cos = Math.cos(-angle);\n  var sin = Math.sin(-angle); //    console.log(\"base: \" + basePoints);\n\n  for (var i = 0; i < transformedPoints.length / 2; i++) {\n    transformedPoints[i * 2] = width / 2 * (basePoints[i * 2] * cos - basePoints[i * 2 + 1] * sin);\n    transformedPoints[i * 2 + 1] = height / 2 * (basePoints[i * 2 + 1] * cos + basePoints[i * 2] * sin);\n    transformedPoints[i * 2] += centerX;\n    transformedPoints[i * 2 + 1] += centerY;\n  }\n\n  var points;\n\n  if (padding > 0) {\n    var expandedLineSet = expandPolygon(transformedPoints, -padding);\n    points = joinLines(expandedLineSet);\n  } else {\n    points = transformedPoints;\n  }\n\n  return pointInsidePolygonPoints(x, y, points);\n};\nvar pointInsideRoundPolygon = function pointInsideRoundPolygon(x, y, basePoints, centerX, centerY, width, height) {\n  var cutPolygonPoints = new Array(basePoints.length);\n  var halfW = width / 2;\n  var halfH = height / 2;\n  var cornerRadius = getRoundPolygonRadius(width, height);\n  var squaredCornerRadius = cornerRadius * cornerRadius;\n\n  for (var i = 0; i < basePoints.length / 4; i++) {\n    var sourceUv = void 0,\n        destUv = void 0;\n\n    if (i === 0) {\n      sourceUv = basePoints.length - 2;\n    } else {\n      sourceUv = i * 4 - 2;\n    }\n\n    destUv = i * 4 + 2;\n    var px = centerX + halfW * basePoints[i * 4];\n    var py = centerY + halfH * basePoints[i * 4 + 1];\n    var cosTheta = -basePoints[sourceUv] * basePoints[destUv] - basePoints[sourceUv + 1] * basePoints[destUv + 1];\n    var offset = cornerRadius / Math.tan(Math.acos(cosTheta) / 2);\n    var cp0x = px - offset * basePoints[sourceUv];\n    var cp0y = py - offset * basePoints[sourceUv + 1];\n    var cp1x = px + offset * basePoints[destUv];\n    var cp1y = py + offset * basePoints[destUv + 1];\n    cutPolygonPoints[i * 4] = cp0x;\n    cutPolygonPoints[i * 4 + 1] = cp0y;\n    cutPolygonPoints[i * 4 + 2] = cp1x;\n    cutPolygonPoints[i * 4 + 3] = cp1y;\n    var orthx = basePoints[sourceUv + 1];\n    var orthy = -basePoints[sourceUv];\n    var cosAlpha = orthx * basePoints[destUv] + orthy * basePoints[destUv + 1];\n\n    if (cosAlpha < 0) {\n      orthx *= -1;\n      orthy *= -1;\n    }\n\n    var cx = cp0x + orthx * cornerRadius;\n    var cy = cp0y + orthy * cornerRadius;\n    var squaredDistance = Math.pow(cx - x, 2) + Math.pow(cy - y, 2);\n\n    if (squaredDistance <= squaredCornerRadius) {\n      return true;\n    }\n  }\n\n  return pointInsidePolygonPoints(x, y, cutPolygonPoints);\n};\nvar joinLines = function joinLines(lineSet) {\n  var vertices = new Array(lineSet.length / 2);\n  var currentLineStartX, currentLineStartY, currentLineEndX, currentLineEndY;\n  var nextLineStartX, nextLineStartY, nextLineEndX, nextLineEndY;\n\n  for (var i = 0; i < lineSet.length / 4; i++) {\n    currentLineStartX = lineSet[i * 4];\n    currentLineStartY = lineSet[i * 4 + 1];\n    currentLineEndX = lineSet[i * 4 + 2];\n    currentLineEndY = lineSet[i * 4 + 3];\n\n    if (i < lineSet.length / 4 - 1) {\n      nextLineStartX = lineSet[(i + 1) * 4];\n      nextLineStartY = lineSet[(i + 1) * 4 + 1];\n      nextLineEndX = lineSet[(i + 1) * 4 + 2];\n      nextLineEndY = lineSet[(i + 1) * 4 + 3];\n    } else {\n      nextLineStartX = lineSet[0];\n      nextLineStartY = lineSet[1];\n      nextLineEndX = lineSet[2];\n      nextLineEndY = lineSet[3];\n    }\n\n    var intersection = finiteLinesIntersect(currentLineStartX, currentLineStartY, currentLineEndX, currentLineEndY, nextLineStartX, nextLineStartY, nextLineEndX, nextLineEndY, true);\n    vertices[i * 2] = intersection[0];\n    vertices[i * 2 + 1] = intersection[1];\n  }\n\n  return vertices;\n};\nvar expandPolygon = function expandPolygon(points, pad) {\n  var expandedLineSet = new Array(points.length * 2);\n  var currentPointX, currentPointY, nextPointX, nextPointY;\n\n  for (var i = 0; i < points.length / 2; i++) {\n    currentPointX = points[i * 2];\n    currentPointY = points[i * 2 + 1];\n\n    if (i < points.length / 2 - 1) {\n      nextPointX = points[(i + 1) * 2];\n      nextPointY = points[(i + 1) * 2 + 1];\n    } else {\n      nextPointX = points[0];\n      nextPointY = points[1];\n    } // Current line: [currentPointX, currentPointY] to [nextPointX, nextPointY]\n    // Assume CCW polygon winding\n\n\n    var offsetX = nextPointY - currentPointY;\n    var offsetY = -(nextPointX - currentPointX); // Normalize\n\n    var offsetLength = Math.sqrt(offsetX * offsetX + offsetY * offsetY);\n    var normalizedOffsetX = offsetX / offsetLength;\n    var normalizedOffsetY = offsetY / offsetLength;\n    expandedLineSet[i * 4] = currentPointX + normalizedOffsetX * pad;\n    expandedLineSet[i * 4 + 1] = currentPointY + normalizedOffsetY * pad;\n    expandedLineSet[i * 4 + 2] = nextPointX + normalizedOffsetX * pad;\n    expandedLineSet[i * 4 + 3] = nextPointY + normalizedOffsetY * pad;\n  }\n\n  return expandedLineSet;\n};\nvar intersectLineEllipse = function intersectLineEllipse(x, y, centerX, centerY, ellipseWradius, ellipseHradius) {\n  var dispX = centerX - x;\n  var dispY = centerY - y;\n  dispX /= ellipseWradius;\n  dispY /= ellipseHradius;\n  var len = Math.sqrt(dispX * dispX + dispY * dispY);\n  var newLength = len - 1;\n\n  if (newLength < 0) {\n    return [];\n  }\n\n  var lenProportion = newLength / len;\n  return [(centerX - x) * lenProportion + x, (centerY - y) * lenProportion + y];\n};\nvar checkInEllipse = function checkInEllipse(x, y, width, height, centerX, centerY, padding) {\n  x -= centerX;\n  y -= centerY;\n  x /= width / 2 + padding;\n  y /= height / 2 + padding;\n  return x * x + y * y <= 1;\n}; // Returns intersections of increasing distance from line's start point\n\nvar intersectLineCircle = function intersectLineCircle(x1, y1, x2, y2, centerX, centerY, radius) {\n  // Calculate d, direction vector of line\n  var d = [x2 - x1, y2 - y1]; // Direction vector of line\n\n  var f = [x1 - centerX, y1 - centerY];\n  var a = d[0] * d[0] + d[1] * d[1];\n  var b = 2 * (f[0] * d[0] + f[1] * d[1]);\n  var c = f[0] * f[0] + f[1] * f[1] - radius * radius;\n  var discriminant = b * b - 4 * a * c;\n\n  if (discriminant < 0) {\n    return [];\n  }\n\n  var t1 = (-b + Math.sqrt(discriminant)) / (2 * a);\n  var t2 = (-b - Math.sqrt(discriminant)) / (2 * a);\n  var tMin = Math.min(t1, t2);\n  var tMax = Math.max(t1, t2);\n  var inRangeParams = [];\n\n  if (tMin >= 0 && tMin <= 1) {\n    inRangeParams.push(tMin);\n  }\n\n  if (tMax >= 0 && tMax <= 1) {\n    inRangeParams.push(tMax);\n  }\n\n  if (inRangeParams.length === 0) {\n    return [];\n  }\n\n  var nearIntersectionX = inRangeParams[0] * d[0] + x1;\n  var nearIntersectionY = inRangeParams[0] * d[1] + y1;\n\n  if (inRangeParams.length > 1) {\n    if (inRangeParams[0] == inRangeParams[1]) {\n      return [nearIntersectionX, nearIntersectionY];\n    } else {\n      var farIntersectionX = inRangeParams[1] * d[0] + x1;\n      var farIntersectionY = inRangeParams[1] * d[1] + y1;\n      return [nearIntersectionX, nearIntersectionY, farIntersectionX, farIntersectionY];\n    }\n  } else {\n    return [nearIntersectionX, nearIntersectionY];\n  }\n};\nvar midOfThree = function midOfThree(a, b, c) {\n  if (b <= a && a <= c || c <= a && a <= b) {\n    return a;\n  } else if (a <= b && b <= c || c <= b && b <= a) {\n    return b;\n  } else {\n    return c;\n  }\n}; // (x1,y1)=>(x2,y2) intersect with (x3,y3)=>(x4,y4)\n\nvar finiteLinesIntersect = function finiteLinesIntersect(x1, y1, x2, y2, x3, y3, x4, y4, infiniteLines) {\n  var dx13 = x1 - x3;\n  var dx21 = x2 - x1;\n  var dx43 = x4 - x3;\n  var dy13 = y1 - y3;\n  var dy21 = y2 - y1;\n  var dy43 = y4 - y3;\n  var ua_t = dx43 * dy13 - dy43 * dx13;\n  var ub_t = dx21 * dy13 - dy21 * dx13;\n  var u_b = dy43 * dx21 - dx43 * dy21;\n\n  if (u_b !== 0) {\n    var ua = ua_t / u_b;\n    var ub = ub_t / u_b;\n    var flptThreshold = 0.001;\n\n    var _min = 0 - flptThreshold;\n\n    var _max = 1 + flptThreshold;\n\n    if (_min <= ua && ua <= _max && _min <= ub && ub <= _max) {\n      return [x1 + ua * dx21, y1 + ua * dy21];\n    } else {\n      if (!infiniteLines) {\n        return [];\n      } else {\n        return [x1 + ua * dx21, y1 + ua * dy21];\n      }\n    }\n  } else {\n    if (ua_t === 0 || ub_t === 0) {\n      // Parallel, coincident lines. Check if overlap\n      // Check endpoint of second line\n      if (midOfThree(x1, x2, x4) === x4) {\n        return [x4, y4];\n      } // Check start point of second line\n\n\n      if (midOfThree(x1, x2, x3) === x3) {\n        return [x3, y3];\n      } // Endpoint of first line\n\n\n      if (midOfThree(x3, x4, x2) === x2) {\n        return [x2, y2];\n      }\n\n      return [];\n    } else {\n      // Parallel, non-coincident\n      return [];\n    }\n  }\n}; // math.polygonIntersectLine( x, y, basePoints, centerX, centerY, width, height, padding )\n// intersect a node polygon (pts transformed)\n//\n// math.polygonIntersectLine( x, y, basePoints, centerX, centerY )\n// intersect the points (no transform)\n\nvar polygonIntersectLine = function polygonIntersectLine(x, y, basePoints, centerX, centerY, width, height, padding) {\n  var intersections = [];\n  var intersection;\n  var transformedPoints = new Array(basePoints.length);\n  var doTransform = true;\n\n  if (width == null) {\n    doTransform = false;\n  }\n\n  var points;\n\n  if (doTransform) {\n    for (var i = 0; i < transformedPoints.length / 2; i++) {\n      transformedPoints[i * 2] = basePoints[i * 2] * width + centerX;\n      transformedPoints[i * 2 + 1] = basePoints[i * 2 + 1] * height + centerY;\n    }\n\n    if (padding > 0) {\n      var expandedLineSet = expandPolygon(transformedPoints, -padding);\n      points = joinLines(expandedLineSet);\n    } else {\n      points = transformedPoints;\n    }\n  } else {\n    points = basePoints;\n  }\n\n  var currentX, currentY, nextX, nextY;\n\n  for (var _i2 = 0; _i2 < points.length / 2; _i2++) {\n    currentX = points[_i2 * 2];\n    currentY = points[_i2 * 2 + 1];\n\n    if (_i2 < points.length / 2 - 1) {\n      nextX = points[(_i2 + 1) * 2];\n      nextY = points[(_i2 + 1) * 2 + 1];\n    } else {\n      nextX = points[0];\n      nextY = points[1];\n    }\n\n    intersection = finiteLinesIntersect(x, y, centerX, centerY, currentX, currentY, nextX, nextY);\n\n    if (intersection.length !== 0) {\n      intersections.push(intersection[0], intersection[1]);\n    }\n  }\n\n  return intersections;\n};\nvar roundPolygonIntersectLine = function roundPolygonIntersectLine(x, y, basePoints, centerX, centerY, width, height, padding) {\n  var intersections = [];\n  var intersection;\n  var lines = new Array(basePoints.length);\n  var halfW = width / 2;\n  var halfH = height / 2;\n  var cornerRadius = getRoundPolygonRadius(width, height);\n\n  for (var i = 0; i < basePoints.length / 4; i++) {\n    var sourceUv = void 0,\n        destUv = void 0;\n\n    if (i === 0) {\n      sourceUv = basePoints.length - 2;\n    } else {\n      sourceUv = i * 4 - 2;\n    }\n\n    destUv = i * 4 + 2;\n    var px = centerX + halfW * basePoints[i * 4];\n    var py = centerY + halfH * basePoints[i * 4 + 1];\n    var cosTheta = -basePoints[sourceUv] * basePoints[destUv] - basePoints[sourceUv + 1] * basePoints[destUv + 1];\n    var offset = cornerRadius / Math.tan(Math.acos(cosTheta) / 2);\n    var cp0x = px - offset * basePoints[sourceUv];\n    var cp0y = py - offset * basePoints[sourceUv + 1];\n    var cp1x = px + offset * basePoints[destUv];\n    var cp1y = py + offset * basePoints[destUv + 1];\n\n    if (i === 0) {\n      lines[basePoints.length - 2] = cp0x;\n      lines[basePoints.length - 1] = cp0y;\n    } else {\n      lines[i * 4 - 2] = cp0x;\n      lines[i * 4 - 1] = cp0y;\n    }\n\n    lines[i * 4] = cp1x;\n    lines[i * 4 + 1] = cp1y;\n    var orthx = basePoints[sourceUv + 1];\n    var orthy = -basePoints[sourceUv];\n    var cosAlpha = orthx * basePoints[destUv] + orthy * basePoints[destUv + 1];\n\n    if (cosAlpha < 0) {\n      orthx *= -1;\n      orthy *= -1;\n    }\n\n    var cx = cp0x + orthx * cornerRadius;\n    var cy = cp0y + orthy * cornerRadius;\n    intersection = intersectLineCircle(x, y, centerX, centerY, cx, cy, cornerRadius);\n\n    if (intersection.length !== 0) {\n      intersections.push(intersection[0], intersection[1]);\n    }\n  }\n\n  for (var _i3 = 0; _i3 < lines.length / 4; _i3++) {\n    intersection = finiteLinesIntersect(x, y, centerX, centerY, lines[_i3 * 4], lines[_i3 * 4 + 1], lines[_i3 * 4 + 2], lines[_i3 * 4 + 3], false);\n\n    if (intersection.length !== 0) {\n      intersections.push(intersection[0], intersection[1]);\n    }\n  }\n\n  if (intersections.length > 2) {\n    var lowestIntersection = [intersections[0], intersections[1]];\n    var lowestSquaredDistance = Math.pow(lowestIntersection[0] - x, 2) + Math.pow(lowestIntersection[1] - y, 2);\n\n    for (var _i4 = 1; _i4 < intersections.length / 2; _i4++) {\n      var squaredDistance = Math.pow(intersections[_i4 * 2] - x, 2) + Math.pow(intersections[_i4 * 2 + 1] - y, 2);\n\n      if (squaredDistance <= lowestSquaredDistance) {\n        lowestIntersection[0] = intersections[_i4 * 2];\n        lowestIntersection[1] = intersections[_i4 * 2 + 1];\n        lowestSquaredDistance = squaredDistance;\n      }\n    }\n\n    return lowestIntersection;\n  }\n\n  return intersections;\n};\nvar shortenIntersection = function shortenIntersection(intersection, offset, amount) {\n  var disp = [intersection[0] - offset[0], intersection[1] - offset[1]];\n  var length = Math.sqrt(disp[0] * disp[0] + disp[1] * disp[1]);\n  var lenRatio = (length - amount) / length;\n\n  if (lenRatio < 0) {\n    lenRatio = 0.00001;\n  }\n\n  return [offset[0] + lenRatio * disp[0], offset[1] + lenRatio * disp[1]];\n};\nvar generateUnitNgonPointsFitToSquare = function generateUnitNgonPointsFitToSquare(sides, rotationRadians) {\n  var points = generateUnitNgonPoints(sides, rotationRadians);\n  points = fitPolygonToSquare(points);\n  return points;\n};\nvar fitPolygonToSquare = function fitPolygonToSquare(points) {\n  var x, y;\n  var sides = points.length / 2;\n  var minX = Infinity,\n      minY = Infinity,\n      maxX = -Infinity,\n      maxY = -Infinity;\n\n  for (var i = 0; i < sides; i++) {\n    x = points[2 * i];\n    y = points[2 * i + 1];\n    minX = Math.min(minX, x);\n    maxX = Math.max(maxX, x);\n    minY = Math.min(minY, y);\n    maxY = Math.max(maxY, y);\n  } // stretch factors\n\n\n  var sx = 2 / (maxX - minX);\n  var sy = 2 / (maxY - minY);\n\n  for (var _i5 = 0; _i5 < sides; _i5++) {\n    x = points[2 * _i5] = points[2 * _i5] * sx;\n    y = points[2 * _i5 + 1] = points[2 * _i5 + 1] * sy;\n    minX = Math.min(minX, x);\n    maxX = Math.max(maxX, x);\n    minY = Math.min(minY, y);\n    maxY = Math.max(maxY, y);\n  }\n\n  if (minY < -1) {\n    for (var _i6 = 0; _i6 < sides; _i6++) {\n      y = points[2 * _i6 + 1] = points[2 * _i6 + 1] + (-1 - minY);\n    }\n  }\n\n  return points;\n};\nvar generateUnitNgonPoints = function generateUnitNgonPoints(sides, rotationRadians) {\n  var increment = 1.0 / sides * 2 * Math.PI;\n  var startAngle = sides % 2 === 0 ? Math.PI / 2.0 + increment / 2.0 : Math.PI / 2.0;\n  startAngle += rotationRadians;\n  var points = new Array(sides * 2);\n  var currentAngle;\n\n  for (var i = 0; i < sides; i++) {\n    currentAngle = i * increment + startAngle;\n    points[2 * i] = Math.cos(currentAngle); // x\n\n    points[2 * i + 1] = Math.sin(-currentAngle); // y\n  }\n\n  return points;\n}; // Set the default radius, unless half of width or height is smaller than default\n\nvar getRoundRectangleRadius = function getRoundRectangleRadius(width, height) {\n  return Math.min(width / 4, height / 4, 8);\n}; // Set the default radius\n\nvar getRoundPolygonRadius = function getRoundPolygonRadius(width, height) {\n  return Math.min(width / 10, height / 10, 8);\n};\nvar getCutRectangleCornerLength = function getCutRectangleCornerLength() {\n  return 8;\n};\nvar bezierPtsToQuadCoeff = function bezierPtsToQuadCoeff(p0, p1, p2) {\n  return [p0 - 2 * p1 + p2, 2 * (p1 - p0), p0];\n}; // get curve width, height, and control point position offsets as a percentage of node height / width\n\nvar getBarrelCurveConstants = function getBarrelCurveConstants(width, height) {\n  return {\n    heightOffset: Math.min(15, 0.05 * height),\n    widthOffset: Math.min(100, 0.25 * width),\n    ctrlPtOffsetPct: 0.05\n  };\n};\n\nvar pageRankDefaults = defaults({\n  dampingFactor: 0.8,\n  precision: 0.000001,\n  iterations: 200,\n  weight: function weight(edge) {\n    return 1;\n  }\n});\nvar elesfn$7 = {\n  pageRank: function pageRank(options) {\n    var _pageRankDefaults = pageRankDefaults(options),\n        dampingFactor = _pageRankDefaults.dampingFactor,\n        precision = _pageRankDefaults.precision,\n        iterations = _pageRankDefaults.iterations,\n        weight = _pageRankDefaults.weight;\n\n    var cy = this._private.cy;\n\n    var _this$byGroup = this.byGroup(),\n        nodes = _this$byGroup.nodes,\n        edges = _this$byGroup.edges;\n\n    var numNodes = nodes.length;\n    var numNodesSqd = numNodes * numNodes;\n    var numEdges = edges.length; // Construct transposed adjacency matrix\n    // First lets have a zeroed matrix of the right size\n    // We'll also keep track of the sum of each column\n\n    var matrix = new Array(numNodesSqd);\n    var columnSum = new Array(numNodes);\n    var additionalProb = (1 - dampingFactor) / numNodes; // Create null matrix\n\n    for (var i = 0; i < numNodes; i++) {\n      for (var j = 0; j < numNodes; j++) {\n        var n = i * numNodes + j;\n        matrix[n] = 0;\n      }\n\n      columnSum[i] = 0;\n    } // Now, process edges\n\n\n    for (var _i = 0; _i < numEdges; _i++) {\n      var edge = edges[_i];\n      var srcId = edge.data('source');\n      var tgtId = edge.data('target'); // Don't include loops in the matrix\n\n      if (srcId === tgtId) {\n        continue;\n      }\n\n      var s = nodes.indexOfId(srcId);\n      var t = nodes.indexOfId(tgtId);\n      var w = weight(edge);\n\n      var _n = t * numNodes + s; // Update matrix\n\n\n      matrix[_n] += w; // Update column sum\n\n      columnSum[s] += w;\n    } // Add additional probability based on damping factor\n    // Also, take into account columns that have sum = 0\n\n\n    var p = 1.0 / numNodes + additionalProb; // Shorthand\n    // Traverse matrix, column by column\n\n    for (var _j = 0; _j < numNodes; _j++) {\n      if (columnSum[_j] === 0) {\n        // No 'links' out from node jth, assume equal probability for each possible node\n        for (var _i2 = 0; _i2 < numNodes; _i2++) {\n          var _n2 = _i2 * numNodes + _j;\n\n          matrix[_n2] = p;\n        }\n      } else {\n        // Node jth has outgoing link, compute normalized probabilities\n        for (var _i3 = 0; _i3 < numNodes; _i3++) {\n          var _n3 = _i3 * numNodes + _j;\n\n          matrix[_n3] = matrix[_n3] / columnSum[_j] + additionalProb;\n        }\n      }\n    } // Compute dominant eigenvector using power method\n\n\n    var eigenvector = new Array(numNodes);\n    var temp = new Array(numNodes);\n    var previous; // Start with a vector of all 1's\n    // Also, initialize a null vector which will be used as shorthand\n\n    for (var _i4 = 0; _i4 < numNodes; _i4++) {\n      eigenvector[_i4] = 1;\n    }\n\n    for (var iter = 0; iter < iterations; iter++) {\n      // Temp array with all 0's\n      for (var _i5 = 0; _i5 < numNodes; _i5++) {\n        temp[_i5] = 0;\n      } // Multiply matrix with previous result\n\n\n      for (var _i6 = 0; _i6 < numNodes; _i6++) {\n        for (var _j2 = 0; _j2 < numNodes; _j2++) {\n          var _n4 = _i6 * numNodes + _j2;\n\n          temp[_i6] += matrix[_n4] * eigenvector[_j2];\n        }\n      }\n\n      inPlaceSumNormalize(temp);\n      previous = eigenvector;\n      eigenvector = temp;\n      temp = previous;\n      var diff = 0; // Compute difference (squared module) of both vectors\n\n      for (var _i7 = 0; _i7 < numNodes; _i7++) {\n        var delta = previous[_i7] - eigenvector[_i7];\n        diff += delta * delta;\n      } // If difference is less than the desired threshold, stop iterating\n\n\n      if (diff < precision) {\n        break;\n      }\n    } // Construct result\n\n\n    var res = {\n      rank: function rank(node) {\n        node = cy.collection(node)[0];\n        return eigenvector[nodes.indexOf(node)];\n      }\n    };\n    return res;\n  } // pageRank\n\n}; // elesfn\n\nvar defaults$1 = defaults({\n  root: null,\n  weight: function weight(edge) {\n    return 1;\n  },\n  directed: false,\n  alpha: 0\n});\nvar elesfn$8 = {\n  degreeCentralityNormalized: function degreeCentralityNormalized(options) {\n    options = defaults$1(options);\n    var cy = this.cy();\n    var nodes = this.nodes();\n    var numNodes = nodes.length;\n\n    if (!options.directed) {\n      var degrees = {};\n      var maxDegree = 0;\n\n      for (var i = 0; i < numNodes; i++) {\n        var node = nodes[i]; // add current node to the current options object and call degreeCentrality\n\n        options.root = node;\n        var currDegree = this.degreeCentrality(options);\n\n        if (maxDegree < currDegree.degree) {\n          maxDegree = currDegree.degree;\n        }\n\n        degrees[node.id()] = currDegree.degree;\n      }\n\n      return {\n        degree: function degree(node) {\n          if (maxDegree === 0) {\n            return 0;\n          }\n\n          if (string(node)) {\n            // from is a selector string\n            node = cy.filter(node);\n          }\n\n          return degrees[node.id()] / maxDegree;\n        }\n      };\n    } else {\n      var indegrees = {};\n      var outdegrees = {};\n      var maxIndegree = 0;\n      var maxOutdegree = 0;\n\n      for (var _i = 0; _i < numNodes; _i++) {\n        var _node = nodes[_i];\n\n        var id = _node.id(); // add current node to the current options object and call degreeCentrality\n\n\n        options.root = _node;\n\n        var _currDegree = this.degreeCentrality(options);\n\n        if (maxIndegree < _currDegree.indegree) maxIndegree = _currDegree.indegree;\n        if (maxOutdegree < _currDegree.outdegree) maxOutdegree = _currDegree.outdegree;\n        indegrees[id] = _currDegree.indegree;\n        outdegrees[id] = _currDegree.outdegree;\n      }\n\n      return {\n        indegree: function indegree(node) {\n          if (maxIndegree == 0) {\n            return 0;\n          }\n\n          if (string(node)) {\n            // from is a selector string\n            node = cy.filter(node);\n          }\n\n          return indegrees[node.id()] / maxIndegree;\n        },\n        outdegree: function outdegree(node) {\n          if (maxOutdegree === 0) {\n            return 0;\n          }\n\n          if (string(node)) {\n            // from is a selector string\n            node = cy.filter(node);\n          }\n\n          return outdegrees[node.id()] / maxOutdegree;\n        }\n      };\n    }\n  },\n  // degreeCentralityNormalized\n  // Implemented from the algorithm in Opsahl's paper\n  // \"Node centrality in weighted networks: Generalizing degree and shortest paths\"\n  // check the heading 2 \"Degree\"\n  degreeCentrality: function degreeCentrality(options) {\n    options = defaults$1(options);\n    var cy = this.cy();\n    var callingEles = this;\n    var _options = options,\n        root = _options.root,\n        weight = _options.weight,\n        directed = _options.directed,\n        alpha = _options.alpha;\n    root = cy.collection(root)[0];\n\n    if (!directed) {\n      var connEdges = root.connectedEdges().intersection(callingEles);\n      var k = connEdges.length;\n      var s = 0; // Now, sum edge weights\n\n      for (var i = 0; i < connEdges.length; i++) {\n        s += weight(connEdges[i]);\n      }\n\n      return {\n        degree: Math.pow(k, 1 - alpha) * Math.pow(s, alpha)\n      };\n    } else {\n      var edges = root.connectedEdges();\n      var incoming = edges.filter(function (edge) {\n        return edge.target().same(root) && callingEles.has(edge);\n      });\n      var outgoing = edges.filter(function (edge) {\n        return edge.source().same(root) && callingEles.has(edge);\n      });\n      var k_in = incoming.length;\n      var k_out = outgoing.length;\n      var s_in = 0;\n      var s_out = 0; // Now, sum incoming edge weights\n\n      for (var _i2 = 0; _i2 < incoming.length; _i2++) {\n        s_in += weight(incoming[_i2]);\n      } // Now, sum outgoing edge weights\n\n\n      for (var _i3 = 0; _i3 < outgoing.length; _i3++) {\n        s_out += weight(outgoing[_i3]);\n      }\n\n      return {\n        indegree: Math.pow(k_in, 1 - alpha) * Math.pow(s_in, alpha),\n        outdegree: Math.pow(k_out, 1 - alpha) * Math.pow(s_out, alpha)\n      };\n    }\n  } // degreeCentrality\n\n}; // elesfn\n// nice, short mathemathical alias\n\nelesfn$8.dc = elesfn$8.degreeCentrality;\nelesfn$8.dcn = elesfn$8.degreeCentralityNormalised = elesfn$8.degreeCentralityNormalized;\n\nvar defaults$2 = defaults({\n  harmonic: true,\n  weight: function weight() {\n    return 1;\n  },\n  directed: false,\n  root: null\n});\nvar elesfn$9 = {\n  closenessCentralityNormalized: function closenessCentralityNormalized(options) {\n    var _defaults = defaults$2(options),\n        harmonic = _defaults.harmonic,\n        weight = _defaults.weight,\n        directed = _defaults.directed;\n\n    var cy = this.cy();\n    var closenesses = {};\n    var maxCloseness = 0;\n    var nodes = this.nodes();\n    var fw = this.floydWarshall({\n      weight: weight,\n      directed: directed\n    }); // Compute closeness for every node and find the maximum closeness\n\n    for (var i = 0; i < nodes.length; i++) {\n      var currCloseness = 0;\n      var node_i = nodes[i];\n\n      for (var j = 0; j < nodes.length; j++) {\n        if (i !== j) {\n          var d = fw.distance(node_i, nodes[j]);\n\n          if (harmonic) {\n            currCloseness += 1 / d;\n          } else {\n            currCloseness += d;\n          }\n        }\n      }\n\n      if (!harmonic) {\n        currCloseness = 1 / currCloseness;\n      }\n\n      if (maxCloseness < currCloseness) {\n        maxCloseness = currCloseness;\n      }\n\n      closenesses[node_i.id()] = currCloseness;\n    }\n\n    return {\n      closeness: function closeness(node) {\n        if (maxCloseness == 0) {\n          return 0;\n        }\n\n        if (string(node)) {\n          // from is a selector string\n          node = cy.filter(node)[0].id();\n        } else {\n          // from is a node\n          node = node.id();\n        }\n\n        return closenesses[node] / maxCloseness;\n      }\n    };\n  },\n  // Implemented from pseudocode from wikipedia\n  closenessCentrality: function closenessCentrality(options) {\n    var _defaults2 = defaults$2(options),\n        root = _defaults2.root,\n        weight = _defaults2.weight,\n        directed = _defaults2.directed,\n        harmonic = _defaults2.harmonic;\n\n    root = this.filter(root)[0]; // we need distance from this node to every other node\n\n    var dijkstra = this.dijkstra({\n      root: root,\n      weight: weight,\n      directed: directed\n    });\n    var totalDistance = 0;\n    var nodes = this.nodes();\n\n    for (var i = 0; i < nodes.length; i++) {\n      var n = nodes[i];\n\n      if (!n.same(root)) {\n        var d = dijkstra.distanceTo(n);\n\n        if (harmonic) {\n          totalDistance += 1 / d;\n        } else {\n          totalDistance += d;\n        }\n      }\n    }\n\n    return harmonic ? totalDistance : 1 / totalDistance;\n  } // closenessCentrality\n\n}; // elesfn\n// nice, short mathemathical alias\n\nelesfn$9.cc = elesfn$9.closenessCentrality;\nelesfn$9.ccn = elesfn$9.closenessCentralityNormalised = elesfn$9.closenessCentralityNormalized;\n\nvar defaults$3 = defaults({\n  weight: null,\n  directed: false\n});\nvar elesfn$a = {\n  // Implemented from the algorithm in the paper \"On Variants of Shortest-Path Betweenness Centrality and their Generic Computation\" by Ulrik Brandes\n  betweennessCentrality: function betweennessCentrality(options) {\n    var _defaults = defaults$3(options),\n        directed = _defaults.directed,\n        weight = _defaults.weight;\n\n    var weighted = weight != null;\n    var cy = this.cy(); // starting\n\n    var V = this.nodes();\n    var A = {};\n    var _C = {};\n    var max = 0;\n    var C = {\n      set: function set(key, val) {\n        _C[key] = val;\n\n        if (val > max) {\n          max = val;\n        }\n      },\n      get: function get(key) {\n        return _C[key];\n      }\n    }; // A contains the neighborhoods of every node\n\n    for (var i = 0; i < V.length; i++) {\n      var v = V[i];\n      var vid = v.id();\n\n      if (directed) {\n        A[vid] = v.outgoers().nodes(); // get outgoers of every node\n      } else {\n        A[vid] = v.openNeighborhood().nodes(); // get neighbors of every node\n      }\n\n      C.set(vid, 0);\n    }\n\n    var _loop = function _loop(s) {\n      var sid = V[s].id();\n      var S = []; // stack\n\n      var P = {};\n      var g = {};\n      var d = {};\n      var Q = new Heap(function (a, b) {\n        return d[a] - d[b];\n      }); // queue\n      // init dictionaries\n\n      for (var _i = 0; _i < V.length; _i++) {\n        var _vid = V[_i].id();\n\n        P[_vid] = [];\n        g[_vid] = 0;\n        d[_vid] = Infinity;\n      }\n\n      g[sid] = 1; // sigma\n\n      d[sid] = 0; // distance to s\n\n      Q.push(sid);\n\n      while (!Q.empty()) {\n        var _v = Q.pop();\n\n        S.push(_v);\n\n        if (weighted) {\n          for (var j = 0; j < A[_v].length; j++) {\n            var w = A[_v][j];\n            var vEle = cy.getElementById(_v);\n            var edge = void 0;\n\n            if (vEle.edgesTo(w).length > 0) {\n              edge = vEle.edgesTo(w)[0];\n            } else {\n              edge = w.edgesTo(vEle)[0];\n            }\n\n            var edgeWeight = weight(edge);\n            w = w.id();\n\n            if (d[w] > d[_v] + edgeWeight) {\n              d[w] = d[_v] + edgeWeight;\n\n              if (Q.nodes.indexOf(w) < 0) {\n                //if w is not in Q\n                Q.push(w);\n              } else {\n                // update position if w is in Q\n                Q.updateItem(w);\n              }\n\n              g[w] = 0;\n              P[w] = [];\n            }\n\n            if (d[w] == d[_v] + edgeWeight) {\n              g[w] = g[w] + g[_v];\n              P[w].push(_v);\n            }\n          }\n        } else {\n          for (var _j = 0; _j < A[_v].length; _j++) {\n            var _w = A[_v][_j].id();\n\n            if (d[_w] == Infinity) {\n              Q.push(_w);\n              d[_w] = d[_v] + 1;\n            }\n\n            if (d[_w] == d[_v] + 1) {\n              g[_w] = g[_w] + g[_v];\n\n              P[_w].push(_v);\n            }\n          }\n        }\n      }\n\n      var e = {};\n\n      for (var _i2 = 0; _i2 < V.length; _i2++) {\n        e[V[_i2].id()] = 0;\n      }\n\n      while (S.length > 0) {\n        var _w2 = S.pop();\n\n        for (var _j2 = 0; _j2 < P[_w2].length; _j2++) {\n          var _v2 = P[_w2][_j2];\n          e[_v2] = e[_v2] + g[_v2] / g[_w2] * (1 + e[_w2]);\n\n          if (_w2 != V[s].id()) {\n            C.set(_w2, C.get(_w2) + e[_w2]);\n          }\n        }\n      }\n    };\n\n    for (var s = 0; s < V.length; s++) {\n      _loop(s);\n    }\n\n    var ret = {\n      betweenness: function betweenness(node) {\n        var id = cy.collection(node).id();\n        return C.get(id);\n      },\n      betweennessNormalized: function betweennessNormalized(node) {\n        if (max == 0) {\n          return 0;\n        }\n\n        var id = cy.collection(node).id();\n        return C.get(id) / max;\n      }\n    }; // alias\n\n    ret.betweennessNormalised = ret.betweennessNormalized;\n    return ret;\n  } // betweennessCentrality\n\n}; // elesfn\n// nice, short mathemathical alias\n\nelesfn$a.bc = elesfn$a.betweennessCentrality;\n\n// Implemented by Zoe Xi @zoexi for GSOC 2016\n/* eslint-disable no-unused-vars */\n\nvar defaults$4 = defaults({\n  expandFactor: 2,\n  // affects time of computation and cluster granularity to some extent: M * M\n  inflateFactor: 2,\n  // affects cluster granularity (the greater the value, the more clusters): M(i,j) / E(j)\n  multFactor: 1,\n  // optional self loops for each node. Use a neutral value to improve cluster computations.\n  maxIterations: 20,\n  // maximum number of iterations of the MCL algorithm in a single run\n  attributes: [// attributes/features used to group nodes, ie. similarity values between nodes\n  function (edge) {\n    return 1;\n  }]\n});\n/* eslint-enable */\n\nvar setOptions = function setOptions(options) {\n  return defaults$4(options);\n};\n/* eslint-enable */\n\n\nvar getSimilarity = function getSimilarity(edge, attributes) {\n  var total = 0;\n\n  for (var i = 0; i < attributes.length; i++) {\n    total += attributes[i](edge);\n  }\n\n  return total;\n};\n\nvar addLoops = function addLoops(M, n, val) {\n  for (var i = 0; i < n; i++) {\n    M[i * n + i] = val;\n  }\n};\n\nvar normalize = function normalize(M, n) {\n  var sum;\n\n  for (var col = 0; col < n; col++) {\n    sum = 0;\n\n    for (var row = 0; row < n; row++) {\n      sum += M[row * n + col];\n    }\n\n    for (var _row = 0; _row < n; _row++) {\n      M[_row * n + col] = M[_row * n + col] / sum;\n    }\n  }\n}; // TODO: blocked matrix multiplication?\n\n\nvar mmult = function mmult(A, B, n) {\n  var C = new Array(n * n);\n\n  for (var i = 0; i < n; i++) {\n    for (var j = 0; j < n; j++) {\n      C[i * n + j] = 0;\n    }\n\n    for (var k = 0; k < n; k++) {\n      for (var _j = 0; _j < n; _j++) {\n        C[i * n + _j] += A[i * n + k] * B[k * n + _j];\n      }\n    }\n  }\n\n  return C;\n};\n\nvar expand = function expand(M, n, expandFactor\n/** power **/\n) {\n  var _M = M.slice(0);\n\n  for (var p = 1; p < expandFactor; p++) {\n    M = mmult(M, _M, n);\n  }\n\n  return M;\n};\n\nvar inflate = function inflate(M, n, inflateFactor\n/** r **/\n) {\n  var _M = new Array(n * n); // M(i,j) ^ inflatePower\n\n\n  for (var i = 0; i < n * n; i++) {\n    _M[i] = Math.pow(M[i], inflateFactor);\n  }\n\n  normalize(_M, n);\n  return _M;\n};\n\nvar hasConverged = function hasConverged(M, _M, n2, roundFactor) {\n  // Check that both matrices have the same elements (i,j)\n  for (var i = 0; i < n2; i++) {\n    var v1 = Math.round(M[i] * Math.pow(10, roundFactor)) / Math.pow(10, roundFactor); // truncate to 'roundFactor' decimal places\n\n    var v2 = Math.round(_M[i] * Math.pow(10, roundFactor)) / Math.pow(10, roundFactor);\n\n    if (v1 !== v2) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nvar assign = function assign(M, n, nodes, cy) {\n  var clusters = [];\n\n  for (var i = 0; i < n; i++) {\n    var cluster = [];\n\n    for (var j = 0; j < n; j++) {\n      // Row-wise attractors and elements that they attract belong in same cluster\n      if (Math.round(M[i * n + j] * 1000) / 1000 > 0) {\n        cluster.push(nodes[j]);\n      }\n    }\n\n    if (cluster.length !== 0) {\n      clusters.push(cy.collection(cluster));\n    }\n  }\n\n  return clusters;\n};\n\nvar isDuplicate = function isDuplicate(c1, c2) {\n  for (var i = 0; i < c1.length; i++) {\n    if (!c2[i] || c1[i].id() !== c2[i].id()) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nvar removeDuplicates = function removeDuplicates(clusters) {\n  for (var i = 0; i < clusters.length; i++) {\n    for (var j = 0; j < clusters.length; j++) {\n      if (i != j && isDuplicate(clusters[i], clusters[j])) {\n        clusters.splice(j, 1);\n      }\n    }\n  }\n\n  return clusters;\n};\n\nvar markovClustering = function markovClustering(options) {\n  var nodes = this.nodes();\n  var edges = this.edges();\n  var cy = this.cy(); // Set parameters of algorithm:\n\n  var opts = setOptions(options); // Map each node to its position in node array\n\n  var id2position = {};\n\n  for (var i = 0; i < nodes.length; i++) {\n    id2position[nodes[i].id()] = i;\n  } // Generate stochastic matrix M from input graph G (should be symmetric/undirected)\n\n\n  var n = nodes.length,\n      n2 = n * n;\n\n  var M = new Array(n2),\n      _M;\n\n  for (var _i = 0; _i < n2; _i++) {\n    M[_i] = 0;\n  }\n\n  for (var e = 0; e < edges.length; e++) {\n    var edge = edges[e];\n    var _i2 = id2position[edge.source().id()];\n    var j = id2position[edge.target().id()];\n    var sim = getSimilarity(edge, opts.attributes);\n    M[_i2 * n + j] += sim; // G should be symmetric and undirected\n\n    M[j * n + _i2] += sim;\n  } // Begin Markov cluster algorithm\n  // Step 1: Add self loops to each node, ie. add multFactor to matrix diagonal\n\n\n  addLoops(M, n, opts.multFactor); // Step 2: M = normalize( M );\n\n  normalize(M, n);\n  var isStillMoving = true;\n  var iterations = 0;\n\n  while (isStillMoving && iterations < opts.maxIterations) {\n    isStillMoving = false; // Step 3:\n\n    _M = expand(M, n, opts.expandFactor); // Step 4:\n\n    M = inflate(_M, n, opts.inflateFactor); // Step 5: check to see if ~steady state has been reached\n\n    if (!hasConverged(M, _M, n2, 4)) {\n      isStillMoving = true;\n    }\n\n    iterations++;\n  } // Build clusters from matrix\n\n\n  var clusters = assign(M, n, nodes, cy); // Remove duplicate clusters due to symmetry of graph and M matrix\n\n  clusters = removeDuplicates(clusters);\n  return clusters;\n};\n\nvar markovClustering$1 = {\n  markovClustering: markovClustering,\n  mcl: markovClustering\n};\n\n// Common distance metrics for clustering algorithms\n\nvar identity = function identity(x) {\n  return x;\n};\n\nvar absDiff = function absDiff(p, q) {\n  return Math.abs(q - p);\n};\n\nvar addAbsDiff = function addAbsDiff(total, p, q) {\n  return total + absDiff(p, q);\n};\n\nvar addSquaredDiff = function addSquaredDiff(total, p, q) {\n  return total + Math.pow(q - p, 2);\n};\n\nvar sqrt = function sqrt(x) {\n  return Math.sqrt(x);\n};\n\nvar maxAbsDiff = function maxAbsDiff(currentMax, p, q) {\n  return Math.max(currentMax, absDiff(p, q));\n};\n\nvar getDistance = function getDistance(length, getP, getQ, init, visit) {\n  var post = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : identity;\n  var ret = init;\n  var p, q;\n\n  for (var dim = 0; dim < length; dim++) {\n    p = getP(dim);\n    q = getQ(dim);\n    ret = visit(ret, p, q);\n  }\n\n  return post(ret);\n};\n\nvar distances = {\n  euclidean: function euclidean(length, getP, getQ) {\n    if (length >= 2) {\n      return getDistance(length, getP, getQ, 0, addSquaredDiff, sqrt);\n    } else {\n      // for single attr case, more efficient to avoid sqrt\n      return getDistance(length, getP, getQ, 0, addAbsDiff);\n    }\n  },\n  squaredEuclidean: function squaredEuclidean(length, getP, getQ) {\n    return getDistance(length, getP, getQ, 0, addSquaredDiff);\n  },\n  manhattan: function manhattan(length, getP, getQ) {\n    return getDistance(length, getP, getQ, 0, addAbsDiff);\n  },\n  max: function max(length, getP, getQ) {\n    return getDistance(length, getP, getQ, -Infinity, maxAbsDiff);\n  }\n}; // in case the user accidentally doesn't use camel case\n\ndistances['squared-euclidean'] = distances['squaredEuclidean'];\ndistances['squaredeuclidean'] = distances['squaredEuclidean'];\nfunction clusteringDistance (method, length, getP, getQ, nodeP, nodeQ) {\n  var impl;\n\n  if (fn(method)) {\n    impl = method;\n  } else {\n    impl = distances[method] || distances.euclidean;\n  }\n\n  if (length === 0 && fn(method)) {\n    return impl(nodeP, nodeQ);\n  } else {\n    return impl(length, getP, getQ, nodeP, nodeQ);\n  }\n}\n\nvar defaults$5 = defaults({\n  k: 2,\n  m: 2,\n  sensitivityThreshold: 0.0001,\n  distance: 'euclidean',\n  maxIterations: 10,\n  attributes: [],\n  testMode: false,\n  testCentroids: null\n});\n\nvar setOptions$1 = function setOptions(options) {\n  return defaults$5(options);\n};\n/* eslint-enable */\n\n\nvar getDist = function getDist(type, node, centroid, attributes, mode) {\n  var noNodeP = mode !== 'kMedoids';\n  var getP = noNodeP ? function (i) {\n    return centroid[i];\n  } : function (i) {\n    return attributes[i](centroid);\n  };\n\n  var getQ = function getQ(i) {\n    return attributes[i](node);\n  };\n\n  var nodeP = centroid;\n  var nodeQ = node;\n  return clusteringDistance(type, attributes.length, getP, getQ, nodeP, nodeQ);\n};\n\nvar randomCentroids = function randomCentroids(nodes, k, attributes) {\n  var ndim = attributes.length;\n  var min = new Array(ndim);\n  var max = new Array(ndim);\n  var centroids = new Array(k);\n  var centroid = null; // Find min, max values for each attribute dimension\n\n  for (var i = 0; i < ndim; i++) {\n    min[i] = nodes.min(attributes[i]).value;\n    max[i] = nodes.max(attributes[i]).value;\n  } // Build k centroids, each represented as an n-dim feature vector\n\n\n  for (var c = 0; c < k; c++) {\n    centroid = [];\n\n    for (var _i = 0; _i < ndim; _i++) {\n      centroid[_i] = Math.random() * (max[_i] - min[_i]) + min[_i]; // random initial value\n    }\n\n    centroids[c] = centroid;\n  }\n\n  return centroids;\n};\n\nvar classify = function classify(node, centroids, distance, attributes, type) {\n  var min = Infinity;\n  var index = 0;\n\n  for (var i = 0; i < centroids.length; i++) {\n    var dist = getDist(distance, node, centroids[i], attributes, type);\n\n    if (dist < min) {\n      min = dist;\n      index = i;\n    }\n  }\n\n  return index;\n};\n\nvar buildCluster = function buildCluster(centroid, nodes, assignment) {\n  var cluster = [];\n  var node = null;\n\n  for (var n = 0; n < nodes.length; n++) {\n    node = nodes[n];\n\n    if (assignment[node.id()] === centroid) {\n      //console.log(\"Node \" + node.id() + \" is associated with medoid #: \" + m);\n      cluster.push(node);\n    }\n  }\n\n  return cluster;\n};\n\nvar haveValuesConverged = function haveValuesConverged(v1, v2, sensitivityThreshold) {\n  return Math.abs(v2 - v1) <= sensitivityThreshold;\n};\n\nvar haveMatricesConverged = function haveMatricesConverged(v1, v2, sensitivityThreshold) {\n  for (var i = 0; i < v1.length; i++) {\n    for (var j = 0; j < v1[i].length; j++) {\n      var diff = Math.abs(v1[i][j] - v2[i][j]);\n\n      if (diff > sensitivityThreshold) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n};\n\nvar seenBefore = function seenBefore(node, medoids, n) {\n  for (var i = 0; i < n; i++) {\n    if (node === medoids[i]) return true;\n  }\n\n  return false;\n};\n\nvar randomMedoids = function randomMedoids(nodes, k) {\n  var medoids = new Array(k); // For small data sets, the probability of medoid conflict is greater,\n  // so we need to check to see if we've already seen or chose this node before.\n\n  if (nodes.length < 50) {\n    // Randomly select k medoids from the n nodes\n    for (var i = 0; i < k; i++) {\n      var node = nodes[Math.floor(Math.random() * nodes.length)]; // If we've already chosen this node to be a medoid, don't choose it again (for small data sets).\n      // Instead choose a different random node.\n\n      while (seenBefore(node, medoids, i)) {\n        node = nodes[Math.floor(Math.random() * nodes.length)];\n      }\n\n      medoids[i] = node;\n    }\n  } else {\n    // Relatively large data set, so pretty safe to not check and just select random nodes\n    for (var _i2 = 0; _i2 < k; _i2++) {\n      medoids[_i2] = nodes[Math.floor(Math.random() * nodes.length)];\n    }\n  }\n\n  return medoids;\n};\n\nvar findCost = function findCost(potentialNewMedoid, cluster, attributes) {\n  var cost = 0;\n\n  for (var n = 0; n < cluster.length; n++) {\n    cost += getDist('manhattan', cluster[n], potentialNewMedoid, attributes, 'kMedoids');\n  }\n\n  return cost;\n};\n\nvar kMeans = function kMeans(options) {\n  var cy = this.cy();\n  var nodes = this.nodes();\n  var node = null; // Set parameters of algorithm: # of clusters, distance metric, etc.\n\n  var opts = setOptions$1(options); // Begin k-means algorithm\n\n  var clusters = new Array(opts.k);\n  var assignment = {};\n  var centroids; // Step 1: Initialize centroid positions\n\n  if (opts.testMode) {\n    if (typeof opts.testCentroids === 'number') {\n      centroids = randomCentroids(nodes, opts.k, opts.attributes);\n    } else if (_typeof(opts.testCentroids) === 'object') {\n      centroids = opts.testCentroids;\n    } else {\n      centroids = randomCentroids(nodes, opts.k, opts.attributes);\n    }\n  } else {\n    centroids = randomCentroids(nodes, opts.k, opts.attributes);\n  }\n\n  var isStillMoving = true;\n  var iterations = 0;\n\n  while (isStillMoving && iterations < opts.maxIterations) {\n    // Step 2: Assign nodes to the nearest centroid\n    for (var n = 0; n < nodes.length; n++) {\n      node = nodes[n]; // Determine which cluster this node belongs to: node id => cluster #\n\n      assignment[node.id()] = classify(node, centroids, opts.distance, opts.attributes, 'kMeans');\n    } // Step 3: For each of the k clusters, update its centroid\n\n\n    isStillMoving = false;\n\n    for (var c = 0; c < opts.k; c++) {\n      // Get all nodes that belong to this cluster\n      var cluster = buildCluster(c, nodes, assignment);\n\n      if (cluster.length === 0) {\n        // If cluster is empty, break out early & move to next cluster\n        continue;\n      } // Update centroids by calculating avg of all nodes within the cluster.\n\n\n      var ndim = opts.attributes.length;\n      var centroid = centroids[c]; // [ dim_1, dim_2, dim_3, ... , dim_n ]\n\n      var newCentroid = new Array(ndim);\n      var sum = new Array(ndim);\n\n      for (var d = 0; d < ndim; d++) {\n        sum[d] = 0.0;\n\n        for (var i = 0; i < cluster.length; i++) {\n          node = cluster[i];\n          sum[d] += opts.attributes[d](node);\n        }\n\n        newCentroid[d] = sum[d] / cluster.length; // Check to see if algorithm has converged, i.e. when centroids no longer change\n\n        if (!haveValuesConverged(newCentroid[d], centroid[d], opts.sensitivityThreshold)) {\n          isStillMoving = true;\n        }\n      }\n\n      centroids[c] = newCentroid;\n      clusters[c] = cy.collection(cluster);\n    }\n\n    iterations++;\n  }\n\n  return clusters;\n};\n\nvar kMedoids = function kMedoids(options) {\n  var cy = this.cy();\n  var nodes = this.nodes();\n  var node = null;\n  var opts = setOptions$1(options); // Begin k-medoids algorithm\n\n  var clusters = new Array(opts.k);\n  var medoids;\n  var assignment = {};\n  var curCost;\n  var minCosts = new Array(opts.k); // minimum cost configuration for each cluster\n  // Step 1: Initialize k medoids\n\n  if (opts.testMode) {\n    if (typeof opts.testCentroids === 'number') ; else if (_typeof(opts.testCentroids) === 'object') {\n      medoids = opts.testCentroids;\n    } else {\n      medoids = randomMedoids(nodes, opts.k);\n    }\n  } else {\n    medoids = randomMedoids(nodes, opts.k);\n  }\n\n  var isStillMoving = true;\n  var iterations = 0;\n\n  while (isStillMoving && iterations < opts.maxIterations) {\n    // Step 2: Assign nodes to the nearest medoid\n    for (var n = 0; n < nodes.length; n++) {\n      node = nodes[n]; // Determine which cluster this node belongs to: node id => cluster #\n\n      assignment[node.id()] = classify(node, medoids, opts.distance, opts.attributes, 'kMedoids');\n    }\n\n    isStillMoving = false; // Step 3: For each medoid m, and for each node assciated with mediod m,\n    // select the node with the lowest configuration cost as new medoid.\n\n    for (var m = 0; m < medoids.length; m++) {\n      // Get all nodes that belong to this medoid\n      var cluster = buildCluster(m, nodes, assignment);\n\n      if (cluster.length === 0) {\n        // If cluster is empty, break out early & move to next cluster\n        continue;\n      }\n\n      minCosts[m] = findCost(medoids[m], cluster, opts.attributes); // original cost\n      // Select different medoid if its configuration has the lowest cost\n\n      for (var _n = 0; _n < cluster.length; _n++) {\n        curCost = findCost(cluster[_n], cluster, opts.attributes);\n\n        if (curCost < minCosts[m]) {\n          minCosts[m] = curCost;\n          medoids[m] = cluster[_n];\n          isStillMoving = true;\n        }\n      }\n\n      clusters[m] = cy.collection(cluster);\n    }\n\n    iterations++;\n  }\n\n  return clusters;\n};\n\nvar updateCentroids = function updateCentroids(centroids, nodes, U, weight, opts) {\n  var numerator, denominator;\n\n  for (var n = 0; n < nodes.length; n++) {\n    for (var c = 0; c < centroids.length; c++) {\n      weight[n][c] = Math.pow(U[n][c], opts.m);\n    }\n  }\n\n  for (var _c = 0; _c < centroids.length; _c++) {\n    for (var dim = 0; dim < opts.attributes.length; dim++) {\n      numerator = 0;\n      denominator = 0;\n\n      for (var _n2 = 0; _n2 < nodes.length; _n2++) {\n        numerator += weight[_n2][_c] * opts.attributes[dim](nodes[_n2]);\n        denominator += weight[_n2][_c];\n      }\n\n      centroids[_c][dim] = numerator / denominator;\n    }\n  }\n};\n\nvar updateMembership = function updateMembership(U, _U, centroids, nodes, opts) {\n  // Save previous step\n  for (var i = 0; i < U.length; i++) {\n    _U[i] = U[i].slice();\n  }\n\n  var sum, numerator, denominator;\n  var pow = 2 / (opts.m - 1);\n\n  for (var c = 0; c < centroids.length; c++) {\n    for (var n = 0; n < nodes.length; n++) {\n      sum = 0;\n\n      for (var k = 0; k < centroids.length; k++) {\n        // against all other centroids\n        numerator = getDist(opts.distance, nodes[n], centroids[c], opts.attributes, 'cmeans');\n        denominator = getDist(opts.distance, nodes[n], centroids[k], opts.attributes, 'cmeans');\n        sum += Math.pow(numerator / denominator, pow);\n      }\n\n      U[n][c] = 1 / sum;\n    }\n  }\n};\n\nvar assign$1 = function assign(nodes, U, opts, cy) {\n  var clusters = new Array(opts.k);\n\n  for (var c = 0; c < clusters.length; c++) {\n    clusters[c] = [];\n  }\n\n  var max;\n  var index;\n\n  for (var n = 0; n < U.length; n++) {\n    // for each node (U is N x C matrix)\n    max = -Infinity;\n    index = -1; // Determine which cluster the node is most likely to belong in\n\n    for (var _c2 = 0; _c2 < U[0].length; _c2++) {\n      if (U[n][_c2] > max) {\n        max = U[n][_c2];\n        index = _c2;\n      }\n    }\n\n    clusters[index].push(nodes[n]);\n  } // Turn every array into a collection of nodes\n\n\n  for (var _c3 = 0; _c3 < clusters.length; _c3++) {\n    clusters[_c3] = cy.collection(clusters[_c3]);\n  }\n\n  return clusters;\n};\n\nvar fuzzyCMeans = function fuzzyCMeans(options) {\n  var cy = this.cy();\n  var nodes = this.nodes();\n  var opts = setOptions$1(options); // Begin fuzzy c-means algorithm\n\n  var clusters;\n  var centroids;\n  var U;\n\n  var _U;\n\n  var weight; // Step 1: Initialize letiables.\n\n  _U = new Array(nodes.length);\n\n  for (var i = 0; i < nodes.length; i++) {\n    // N x C matrix\n    _U[i] = new Array(opts.k);\n  }\n\n  U = new Array(nodes.length);\n\n  for (var _i3 = 0; _i3 < nodes.length; _i3++) {\n    // N x C matrix\n    U[_i3] = new Array(opts.k);\n  }\n\n  for (var _i4 = 0; _i4 < nodes.length; _i4++) {\n    var total = 0;\n\n    for (var j = 0; j < opts.k; j++) {\n      U[_i4][j] = Math.random();\n      total += U[_i4][j];\n    }\n\n    for (var _j = 0; _j < opts.k; _j++) {\n      U[_i4][_j] = U[_i4][_j] / total;\n    }\n  }\n\n  centroids = new Array(opts.k);\n\n  for (var _i5 = 0; _i5 < opts.k; _i5++) {\n    centroids[_i5] = new Array(opts.attributes.length);\n  }\n\n  weight = new Array(nodes.length);\n\n  for (var _i6 = 0; _i6 < nodes.length; _i6++) {\n    // N x C matrix\n    weight[_i6] = new Array(opts.k);\n  } // end init FCM\n\n\n  var isStillMoving = true;\n  var iterations = 0;\n\n  while (isStillMoving && iterations < opts.maxIterations) {\n    isStillMoving = false; // Step 2: Calculate the centroids for each step.\n\n    updateCentroids(centroids, nodes, U, weight, opts); // Step 3: Update the partition matrix U.\n\n    updateMembership(U, _U, centroids, nodes, opts); // Step 4: Check for convergence.\n\n    if (!haveMatricesConverged(U, _U, opts.sensitivityThreshold)) {\n      isStillMoving = true;\n    }\n\n    iterations++;\n  } // Assign nodes to clusters with highest probability.\n\n\n  clusters = assign$1(nodes, U, opts, cy);\n  return {\n    clusters: clusters,\n    degreeOfMembership: U\n  };\n};\n\nvar kClustering = {\n  kMeans: kMeans,\n  kMedoids: kMedoids,\n  fuzzyCMeans: fuzzyCMeans,\n  fcm: fuzzyCMeans\n};\n\n// Implemented by Zoe Xi @zoexi for GSOC 2016\nvar defaults$6 = defaults({\n  distance: 'euclidean',\n  // distance metric to compare nodes\n  linkage: 'min',\n  // linkage criterion : how to determine the distance between clusters of nodes\n  mode: 'threshold',\n  // mode:'threshold' => clusters must be threshold distance apart\n  threshold: Infinity,\n  // the distance threshold\n  // mode:'dendrogram' => the nodes are organised as leaves in a tree (siblings are close), merging makes clusters\n  addDendrogram: false,\n  // whether to add the dendrogram to the graph for viz\n  dendrogramDepth: 0,\n  // depth at which dendrogram branches are merged into the returned clusters\n  attributes: [] // array of attr functions\n\n});\nvar linkageAliases = {\n  'single': 'min',\n  'complete': 'max'\n};\n\nvar setOptions$2 = function setOptions(options) {\n  var opts = defaults$6(options);\n  var preferredAlias = linkageAliases[opts.linkage];\n\n  if (preferredAlias != null) {\n    opts.linkage = preferredAlias;\n  }\n\n  return opts;\n};\n\nvar mergeClosest = function mergeClosest(clusters, index, dists, mins, opts) {\n  // Find two closest clusters from cached mins\n  var minKey = 0;\n  var min = Infinity;\n  var dist;\n  var attrs = opts.attributes;\n\n  var getDist = function getDist(n1, n2) {\n    return clusteringDistance(opts.distance, attrs.length, function (i) {\n      return attrs[i](n1);\n    }, function (i) {\n      return attrs[i](n2);\n    }, n1, n2);\n  };\n\n  for (var i = 0; i < clusters.length; i++) {\n    var key = clusters[i].key;\n    var _dist = dists[key][mins[key]];\n\n    if (_dist < min) {\n      minKey = key;\n      min = _dist;\n    }\n  }\n\n  if (opts.mode === 'threshold' && min >= opts.threshold || opts.mode === 'dendrogram' && clusters.length === 1) {\n    return false;\n  }\n\n  var c1 = index[minKey];\n  var c2 = index[mins[minKey]];\n  var merged; // Merge two closest clusters\n\n  if (opts.mode === 'dendrogram') {\n    merged = {\n      left: c1,\n      right: c2,\n      key: c1.key\n    };\n  } else {\n    merged = {\n      value: c1.value.concat(c2.value),\n      key: c1.key\n    };\n  }\n\n  clusters[c1.index] = merged;\n  clusters.splice(c2.index, 1);\n  index[c1.key] = merged; // Update distances with new merged cluster\n\n  for (var _i = 0; _i < clusters.length; _i++) {\n    var cur = clusters[_i];\n\n    if (c1.key === cur.key) {\n      dist = Infinity;\n    } else if (opts.linkage === 'min') {\n      dist = dists[c1.key][cur.key];\n\n      if (dists[c1.key][cur.key] > dists[c2.key][cur.key]) {\n        dist = dists[c2.key][cur.key];\n      }\n    } else if (opts.linkage === 'max') {\n      dist = dists[c1.key][cur.key];\n\n      if (dists[c1.key][cur.key] < dists[c2.key][cur.key]) {\n        dist = dists[c2.key][cur.key];\n      }\n    } else if (opts.linkage === 'mean') {\n      dist = (dists[c1.key][cur.key] * c1.size + dists[c2.key][cur.key] * c2.size) / (c1.size + c2.size);\n    } else {\n      if (opts.mode === 'dendrogram') dist = getDist(cur.value, c1.value);else dist = getDist(cur.value[0], c1.value[0]);\n    }\n\n    dists[c1.key][cur.key] = dists[cur.key][c1.key] = dist; // distance matrix is symmetric\n  } // Update cached mins\n\n\n  for (var _i2 = 0; _i2 < clusters.length; _i2++) {\n    var key1 = clusters[_i2].key;\n\n    if (mins[key1] === c1.key || mins[key1] === c2.key) {\n      var _min = key1;\n\n      for (var j = 0; j < clusters.length; j++) {\n        var key2 = clusters[j].key;\n\n        if (dists[key1][key2] < dists[key1][_min]) {\n          _min = key2;\n        }\n      }\n\n      mins[key1] = _min;\n    }\n\n    clusters[_i2].index = _i2;\n  } // Clean up meta data used for clustering\n\n\n  c1.key = c2.key = c1.index = c2.index = null;\n  return true;\n};\n\nvar getAllChildren = function getAllChildren(root, arr, cy) {\n  if (!root) return;\n\n  if (root.value) {\n    arr.push(root.value);\n  } else {\n    if (root.left) getAllChildren(root.left, arr);\n    if (root.right) getAllChildren(root.right, arr);\n  }\n};\n\nvar buildDendrogram = function buildDendrogram(root, cy) {\n  if (!root) return '';\n\n  if (root.left && root.right) {\n    var leftStr = buildDendrogram(root.left, cy);\n    var rightStr = buildDendrogram(root.right, cy);\n    var node = cy.add({\n      group: 'nodes',\n      data: {\n        id: leftStr + ',' + rightStr\n      }\n    });\n    cy.add({\n      group: 'edges',\n      data: {\n        source: leftStr,\n        target: node.id()\n      }\n    });\n    cy.add({\n      group: 'edges',\n      data: {\n        source: rightStr,\n        target: node.id()\n      }\n    });\n    return node.id();\n  } else if (root.value) {\n    return root.value.id();\n  }\n};\n\nvar buildClustersFromTree = function buildClustersFromTree(root, k, cy) {\n  if (!root) return [];\n  var left = [],\n      right = [],\n      leaves = [];\n\n  if (k === 0) {\n    // don't cut tree, simply return all nodes as 1 single cluster\n    if (root.left) getAllChildren(root.left, left);\n    if (root.right) getAllChildren(root.right, right);\n    leaves = left.concat(right);\n    return [cy.collection(leaves)];\n  } else if (k === 1) {\n    // cut at root\n    if (root.value) {\n      // leaf node\n      return [cy.collection(root.value)];\n    } else {\n      if (root.left) getAllChildren(root.left, left);\n      if (root.right) getAllChildren(root.right, right);\n      return [cy.collection(left), cy.collection(right)];\n    }\n  } else {\n    if (root.value) {\n      return [cy.collection(root.value)];\n    } else {\n      if (root.left) left = buildClustersFromTree(root.left, k - 1, cy);\n      if (root.right) right = buildClustersFromTree(root.right, k - 1, cy);\n      return left.concat(right);\n    }\n  }\n};\n/* eslint-enable */\n\n\nvar hierarchicalClustering = function hierarchicalClustering(options) {\n  var cy = this.cy();\n  var nodes = this.nodes(); // Set parameters of algorithm: linkage type, distance metric, etc.\n\n  var opts = setOptions$2(options);\n  var attrs = opts.attributes;\n\n  var getDist = function getDist(n1, n2) {\n    return clusteringDistance(opts.distance, attrs.length, function (i) {\n      return attrs[i](n1);\n    }, function (i) {\n      return attrs[i](n2);\n    }, n1, n2);\n  }; // Begin hierarchical algorithm\n\n\n  var clusters = [];\n  var dists = []; // distances between each pair of clusters\n\n  var mins = []; // closest cluster for each cluster\n\n  var index = []; // hash of all clusters by key\n  // In agglomerative (bottom-up) clustering, each node starts as its own cluster\n\n  for (var n = 0; n < nodes.length; n++) {\n    var cluster = {\n      value: opts.mode === 'dendrogram' ? nodes[n] : [nodes[n]],\n      key: n,\n      index: n\n    };\n    clusters[n] = cluster;\n    index[n] = cluster;\n    dists[n] = [];\n    mins[n] = 0;\n  } // Calculate the distance between each pair of clusters\n\n\n  for (var i = 0; i < clusters.length; i++) {\n    for (var j = 0; j <= i; j++) {\n      var dist = void 0;\n\n      if (opts.mode === 'dendrogram') {\n        // modes store cluster values differently\n        dist = i === j ? Infinity : getDist(clusters[i].value, clusters[j].value);\n      } else {\n        dist = i === j ? Infinity : getDist(clusters[i].value[0], clusters[j].value[0]);\n      }\n\n      dists[i][j] = dist;\n      dists[j][i] = dist;\n\n      if (dist < dists[i][mins[i]]) {\n        mins[i] = j; // Cache mins: closest cluster to cluster i is cluster j\n      }\n    }\n  } // Find the closest pair of clusters and merge them into a single cluster.\n  // Update distances between new cluster and each of the old clusters, and loop until threshold reached.\n\n\n  var merged = mergeClosest(clusters, index, dists, mins, opts);\n\n  while (merged) {\n    merged = mergeClosest(clusters, index, dists, mins, opts);\n  }\n\n  var retClusters; // Dendrogram mode builds the hierarchy and adds intermediary nodes + edges\n  // in addition to returning the clusters.\n\n  if (opts.mode === 'dendrogram') {\n    retClusters = buildClustersFromTree(clusters[0], opts.dendrogramDepth, cy);\n    if (opts.addDendrogram) buildDendrogram(clusters[0], cy);\n  } else {\n    // Regular mode simply returns the clusters\n    retClusters = new Array(clusters.length);\n    clusters.forEach(function (cluster, i) {\n      // Clean up meta data used for clustering\n      cluster.key = cluster.index = null;\n      retClusters[i] = cy.collection(cluster.value);\n    });\n  }\n\n  return retClusters;\n};\n\nvar hierarchicalClustering$1 = {\n  hierarchicalClustering: hierarchicalClustering,\n  hca: hierarchicalClustering\n};\n\n// Implemented by Zoe Xi @zoexi for GSOC 2016\nvar defaults$7 = defaults({\n  distance: 'euclidean',\n  // distance metric to compare attributes between two nodes\n  preference: 'median',\n  // suitability of a data point to serve as an exemplar\n  damping: 0.8,\n  // damping factor between [0.5, 1)\n  maxIterations: 1000,\n  // max number of iterations to run\n  minIterations: 100,\n  // min number of iterations to run in order for clustering to stop\n  attributes: [// functions to quantify the similarity between any two points\n    // e.g. node => node.data('weight')\n  ]\n});\n\nvar setOptions$3 = function setOptions(options) {\n  var dmp = options.damping;\n  var pref = options.preference;\n\n  if (!(0.5 <= dmp && dmp < 1)) {\n    error(\"Damping must range on [0.5, 1).  Got: \".concat(dmp));\n  }\n\n  var validPrefs = ['median', 'mean', 'min', 'max'];\n\n  if (!(validPrefs.some(function (v) {\n    return v === pref;\n  }) || number(pref))) {\n    error(\"Preference must be one of [\".concat(validPrefs.map(function (p) {\n      return \"'\".concat(p, \"'\");\n    }).join(', '), \"] or a number.  Got: \").concat(pref));\n  }\n\n  return defaults$7(options);\n};\n/* eslint-enable */\n\n\nvar getSimilarity$1 = function getSimilarity(type, n1, n2, attributes) {\n  var attr = function attr(n, i) {\n    return attributes[i](n);\n  }; // nb negative because similarity should have an inverse relationship to distance\n\n\n  return -clusteringDistance(type, attributes.length, function (i) {\n    return attr(n1, i);\n  }, function (i) {\n    return attr(n2, i);\n  }, n1, n2);\n};\n\nvar getPreference = function getPreference(S, preference) {\n  // larger preference = greater # of clusters\n  var p = null;\n\n  if (preference === 'median') {\n    p = median(S);\n  } else if (preference === 'mean') {\n    p = mean(S);\n  } else if (preference === 'min') {\n    p = min(S);\n  } else if (preference === 'max') {\n    p = max(S);\n  } else {\n    // Custom preference number, as set by user\n    p = preference;\n  }\n\n  return p;\n};\n\nvar findExemplars = function findExemplars(n, R, A) {\n  var indices = [];\n\n  for (var i = 0; i < n; i++) {\n    if (R[i * n + i] + A[i * n + i] > 0) {\n      indices.push(i);\n    }\n  }\n\n  return indices;\n};\n\nvar assignClusters = function assignClusters(n, S, exemplars) {\n  var clusters = [];\n\n  for (var i = 0; i < n; i++) {\n    var index = -1;\n    var max = -Infinity;\n\n    for (var ei = 0; ei < exemplars.length; ei++) {\n      var e = exemplars[ei];\n\n      if (S[i * n + e] > max) {\n        index = e;\n        max = S[i * n + e];\n      }\n    }\n\n    if (index > 0) {\n      clusters.push(index);\n    }\n  }\n\n  for (var _ei = 0; _ei < exemplars.length; _ei++) {\n    clusters[exemplars[_ei]] = exemplars[_ei];\n  }\n\n  return clusters;\n};\n\nvar assign$2 = function assign(n, S, exemplars) {\n  var clusters = assignClusters(n, S, exemplars);\n\n  for (var ei = 0; ei < exemplars.length; ei++) {\n    var ii = [];\n\n    for (var c = 0; c < clusters.length; c++) {\n      if (clusters[c] === exemplars[ei]) {\n        ii.push(c);\n      }\n    }\n\n    var maxI = -1;\n    var maxSum = -Infinity;\n\n    for (var i = 0; i < ii.length; i++) {\n      var sum = 0;\n\n      for (var j = 0; j < ii.length; j++) {\n        sum += S[ii[j] * n + ii[i]];\n      }\n\n      if (sum > maxSum) {\n        maxI = i;\n        maxSum = sum;\n      }\n    }\n\n    exemplars[ei] = ii[maxI];\n  }\n\n  clusters = assignClusters(n, S, exemplars);\n  return clusters;\n};\n\nvar affinityPropagation = function affinityPropagation(options) {\n  var cy = this.cy();\n  var nodes = this.nodes();\n  var opts = setOptions$3(options); // Map each node to its position in node array\n\n  var id2position = {};\n\n  for (var i = 0; i < nodes.length; i++) {\n    id2position[nodes[i].id()] = i;\n  } // Begin affinity propagation algorithm\n\n\n  var n; // number of data points\n\n  var n2; // size of matrices\n\n  var S; // similarity matrix (1D array)\n\n  var p; // preference/suitability of a data point to serve as an exemplar\n\n  var R; // responsibility matrix (1D array)\n\n  var A; // availability matrix (1D array)\n\n  n = nodes.length;\n  n2 = n * n; // Initialize and build S similarity matrix\n\n  S = new Array(n2);\n\n  for (var _i = 0; _i < n2; _i++) {\n    S[_i] = -Infinity; // for cases where two data points shouldn't be linked together\n  }\n\n  for (var _i2 = 0; _i2 < n; _i2++) {\n    for (var j = 0; j < n; j++) {\n      if (_i2 !== j) {\n        S[_i2 * n + j] = getSimilarity$1(opts.distance, nodes[_i2], nodes[j], opts.attributes);\n      }\n    }\n  } // Place preferences on the diagonal of S\n\n\n  p = getPreference(S, opts.preference);\n\n  for (var _i3 = 0; _i3 < n; _i3++) {\n    S[_i3 * n + _i3] = p;\n  } // Initialize R responsibility matrix\n\n\n  R = new Array(n2);\n\n  for (var _i4 = 0; _i4 < n2; _i4++) {\n    R[_i4] = 0.0;\n  } // Initialize A availability matrix\n\n\n  A = new Array(n2);\n\n  for (var _i5 = 0; _i5 < n2; _i5++) {\n    A[_i5] = 0.0;\n  }\n\n  var old = new Array(n);\n  var Rp = new Array(n);\n  var se = new Array(n);\n\n  for (var _i6 = 0; _i6 < n; _i6++) {\n    old[_i6] = 0.0;\n    Rp[_i6] = 0.0;\n    se[_i6] = 0;\n  }\n\n  var e = new Array(n * opts.minIterations);\n\n  for (var _i7 = 0; _i7 < e.length; _i7++) {\n    e[_i7] = 0;\n  }\n\n  var iter;\n\n  for (iter = 0; iter < opts.maxIterations; iter++) {\n    // main algorithmic loop\n    // Update R responsibility matrix\n    for (var _i8 = 0; _i8 < n; _i8++) {\n      var max = -Infinity,\n          max2 = -Infinity,\n          maxI = -1,\n          AS = 0.0;\n\n      for (var _j = 0; _j < n; _j++) {\n        old[_j] = R[_i8 * n + _j];\n        AS = A[_i8 * n + _j] + S[_i8 * n + _j];\n\n        if (AS >= max) {\n          max2 = max;\n          max = AS;\n          maxI = _j;\n        } else if (AS > max2) {\n          max2 = AS;\n        }\n      }\n\n      for (var _j2 = 0; _j2 < n; _j2++) {\n        R[_i8 * n + _j2] = (1 - opts.damping) * (S[_i8 * n + _j2] - max) + opts.damping * old[_j2];\n      }\n\n      R[_i8 * n + maxI] = (1 - opts.damping) * (S[_i8 * n + maxI] - max2) + opts.damping * old[maxI];\n    } // Update A availability matrix\n\n\n    for (var _i9 = 0; _i9 < n; _i9++) {\n      var sum = 0;\n\n      for (var _j3 = 0; _j3 < n; _j3++) {\n        old[_j3] = A[_j3 * n + _i9];\n        Rp[_j3] = Math.max(0, R[_j3 * n + _i9]);\n        sum += Rp[_j3];\n      }\n\n      sum -= Rp[_i9];\n      Rp[_i9] = R[_i9 * n + _i9];\n      sum += Rp[_i9];\n\n      for (var _j4 = 0; _j4 < n; _j4++) {\n        A[_j4 * n + _i9] = (1 - opts.damping) * Math.min(0, sum - Rp[_j4]) + opts.damping * old[_j4];\n      }\n\n      A[_i9 * n + _i9] = (1 - opts.damping) * (sum - Rp[_i9]) + opts.damping * old[_i9];\n    } // Check for convergence\n\n\n    var K = 0;\n\n    for (var _i10 = 0; _i10 < n; _i10++) {\n      var E = A[_i10 * n + _i10] + R[_i10 * n + _i10] > 0 ? 1 : 0;\n      e[iter % opts.minIterations * n + _i10] = E;\n      K += E;\n    }\n\n    if (K > 0 && (iter >= opts.minIterations - 1 || iter == opts.maxIterations - 1)) {\n      var _sum = 0;\n\n      for (var _i11 = 0; _i11 < n; _i11++) {\n        se[_i11] = 0;\n\n        for (var _j5 = 0; _j5 < opts.minIterations; _j5++) {\n          se[_i11] += e[_j5 * n + _i11];\n        }\n\n        if (se[_i11] === 0 || se[_i11] === opts.minIterations) {\n          _sum++;\n        }\n      }\n\n      if (_sum === n) {\n        // then we have convergence\n        break;\n      }\n    }\n  } // Identify exemplars (cluster centers)\n\n\n  var exemplarsIndices = findExemplars(n, R, A); // Assign nodes to clusters\n\n  var clusterIndices = assign$2(n, S, exemplarsIndices);\n  var clusters = {};\n\n  for (var c = 0; c < exemplarsIndices.length; c++) {\n    clusters[exemplarsIndices[c]] = [];\n  }\n\n  for (var _i12 = 0; _i12 < nodes.length; _i12++) {\n    var pos = id2position[nodes[_i12].id()];\n\n    var clusterIndex = clusterIndices[pos];\n\n    if (clusterIndex != null) {\n      // the node may have not been assigned a cluster if no valid attributes were specified\n      clusters[clusterIndex].push(nodes[_i12]);\n    }\n  }\n\n  var retClusters = new Array(exemplarsIndices.length);\n\n  for (var _c = 0; _c < exemplarsIndices.length; _c++) {\n    retClusters[_c] = cy.collection(clusters[exemplarsIndices[_c]]);\n  }\n\n  return retClusters;\n};\n\nvar affinityPropagation$1 = {\n  affinityPropagation: affinityPropagation,\n  ap: affinityPropagation\n};\n\nvar hierholzerDefaults = defaults({\n  root: undefined,\n  directed: false\n});\nvar elesfn$b = {\n  hierholzer: function hierholzer(options) {\n    if (!plainObject(options)) {\n      var args = arguments;\n      options = {\n        root: args[0],\n        directed: args[1]\n      };\n    }\n\n    var _hierholzerDefaults = hierholzerDefaults(options),\n        root = _hierholzerDefaults.root,\n        directed = _hierholzerDefaults.directed;\n\n    var eles = this;\n    var dflag = false;\n    var oddIn;\n    var oddOut;\n    var startVertex;\n    if (root) startVertex = string(root) ? this.filter(root)[0].id() : root[0].id();\n    var nodes = {};\n    var edges = {};\n\n    if (directed) {\n      eles.forEach(function (ele) {\n        var id = ele.id();\n\n        if (ele.isNode()) {\n          var ind = ele.indegree(true);\n          var outd = ele.outdegree(true);\n          var d1 = ind - outd;\n          var d2 = outd - ind;\n\n          if (d1 == 1) {\n            if (oddIn) dflag = true;else oddIn = id;\n          } else if (d2 == 1) {\n            if (oddOut) dflag = true;else oddOut = id;\n          } else if (d2 > 1 || d1 > 1) {\n            dflag = true;\n          }\n\n          nodes[id] = [];\n          ele.outgoers().forEach(function (e) {\n            if (e.isEdge()) nodes[id].push(e.id());\n          });\n        } else {\n          edges[id] = [undefined, ele.target().id()];\n        }\n      });\n    } else {\n      eles.forEach(function (ele) {\n        var id = ele.id();\n\n        if (ele.isNode()) {\n          var d = ele.degree(true);\n\n          if (d % 2) {\n            if (!oddIn) oddIn = id;else if (!oddOut) oddOut = id;else dflag = true;\n          }\n\n          nodes[id] = [];\n          ele.connectedEdges().forEach(function (e) {\n            return nodes[id].push(e.id());\n          });\n        } else {\n          edges[id] = [ele.source().id(), ele.target().id()];\n        }\n      });\n    }\n\n    var result = {\n      found: false,\n      trail: undefined\n    };\n    if (dflag) return result;else if (oddOut && oddIn) {\n      if (directed) {\n        if (startVertex && oddOut != startVertex) {\n          return result;\n        }\n\n        startVertex = oddOut;\n      } else {\n        if (startVertex && oddOut != startVertex && oddIn != startVertex) {\n          return result;\n        } else if (!startVertex) {\n          startVertex = oddOut;\n        }\n      }\n    } else {\n      if (!startVertex) startVertex = eles[0].id();\n    }\n\n    var walk = function walk(v) {\n      var currentNode = v;\n      var subtour = [v];\n      var adj, adjTail, adjHead;\n\n      while (nodes[currentNode].length) {\n        adj = nodes[currentNode].shift();\n        adjTail = edges[adj][0];\n        adjHead = edges[adj][1];\n\n        if (currentNode != adjHead) {\n          nodes[adjHead] = nodes[adjHead].filter(function (e) {\n            return e != adj;\n          });\n          currentNode = adjHead;\n        } else if (!directed && currentNode != adjTail) {\n          nodes[adjTail] = nodes[adjTail].filter(function (e) {\n            return e != adj;\n          });\n          currentNode = adjTail;\n        }\n\n        subtour.unshift(adj);\n        subtour.unshift(currentNode);\n      }\n\n      return subtour;\n    };\n\n    var trail = [];\n    var subtour = [];\n    subtour = walk(startVertex);\n\n    while (subtour.length != 1) {\n      if (nodes[subtour[0]].length == 0) {\n        trail.unshift(eles.getElementById(subtour.shift()));\n        trail.unshift(eles.getElementById(subtour.shift()));\n      } else {\n        subtour = walk(subtour.shift()).concat(subtour);\n      }\n    }\n\n    trail.unshift(eles.getElementById(subtour.shift())); // final node\n\n    for (var d in nodes) {\n      if (nodes[d].length) {\n        return result;\n      }\n    }\n\n    result.found = true;\n    result.trail = this.spawn(trail);\n    return result;\n  }\n};\n\nvar elesfn$c = {};\n[elesfn, elesfn$1, elesfn$2, elesfn$3, elesfn$4, elesfn$5, elesfn$6, elesfn$7, elesfn$8, elesfn$9, elesfn$a, markovClustering$1, kClustering, hierarchicalClustering$1, affinityPropagation$1, elesfn$b].forEach(function (props) {\n  extend(elesfn$c, props);\n});\n\n/*!\nEmbeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable\nCopyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)\nLicensed under The MIT License (http://opensource.org/licenses/MIT)\n*/\n\n/*  promise states [Promises/A+ 2.1]  */\nvar STATE_PENDING = 0;\n/*  [Promises/A+ 2.1.1]  */\n\nvar STATE_FULFILLED = 1;\n/*  [Promises/A+ 2.1.2]  */\n\nvar STATE_REJECTED = 2;\n/*  [Promises/A+ 2.1.3]  */\n\n/*  promise object constructor  */\n\nvar api = function api(executor) {\n  /*  optionally support non-constructor/plain-function call  */\n  if (!(this instanceof api)) return new api(executor);\n  /*  initialize object  */\n\n  this.id = 'Thenable/1.0.7';\n  this.state = STATE_PENDING;\n  /*  initial state  */\n\n  this.fulfillValue = undefined;\n  /*  initial value  */\n\n  /*  [Promises/A+ 1.3, 2.1.2.2]  */\n\n  this.rejectReason = undefined;\n  /*  initial reason */\n\n  /*  [Promises/A+ 1.5, 2.1.3.2]  */\n\n  this.onFulfilled = [];\n  /*  initial handlers  */\n\n  this.onRejected = [];\n  /*  initial handlers  */\n\n  /*  provide optional information-hiding proxy  */\n\n  this.proxy = {\n    then: this.then.bind(this)\n  };\n  /*  support optional executor function  */\n\n  if (typeof executor === 'function') executor.call(this, this.fulfill.bind(this), this.reject.bind(this));\n};\n/*  promise API methods  */\n\n\napi.prototype = {\n  /*  promise resolving methods  */\n  fulfill: function fulfill(value) {\n    return deliver(this, STATE_FULFILLED, 'fulfillValue', value);\n  },\n  reject: function reject(value) {\n    return deliver(this, STATE_REJECTED, 'rejectReason', value);\n  },\n\n  /*  \"The then Method\" [Promises/A+ 1.1, 1.2, 2.2]  */\n  then: function then(onFulfilled, onRejected) {\n    var curr = this;\n    var next = new api();\n    /*  [Promises/A+ 2.2.7]  */\n\n    curr.onFulfilled.push(resolver(onFulfilled, next, 'fulfill'));\n    /*  [Promises/A+ 2.2.2/2.2.6]  */\n\n    curr.onRejected.push(resolver(onRejected, next, 'reject'));\n    /*  [Promises/A+ 2.2.3/2.2.6]  */\n\n    execute(curr);\n    return next.proxy;\n    /*  [Promises/A+ 2.2.7, 3.3]  */\n  }\n};\n/*  deliver an action  */\n\nvar deliver = function deliver(curr, state, name, value) {\n  if (curr.state === STATE_PENDING) {\n    curr.state = state;\n    /*  [Promises/A+ 2.1.2.1, 2.1.3.1]  */\n\n    curr[name] = value;\n    /*  [Promises/A+ 2.1.2.2, 2.1.3.2]  */\n\n    execute(curr);\n  }\n\n  return curr;\n};\n/*  execute all handlers  */\n\n\nvar execute = function execute(curr) {\n  if (curr.state === STATE_FULFILLED) execute_handlers(curr, 'onFulfilled', curr.fulfillValue);else if (curr.state === STATE_REJECTED) execute_handlers(curr, 'onRejected', curr.rejectReason);\n};\n/*  execute particular set of handlers  */\n\n\nvar execute_handlers = function execute_handlers(curr, name, value) {\n  /* global setImmediate: true */\n\n  /* global setTimeout: true */\n\n  /*  short-circuit processing  */\n  if (curr[name].length === 0) return;\n  /*  iterate over all handlers, exactly once  */\n\n  var handlers = curr[name];\n  curr[name] = [];\n  /*  [Promises/A+ 2.2.2.3, 2.2.3.3]  */\n\n  var func = function func() {\n    for (var i = 0; i < handlers.length; i++) {\n      handlers[i](value);\n    }\n    /*  [Promises/A+ 2.2.5]  */\n\n  };\n  /*  execute procedure asynchronously  */\n\n  /*  [Promises/A+ 2.2.4, 3.1]  */\n\n\n  if (typeof setImmediate === 'function') setImmediate(func);else setTimeout(func, 0);\n};\n/*  generate a resolver function  */\n\n\nvar resolver = function resolver(cb, next, method) {\n  return function (value) {\n    if (typeof cb !== 'function')\n      /*  [Promises/A+ 2.2.1, 2.2.7.3, 2.2.7.4]  */\n      next[method].call(next, value);\n      /*  [Promises/A+ 2.2.7.3, 2.2.7.4]  */\n    else {\n        var result;\n\n        try {\n          result = cb(value);\n        }\n        /*  [Promises/A+ 2.2.2.1, 2.2.3.1, 2.2.5, 3.2]  */\n        catch (e) {\n          next.reject(e);\n          /*  [Promises/A+ 2.2.7.2]  */\n\n          return;\n        }\n\n        resolve(next, result);\n        /*  [Promises/A+ 2.2.7.1]  */\n      }\n  };\n};\n/*  \"Promise Resolution Procedure\"  */\n\n/*  [Promises/A+ 2.3]  */\n\n\nvar resolve = function resolve(promise, x) {\n  /*  sanity check arguments  */\n\n  /*  [Promises/A+ 2.3.1]  */\n  if (promise === x || promise.proxy === x) {\n    promise.reject(new TypeError('cannot resolve promise with itself'));\n    return;\n  }\n  /*  surgically check for a \"then\" method\n    (mainly to just call the \"getter\" of \"then\" only once)  */\n\n\n  var then;\n\n  if (_typeof(x) === 'object' && x !== null || typeof x === 'function') {\n    try {\n      then = x.then;\n    }\n    /*  [Promises/A+ 2.3.3.1, 3.5]  */\n    catch (e) {\n      promise.reject(e);\n      /*  [Promises/A+ 2.3.3.2]  */\n\n      return;\n    }\n  }\n  /*  handle own Thenables    [Promises/A+ 2.3.2]\n    and similar \"thenables\" [Promises/A+ 2.3.3]  */\n\n\n  if (typeof then === 'function') {\n    var resolved = false;\n\n    try {\n      /*  call retrieved \"then\" method */\n\n      /*  [Promises/A+ 2.3.3.3]  */\n      then.call(x,\n      /*  resolvePromise  */\n\n      /*  [Promises/A+ 2.3.3.3.1]  */\n      function (y) {\n        if (resolved) return;\n        resolved = true;\n        /*  [Promises/A+ 2.3.3.3.3]  */\n\n        if (y === x)\n          /*  [Promises/A+ 3.6]  */\n          promise.reject(new TypeError('circular thenable chain'));else resolve(promise, y);\n      },\n      /*  rejectPromise  */\n\n      /*  [Promises/A+ 2.3.3.3.2]  */\n      function (r) {\n        if (resolved) return;\n        resolved = true;\n        /*  [Promises/A+ 2.3.3.3.3]  */\n\n        promise.reject(r);\n      });\n    } catch (e) {\n      if (!resolved)\n        /*  [Promises/A+ 2.3.3.3.3]  */\n        promise.reject(e);\n      /*  [Promises/A+ 2.3.3.3.4]  */\n    }\n\n    return;\n  }\n  /*  handle other values  */\n\n\n  promise.fulfill(x);\n  /*  [Promises/A+ 2.3.4, 2.3.3.4]  */\n}; // so we always have Promise.all()\n\n\napi.all = function (ps) {\n  return new api(function (resolveAll, rejectAll) {\n    var vals = new Array(ps.length);\n    var doneCount = 0;\n\n    var fulfill = function fulfill(i, val) {\n      vals[i] = val;\n      doneCount++;\n\n      if (doneCount === ps.length) {\n        resolveAll(vals);\n      }\n    };\n\n    for (var i = 0; i < ps.length; i++) {\n      (function (i) {\n        var p = ps[i];\n        var isPromise = p != null && p.then != null;\n\n        if (isPromise) {\n          p.then(function (val) {\n            fulfill(i, val);\n          }, function (err) {\n            rejectAll(err);\n          });\n        } else {\n          var val = p;\n          fulfill(i, val);\n        }\n      })(i);\n    }\n  });\n};\n\napi.resolve = function (val) {\n  return new api(function (resolve, reject) {\n    resolve(val);\n  });\n};\n\napi.reject = function (val) {\n  return new api(function (resolve, reject) {\n    reject(val);\n  });\n};\n\nvar Promise$1 = typeof Promise !== 'undefined' ? Promise : api; // eslint-disable-line no-undef\n\nvar Animation = function Animation(target, opts, opts2) {\n  var isCore = core(target);\n  var isEle = !isCore;\n\n  var _p = this._private = extend({\n    duration: 1000\n  }, opts, opts2);\n\n  _p.target = target;\n  _p.style = _p.style || _p.css;\n  _p.started = false;\n  _p.playing = false;\n  _p.hooked = false;\n  _p.applying = false;\n  _p.progress = 0;\n  _p.completes = [];\n  _p.frames = [];\n\n  if (_p.complete && fn(_p.complete)) {\n    _p.completes.push(_p.complete);\n  }\n\n  if (isEle) {\n    var pos = target.position();\n    _p.startPosition = _p.startPosition || {\n      x: pos.x,\n      y: pos.y\n    };\n    _p.startStyle = _p.startStyle || target.cy().style().getAnimationStartStyle(target, _p.style);\n  }\n\n  if (isCore) {\n    var pan = target.pan();\n    _p.startPan = {\n      x: pan.x,\n      y: pan.y\n    };\n    _p.startZoom = target.zoom();\n  } // for future timeline/animations impl\n\n\n  this.length = 1;\n  this[0] = this;\n};\n\nvar anifn = Animation.prototype;\nextend(anifn, {\n  instanceString: function instanceString() {\n    return 'animation';\n  },\n  hook: function hook() {\n    var _p = this._private;\n\n    if (!_p.hooked) {\n      // add to target's animation queue\n      var q;\n      var tAni = _p.target._private.animation;\n\n      if (_p.queue) {\n        q = tAni.queue;\n      } else {\n        q = tAni.current;\n      }\n\n      q.push(this); // add to the animation loop pool\n\n      if (elementOrCollection(_p.target)) {\n        _p.target.cy().addToAnimationPool(_p.target);\n      }\n\n      _p.hooked = true;\n    }\n\n    return this;\n  },\n  play: function play() {\n    var _p = this._private; // autorewind\n\n    if (_p.progress === 1) {\n      _p.progress = 0;\n    }\n\n    _p.playing = true;\n    _p.started = false; // needs to be started by animation loop\n\n    _p.stopped = false;\n    this.hook(); // the animation loop will start the animation...\n\n    return this;\n  },\n  playing: function playing() {\n    return this._private.playing;\n  },\n  apply: function apply() {\n    var _p = this._private;\n    _p.applying = true;\n    _p.started = false; // needs to be started by animation loop\n\n    _p.stopped = false;\n    this.hook(); // the animation loop will apply the animation at this progress\n\n    return this;\n  },\n  applying: function applying() {\n    return this._private.applying;\n  },\n  pause: function pause() {\n    var _p = this._private;\n    _p.playing = false;\n    _p.started = false;\n    return this;\n  },\n  stop: function stop() {\n    var _p = this._private;\n    _p.playing = false;\n    _p.started = false;\n    _p.stopped = true; // to be removed from animation queues\n\n    return this;\n  },\n  rewind: function rewind() {\n    return this.progress(0);\n  },\n  fastforward: function fastforward() {\n    return this.progress(1);\n  },\n  time: function time(t) {\n    var _p = this._private;\n\n    if (t === undefined) {\n      return _p.progress * _p.duration;\n    } else {\n      return this.progress(t / _p.duration);\n    }\n  },\n  progress: function progress(p) {\n    var _p = this._private;\n    var wasPlaying = _p.playing;\n\n    if (p === undefined) {\n      return _p.progress;\n    } else {\n      if (wasPlaying) {\n        this.pause();\n      }\n\n      _p.progress = p;\n      _p.started = false;\n\n      if (wasPlaying) {\n        this.play();\n      }\n    }\n\n    return this;\n  },\n  completed: function completed() {\n    return this._private.progress === 1;\n  },\n  reverse: function reverse() {\n    var _p = this._private;\n    var wasPlaying = _p.playing;\n\n    if (wasPlaying) {\n      this.pause();\n    }\n\n    _p.progress = 1 - _p.progress;\n    _p.started = false;\n\n    var swap = function swap(a, b) {\n      var _pa = _p[a];\n\n      if (_pa == null) {\n        return;\n      }\n\n      _p[a] = _p[b];\n      _p[b] = _pa;\n    };\n\n    swap('zoom', 'startZoom');\n    swap('pan', 'startPan');\n    swap('position', 'startPosition'); // swap styles\n\n    if (_p.style) {\n      for (var i = 0; i < _p.style.length; i++) {\n        var prop = _p.style[i];\n        var name = prop.name;\n        var startStyleProp = _p.startStyle[name];\n        _p.startStyle[name] = prop;\n        _p.style[i] = startStyleProp;\n      }\n    }\n\n    if (wasPlaying) {\n      this.play();\n    }\n\n    return this;\n  },\n  promise: function promise(type) {\n    var _p = this._private;\n    var arr;\n\n    switch (type) {\n      case 'frame':\n        arr = _p.frames;\n        break;\n\n      default:\n      case 'complete':\n      case 'completed':\n        arr = _p.completes;\n    }\n\n    return new Promise$1(function (resolve, reject) {\n      arr.push(function () {\n        resolve();\n      });\n    });\n  }\n});\nanifn.complete = anifn.completed;\nanifn.run = anifn.play;\nanifn.running = anifn.playing;\n\nvar define = {\n  animated: function animated() {\n    return function animatedImpl() {\n      var self = this;\n      var selfIsArrayLike = self.length !== undefined;\n      var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n\n      var cy = this._private.cy || this;\n\n      if (!cy.styleEnabled()) {\n        return false;\n      }\n\n      var ele = all[0];\n\n      if (ele) {\n        return ele._private.animation.current.length > 0;\n      }\n    };\n  },\n  // animated\n  clearQueue: function clearQueue() {\n    return function clearQueueImpl() {\n      var self = this;\n      var selfIsArrayLike = self.length !== undefined;\n      var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n\n      var cy = this._private.cy || this;\n\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n\n      for (var i = 0; i < all.length; i++) {\n        var ele = all[i];\n        ele._private.animation.queue = [];\n      }\n\n      return this;\n    };\n  },\n  // clearQueue\n  delay: function delay() {\n    return function delayImpl(time, complete) {\n      var cy = this._private.cy || this;\n\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n\n      return this.animate({\n        delay: time,\n        duration: time,\n        complete: complete\n      });\n    };\n  },\n  // delay\n  delayAnimation: function delayAnimation() {\n    return function delayAnimationImpl(time, complete) {\n      var cy = this._private.cy || this;\n\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n\n      return this.animation({\n        delay: time,\n        duration: time,\n        complete: complete\n      });\n    };\n  },\n  // delay\n  animation: function animation() {\n    return function animationImpl(properties, params) {\n      var self = this;\n      var selfIsArrayLike = self.length !== undefined;\n      var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n\n      var cy = this._private.cy || this;\n      var isCore = !selfIsArrayLike;\n      var isEles = !isCore;\n\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n\n      var style = cy.style();\n      properties = extend({}, properties, params);\n      var propertiesEmpty = Object.keys(properties).length === 0;\n\n      if (propertiesEmpty) {\n        return new Animation(all[0], properties); // nothing to animate\n      }\n\n      if (properties.duration === undefined) {\n        properties.duration = 400;\n      }\n\n      switch (properties.duration) {\n        case 'slow':\n          properties.duration = 600;\n          break;\n\n        case 'fast':\n          properties.duration = 200;\n          break;\n      }\n\n      if (isEles) {\n        properties.style = style.getPropsList(properties.style || properties.css);\n        properties.css = undefined;\n      }\n\n      if (isEles && properties.renderedPosition != null) {\n        var rpos = properties.renderedPosition;\n        var pan = cy.pan();\n        var zoom = cy.zoom();\n        properties.position = renderedToModelPosition(rpos, zoom, pan);\n      } // override pan w/ panBy if set\n\n\n      if (isCore && properties.panBy != null) {\n        var panBy = properties.panBy;\n        var cyPan = cy.pan();\n        properties.pan = {\n          x: cyPan.x + panBy.x,\n          y: cyPan.y + panBy.y\n        };\n      } // override pan w/ center if set\n\n\n      var center = properties.center || properties.centre;\n\n      if (isCore && center != null) {\n        var centerPan = cy.getCenterPan(center.eles, properties.zoom);\n\n        if (centerPan != null) {\n          properties.pan = centerPan;\n        }\n      } // override pan & zoom w/ fit if set\n\n\n      if (isCore && properties.fit != null) {\n        var fit = properties.fit;\n        var fitVp = cy.getFitViewport(fit.eles || fit.boundingBox, fit.padding);\n\n        if (fitVp != null) {\n          properties.pan = fitVp.pan;\n          properties.zoom = fitVp.zoom;\n        }\n      } // override zoom (& potentially pan) w/ zoom obj if set\n\n\n      if (isCore && plainObject(properties.zoom)) {\n        var vp = cy.getZoomedViewport(properties.zoom);\n\n        if (vp != null) {\n          if (vp.zoomed) {\n            properties.zoom = vp.zoom;\n          }\n\n          if (vp.panned) {\n            properties.pan = vp.pan;\n          }\n        }\n      }\n\n      return new Animation(all[0], properties);\n    };\n  },\n  // animate\n  animate: function animate() {\n    return function animateImpl(properties, params) {\n      var self = this;\n      var selfIsArrayLike = self.length !== undefined;\n      var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n\n      var cy = this._private.cy || this;\n\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n\n      if (params) {\n        properties = extend({}, properties, params);\n      } // manually hook and run the animation\n\n\n      for (var i = 0; i < all.length; i++) {\n        var ele = all[i];\n        var queue = ele.animated() && (properties.queue === undefined || properties.queue);\n        var ani = ele.animation(properties, queue ? {\n          queue: true\n        } : undefined);\n        ani.play();\n      }\n\n      return this; // chaining\n    };\n  },\n  // animate\n  stop: function stop() {\n    return function stopImpl(clearQueue, jumpToEnd) {\n      var self = this;\n      var selfIsArrayLike = self.length !== undefined;\n      var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n\n      var cy = this._private.cy || this;\n\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n\n      for (var i = 0; i < all.length; i++) {\n        var ele = all[i];\n        var _p = ele._private;\n        var anis = _p.animation.current;\n\n        for (var j = 0; j < anis.length; j++) {\n          var ani = anis[j];\n          var ani_p = ani._private;\n\n          if (jumpToEnd) {\n            // next iteration of the animation loop, the animation\n            // will go straight to the end and be removed\n            ani_p.duration = 0;\n          }\n        } // clear the queue of future animations\n\n\n        if (clearQueue) {\n          _p.animation.queue = [];\n        }\n\n        if (!jumpToEnd) {\n          _p.animation.current = [];\n        }\n      } // we have to notify (the animation loop doesn't do it for us on `stop`)\n\n\n      cy.notify('draw');\n      return this;\n    };\n  } // stop\n\n}; // define\n\nvar define$1 = {\n  // access data field\n  data: function data(params) {\n    var defaults = {\n      field: 'data',\n      bindingEvent: 'data',\n      allowBinding: false,\n      allowSetting: false,\n      allowGetting: false,\n      settingEvent: 'data',\n      settingTriggersEvent: false,\n      triggerFnName: 'trigger',\n      immutableKeys: {},\n      // key => true if immutable\n      updateStyle: false,\n      beforeGet: function beforeGet(self) {},\n      beforeSet: function beforeSet(self, obj) {},\n      onSet: function onSet(self) {},\n      canSet: function canSet(self) {\n        return true;\n      }\n    };\n    params = extend({}, defaults, params);\n    return function dataImpl(name, value) {\n      var p = params;\n      var self = this;\n      var selfIsArrayLike = self.length !== undefined;\n      var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n\n      var single = selfIsArrayLike ? self[0] : self; // .data('foo', ...)\n\n      if (string(name)) {\n        // set or get property\n        // .data('foo')\n        if (p.allowGetting && value === undefined) {\n          // get\n          var ret;\n\n          if (single) {\n            p.beforeGet(single);\n            ret = single._private[p.field][name];\n          }\n\n          return ret; // .data('foo', 'bar')\n        } else if (p.allowSetting && value !== undefined) {\n          // set\n          var valid = !p.immutableKeys[name];\n\n          if (valid) {\n            var change = _defineProperty({}, name, value);\n\n            p.beforeSet(self, change);\n\n            for (var i = 0, l = all.length; i < l; i++) {\n              var ele = all[i];\n\n              if (p.canSet(ele)) {\n                ele._private[p.field][name] = value;\n              }\n            } // update mappers if asked\n\n\n            if (p.updateStyle) {\n              self.updateStyle();\n            } // call onSet callback\n\n\n            p.onSet(self);\n\n            if (p.settingTriggersEvent) {\n              self[p.triggerFnName](p.settingEvent);\n            }\n          }\n        } // .data({ 'foo': 'bar' })\n\n      } else if (p.allowSetting && plainObject(name)) {\n        // extend\n        var obj = name;\n        var k, v;\n        var keys = Object.keys(obj);\n        p.beforeSet(self, obj);\n\n        for (var _i = 0; _i < keys.length; _i++) {\n          k = keys[_i];\n          v = obj[k];\n\n          var _valid = !p.immutableKeys[k];\n\n          if (_valid) {\n            for (var j = 0; j < all.length; j++) {\n              var _ele = all[j];\n\n              if (p.canSet(_ele)) {\n                _ele._private[p.field][k] = v;\n              }\n            }\n          }\n        } // update mappers if asked\n\n\n        if (p.updateStyle) {\n          self.updateStyle();\n        } // call onSet callback\n\n\n        p.onSet(self);\n\n        if (p.settingTriggersEvent) {\n          self[p.triggerFnName](p.settingEvent);\n        } // .data(function(){ ... })\n\n      } else if (p.allowBinding && fn(name)) {\n        // bind to event\n        var fn$1 = name;\n        self.on(p.bindingEvent, fn$1); // .data()\n      } else if (p.allowGetting && name === undefined) {\n        // get whole object\n        var _ret;\n\n        if (single) {\n          p.beforeGet(single);\n          _ret = single._private[p.field];\n        }\n\n        return _ret;\n      }\n\n      return self; // maintain chainability\n    }; // function\n  },\n  // data\n  // remove data field\n  removeData: function removeData(params) {\n    var defaults = {\n      field: 'data',\n      event: 'data',\n      triggerFnName: 'trigger',\n      triggerEvent: false,\n      immutableKeys: {} // key => true if immutable\n\n    };\n    params = extend({}, defaults, params);\n    return function removeDataImpl(names) {\n      var p = params;\n      var self = this;\n      var selfIsArrayLike = self.length !== undefined;\n      var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n      // .removeData('foo bar')\n\n      if (string(names)) {\n        // then get the list of keys, and delete them\n        var keys = names.split(/\\s+/);\n        var l = keys.length;\n\n        for (var i = 0; i < l; i++) {\n          // delete each non-empty key\n          var key = keys[i];\n\n          if (emptyString(key)) {\n            continue;\n          }\n\n          var valid = !p.immutableKeys[key]; // not valid if immutable\n\n          if (valid) {\n            for (var i_a = 0, l_a = all.length; i_a < l_a; i_a++) {\n              all[i_a]._private[p.field][key] = undefined;\n            }\n          }\n        }\n\n        if (p.triggerEvent) {\n          self[p.triggerFnName](p.event);\n        } // .removeData()\n\n      } else if (names === undefined) {\n        // then delete all keys\n        for (var _i_a = 0, _l_a = all.length; _i_a < _l_a; _i_a++) {\n          var _privateFields = all[_i_a]._private[p.field];\n\n          var _keys = Object.keys(_privateFields);\n\n          for (var _i2 = 0; _i2 < _keys.length; _i2++) {\n            var _key = _keys[_i2];\n            var validKeyToDelete = !p.immutableKeys[_key];\n\n            if (validKeyToDelete) {\n              _privateFields[_key] = undefined;\n            }\n          }\n        }\n\n        if (p.triggerEvent) {\n          self[p.triggerFnName](p.event);\n        }\n      }\n\n      return self; // maintain chaining\n    }; // function\n  } // removeData\n\n}; // define\n\nvar define$2 = {\n  eventAliasesOn: function eventAliasesOn(proto) {\n    var p = proto;\n    p.addListener = p.listen = p.bind = p.on;\n    p.unlisten = p.unbind = p.off = p.removeListener;\n    p.trigger = p.emit; // this is just a wrapper alias of .on()\n\n    p.pon = p.promiseOn = function (events, selector) {\n      var self = this;\n      var args = Array.prototype.slice.call(arguments, 0);\n      return new Promise$1(function (resolve, reject) {\n        var callback = function callback(e) {\n          self.off.apply(self, offArgs);\n          resolve(e);\n        };\n\n        var onArgs = args.concat([callback]);\n        var offArgs = onArgs.concat([]);\n        self.on.apply(self, onArgs);\n      });\n    };\n  }\n}; // define\n\n// use this module to cherry pick functions into your prototype\nvar define$3 = {};\n[define, define$1, define$2].forEach(function (m) {\n  extend(define$3, m);\n});\n\nvar elesfn$d = {\n  animate: define$3.animate(),\n  animation: define$3.animation(),\n  animated: define$3.animated(),\n  clearQueue: define$3.clearQueue(),\n  delay: define$3.delay(),\n  delayAnimation: define$3.delayAnimation(),\n  stop: define$3.stop()\n};\n\nvar elesfn$e = {\n  classes: function classes(_classes) {\n    var self = this;\n\n    if (_classes === undefined) {\n      var ret = [];\n\n      self[0]._private.classes.forEach(function (cls) {\n        return ret.push(cls);\n      });\n\n      return ret;\n    } else if (!array(_classes)) {\n      // extract classes from string\n      _classes = (_classes || '').match(/\\S+/g) || [];\n    }\n\n    var changed = [];\n    var classesSet = new Set$1(_classes); // check and update each ele\n\n    for (var j = 0; j < self.length; j++) {\n      var ele = self[j];\n      var _p = ele._private;\n      var eleClasses = _p.classes;\n      var changedEle = false; // check if ele has all of the passed classes\n\n      for (var i = 0; i < _classes.length; i++) {\n        var cls = _classes[i];\n        var eleHasClass = eleClasses.has(cls);\n\n        if (!eleHasClass) {\n          changedEle = true;\n          break;\n        }\n      } // check if ele has classes outside of those passed\n\n\n      if (!changedEle) {\n        changedEle = eleClasses.size !== _classes.length;\n      }\n\n      if (changedEle) {\n        _p.classes = classesSet;\n        changed.push(ele);\n      }\n    } // trigger update style on those eles that had class changes\n\n\n    if (changed.length > 0) {\n      this.spawn(changed).updateStyle().emit('class');\n    }\n\n    return self;\n  },\n  addClass: function addClass(classes) {\n    return this.toggleClass(classes, true);\n  },\n  hasClass: function hasClass(className) {\n    var ele = this[0];\n    return ele != null && ele._private.classes.has(className);\n  },\n  toggleClass: function toggleClass(classes, toggle) {\n    if (!array(classes)) {\n      // extract classes from string\n      classes = classes.match(/\\S+/g) || [];\n    }\n\n    var self = this;\n    var toggleUndefd = toggle === undefined;\n    var changed = []; // eles who had classes changed\n\n    for (var i = 0, il = self.length; i < il; i++) {\n      var ele = self[i];\n      var eleClasses = ele._private.classes;\n      var changedEle = false;\n\n      for (var j = 0; j < classes.length; j++) {\n        var cls = classes[j];\n        var hasClass = eleClasses.has(cls);\n        var changedNow = false;\n\n        if (toggle || toggleUndefd && !hasClass) {\n          eleClasses.add(cls);\n          changedNow = true;\n        } else if (!toggle || toggleUndefd && hasClass) {\n          eleClasses[\"delete\"](cls);\n          changedNow = true;\n        }\n\n        if (!changedEle && changedNow) {\n          changed.push(ele);\n          changedEle = true;\n        }\n      } // for j classes\n\n    } // for i eles\n    // trigger update style on those eles that had class changes\n\n\n    if (changed.length > 0) {\n      this.spawn(changed).updateStyle().emit('class');\n    }\n\n    return self;\n  },\n  removeClass: function removeClass(classes) {\n    return this.toggleClass(classes, false);\n  },\n  flashClass: function flashClass(classes, duration) {\n    var self = this;\n\n    if (duration == null) {\n      duration = 250;\n    } else if (duration === 0) {\n      return self; // nothing to do really\n    }\n\n    self.addClass(classes);\n    setTimeout(function () {\n      self.removeClass(classes);\n    }, duration);\n    return self;\n  }\n};\nelesfn$e.className = elesfn$e.classNames = elesfn$e.classes;\n\nvar tokens = {\n  metaChar: '[\\\\!\\\\\"\\\\#\\\\$\\\\%\\\\&\\\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\.\\\\/\\\\:\\\\;\\\\<\\\\=\\\\>\\\\?\\\\@\\\\[\\\\]\\\\^\\\\`\\\\{\\\\|\\\\}\\\\~]',\n  // chars we need to escape in let names, etc\n  comparatorOp: '=|\\\\!=|>|>=|<|<=|\\\\$=|\\\\^=|\\\\*=',\n  // binary comparison op (used in data selectors)\n  boolOp: '\\\\?|\\\\!|\\\\^',\n  // boolean (unary) operators (used in data selectors)\n  string: '\"(?:\\\\\\\\\"|[^\"])*\"' + '|' + \"'(?:\\\\\\\\'|[^'])*'\",\n  // string literals (used in data selectors) -- doublequotes | singlequotes\n  number: number$1,\n  // number literal (used in data selectors) --- e.g. 0.1234, 1234, 12e123\n  meta: 'degree|indegree|outdegree',\n  // allowed metadata fields (i.e. allowed functions to use from Collection)\n  separator: '\\\\s*,\\\\s*',\n  // queries are separated by commas, e.g. edge[foo = 'bar'], node.someClass\n  descendant: '\\\\s+',\n  child: '\\\\s+>\\\\s+',\n  subject: '\\\\$',\n  group: 'node|edge|\\\\*',\n  directedEdge: '\\\\s+->\\\\s+',\n  undirectedEdge: '\\\\s+<->\\\\s+'\n};\ntokens.variable = '(?:[\\\\w-]|(?:\\\\\\\\' + tokens.metaChar + '))+'; // a variable name\n\ntokens.value = tokens.string + '|' + tokens.number; // a value literal, either a string or number\n\ntokens.className = tokens.variable; // a class name (follows variable conventions)\n\ntokens.id = tokens.variable; // an element id (follows variable conventions)\n\n(function () {\n  var ops, op, i; // add @ variants to comparatorOp\n\n  ops = tokens.comparatorOp.split('|');\n\n  for (i = 0; i < ops.length; i++) {\n    op = ops[i];\n    tokens.comparatorOp += '|@' + op;\n  } // add ! variants to comparatorOp\n\n\n  ops = tokens.comparatorOp.split('|');\n\n  for (i = 0; i < ops.length; i++) {\n    op = ops[i];\n\n    if (op.indexOf('!') >= 0) {\n      continue;\n    } // skip ops that explicitly contain !\n\n\n    if (op === '=') {\n      continue;\n    } // skip = b/c != is explicitly defined\n\n\n    tokens.comparatorOp += '|\\\\!' + op;\n  }\n})();\n\n/**\n * Make a new query object\n *\n * @prop type {Type} The type enum (int) of the query\n * @prop checks List of checks to make against an ele to test for a match\n */\nvar newQuery = function newQuery() {\n  return {\n    checks: []\n  };\n};\n\n/**\n * A check type enum-like object.  Uses integer values for fast match() lookup.\n * The ordering does not matter as long as the ints are unique.\n */\nvar Type = {\n  /** E.g. node */\n  GROUP: 0,\n\n  /** A collection of elements */\n  COLLECTION: 1,\n\n  /** A filter(ele) function */\n  FILTER: 2,\n\n  /** E.g. [foo > 1] */\n  DATA_COMPARE: 3,\n\n  /** E.g. [foo] */\n  DATA_EXIST: 4,\n\n  /** E.g. [?foo] */\n  DATA_BOOL: 5,\n\n  /** E.g. [[degree > 2]] */\n  META_COMPARE: 6,\n\n  /** E.g. :selected */\n  STATE: 7,\n\n  /** E.g. #foo */\n  ID: 8,\n\n  /** E.g. .foo */\n  CLASS: 9,\n\n  /** E.g. #foo <-> #bar */\n  UNDIRECTED_EDGE: 10,\n\n  /** E.g. #foo -> #bar */\n  DIRECTED_EDGE: 11,\n\n  /** E.g. $#foo -> #bar */\n  NODE_SOURCE: 12,\n\n  /** E.g. #foo -> $#bar */\n  NODE_TARGET: 13,\n\n  /** E.g. $#foo <-> #bar */\n  NODE_NEIGHBOR: 14,\n\n  /** E.g. #foo > #bar */\n  CHILD: 15,\n\n  /** E.g. #foo #bar */\n  DESCENDANT: 16,\n\n  /** E.g. $#foo > #bar */\n  PARENT: 17,\n\n  /** E.g. $#foo #bar */\n  ANCESTOR: 18,\n\n  /** E.g. #foo > $bar > #baz */\n  COMPOUND_SPLIT: 19,\n\n  /** Always matches, useful placeholder for subject in `COMPOUND_SPLIT` */\n  TRUE: 20\n};\n\nvar stateSelectors = [{\n  selector: ':selected',\n  matches: function matches(ele) {\n    return ele.selected();\n  }\n}, {\n  selector: ':unselected',\n  matches: function matches(ele) {\n    return !ele.selected();\n  }\n}, {\n  selector: ':selectable',\n  matches: function matches(ele) {\n    return ele.selectable();\n  }\n}, {\n  selector: ':unselectable',\n  matches: function matches(ele) {\n    return !ele.selectable();\n  }\n}, {\n  selector: ':locked',\n  matches: function matches(ele) {\n    return ele.locked();\n  }\n}, {\n  selector: ':unlocked',\n  matches: function matches(ele) {\n    return !ele.locked();\n  }\n}, {\n  selector: ':visible',\n  matches: function matches(ele) {\n    return ele.visible();\n  }\n}, {\n  selector: ':hidden',\n  matches: function matches(ele) {\n    return !ele.visible();\n  }\n}, {\n  selector: ':transparent',\n  matches: function matches(ele) {\n    return ele.transparent();\n  }\n}, {\n  selector: ':grabbed',\n  matches: function matches(ele) {\n    return ele.grabbed();\n  }\n}, {\n  selector: ':free',\n  matches: function matches(ele) {\n    return !ele.grabbed();\n  }\n}, {\n  selector: ':removed',\n  matches: function matches(ele) {\n    return ele.removed();\n  }\n}, {\n  selector: ':inside',\n  matches: function matches(ele) {\n    return !ele.removed();\n  }\n}, {\n  selector: ':grabbable',\n  matches: function matches(ele) {\n    return ele.grabbable();\n  }\n}, {\n  selector: ':ungrabbable',\n  matches: function matches(ele) {\n    return !ele.grabbable();\n  }\n}, {\n  selector: ':animated',\n  matches: function matches(ele) {\n    return ele.animated();\n  }\n}, {\n  selector: ':unanimated',\n  matches: function matches(ele) {\n    return !ele.animated();\n  }\n}, {\n  selector: ':parent',\n  matches: function matches(ele) {\n    return ele.isParent();\n  }\n}, {\n  selector: ':childless',\n  matches: function matches(ele) {\n    return ele.isChildless();\n  }\n}, {\n  selector: ':child',\n  matches: function matches(ele) {\n    return ele.isChild();\n  }\n}, {\n  selector: ':orphan',\n  matches: function matches(ele) {\n    return ele.isOrphan();\n  }\n}, {\n  selector: ':nonorphan',\n  matches: function matches(ele) {\n    return ele.isChild();\n  }\n}, {\n  selector: ':compound',\n  matches: function matches(ele) {\n    if (ele.isNode()) {\n      return ele.isParent();\n    } else {\n      return ele.source().isParent() || ele.target().isParent();\n    }\n  }\n}, {\n  selector: ':loop',\n  matches: function matches(ele) {\n    return ele.isLoop();\n  }\n}, {\n  selector: ':simple',\n  matches: function matches(ele) {\n    return ele.isSimple();\n  }\n}, {\n  selector: ':active',\n  matches: function matches(ele) {\n    return ele.active();\n  }\n}, {\n  selector: ':inactive',\n  matches: function matches(ele) {\n    return !ele.active();\n  }\n}, {\n  selector: ':backgrounding',\n  matches: function matches(ele) {\n    return ele.backgrounding();\n  }\n}, {\n  selector: ':nonbackgrounding',\n  matches: function matches(ele) {\n    return !ele.backgrounding();\n  }\n}].sort(function (a, b) {\n  // n.b. selectors that are starting substrings of others must have the longer ones first\n  return descending(a.selector, b.selector);\n});\n\nvar lookup = function () {\n  var selToFn = {};\n  var s;\n\n  for (var i = 0; i < stateSelectors.length; i++) {\n    s = stateSelectors[i];\n    selToFn[s.selector] = s.matches;\n  }\n\n  return selToFn;\n}();\n\nvar stateSelectorMatches = function stateSelectorMatches(sel, ele) {\n  return lookup[sel](ele);\n};\nvar stateSelectorRegex = '(' + stateSelectors.map(function (s) {\n  return s.selector;\n}).join('|') + ')';\n\n// so that values get compared properly in Selector.filter()\n\nvar cleanMetaChars = function cleanMetaChars(str) {\n  return str.replace(new RegExp('\\\\\\\\(' + tokens.metaChar + ')', 'g'), function (match, $1) {\n    return $1;\n  });\n};\n\nvar replaceLastQuery = function replaceLastQuery(selector, examiningQuery, replacementQuery) {\n  selector[selector.length - 1] = replacementQuery;\n}; // NOTE: add new expression syntax here to have it recognised by the parser;\n// - a query contains all adjacent (i.e. no separator in between) expressions;\n// - the current query is stored in selector[i]\n// - you need to check the query objects in match() for it actually filter properly, but that's pretty straight forward\n\n\nvar exprs = [{\n  name: 'group',\n  // just used for identifying when debugging\n  query: true,\n  regex: '(' + tokens.group + ')',\n  populate: function populate(selector, query, _ref) {\n    var _ref2 = _slicedToArray(_ref, 1),\n        group = _ref2[0];\n\n    query.checks.push({\n      type: Type.GROUP,\n      value: group === '*' ? group : group + 's'\n    });\n  }\n}, {\n  name: 'state',\n  query: true,\n  regex: stateSelectorRegex,\n  populate: function populate(selector, query, _ref3) {\n    var _ref4 = _slicedToArray(_ref3, 1),\n        state = _ref4[0];\n\n    query.checks.push({\n      type: Type.STATE,\n      value: state\n    });\n  }\n}, {\n  name: 'id',\n  query: true,\n  regex: '\\\\#(' + tokens.id + ')',\n  populate: function populate(selector, query, _ref5) {\n    var _ref6 = _slicedToArray(_ref5, 1),\n        id = _ref6[0];\n\n    query.checks.push({\n      type: Type.ID,\n      value: cleanMetaChars(id)\n    });\n  }\n}, {\n  name: 'className',\n  query: true,\n  regex: '\\\\.(' + tokens.className + ')',\n  populate: function populate(selector, query, _ref7) {\n    var _ref8 = _slicedToArray(_ref7, 1),\n        className = _ref8[0];\n\n    query.checks.push({\n      type: Type.CLASS,\n      value: cleanMetaChars(className)\n    });\n  }\n}, {\n  name: 'dataExists',\n  query: true,\n  regex: '\\\\[\\\\s*(' + tokens.variable + ')\\\\s*\\\\]',\n  populate: function populate(selector, query, _ref9) {\n    var _ref10 = _slicedToArray(_ref9, 1),\n        variable = _ref10[0];\n\n    query.checks.push({\n      type: Type.DATA_EXIST,\n      field: cleanMetaChars(variable)\n    });\n  }\n}, {\n  name: 'dataCompare',\n  query: true,\n  regex: '\\\\[\\\\s*(' + tokens.variable + ')\\\\s*(' + tokens.comparatorOp + ')\\\\s*(' + tokens.value + ')\\\\s*\\\\]',\n  populate: function populate(selector, query, _ref11) {\n    var _ref12 = _slicedToArray(_ref11, 3),\n        variable = _ref12[0],\n        comparatorOp = _ref12[1],\n        value = _ref12[2];\n\n    var valueIsString = new RegExp('^' + tokens.string + '$').exec(value) != null;\n\n    if (valueIsString) {\n      value = value.substring(1, value.length - 1);\n    } else {\n      value = parseFloat(value);\n    }\n\n    query.checks.push({\n      type: Type.DATA_COMPARE,\n      field: cleanMetaChars(variable),\n      operator: comparatorOp,\n      value: value\n    });\n  }\n}, {\n  name: 'dataBool',\n  query: true,\n  regex: '\\\\[\\\\s*(' + tokens.boolOp + ')\\\\s*(' + tokens.variable + ')\\\\s*\\\\]',\n  populate: function populate(selector, query, _ref13) {\n    var _ref14 = _slicedToArray(_ref13, 2),\n        boolOp = _ref14[0],\n        variable = _ref14[1];\n\n    query.checks.push({\n      type: Type.DATA_BOOL,\n      field: cleanMetaChars(variable),\n      operator: boolOp\n    });\n  }\n}, {\n  name: 'metaCompare',\n  query: true,\n  regex: '\\\\[\\\\[\\\\s*(' + tokens.meta + ')\\\\s*(' + tokens.comparatorOp + ')\\\\s*(' + tokens.number + ')\\\\s*\\\\]\\\\]',\n  populate: function populate(selector, query, _ref15) {\n    var _ref16 = _slicedToArray(_ref15, 3),\n        meta = _ref16[0],\n        comparatorOp = _ref16[1],\n        number = _ref16[2];\n\n    query.checks.push({\n      type: Type.META_COMPARE,\n      field: cleanMetaChars(meta),\n      operator: comparatorOp,\n      value: parseFloat(number)\n    });\n  }\n}, {\n  name: 'nextQuery',\n  separator: true,\n  regex: tokens.separator,\n  populate: function populate(selector, query) {\n    var currentSubject = selector.currentSubject;\n    var edgeCount = selector.edgeCount;\n    var compoundCount = selector.compoundCount;\n    var lastQ = selector[selector.length - 1];\n\n    if (currentSubject != null) {\n      lastQ.subject = currentSubject;\n      selector.currentSubject = null;\n    }\n\n    lastQ.edgeCount = edgeCount;\n    lastQ.compoundCount = compoundCount;\n    selector.edgeCount = 0;\n    selector.compoundCount = 0; // go on to next query\n\n    var nextQuery = selector[selector.length++] = newQuery();\n    return nextQuery; // this is the new query to be filled by the following exprs\n  }\n}, {\n  name: 'directedEdge',\n  separator: true,\n  regex: tokens.directedEdge,\n  populate: function populate(selector, query) {\n    if (selector.currentSubject == null) {\n      // undirected edge\n      var edgeQuery = newQuery();\n      var source = query;\n      var target = newQuery();\n      edgeQuery.checks.push({\n        type: Type.DIRECTED_EDGE,\n        source: source,\n        target: target\n      }); // the query in the selector should be the edge rather than the source\n\n      replaceLastQuery(selector, query, edgeQuery);\n      selector.edgeCount++; // we're now populating the target query with expressions that follow\n\n      return target;\n    } else {\n      // source/target\n      var srcTgtQ = newQuery();\n      var _source = query;\n\n      var _target = newQuery();\n\n      srcTgtQ.checks.push({\n        type: Type.NODE_SOURCE,\n        source: _source,\n        target: _target\n      }); // the query in the selector should be the neighbourhood rather than the node\n\n      replaceLastQuery(selector, query, srcTgtQ);\n      selector.edgeCount++;\n      return _target; // now populating the target with the following expressions\n    }\n  }\n}, {\n  name: 'undirectedEdge',\n  separator: true,\n  regex: tokens.undirectedEdge,\n  populate: function populate(selector, query) {\n    if (selector.currentSubject == null) {\n      // undirected edge\n      var edgeQuery = newQuery();\n      var source = query;\n      var target = newQuery();\n      edgeQuery.checks.push({\n        type: Type.UNDIRECTED_EDGE,\n        nodes: [source, target]\n      }); // the query in the selector should be the edge rather than the source\n\n      replaceLastQuery(selector, query, edgeQuery);\n      selector.edgeCount++; // we're now populating the target query with expressions that follow\n\n      return target;\n    } else {\n      // neighbourhood\n      var nhoodQ = newQuery();\n      var node = query;\n      var neighbor = newQuery();\n      nhoodQ.checks.push({\n        type: Type.NODE_NEIGHBOR,\n        node: node,\n        neighbor: neighbor\n      }); // the query in the selector should be the neighbourhood rather than the node\n\n      replaceLastQuery(selector, query, nhoodQ);\n      return neighbor; // now populating the neighbor with following expressions\n    }\n  }\n}, {\n  name: 'child',\n  separator: true,\n  regex: tokens.child,\n  populate: function populate(selector, query) {\n    if (selector.currentSubject == null) {\n      // default: child query\n      var parentChildQuery = newQuery();\n      var child = newQuery();\n      var parent = selector[selector.length - 1];\n      parentChildQuery.checks.push({\n        type: Type.CHILD,\n        parent: parent,\n        child: child\n      }); // the query in the selector should be the '>' itself\n\n      replaceLastQuery(selector, query, parentChildQuery);\n      selector.compoundCount++; // we're now populating the child query with expressions that follow\n\n      return child;\n    } else if (selector.currentSubject === query) {\n      // compound split query\n      var compound = newQuery();\n      var left = selector[selector.length - 1];\n      var right = newQuery();\n      var subject = newQuery();\n\n      var _child = newQuery();\n\n      var _parent = newQuery(); // set up the root compound q\n\n\n      compound.checks.push({\n        type: Type.COMPOUND_SPLIT,\n        left: left,\n        right: right,\n        subject: subject\n      }); // populate the subject and replace the q at the old spot (within left) with TRUE\n\n      subject.checks = query.checks; // take the checks from the left\n\n      query.checks = [{\n        type: Type.TRUE\n      }]; // checks under left refs the subject implicitly\n      // set up the right q\n\n      _parent.checks.push({\n        type: Type.TRUE\n      }); // parent implicitly refs the subject\n\n\n      right.checks.push({\n        type: Type.PARENT,\n        // type is swapped on right side queries\n        parent: _parent,\n        child: _child // empty for now\n\n      });\n      replaceLastQuery(selector, left, compound); // update the ref since we moved things around for `query`\n\n      selector.currentSubject = subject;\n      selector.compoundCount++;\n      return _child; // now populating the right side's child\n    } else {\n      // parent query\n      // info for parent query\n      var _parent2 = newQuery();\n\n      var _child2 = newQuery();\n\n      var pcQChecks = [{\n        type: Type.PARENT,\n        parent: _parent2,\n        child: _child2\n      }]; // the parent-child query takes the place of the query previously being populated\n\n      _parent2.checks = query.checks; // the previous query contains the checks for the parent\n\n      query.checks = pcQChecks; // pc query takes over\n\n      selector.compoundCount++;\n      return _child2; // we're now populating the child\n    }\n  }\n}, {\n  name: 'descendant',\n  separator: true,\n  regex: tokens.descendant,\n  populate: function populate(selector, query) {\n    if (selector.currentSubject == null) {\n      // default: descendant query\n      var ancChQuery = newQuery();\n      var descendant = newQuery();\n      var ancestor = selector[selector.length - 1];\n      ancChQuery.checks.push({\n        type: Type.DESCENDANT,\n        ancestor: ancestor,\n        descendant: descendant\n      }); // the query in the selector should be the '>' itself\n\n      replaceLastQuery(selector, query, ancChQuery);\n      selector.compoundCount++; // we're now populating the descendant query with expressions that follow\n\n      return descendant;\n    } else if (selector.currentSubject === query) {\n      // compound split query\n      var compound = newQuery();\n      var left = selector[selector.length - 1];\n      var right = newQuery();\n      var subject = newQuery();\n\n      var _descendant = newQuery();\n\n      var _ancestor = newQuery(); // set up the root compound q\n\n\n      compound.checks.push({\n        type: Type.COMPOUND_SPLIT,\n        left: left,\n        right: right,\n        subject: subject\n      }); // populate the subject and replace the q at the old spot (within left) with TRUE\n\n      subject.checks = query.checks; // take the checks from the left\n\n      query.checks = [{\n        type: Type.TRUE\n      }]; // checks under left refs the subject implicitly\n      // set up the right q\n\n      _ancestor.checks.push({\n        type: Type.TRUE\n      }); // ancestor implicitly refs the subject\n\n\n      right.checks.push({\n        type: Type.ANCESTOR,\n        // type is swapped on right side queries\n        ancestor: _ancestor,\n        descendant: _descendant // empty for now\n\n      });\n      replaceLastQuery(selector, left, compound); // update the ref since we moved things around for `query`\n\n      selector.currentSubject = subject;\n      selector.compoundCount++;\n      return _descendant; // now populating the right side's descendant\n    } else {\n      // ancestor query\n      // info for parent query\n      var _ancestor2 = newQuery();\n\n      var _descendant2 = newQuery();\n\n      var adQChecks = [{\n        type: Type.ANCESTOR,\n        ancestor: _ancestor2,\n        descendant: _descendant2\n      }]; // the parent-child query takes the place of the query previously being populated\n\n      _ancestor2.checks = query.checks; // the previous query contains the checks for the parent\n\n      query.checks = adQChecks; // pc query takes over\n\n      selector.compoundCount++;\n      return _descendant2; // we're now populating the child\n    }\n  }\n}, {\n  name: 'subject',\n  modifier: true,\n  regex: tokens.subject,\n  populate: function populate(selector, query) {\n    if (selector.currentSubject != null && selector.currentSubject !== query) {\n      warn('Redefinition of subject in selector `' + selector.toString() + '`');\n      return false;\n    }\n\n    selector.currentSubject = query;\n    var topQ = selector[selector.length - 1];\n    var topChk = topQ.checks[0];\n    var topType = topChk == null ? null : topChk.type;\n\n    if (topType === Type.DIRECTED_EDGE) {\n      // directed edge with subject on the target\n      // change to target node check\n      topChk.type = Type.NODE_TARGET;\n    } else if (topType === Type.UNDIRECTED_EDGE) {\n      // undirected edge with subject on the second node\n      // change to neighbor check\n      topChk.type = Type.NODE_NEIGHBOR;\n      topChk.node = topChk.nodes[1]; // second node is subject\n\n      topChk.neighbor = topChk.nodes[0]; // clean up unused fields for new type\n\n      topChk.nodes = null;\n    }\n  }\n}];\nexprs.forEach(function (e) {\n  return e.regexObj = new RegExp('^' + e.regex);\n});\n\n/**\n * Of all the expressions, find the first match in the remaining text.\n * @param {string} remaining The remaining text to parse\n * @returns The matched expression and the newly remaining text `{ expr, match, name, remaining }`\n */\n\nvar consumeExpr = function consumeExpr(remaining) {\n  var expr;\n  var match;\n  var name;\n\n  for (var j = 0; j < exprs.length; j++) {\n    var e = exprs[j];\n    var n = e.name;\n    var m = remaining.match(e.regexObj);\n\n    if (m != null) {\n      match = m;\n      expr = e;\n      name = n;\n      var consumed = m[0];\n      remaining = remaining.substring(consumed.length);\n      break; // we've consumed one expr, so we can return now\n    }\n  }\n\n  return {\n    expr: expr,\n    match: match,\n    name: name,\n    remaining: remaining\n  };\n};\n/**\n * Consume all the leading whitespace\n * @param {string} remaining The text to consume\n * @returns The text with the leading whitespace removed\n */\n\n\nvar consumeWhitespace = function consumeWhitespace(remaining) {\n  var match = remaining.match(/^\\s+/);\n\n  if (match) {\n    var consumed = match[0];\n    remaining = remaining.substring(consumed.length);\n  }\n\n  return remaining;\n};\n/**\n * Parse the string and store the parsed representation in the Selector.\n * @param {string} selector The selector string\n * @returns `true` if the selector was successfully parsed, `false` otherwise\n */\n\n\nvar parse = function parse(selector) {\n  var self = this;\n  var remaining = self.inputText = selector;\n  var currentQuery = self[0] = newQuery();\n  self.length = 1;\n  remaining = consumeWhitespace(remaining); // get rid of leading whitespace\n\n  for (;;) {\n    var exprInfo = consumeExpr(remaining);\n\n    if (exprInfo.expr == null) {\n      warn('The selector `' + selector + '`is invalid');\n      return false;\n    } else {\n      var args = exprInfo.match.slice(1); // let the token populate the selector object in currentQuery\n\n      var ret = exprInfo.expr.populate(self, currentQuery, args);\n\n      if (ret === false) {\n        return false; // exit if population failed\n      } else if (ret != null) {\n        currentQuery = ret; // change the current query to be filled if the expr specifies\n      }\n    }\n\n    remaining = exprInfo.remaining; // we're done when there's nothing left to parse\n\n    if (remaining.match(/^\\s*$/)) {\n      break;\n    }\n  }\n\n  var lastQ = self[self.length - 1];\n\n  if (self.currentSubject != null) {\n    lastQ.subject = self.currentSubject;\n  }\n\n  lastQ.edgeCount = self.edgeCount;\n  lastQ.compoundCount = self.compoundCount;\n\n  for (var i = 0; i < self.length; i++) {\n    var q = self[i]; // in future, this could potentially be allowed if there were operator precedence and detection of invalid combinations\n\n    if (q.compoundCount > 0 && q.edgeCount > 0) {\n      warn('The selector `' + selector + '` is invalid because it uses both a compound selector and an edge selector');\n      return false;\n    }\n\n    if (q.edgeCount > 1) {\n      warn('The selector `' + selector + '` is invalid because it uses multiple edge selectors');\n      return false;\n    } else if (q.edgeCount === 1) {\n      warn('The selector `' + selector + '` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.');\n    }\n  }\n\n  return true; // success\n};\n/**\n * Get the selector represented as a string.  This value uses default formatting,\n * so things like spacing may differ from the input text passed to the constructor.\n * @returns {string} The selector string\n */\n\n\nvar toString = function toString() {\n  if (this.toStringCache != null) {\n    return this.toStringCache;\n  }\n\n  var clean = function clean(obj) {\n    if (obj == null) {\n      return '';\n    } else {\n      return obj;\n    }\n  };\n\n  var cleanVal = function cleanVal(val) {\n    if (string(val)) {\n      return '\"' + val + '\"';\n    } else {\n      return clean(val);\n    }\n  };\n\n  var space = function space(val) {\n    return ' ' + val + ' ';\n  };\n\n  var checkToString = function checkToString(check, subject) {\n    var type = check.type,\n        value = check.value;\n\n    switch (type) {\n      case Type.GROUP:\n        {\n          var group = clean(value);\n          return group.substring(0, group.length - 1);\n        }\n\n      case Type.DATA_COMPARE:\n        {\n          var field = check.field,\n              operator = check.operator;\n          return '[' + field + space(clean(operator)) + cleanVal(value) + ']';\n        }\n\n      case Type.DATA_BOOL:\n        {\n          var _operator = check.operator,\n              _field = check.field;\n          return '[' + clean(_operator) + _field + ']';\n        }\n\n      case Type.DATA_EXIST:\n        {\n          var _field2 = check.field;\n          return '[' + _field2 + ']';\n        }\n\n      case Type.META_COMPARE:\n        {\n          var _operator2 = check.operator,\n              _field3 = check.field;\n          return '[[' + _field3 + space(clean(_operator2)) + cleanVal(value) + ']]';\n        }\n\n      case Type.STATE:\n        {\n          return value;\n        }\n\n      case Type.ID:\n        {\n          return '#' + value;\n        }\n\n      case Type.CLASS:\n        {\n          return '.' + value;\n        }\n\n      case Type.PARENT:\n      case Type.CHILD:\n        {\n          return queryToString(check.parent, subject) + space('>') + queryToString(check.child, subject);\n        }\n\n      case Type.ANCESTOR:\n      case Type.DESCENDANT:\n        {\n          return queryToString(check.ancestor, subject) + ' ' + queryToString(check.descendant, subject);\n        }\n\n      case Type.COMPOUND_SPLIT:\n        {\n          var lhs = queryToString(check.left, subject);\n          var sub = queryToString(check.subject, subject);\n          var rhs = queryToString(check.right, subject);\n          return lhs + (lhs.length > 0 ? ' ' : '') + sub + rhs;\n        }\n\n      case Type.TRUE:\n        {\n          return '';\n        }\n    }\n  };\n\n  var queryToString = function queryToString(query, subject) {\n    return query.checks.reduce(function (str, chk, i) {\n      return str + (subject === query && i === 0 ? '$' : '') + checkToString(chk, subject);\n    }, '');\n  };\n\n  var str = '';\n\n  for (var i = 0; i < this.length; i++) {\n    var query = this[i];\n    str += queryToString(query, query.subject);\n\n    if (this.length > 1 && i < this.length - 1) {\n      str += ', ';\n    }\n  }\n\n  this.toStringCache = str;\n  return str;\n};\nvar parse$1 = {\n  parse: parse,\n  toString: toString\n};\n\nvar valCmp = function valCmp(fieldVal, operator, value) {\n  var matches;\n  var isFieldStr = string(fieldVal);\n  var isFieldNum = number(fieldVal);\n  var isValStr = string(value);\n  var fieldStr, valStr;\n  var caseInsensitive = false;\n  var notExpr = false;\n  var isIneqCmp = false;\n\n  if (operator.indexOf('!') >= 0) {\n    operator = operator.replace('!', '');\n    notExpr = true;\n  }\n\n  if (operator.indexOf('@') >= 0) {\n    operator = operator.replace('@', '');\n    caseInsensitive = true;\n  }\n\n  if (isFieldStr || isValStr || caseInsensitive) {\n    fieldStr = !isFieldStr && !isFieldNum ? '' : '' + fieldVal;\n    valStr = '' + value;\n  } // if we're doing a case insensitive comparison, then we're using a STRING comparison\n  // even if we're comparing numbers\n\n\n  if (caseInsensitive) {\n    fieldVal = fieldStr = fieldStr.toLowerCase();\n    value = valStr = valStr.toLowerCase();\n  }\n\n  switch (operator) {\n    case '*=':\n      matches = fieldStr.indexOf(valStr) >= 0;\n      break;\n\n    case '$=':\n      matches = fieldStr.indexOf(valStr, fieldStr.length - valStr.length) >= 0;\n      break;\n\n    case '^=':\n      matches = fieldStr.indexOf(valStr) === 0;\n      break;\n\n    case '=':\n      matches = fieldVal === value;\n      break;\n\n    case '>':\n      isIneqCmp = true;\n      matches = fieldVal > value;\n      break;\n\n    case '>=':\n      isIneqCmp = true;\n      matches = fieldVal >= value;\n      break;\n\n    case '<':\n      isIneqCmp = true;\n      matches = fieldVal < value;\n      break;\n\n    case '<=':\n      isIneqCmp = true;\n      matches = fieldVal <= value;\n      break;\n\n    default:\n      matches = false;\n      break;\n  } // apply the not op, but null vals for inequalities should always stay non-matching\n\n\n  if (notExpr && (fieldVal != null || !isIneqCmp)) {\n    matches = !matches;\n  }\n\n  return matches;\n};\nvar boolCmp = function boolCmp(fieldVal, operator) {\n  switch (operator) {\n    case '?':\n      return fieldVal ? true : false;\n\n    case '!':\n      return fieldVal ? false : true;\n\n    case '^':\n      return fieldVal === undefined;\n  }\n};\nvar existCmp = function existCmp(fieldVal) {\n  return fieldVal !== undefined;\n};\nvar data = function data(ele, field) {\n  return ele.data(field);\n};\nvar meta = function meta(ele, field) {\n  return ele[field]();\n};\n\n/** A lookup of `match(check, ele)` functions by `Type` int */\n\nvar match = [];\n/**\n * Returns whether the query matches for the element\n * @param query The `{ type, value, ... }` query object\n * @param ele The element to compare against\n*/\n\nvar matches = function matches(query, ele) {\n  return query.checks.every(function (chk) {\n    return match[chk.type](chk, ele);\n  });\n};\n\nmatch[Type.GROUP] = function (check, ele) {\n  var group = check.value;\n  return group === '*' || group === ele.group();\n};\n\nmatch[Type.STATE] = function (check, ele) {\n  var stateSelector = check.value;\n  return stateSelectorMatches(stateSelector, ele);\n};\n\nmatch[Type.ID] = function (check, ele) {\n  var id = check.value;\n  return ele.id() === id;\n};\n\nmatch[Type.CLASS] = function (check, ele) {\n  var cls = check.value;\n  return ele.hasClass(cls);\n};\n\nmatch[Type.META_COMPARE] = function (check, ele) {\n  var field = check.field,\n      operator = check.operator,\n      value = check.value;\n  return valCmp(meta(ele, field), operator, value);\n};\n\nmatch[Type.DATA_COMPARE] = function (check, ele) {\n  var field = check.field,\n      operator = check.operator,\n      value = check.value;\n  return valCmp(data(ele, field), operator, value);\n};\n\nmatch[Type.DATA_BOOL] = function (check, ele) {\n  var field = check.field,\n      operator = check.operator;\n  return boolCmp(data(ele, field), operator);\n};\n\nmatch[Type.DATA_EXIST] = function (check, ele) {\n  var field = check.field,\n      operator = check.operator;\n  return existCmp(data(ele, field));\n};\n\nmatch[Type.UNDIRECTED_EDGE] = function (check, ele) {\n  var qA = check.nodes[0];\n  var qB = check.nodes[1];\n  var src = ele.source();\n  var tgt = ele.target();\n  return matches(qA, src) && matches(qB, tgt) || matches(qB, src) && matches(qA, tgt);\n};\n\nmatch[Type.NODE_NEIGHBOR] = function (check, ele) {\n  return matches(check.node, ele) && ele.neighborhood().some(function (n) {\n    return n.isNode() && matches(check.neighbor, n);\n  });\n};\n\nmatch[Type.DIRECTED_EDGE] = function (check, ele) {\n  return matches(check.source, ele.source()) && matches(check.target, ele.target());\n};\n\nmatch[Type.NODE_SOURCE] = function (check, ele) {\n  return matches(check.source, ele) && ele.outgoers().some(function (n) {\n    return n.isNode() && matches(check.target, n);\n  });\n};\n\nmatch[Type.NODE_TARGET] = function (check, ele) {\n  return matches(check.target, ele) && ele.incomers().some(function (n) {\n    return n.isNode() && matches(check.source, n);\n  });\n};\n\nmatch[Type.CHILD] = function (check, ele) {\n  return matches(check.child, ele) && matches(check.parent, ele.parent());\n};\n\nmatch[Type.PARENT] = function (check, ele) {\n  return matches(check.parent, ele) && ele.children().some(function (c) {\n    return matches(check.child, c);\n  });\n};\n\nmatch[Type.DESCENDANT] = function (check, ele) {\n  return matches(check.descendant, ele) && ele.ancestors().some(function (a) {\n    return matches(check.ancestor, a);\n  });\n};\n\nmatch[Type.ANCESTOR] = function (check, ele) {\n  return matches(check.ancestor, ele) && ele.descendants().some(function (d) {\n    return matches(check.descendant, d);\n  });\n};\n\nmatch[Type.COMPOUND_SPLIT] = function (check, ele) {\n  return matches(check.subject, ele) && matches(check.left, ele) && matches(check.right, ele);\n};\n\nmatch[Type.TRUE] = function () {\n  return true;\n};\n\nmatch[Type.COLLECTION] = function (check, ele) {\n  var collection = check.value;\n  return collection.has(ele);\n};\n\nmatch[Type.FILTER] = function (check, ele) {\n  var filter = check.value;\n  return filter(ele);\n};\n\nvar filter = function filter(collection) {\n  var self = this; // for 1 id #foo queries, just get the element\n\n  if (self.length === 1 && self[0].checks.length === 1 && self[0].checks[0].type === Type.ID) {\n    return collection.getElementById(self[0].checks[0].value).collection();\n  }\n\n  var selectorFunction = function selectorFunction(element) {\n    for (var j = 0; j < self.length; j++) {\n      var query = self[j];\n\n      if (matches(query, element)) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  if (self.text() == null) {\n    selectorFunction = function selectorFunction() {\n      return true;\n    };\n  }\n\n  return collection.filter(selectorFunction);\n}; // filter\n// does selector match a single element?\n\n\nvar matches$1 = function matches$1(ele) {\n  var self = this;\n\n  for (var j = 0; j < self.length; j++) {\n    var query = self[j];\n\n    if (matches(query, ele)) {\n      return true;\n    }\n  }\n\n  return false;\n}; // matches\n\n\nvar matching = {\n  matches: matches$1,\n  filter: filter\n};\n\nvar Selector = function Selector(selector) {\n  this.inputText = selector;\n  this.currentSubject = null;\n  this.compoundCount = 0;\n  this.edgeCount = 0;\n  this.length = 0;\n\n  if (selector == null || string(selector) && selector.match(/^\\s*$/)) ; else if (elementOrCollection(selector)) {\n    this.addQuery({\n      checks: [{\n        type: Type.COLLECTION,\n        value: selector.collection()\n      }]\n    });\n  } else if (fn(selector)) {\n    this.addQuery({\n      checks: [{\n        type: Type.FILTER,\n        value: selector\n      }]\n    });\n  } else if (string(selector)) {\n    if (!this.parse(selector)) {\n      this.invalid = true;\n    }\n  } else {\n    error('A selector must be created from a string; found ');\n  }\n};\n\nvar selfn = Selector.prototype;\n[parse$1, matching].forEach(function (p) {\n  return extend(selfn, p);\n});\n\nselfn.text = function () {\n  return this.inputText;\n};\n\nselfn.size = function () {\n  return this.length;\n};\n\nselfn.eq = function (i) {\n  return this[i];\n};\n\nselfn.sameText = function (otherSel) {\n  return !this.invalid && !otherSel.invalid && this.text() === otherSel.text();\n};\n\nselfn.addQuery = function (q) {\n  this[this.length++] = q;\n};\n\nselfn.selector = selfn.toString;\n\nvar elesfn$f = {\n  allAre: function allAre(selector) {\n    var selObj = new Selector(selector);\n    return this.every(function (ele) {\n      return selObj.matches(ele);\n    });\n  },\n  is: function is(selector) {\n    var selObj = new Selector(selector);\n    return this.some(function (ele) {\n      return selObj.matches(ele);\n    });\n  },\n  some: function some(fn, thisArg) {\n    for (var i = 0; i < this.length; i++) {\n      var ret = !thisArg ? fn(this[i], i, this) : fn.apply(thisArg, [this[i], i, this]);\n\n      if (ret) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n  every: function every(fn, thisArg) {\n    for (var i = 0; i < this.length; i++) {\n      var ret = !thisArg ? fn(this[i], i, this) : fn.apply(thisArg, [this[i], i, this]);\n\n      if (!ret) {\n        return false;\n      }\n    }\n\n    return true;\n  },\n  same: function same(collection) {\n    // cheap collection ref check\n    if (this === collection) {\n      return true;\n    }\n\n    collection = this.cy().collection(collection);\n    var thisLength = this.length;\n    var collectionLength = collection.length; // cheap length check\n\n    if (thisLength !== collectionLength) {\n      return false;\n    } // cheap element ref check\n\n\n    if (thisLength === 1) {\n      return this[0] === collection[0];\n    }\n\n    return this.every(function (ele) {\n      return collection.hasElementWithId(ele.id());\n    });\n  },\n  anySame: function anySame(collection) {\n    collection = this.cy().collection(collection);\n    return this.some(function (ele) {\n      return collection.hasElementWithId(ele.id());\n    });\n  },\n  allAreNeighbors: function allAreNeighbors(collection) {\n    collection = this.cy().collection(collection);\n    var nhood = this.neighborhood();\n    return collection.every(function (ele) {\n      return nhood.hasElementWithId(ele.id());\n    });\n  },\n  contains: function contains(collection) {\n    collection = this.cy().collection(collection);\n    var self = this;\n    return collection.every(function (ele) {\n      return self.hasElementWithId(ele.id());\n    });\n  }\n};\nelesfn$f.allAreNeighbours = elesfn$f.allAreNeighbors;\nelesfn$f.has = elesfn$f.contains;\nelesfn$f.equal = elesfn$f.equals = elesfn$f.same;\n\nvar cache = function cache(fn, name) {\n  return function traversalCache(arg1, arg2, arg3, arg4) {\n    var selectorOrEles = arg1;\n    var eles = this;\n    var key;\n\n    if (selectorOrEles == null) {\n      key = '';\n    } else if (elementOrCollection(selectorOrEles) && selectorOrEles.length === 1) {\n      key = selectorOrEles.id();\n    }\n\n    if (eles.length === 1 && key) {\n      var _p = eles[0]._private;\n      var tch = _p.traversalCache = _p.traversalCache || {};\n      var ch = tch[name] = tch[name] || [];\n      var hash = hashString(key);\n      var cacheHit = ch[hash];\n\n      if (cacheHit) {\n        return cacheHit;\n      } else {\n        return ch[hash] = fn.call(eles, arg1, arg2, arg3, arg4);\n      }\n    } else {\n      return fn.call(eles, arg1, arg2, arg3, arg4);\n    }\n  };\n};\n\nvar elesfn$g = {\n  parent: function parent(selector) {\n    var parents = []; // optimisation for single ele call\n\n    if (this.length === 1) {\n      var parent = this[0]._private.parent;\n\n      if (parent) {\n        return parent;\n      }\n    }\n\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      var _parent = ele._private.parent;\n\n      if (_parent) {\n        parents.push(_parent);\n      }\n    }\n\n    return this.spawn(parents, {\n      unique: true\n    }).filter(selector);\n  },\n  parents: function parents(selector) {\n    var parents = [];\n    var eles = this.parent();\n\n    while (eles.nonempty()) {\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        parents.push(ele);\n      }\n\n      eles = eles.parent();\n    }\n\n    return this.spawn(parents, {\n      unique: true\n    }).filter(selector);\n  },\n  commonAncestors: function commonAncestors(selector) {\n    var ancestors;\n\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      var parents = ele.parents();\n      ancestors = ancestors || parents;\n      ancestors = ancestors.intersect(parents); // current list must be common with current ele parents set\n    }\n\n    return ancestors.filter(selector);\n  },\n  orphans: function orphans(selector) {\n    return this.stdFilter(function (ele) {\n      return ele.isOrphan();\n    }).filter(selector);\n  },\n  nonorphans: function nonorphans(selector) {\n    return this.stdFilter(function (ele) {\n      return ele.isChild();\n    }).filter(selector);\n  },\n  children: cache(function (selector) {\n    var children = [];\n\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      var eleChildren = ele._private.children;\n\n      for (var j = 0; j < eleChildren.length; j++) {\n        children.push(eleChildren[j]);\n      }\n    }\n\n    return this.spawn(children, {\n      unique: true\n    }).filter(selector);\n  }, 'children'),\n  siblings: function siblings(selector) {\n    return this.parent().children().not(this).filter(selector);\n  },\n  isParent: function isParent() {\n    var ele = this[0];\n\n    if (ele) {\n      return ele.isNode() && ele._private.children.length !== 0;\n    }\n  },\n  isChildless: function isChildless() {\n    var ele = this[0];\n\n    if (ele) {\n      return ele.isNode() && ele._private.children.length === 0;\n    }\n  },\n  isChild: function isChild() {\n    var ele = this[0];\n\n    if (ele) {\n      return ele.isNode() && ele._private.parent != null;\n    }\n  },\n  isOrphan: function isOrphan() {\n    var ele = this[0];\n\n    if (ele) {\n      return ele.isNode() && ele._private.parent == null;\n    }\n  },\n  descendants: function descendants(selector) {\n    var elements = [];\n\n    function add(eles) {\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        elements.push(ele);\n\n        if (ele.children().nonempty()) {\n          add(ele.children());\n        }\n      }\n    }\n\n    add(this.children());\n    return this.spawn(elements, {\n      unique: true\n    }).filter(selector);\n  }\n};\n\nfunction forEachCompound(eles, fn, includeSelf, recursiveStep) {\n  var q = [];\n  var did = new Set$1();\n  var cy = eles.cy();\n  var hasCompounds = cy.hasCompoundNodes();\n\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n\n    if (includeSelf) {\n      q.push(ele);\n    } else if (hasCompounds) {\n      recursiveStep(q, did, ele);\n    }\n  }\n\n  while (q.length > 0) {\n    var _ele = q.shift();\n\n    fn(_ele);\n    did.add(_ele.id());\n\n    if (hasCompounds) {\n      recursiveStep(q, did, _ele);\n    }\n  }\n\n  return eles;\n}\n\nfunction addChildren(q, did, ele) {\n  if (ele.isParent()) {\n    var children = ele._private.children;\n\n    for (var i = 0; i < children.length; i++) {\n      var child = children[i];\n\n      if (!did.has(child.id())) {\n        q.push(child);\n      }\n    }\n  }\n} // very efficient version of eles.add( eles.descendants() ).forEach()\n// for internal use\n\n\nelesfn$g.forEachDown = function (fn) {\n  var includeSelf = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  return forEachCompound(this, fn, includeSelf, addChildren);\n};\n\nfunction addParent(q, did, ele) {\n  if (ele.isChild()) {\n    var parent = ele._private.parent;\n\n    if (!did.has(parent.id())) {\n      q.push(parent);\n    }\n  }\n}\n\nelesfn$g.forEachUp = function (fn) {\n  var includeSelf = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  return forEachCompound(this, fn, includeSelf, addParent);\n};\n\nfunction addParentAndChildren(q, did, ele) {\n  addParent(q, did, ele);\n  addChildren(q, did, ele);\n}\n\nelesfn$g.forEachUpAndDown = function (fn) {\n  var includeSelf = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  return forEachCompound(this, fn, includeSelf, addParentAndChildren);\n}; // aliases\n\n\nelesfn$g.ancestors = elesfn$g.parents;\n\nvar fn$1, elesfn$h;\nfn$1 = elesfn$h = {\n  data: define$3.data({\n    field: 'data',\n    bindingEvent: 'data',\n    allowBinding: true,\n    allowSetting: true,\n    settingEvent: 'data',\n    settingTriggersEvent: true,\n    triggerFnName: 'trigger',\n    allowGetting: true,\n    immutableKeys: {\n      'id': true,\n      'source': true,\n      'target': true,\n      'parent': true\n    },\n    updateStyle: true\n  }),\n  removeData: define$3.removeData({\n    field: 'data',\n    event: 'data',\n    triggerFnName: 'trigger',\n    triggerEvent: true,\n    immutableKeys: {\n      'id': true,\n      'source': true,\n      'target': true,\n      'parent': true\n    },\n    updateStyle: true\n  }),\n  scratch: define$3.data({\n    field: 'scratch',\n    bindingEvent: 'scratch',\n    allowBinding: true,\n    allowSetting: true,\n    settingEvent: 'scratch',\n    settingTriggersEvent: true,\n    triggerFnName: 'trigger',\n    allowGetting: true,\n    updateStyle: true\n  }),\n  removeScratch: define$3.removeData({\n    field: 'scratch',\n    event: 'scratch',\n    triggerFnName: 'trigger',\n    triggerEvent: true,\n    updateStyle: true\n  }),\n  rscratch: define$3.data({\n    field: 'rscratch',\n    allowBinding: false,\n    allowSetting: true,\n    settingTriggersEvent: false,\n    allowGetting: true\n  }),\n  removeRscratch: define$3.removeData({\n    field: 'rscratch',\n    triggerEvent: false\n  }),\n  id: function id() {\n    var ele = this[0];\n\n    if (ele) {\n      return ele._private.data.id;\n    }\n  }\n}; // aliases\n\nfn$1.attr = fn$1.data;\nfn$1.removeAttr = fn$1.removeData;\nvar data$1 = elesfn$h;\n\nvar elesfn$i = {};\n\nfunction defineDegreeFunction(callback) {\n  return function (includeLoops) {\n    var self = this;\n\n    if (includeLoops === undefined) {\n      includeLoops = true;\n    }\n\n    if (self.length === 0) {\n      return;\n    }\n\n    if (self.isNode() && !self.removed()) {\n      var degree = 0;\n      var node = self[0];\n      var connectedEdges = node._private.edges;\n\n      for (var i = 0; i < connectedEdges.length; i++) {\n        var edge = connectedEdges[i];\n\n        if (!includeLoops && edge.isLoop()) {\n          continue;\n        }\n\n        degree += callback(node, edge);\n      }\n\n      return degree;\n    } else {\n      return;\n    }\n  };\n}\n\nextend(elesfn$i, {\n  degree: defineDegreeFunction(function (node, edge) {\n    if (edge.source().same(edge.target())) {\n      return 2;\n    } else {\n      return 1;\n    }\n  }),\n  indegree: defineDegreeFunction(function (node, edge) {\n    if (edge.target().same(node)) {\n      return 1;\n    } else {\n      return 0;\n    }\n  }),\n  outdegree: defineDegreeFunction(function (node, edge) {\n    if (edge.source().same(node)) {\n      return 1;\n    } else {\n      return 0;\n    }\n  })\n});\n\nfunction defineDegreeBoundsFunction(degreeFn, callback) {\n  return function (includeLoops) {\n    var ret;\n    var nodes = this.nodes();\n\n    for (var i = 0; i < nodes.length; i++) {\n      var ele = nodes[i];\n      var degree = ele[degreeFn](includeLoops);\n\n      if (degree !== undefined && (ret === undefined || callback(degree, ret))) {\n        ret = degree;\n      }\n    }\n\n    return ret;\n  };\n}\n\nextend(elesfn$i, {\n  minDegree: defineDegreeBoundsFunction('degree', function (degree, min) {\n    return degree < min;\n  }),\n  maxDegree: defineDegreeBoundsFunction('degree', function (degree, max) {\n    return degree > max;\n  }),\n  minIndegree: defineDegreeBoundsFunction('indegree', function (degree, min) {\n    return degree < min;\n  }),\n  maxIndegree: defineDegreeBoundsFunction('indegree', function (degree, max) {\n    return degree > max;\n  }),\n  minOutdegree: defineDegreeBoundsFunction('outdegree', function (degree, min) {\n    return degree < min;\n  }),\n  maxOutdegree: defineDegreeBoundsFunction('outdegree', function (degree, max) {\n    return degree > max;\n  })\n});\nextend(elesfn$i, {\n  totalDegree: function totalDegree(includeLoops) {\n    var total = 0;\n    var nodes = this.nodes();\n\n    for (var i = 0; i < nodes.length; i++) {\n      total += nodes[i].degree(includeLoops);\n    }\n\n    return total;\n  }\n});\n\nvar fn$2, elesfn$j;\n\nvar beforePositionSet = function beforePositionSet(eles, newPos, silent) {\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n\n    if (!ele.locked()) {\n      var oldPos = ele._private.position;\n      var delta = {\n        x: newPos.x != null ? newPos.x - oldPos.x : 0,\n        y: newPos.y != null ? newPos.y - oldPos.y : 0\n      };\n\n      if (ele.isParent() && !(delta.x === 0 && delta.y === 0)) {\n        ele.children().shift(delta, silent);\n      }\n\n      ele.shiftCachedBoundingBox(delta);\n    }\n  }\n};\n\nvar positionDef = {\n  field: 'position',\n  bindingEvent: 'position',\n  allowBinding: true,\n  allowSetting: true,\n  settingEvent: 'position',\n  settingTriggersEvent: true,\n  triggerFnName: 'emitAndNotify',\n  allowGetting: true,\n  validKeys: ['x', 'y'],\n  beforeGet: function beforeGet(ele) {\n    ele.updateCompoundBounds();\n  },\n  beforeSet: function beforeSet(eles, newPos) {\n    beforePositionSet(eles, newPos, false);\n  },\n  onSet: function onSet(eles) {\n    eles.dirtyCompoundBoundsCache();\n  },\n  canSet: function canSet(ele) {\n    return !ele.locked();\n  }\n};\nfn$2 = elesfn$j = {\n  position: define$3.data(positionDef),\n  // position but no notification to renderer\n  silentPosition: define$3.data(extend({}, positionDef, {\n    allowBinding: false,\n    allowSetting: true,\n    settingTriggersEvent: false,\n    allowGetting: false,\n    beforeSet: function beforeSet(eles, newPos) {\n      beforePositionSet(eles, newPos, true);\n    }\n  })),\n  positions: function positions(pos, silent) {\n    if (plainObject(pos)) {\n      if (silent) {\n        this.silentPosition(pos);\n      } else {\n        this.position(pos);\n      }\n    } else if (fn(pos)) {\n      var _fn = pos;\n      var cy = this.cy();\n      cy.startBatch();\n\n      for (var i = 0; i < this.length; i++) {\n        var ele = this[i];\n\n        var _pos = void 0;\n\n        if (_pos = _fn(ele, i)) {\n          if (silent) {\n            ele.silentPosition(_pos);\n          } else {\n            ele.position(_pos);\n          }\n        }\n      }\n\n      cy.endBatch();\n    }\n\n    return this; // chaining\n  },\n  silentPositions: function silentPositions(pos) {\n    return this.positions(pos, true);\n  },\n  shift: function shift(dim, val, silent) {\n    var delta;\n\n    if (plainObject(dim)) {\n      delta = {\n        x: number(dim.x) ? dim.x : 0,\n        y: number(dim.y) ? dim.y : 0\n      };\n      silent = val;\n    } else if (string(dim) && number(val)) {\n      delta = {\n        x: 0,\n        y: 0\n      };\n      delta[dim] = val;\n    }\n\n    if (delta != null) {\n      var cy = this.cy();\n      cy.startBatch();\n\n      for (var i = 0; i < this.length; i++) {\n        var ele = this[i];\n        var pos = ele.position();\n        var newPos = {\n          x: pos.x + delta.x,\n          y: pos.y + delta.y\n        };\n\n        if (silent) {\n          ele.silentPosition(newPos);\n        } else {\n          ele.position(newPos);\n        }\n      }\n\n      cy.endBatch();\n    }\n\n    return this;\n  },\n  silentShift: function silentShift(dim, val) {\n    if (plainObject(dim)) {\n      this.shift(dim, true);\n    } else if (string(dim) && number(val)) {\n      this.shift(dim, val, true);\n    }\n\n    return this;\n  },\n  // get/set the rendered (i.e. on screen) positon of the element\n  renderedPosition: function renderedPosition(dim, val) {\n    var ele = this[0];\n    var cy = this.cy();\n    var zoom = cy.zoom();\n    var pan = cy.pan();\n    var rpos = plainObject(dim) ? dim : undefined;\n    var setting = rpos !== undefined || val !== undefined && string(dim);\n\n    if (ele && ele.isNode()) {\n      // must have an element and must be a node to return position\n      if (setting) {\n        for (var i = 0; i < this.length; i++) {\n          var _ele = this[i];\n\n          if (val !== undefined) {\n            // set one dimension\n            _ele.position(dim, (val - pan[dim]) / zoom);\n          } else if (rpos !== undefined) {\n            // set whole position\n            _ele.position(renderedToModelPosition(rpos, zoom, pan));\n          }\n        }\n      } else {\n        // getting\n        var pos = ele.position();\n        rpos = modelToRenderedPosition(pos, zoom, pan);\n\n        if (dim === undefined) {\n          // then return the whole rendered position\n          return rpos;\n        } else {\n          // then return the specified dimension\n          return rpos[dim];\n        }\n      }\n    } else if (!setting) {\n      return undefined; // for empty collection case\n    }\n\n    return this; // chaining\n  },\n  // get/set the position relative to the parent\n  relativePosition: function relativePosition(dim, val) {\n    var ele = this[0];\n    var cy = this.cy();\n    var ppos = plainObject(dim) ? dim : undefined;\n    var setting = ppos !== undefined || val !== undefined && string(dim);\n    var hasCompoundNodes = cy.hasCompoundNodes();\n\n    if (ele && ele.isNode()) {\n      // must have an element and must be a node to return position\n      if (setting) {\n        for (var i = 0; i < this.length; i++) {\n          var _ele2 = this[i];\n          var parent = hasCompoundNodes ? _ele2.parent() : null;\n          var hasParent = parent && parent.length > 0;\n          var relativeToParent = hasParent;\n\n          if (hasParent) {\n            parent = parent[0];\n          }\n\n          var origin = relativeToParent ? parent.position() : {\n            x: 0,\n            y: 0\n          };\n\n          if (val !== undefined) {\n            // set one dimension\n            _ele2.position(dim, val + origin[dim]);\n          } else if (ppos !== undefined) {\n            // set whole position\n            _ele2.position({\n              x: ppos.x + origin.x,\n              y: ppos.y + origin.y\n            });\n          }\n        }\n      } else {\n        // getting\n        var pos = ele.position();\n\n        var _parent = hasCompoundNodes ? ele.parent() : null;\n\n        var _hasParent = _parent && _parent.length > 0;\n\n        var _relativeToParent = _hasParent;\n\n        if (_hasParent) {\n          _parent = _parent[0];\n        }\n\n        var _origin = _relativeToParent ? _parent.position() : {\n          x: 0,\n          y: 0\n        };\n\n        ppos = {\n          x: pos.x - _origin.x,\n          y: pos.y - _origin.y\n        };\n\n        if (dim === undefined) {\n          // then return the whole rendered position\n          return ppos;\n        } else {\n          // then return the specified dimension\n          return ppos[dim];\n        }\n      }\n    } else if (!setting) {\n      return undefined; // for empty collection case\n    }\n\n    return this; // chaining\n  }\n}; // aliases\n\nfn$2.modelPosition = fn$2.point = fn$2.position;\nfn$2.modelPositions = fn$2.points = fn$2.positions;\nfn$2.renderedPoint = fn$2.renderedPosition;\nfn$2.relativePoint = fn$2.relativePosition;\nvar position = elesfn$j;\n\nvar fn$3, elesfn$k;\nfn$3 = elesfn$k = {};\n\nelesfn$k.renderedBoundingBox = function (options) {\n  var bb = this.boundingBox(options);\n  var cy = this.cy();\n  var zoom = cy.zoom();\n  var pan = cy.pan();\n  var x1 = bb.x1 * zoom + pan.x;\n  var x2 = bb.x2 * zoom + pan.x;\n  var y1 = bb.y1 * zoom + pan.y;\n  var y2 = bb.y2 * zoom + pan.y;\n  return {\n    x1: x1,\n    x2: x2,\n    y1: y1,\n    y2: y2,\n    w: x2 - x1,\n    h: y2 - y1\n  };\n};\n\nelesfn$k.dirtyCompoundBoundsCache = function () {\n  var cy = this.cy();\n\n  if (!cy.styleEnabled() || !cy.hasCompoundNodes()) {\n    return this;\n  }\n\n  this.forEachUp(function (ele) {\n    if (ele.isParent()) {\n      var _p = ele._private;\n      _p.compoundBoundsClean = false;\n      _p.bbCache = null;\n      ele.emitAndNotify('bounds');\n    }\n  });\n  return this;\n};\n\nelesfn$k.updateCompoundBounds = function () {\n  var force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var cy = this.cy(); // not possible to do on non-compound graphs or with the style disabled\n\n  if (!cy.styleEnabled() || !cy.hasCompoundNodes()) {\n    return this;\n  } // save cycles when batching -- but bounds will be stale (or not exist yet)\n\n\n  if (!force && cy.batching()) {\n    return this;\n  }\n\n  function update(parent) {\n    if (!parent.isParent()) {\n      return;\n    }\n\n    var _p = parent._private;\n    var children = parent.children();\n    var includeLabels = parent.pstyle('compound-sizing-wrt-labels').value === 'include';\n    var min = {\n      width: {\n        val: parent.pstyle('min-width').pfValue,\n        left: parent.pstyle('min-width-bias-left'),\n        right: parent.pstyle('min-width-bias-right')\n      },\n      height: {\n        val: parent.pstyle('min-height').pfValue,\n        top: parent.pstyle('min-height-bias-top'),\n        bottom: parent.pstyle('min-height-bias-bottom')\n      }\n    };\n    var bb = children.boundingBox({\n      includeLabels: includeLabels,\n      includeOverlays: false,\n      // updating the compound bounds happens outside of the regular\n      // cache cycle (i.e. before fired events)\n      useCache: false\n    });\n    var pos = _p.position; // if children take up zero area then keep position and fall back on stylesheet w/h\n\n    if (bb.w === 0 || bb.h === 0) {\n      bb = {\n        w: parent.pstyle('width').pfValue,\n        h: parent.pstyle('height').pfValue\n      };\n      bb.x1 = pos.x - bb.w / 2;\n      bb.x2 = pos.x + bb.w / 2;\n      bb.y1 = pos.y - bb.h / 2;\n      bb.y2 = pos.y + bb.h / 2;\n    }\n\n    function computeBiasValues(propDiff, propBias, propBiasComplement) {\n      var biasDiff = 0;\n      var biasComplementDiff = 0;\n      var biasTotal = propBias + propBiasComplement;\n\n      if (propDiff > 0 && biasTotal > 0) {\n        biasDiff = propBias / biasTotal * propDiff;\n        biasComplementDiff = propBiasComplement / biasTotal * propDiff;\n      }\n\n      return {\n        biasDiff: biasDiff,\n        biasComplementDiff: biasComplementDiff\n      };\n    }\n\n    function computePaddingValues(width, height, paddingObject, relativeTo) {\n      // Assuming percentage is number from 0 to 1\n      if (paddingObject.units === '%') {\n        switch (relativeTo) {\n          case 'width':\n            return width > 0 ? paddingObject.pfValue * width : 0;\n\n          case 'height':\n            return height > 0 ? paddingObject.pfValue * height : 0;\n\n          case 'average':\n            return width > 0 && height > 0 ? paddingObject.pfValue * (width + height) / 2 : 0;\n\n          case 'min':\n            return width > 0 && height > 0 ? width > height ? paddingObject.pfValue * height : paddingObject.pfValue * width : 0;\n\n          case 'max':\n            return width > 0 && height > 0 ? width > height ? paddingObject.pfValue * width : paddingObject.pfValue * height : 0;\n\n          default:\n            return 0;\n        }\n      } else if (paddingObject.units === 'px') {\n        return paddingObject.pfValue;\n      } else {\n        return 0;\n      }\n    }\n\n    var leftVal = min.width.left.value;\n\n    if (min.width.left.units === 'px' && min.width.val > 0) {\n      leftVal = leftVal * 100 / min.width.val;\n    }\n\n    var rightVal = min.width.right.value;\n\n    if (min.width.right.units === 'px' && min.width.val > 0) {\n      rightVal = rightVal * 100 / min.width.val;\n    }\n\n    var topVal = min.height.top.value;\n\n    if (min.height.top.units === 'px' && min.height.val > 0) {\n      topVal = topVal * 100 / min.height.val;\n    }\n\n    var bottomVal = min.height.bottom.value;\n\n    if (min.height.bottom.units === 'px' && min.height.val > 0) {\n      bottomVal = bottomVal * 100 / min.height.val;\n    }\n\n    var widthBiasDiffs = computeBiasValues(min.width.val - bb.w, leftVal, rightVal);\n    var diffLeft = widthBiasDiffs.biasDiff;\n    var diffRight = widthBiasDiffs.biasComplementDiff;\n    var heightBiasDiffs = computeBiasValues(min.height.val - bb.h, topVal, bottomVal);\n    var diffTop = heightBiasDiffs.biasDiff;\n    var diffBottom = heightBiasDiffs.biasComplementDiff;\n    _p.autoPadding = computePaddingValues(bb.w, bb.h, parent.pstyle('padding'), parent.pstyle('padding-relative-to').value);\n    _p.autoWidth = Math.max(bb.w, min.width.val);\n    pos.x = (-diffLeft + bb.x1 + bb.x2 + diffRight) / 2;\n    _p.autoHeight = Math.max(bb.h, min.height.val);\n    pos.y = (-diffTop + bb.y1 + bb.y2 + diffBottom) / 2;\n  }\n\n  for (var i = 0; i < this.length; i++) {\n    var ele = this[i];\n    var _p = ele._private;\n\n    if (!_p.compoundBoundsClean) {\n      update(ele);\n\n      if (!cy.batching()) {\n        _p.compoundBoundsClean = true;\n      }\n    }\n  }\n\n  return this;\n};\n\nvar noninf = function noninf(x) {\n  if (x === Infinity || x === -Infinity) {\n    return 0;\n  }\n\n  return x;\n};\n\nvar updateBounds = function updateBounds(b, x1, y1, x2, y2) {\n  // don't update with zero area boxes\n  if (x2 - x1 === 0 || y2 - y1 === 0) {\n    return;\n  } // don't update with null dim\n\n\n  if (x1 == null || y1 == null || x2 == null || y2 == null) {\n    return;\n  }\n\n  b.x1 = x1 < b.x1 ? x1 : b.x1;\n  b.x2 = x2 > b.x2 ? x2 : b.x2;\n  b.y1 = y1 < b.y1 ? y1 : b.y1;\n  b.y2 = y2 > b.y2 ? y2 : b.y2;\n  b.w = b.x2 - b.x1;\n  b.h = b.y2 - b.y1;\n};\n\nvar updateBoundsFromBox = function updateBoundsFromBox(b, b2) {\n  if (b2 == null) {\n    return b;\n  }\n\n  return updateBounds(b, b2.x1, b2.y1, b2.x2, b2.y2);\n};\n\nvar prefixedProperty = function prefixedProperty(obj, field, prefix) {\n  return getPrefixedProperty(obj, field, prefix);\n};\n\nvar updateBoundsFromArrow = function updateBoundsFromArrow(bounds, ele, prefix) {\n  if (ele.cy().headless()) {\n    return;\n  }\n\n  var _p = ele._private;\n  var rstyle = _p.rstyle;\n  var halfArW = rstyle.arrowWidth / 2;\n  var arrowType = ele.pstyle(prefix + '-arrow-shape').value;\n  var x;\n  var y;\n\n  if (arrowType !== 'none') {\n    if (prefix === 'source') {\n      x = rstyle.srcX;\n      y = rstyle.srcY;\n    } else if (prefix === 'target') {\n      x = rstyle.tgtX;\n      y = rstyle.tgtY;\n    } else {\n      x = rstyle.midX;\n      y = rstyle.midY;\n    } // always store the individual arrow bounds\n\n\n    var bbs = _p.arrowBounds = _p.arrowBounds || {};\n    var bb = bbs[prefix] = bbs[prefix] || {};\n    bb.x1 = x - halfArW;\n    bb.y1 = y - halfArW;\n    bb.x2 = x + halfArW;\n    bb.y2 = y + halfArW;\n    bb.w = bb.x2 - bb.x1;\n    bb.h = bb.y2 - bb.y1;\n    expandBoundingBox(bb, 1);\n    updateBounds(bounds, bb.x1, bb.y1, bb.x2, bb.y2);\n  }\n};\n\nvar updateBoundsFromLabel = function updateBoundsFromLabel(bounds, ele, prefix) {\n  if (ele.cy().headless()) {\n    return;\n  }\n\n  var prefixDash;\n\n  if (prefix) {\n    prefixDash = prefix + '-';\n  } else {\n    prefixDash = '';\n  }\n\n  var _p = ele._private;\n  var rstyle = _p.rstyle;\n  var label = ele.pstyle(prefixDash + 'label').strValue;\n\n  if (label) {\n    var halign = ele.pstyle('text-halign');\n    var valign = ele.pstyle('text-valign');\n    var labelWidth = prefixedProperty(rstyle, 'labelWidth', prefix);\n    var labelHeight = prefixedProperty(rstyle, 'labelHeight', prefix);\n    var labelX = prefixedProperty(rstyle, 'labelX', prefix);\n    var labelY = prefixedProperty(rstyle, 'labelY', prefix);\n    var marginX = ele.pstyle(prefixDash + 'text-margin-x').pfValue;\n    var marginY = ele.pstyle(prefixDash + 'text-margin-y').pfValue;\n    var isEdge = ele.isEdge();\n    var rotation = ele.pstyle(prefixDash + 'text-rotation');\n    var outlineWidth = ele.pstyle('text-outline-width').pfValue;\n    var borderWidth = ele.pstyle('text-border-width').pfValue;\n    var halfBorderWidth = borderWidth / 2;\n    var padding = ele.pstyle('text-background-padding').pfValue;\n    var lh = labelHeight;\n    var lw = labelWidth;\n    var lw_2 = lw / 2;\n    var lh_2 = lh / 2;\n    var lx1, lx2, ly1, ly2;\n\n    if (isEdge) {\n      lx1 = labelX - lw_2;\n      lx2 = labelX + lw_2;\n      ly1 = labelY - lh_2;\n      ly2 = labelY + lh_2;\n    } else {\n      switch (halign.value) {\n        case 'left':\n          lx1 = labelX - lw;\n          lx2 = labelX;\n          break;\n\n        case 'center':\n          lx1 = labelX - lw_2;\n          lx2 = labelX + lw_2;\n          break;\n\n        case 'right':\n          lx1 = labelX;\n          lx2 = labelX + lw;\n          break;\n      }\n\n      switch (valign.value) {\n        case 'top':\n          ly1 = labelY - lh;\n          ly2 = labelY;\n          break;\n\n        case 'center':\n          ly1 = labelY - lh_2;\n          ly2 = labelY + lh_2;\n          break;\n\n        case 'bottom':\n          ly1 = labelY;\n          ly2 = labelY + lh;\n          break;\n      }\n    } // shift by margin and expand by outline and border\n\n\n    lx1 += marginX - Math.max(outlineWidth, halfBorderWidth) - padding;\n    lx2 += marginX + Math.max(outlineWidth, halfBorderWidth) + padding;\n    ly1 += marginY - Math.max(outlineWidth, halfBorderWidth) - padding;\n    ly2 += marginY + Math.max(outlineWidth, halfBorderWidth) + padding; // always store the unrotated label bounds separately\n\n    var bbPrefix = prefix || 'main';\n    var bbs = _p.labelBounds;\n    var bb = bbs[bbPrefix] = bbs[bbPrefix] || {};\n    bb.x1 = lx1;\n    bb.y1 = ly1;\n    bb.x2 = lx2;\n    bb.y2 = ly2;\n    bb.w = lx2 - lx1;\n    bb.h = ly2 - ly1;\n    expandBoundingBox(bb, 1); // expand to work around browser dimension inaccuracies\n\n    var isAutorotate = isEdge && rotation.strValue === 'autorotate';\n    var isPfValue = rotation.pfValue != null && rotation.pfValue !== 0;\n\n    if (isAutorotate || isPfValue) {\n      var theta = isAutorotate ? prefixedProperty(_p.rstyle, 'labelAngle', prefix) : rotation.pfValue;\n      var cos = Math.cos(theta);\n      var sin = Math.sin(theta); // rotation point (default value for center-center)\n\n      var xo = (lx1 + lx2) / 2;\n      var yo = (ly1 + ly2) / 2;\n\n      if (!isEdge) {\n        switch (halign.value) {\n          case 'left':\n            xo = lx2;\n            break;\n\n          case 'right':\n            xo = lx1;\n            break;\n        }\n\n        switch (valign.value) {\n          case 'top':\n            yo = ly2;\n            break;\n\n          case 'bottom':\n            yo = ly1;\n            break;\n        }\n      }\n\n      var rotate = function rotate(x, y) {\n        x = x - xo;\n        y = y - yo;\n        return {\n          x: x * cos - y * sin + xo,\n          y: x * sin + y * cos + yo\n        };\n      };\n\n      var px1y1 = rotate(lx1, ly1);\n      var px1y2 = rotate(lx1, ly2);\n      var px2y1 = rotate(lx2, ly1);\n      var px2y2 = rotate(lx2, ly2);\n      lx1 = Math.min(px1y1.x, px1y2.x, px2y1.x, px2y2.x);\n      lx2 = Math.max(px1y1.x, px1y2.x, px2y1.x, px2y2.x);\n      ly1 = Math.min(px1y1.y, px1y2.y, px2y1.y, px2y2.y);\n      ly2 = Math.max(px1y1.y, px1y2.y, px2y1.y, px2y2.y);\n    }\n\n    var bbPrefixRot = bbPrefix + 'Rot';\n    var bbRot = bbs[bbPrefixRot] = bbs[bbPrefixRot] || {};\n    bbRot.x1 = lx1;\n    bbRot.y1 = ly1;\n    bbRot.x2 = lx2;\n    bbRot.y2 = ly2;\n    bbRot.w = lx2 - lx1;\n    bbRot.h = ly2 - ly1;\n    updateBounds(bounds, lx1, ly1, lx2, ly2);\n    updateBounds(_p.labelBounds.all, lx1, ly1, lx2, ly2);\n  }\n\n  return bounds;\n}; // get the bounding box of the elements (in raw model position)\n\n\nvar boundingBoxImpl = function boundingBoxImpl(ele, options) {\n  var cy = ele._private.cy;\n  var styleEnabled = cy.styleEnabled();\n  var headless = cy.headless();\n  var bounds = makeBoundingBox();\n  var _p = ele._private;\n  var isNode = ele.isNode();\n  var isEdge = ele.isEdge();\n  var ex1, ex2, ey1, ey2; // extrema of body / lines\n\n  var x, y; // node pos\n\n  var rstyle = _p.rstyle;\n  var manualExpansion = isNode && styleEnabled ? ele.pstyle('bounds-expansion').pfValue : [0]; // must use `display` prop only, as reading `compound.width()` causes recursion\n  // (other factors like width values will be considered later in this function anyway)\n\n  var isDisplayed = function isDisplayed(ele) {\n    return ele.pstyle('display').value !== 'none';\n  };\n\n  var displayed = !styleEnabled || isDisplayed(ele) // must take into account connected nodes b/c of implicit edge hiding on display:none node\n  && (!isEdge || isDisplayed(ele.source()) && isDisplayed(ele.target()));\n\n  if (displayed) {\n    // displayed suffices, since we will find zero area eles anyway\n    var overlayOpacity = 0;\n    var overlayPadding = 0;\n\n    if (styleEnabled && options.includeOverlays) {\n      overlayOpacity = ele.pstyle('overlay-opacity').value;\n\n      if (overlayOpacity !== 0) {\n        overlayPadding = ele.pstyle('overlay-padding').value;\n      }\n    }\n\n    var w = 0;\n    var wHalf = 0;\n\n    if (styleEnabled) {\n      w = ele.pstyle('width').pfValue;\n      wHalf = w / 2;\n    }\n\n    if (isNode && options.includeNodes) {\n      var pos = ele.position();\n      x = pos.x;\n      y = pos.y;\n\n      var _w = ele.outerWidth();\n\n      var halfW = _w / 2;\n      var h = ele.outerHeight();\n      var halfH = h / 2; // handle node dimensions\n      /////////////////////////\n\n      ex1 = x - halfW;\n      ex2 = x + halfW;\n      ey1 = y - halfH;\n      ey2 = y + halfH;\n      updateBounds(bounds, ex1, ey1, ex2, ey2);\n    } else if (isEdge && options.includeEdges) {\n      if (styleEnabled && !headless) {\n        var curveStyle = ele.pstyle('curve-style').strValue; // handle edge dimensions (rough box estimate)\n        //////////////////////////////////////////////\n\n        ex1 = Math.min(rstyle.srcX, rstyle.midX, rstyle.tgtX);\n        ex2 = Math.max(rstyle.srcX, rstyle.midX, rstyle.tgtX);\n        ey1 = Math.min(rstyle.srcY, rstyle.midY, rstyle.tgtY);\n        ey2 = Math.max(rstyle.srcY, rstyle.midY, rstyle.tgtY); // take into account edge width\n\n        ex1 -= wHalf;\n        ex2 += wHalf;\n        ey1 -= wHalf;\n        ey2 += wHalf;\n        updateBounds(bounds, ex1, ey1, ex2, ey2); // precise edges\n        ////////////////\n\n        if (curveStyle === 'haystack') {\n          var hpts = rstyle.haystackPts;\n\n          if (hpts && hpts.length === 2) {\n            ex1 = hpts[0].x;\n            ey1 = hpts[0].y;\n            ex2 = hpts[1].x;\n            ey2 = hpts[1].y;\n\n            if (ex1 > ex2) {\n              var temp = ex1;\n              ex1 = ex2;\n              ex2 = temp;\n            }\n\n            if (ey1 > ey2) {\n              var _temp = ey1;\n              ey1 = ey2;\n              ey2 = _temp;\n            }\n\n            updateBounds(bounds, ex1 - wHalf, ey1 - wHalf, ex2 + wHalf, ey2 + wHalf);\n          }\n        } else if (curveStyle === 'bezier' || curveStyle === 'unbundled-bezier' || curveStyle === 'segments' || curveStyle === 'taxi') {\n          var pts;\n\n          switch (curveStyle) {\n            case 'bezier':\n            case 'unbundled-bezier':\n              pts = rstyle.bezierPts;\n              break;\n\n            case 'segments':\n            case 'taxi':\n              pts = rstyle.linePts;\n              break;\n          }\n\n          if (pts != null) {\n            for (var j = 0; j < pts.length; j++) {\n              var pt = pts[j];\n              ex1 = pt.x - wHalf;\n              ex2 = pt.x + wHalf;\n              ey1 = pt.y - wHalf;\n              ey2 = pt.y + wHalf;\n              updateBounds(bounds, ex1, ey1, ex2, ey2);\n            }\n          }\n        } // bezier-like or segment-like edge\n\n      } else {\n        // headless or style disabled\n        // fallback on source and target positions\n        //////////////////////////////////////////\n        var n1 = ele.source();\n        var n1pos = n1.position();\n        var n2 = ele.target();\n        var n2pos = n2.position();\n        ex1 = n1pos.x;\n        ex2 = n2pos.x;\n        ey1 = n1pos.y;\n        ey2 = n2pos.y;\n\n        if (ex1 > ex2) {\n          var _temp2 = ex1;\n          ex1 = ex2;\n          ex2 = _temp2;\n        }\n\n        if (ey1 > ey2) {\n          var _temp3 = ey1;\n          ey1 = ey2;\n          ey2 = _temp3;\n        } // take into account edge width\n\n\n        ex1 -= wHalf;\n        ex2 += wHalf;\n        ey1 -= wHalf;\n        ey2 += wHalf;\n        updateBounds(bounds, ex1, ey1, ex2, ey2);\n      } // headless or style disabled\n\n    } // edges\n    // handle edge arrow size\n    /////////////////////////\n\n\n    if (styleEnabled && options.includeEdges && isEdge) {\n      updateBoundsFromArrow(bounds, ele, 'mid-source');\n      updateBoundsFromArrow(bounds, ele, 'mid-target');\n      updateBoundsFromArrow(bounds, ele, 'source');\n      updateBoundsFromArrow(bounds, ele, 'target');\n    } // ghost\n    ////////\n\n\n    if (styleEnabled) {\n      var ghost = ele.pstyle('ghost').value === 'yes';\n\n      if (ghost) {\n        var gx = ele.pstyle('ghost-offset-x').pfValue;\n        var gy = ele.pstyle('ghost-offset-y').pfValue;\n        updateBounds(bounds, bounds.x1 + gx, bounds.y1 + gy, bounds.x2 + gx, bounds.y2 + gy);\n      }\n    } // always store the body bounds separately from the labels\n\n\n    var bbBody = _p.bodyBounds = _p.bodyBounds || {};\n    assignBoundingBox(bbBody, bounds);\n    expandBoundingBoxSides(bbBody, manualExpansion);\n    expandBoundingBox(bbBody, 1); // expand to work around browser dimension inaccuracies\n    // overlay\n    //////////\n\n    if (styleEnabled) {\n      ex1 = bounds.x1;\n      ex2 = bounds.x2;\n      ey1 = bounds.y1;\n      ey2 = bounds.y2;\n      updateBounds(bounds, ex1 - overlayPadding, ey1 - overlayPadding, ex2 + overlayPadding, ey2 + overlayPadding);\n    } // always store the body bounds separately from the labels\n\n\n    var bbOverlay = _p.overlayBounds = _p.overlayBounds || {};\n    assignBoundingBox(bbOverlay, bounds);\n    expandBoundingBoxSides(bbOverlay, manualExpansion);\n    expandBoundingBox(bbOverlay, 1); // expand to work around browser dimension inaccuracies\n    // handle label dimensions\n    //////////////////////////\n\n    var bbLabels = _p.labelBounds = _p.labelBounds || {};\n\n    if (bbLabels.all != null) {\n      clearBoundingBox(bbLabels.all);\n    } else {\n      bbLabels.all = makeBoundingBox();\n    }\n\n    if (styleEnabled && options.includeLabels) {\n      if (options.includeMainLabels) {\n        updateBoundsFromLabel(bounds, ele, null);\n      }\n\n      if (isEdge) {\n        if (options.includeSourceLabels) {\n          updateBoundsFromLabel(bounds, ele, 'source');\n        }\n\n        if (options.includeTargetLabels) {\n          updateBoundsFromLabel(bounds, ele, 'target');\n        }\n      }\n    } // style enabled for labels\n\n  } // if displayed\n\n\n  bounds.x1 = noninf(bounds.x1);\n  bounds.y1 = noninf(bounds.y1);\n  bounds.x2 = noninf(bounds.x2);\n  bounds.y2 = noninf(bounds.y2);\n  bounds.w = noninf(bounds.x2 - bounds.x1);\n  bounds.h = noninf(bounds.y2 - bounds.y1);\n\n  if (bounds.w > 0 && bounds.h > 0 && displayed) {\n    expandBoundingBoxSides(bounds, manualExpansion); // expand bounds by 1 because antialiasing can increase the visual/effective size by 1 on all sides\n\n    expandBoundingBox(bounds, 1);\n  }\n\n  return bounds;\n};\n\nvar getKey = function getKey(opts) {\n  var i = 0;\n\n  var tf = function tf(val) {\n    return (val ? 1 : 0) << i++;\n  };\n\n  var key = 0;\n  key += tf(opts.incudeNodes);\n  key += tf(opts.includeEdges);\n  key += tf(opts.includeLabels);\n  key += tf(opts.includeMainLabels);\n  key += tf(opts.includeSourceLabels);\n  key += tf(opts.includeTargetLabels);\n  key += tf(opts.includeOverlays);\n  return key;\n};\n\nvar getBoundingBoxPosKey = function getBoundingBoxPosKey(ele) {\n  if (ele.isEdge()) {\n    var p1 = ele.source().position();\n    var p2 = ele.target().position();\n\n    var r = function r(x) {\n      return Math.round(x);\n    };\n\n    return hashIntsArray([r(p1.x), r(p1.y), r(p2.x), r(p2.y)]);\n  } else {\n    return 0;\n  }\n};\n\nvar cachedBoundingBoxImpl = function cachedBoundingBoxImpl(ele, opts) {\n  var _p = ele._private;\n  var bb;\n  var isEdge = ele.isEdge();\n  var key = opts == null ? defBbOptsKey : getKey(opts);\n  var usingDefOpts = key === defBbOptsKey;\n  var currPosKey = getBoundingBoxPosKey(ele);\n  var isPosKeySame = _p.bbCachePosKey === currPosKey;\n  var useCache = opts.useCache && isPosKeySame;\n\n  var isDirty = function isDirty(ele) {\n    return ele._private.bbCache == null;\n  };\n\n  var needRecalc = !useCache || isDirty(ele) || isEdge && isDirty(ele.source()) || isDirty(ele.target());\n\n  if (needRecalc) {\n    if (!isPosKeySame) {\n      ele.recalculateRenderedStyle();\n    }\n\n    bb = boundingBoxImpl(ele, defBbOpts);\n    _p.bbCache = bb;\n    _p.bbCacheShift.x = _p.bbCacheShift.y = 0;\n    _p.bbCachePosKey = currPosKey;\n  } else {\n    bb = _p.bbCache;\n  }\n\n  if (!needRecalc && (_p.bbCacheShift.x !== 0 || _p.bbCacheShift.y !== 0)) {\n    var shift = assignShiftToBoundingBox;\n    var delta = _p.bbCacheShift;\n\n    var safeShift = function safeShift(bb, delta) {\n      if (bb != null) {\n        shift(bb, delta);\n      }\n    };\n\n    shift(bb, delta);\n    var bodyBounds = _p.bodyBounds,\n        overlayBounds = _p.overlayBounds,\n        labelBounds = _p.labelBounds,\n        arrowBounds = _p.arrowBounds;\n    safeShift(bodyBounds, delta);\n    safeShift(overlayBounds, delta);\n\n    if (arrowBounds != null) {\n      safeShift(arrowBounds.source, delta);\n      safeShift(arrowBounds.target, delta);\n      safeShift(arrowBounds['mid-source'], delta);\n      safeShift(arrowBounds['mid-target'], delta);\n    }\n\n    if (labelBounds != null) {\n      safeShift(labelBounds.main, delta);\n      safeShift(labelBounds.all, delta);\n      safeShift(labelBounds.source, delta);\n      safeShift(labelBounds.target, delta);\n    }\n  } // always reset the shift, because we either applied the shift or cleared it by doing a fresh recalc\n\n\n  _p.bbCacheShift.x = _p.bbCacheShift.y = 0; // not using def opts => need to build up bb from combination of sub bbs\n\n  if (!usingDefOpts) {\n    var isNode = ele.isNode();\n    bb = makeBoundingBox();\n\n    if (opts.includeNodes && isNode || opts.includeEdges && !isNode) {\n      if (opts.includeOverlays) {\n        updateBoundsFromBox(bb, _p.overlayBounds);\n      } else {\n        updateBoundsFromBox(bb, _p.bodyBounds);\n      }\n    }\n\n    if (opts.includeLabels) {\n      if (opts.includeMainLabels && (!isEdge || opts.includeSourceLabels && opts.includeTargetLabels)) {\n        updateBoundsFromBox(bb, _p.labelBounds.all);\n      } else {\n        if (opts.includeMainLabels) {\n          updateBoundsFromBox(bb, _p.labelBounds.mainRot);\n        }\n\n        if (opts.includeSourceLabels) {\n          updateBoundsFromBox(bb, _p.labelBounds.sourceRot);\n        }\n\n        if (opts.includeTargetLabels) {\n          updateBoundsFromBox(bb, _p.labelBounds.targetRot);\n        }\n      }\n    }\n\n    bb.w = bb.x2 - bb.x1;\n    bb.h = bb.y2 - bb.y1;\n  }\n\n  return bb;\n};\n\nvar defBbOpts = {\n  includeNodes: true,\n  includeEdges: true,\n  includeLabels: true,\n  includeMainLabels: true,\n  includeSourceLabels: true,\n  includeTargetLabels: true,\n  includeOverlays: true,\n  useCache: true\n};\nvar defBbOptsKey = getKey(defBbOpts);\nvar filledBbOpts = defaults(defBbOpts);\n\nelesfn$k.boundingBox = function (options) {\n  var bounds; // the main usecase is ele.boundingBox() for a single element with no/def options\n  // specified s.t. the cache is used, so check for this case to make it faster by\n  // avoiding the overhead of the rest of the function\n\n  if (this.length === 1 && this[0]._private.bbCache != null && (options === undefined || options.useCache === undefined || options.useCache === true)) {\n    if (options === undefined) {\n      options = defBbOpts;\n    } else {\n      options = filledBbOpts(options);\n    }\n\n    bounds = cachedBoundingBoxImpl(this[0], options);\n  } else {\n    bounds = makeBoundingBox();\n    options = options || defBbOpts;\n    var opts = filledBbOpts(options);\n    var eles = this;\n    var cy = eles.cy();\n    var styleEnabled = cy.styleEnabled();\n\n    if (styleEnabled) {\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        var _p = ele._private;\n        var currPosKey = getBoundingBoxPosKey(ele);\n        var isPosKeySame = _p.bbCachePosKey === currPosKey;\n        var useCache = opts.useCache && isPosKeySame;\n        ele.recalculateRenderedStyle(useCache);\n      }\n    }\n\n    this.updateCompoundBounds();\n\n    for (var _i = 0; _i < eles.length; _i++) {\n      var _ele = eles[_i];\n      updateBoundsFromBox(bounds, cachedBoundingBoxImpl(_ele, opts));\n    }\n  }\n\n  bounds.x1 = noninf(bounds.x1);\n  bounds.y1 = noninf(bounds.y1);\n  bounds.x2 = noninf(bounds.x2);\n  bounds.y2 = noninf(bounds.y2);\n  bounds.w = noninf(bounds.x2 - bounds.x1);\n  bounds.h = noninf(bounds.y2 - bounds.y1);\n  return bounds;\n};\n\nelesfn$k.dirtyBoundingBoxCache = function () {\n  for (var i = 0; i < this.length; i++) {\n    var _p = this[i]._private;\n    _p.bbCache = null;\n    _p.bbCacheShift.x = _p.bbCacheShift.y = 0;\n    _p.bbCachePosKey = null;\n    _p.bodyBounds = null;\n    _p.overlayBounds = null;\n    _p.labelBounds.all = null;\n    _p.labelBounds.source = null;\n    _p.labelBounds.target = null;\n    _p.labelBounds.main = null;\n    _p.labelBounds.sourceRot = null;\n    _p.labelBounds.targetRot = null;\n    _p.labelBounds.mainRot = null;\n    _p.arrowBounds.source = null;\n    _p.arrowBounds.target = null;\n    _p.arrowBounds['mid-source'] = null;\n    _p.arrowBounds['mid-target'] = null;\n  }\n\n  this.emitAndNotify('bounds');\n  return this;\n};\n\nelesfn$k.shiftCachedBoundingBox = function (delta) {\n  for (var i = 0; i < this.length; i++) {\n    var ele = this[i];\n    var _p = ele._private;\n    var bb = _p.bbCache;\n\n    if (bb != null) {\n      _p.bbCacheShift.x += delta.x;\n      _p.bbCacheShift.y += delta.y;\n    }\n  }\n\n  this.emitAndNotify('bounds');\n  return this;\n}; // private helper to get bounding box for custom node positions\n// - good for perf in certain cases but currently requires dirtying the rendered style\n// - would be better to not modify the nodes but the nodes are read directly everywhere in the renderer...\n// - try to use for only things like discrete layouts where the node position would change anyway\n\n\nelesfn$k.boundingBoxAt = function (fn) {\n  var nodes = this.nodes();\n  var cy = this.cy();\n  var hasCompoundNodes = cy.hasCompoundNodes();\n\n  if (hasCompoundNodes) {\n    nodes = nodes.filter(function (node) {\n      return !node.isParent();\n    });\n  }\n\n  if (plainObject(fn)) {\n    var obj = fn;\n\n    fn = function fn() {\n      return obj;\n    };\n  }\n\n  var storeOldPos = function storeOldPos(node, i) {\n    return node._private.bbAtOldPos = fn(node, i);\n  };\n\n  var getOldPos = function getOldPos(node) {\n    return node._private.bbAtOldPos;\n  };\n\n  cy.startBatch();\n  nodes.forEach(storeOldPos).silentPositions(fn);\n\n  if (hasCompoundNodes) {\n    this.updateCompoundBounds(true); // force update b/c we're inside a batch cycle\n  }\n\n  var bb = copyBoundingBox(this.boundingBox({\n    useCache: false\n  }));\n  nodes.silentPositions(getOldPos);\n  cy.endBatch();\n  return bb;\n};\n\nfn$3.boundingbox = fn$3.bb = fn$3.boundingBox;\nfn$3.renderedBoundingbox = fn$3.renderedBoundingBox;\nvar bounds = elesfn$k;\n\nvar fn$4, elesfn$l;\nfn$4 = elesfn$l = {};\n\nvar defineDimFns = function defineDimFns(opts) {\n  opts.uppercaseName = capitalize(opts.name);\n  opts.autoName = 'auto' + opts.uppercaseName;\n  opts.labelName = 'label' + opts.uppercaseName;\n  opts.outerName = 'outer' + opts.uppercaseName;\n  opts.uppercaseOuterName = capitalize(opts.outerName);\n\n  fn$4[opts.name] = function dimImpl() {\n    var ele = this[0];\n    var _p = ele._private;\n    var cy = _p.cy;\n    var styleEnabled = cy._private.styleEnabled;\n\n    if (ele) {\n      if (styleEnabled) {\n        if (ele.isParent()) {\n          ele.updateCompoundBounds();\n          return _p[opts.autoName] || 0;\n        }\n\n        var d = ele.pstyle(opts.name);\n\n        switch (d.strValue) {\n          case 'label':\n            ele.recalculateRenderedStyle();\n            return _p.rstyle[opts.labelName] || 0;\n\n          default:\n            return d.pfValue;\n        }\n      } else {\n        return 1;\n      }\n    }\n  };\n\n  fn$4['outer' + opts.uppercaseName] = function outerDimImpl() {\n    var ele = this[0];\n    var _p = ele._private;\n    var cy = _p.cy;\n    var styleEnabled = cy._private.styleEnabled;\n\n    if (ele) {\n      if (styleEnabled) {\n        var dim = ele[opts.name]();\n        var border = ele.pstyle('border-width').pfValue; // n.b. 1/2 each side\n\n        var padding = 2 * ele.padding();\n        return dim + border + padding;\n      } else {\n        return 1;\n      }\n    }\n  };\n\n  fn$4['rendered' + opts.uppercaseName] = function renderedDimImpl() {\n    var ele = this[0];\n\n    if (ele) {\n      var d = ele[opts.name]();\n      return d * this.cy().zoom();\n    }\n  };\n\n  fn$4['rendered' + opts.uppercaseOuterName] = function renderedOuterDimImpl() {\n    var ele = this[0];\n\n    if (ele) {\n      var od = ele[opts.outerName]();\n      return od * this.cy().zoom();\n    }\n  };\n};\n\ndefineDimFns({\n  name: 'width'\n});\ndefineDimFns({\n  name: 'height'\n});\n\nelesfn$l.padding = function () {\n  var ele = this[0];\n  var _p = ele._private;\n\n  if (ele.isParent()) {\n    ele.updateCompoundBounds();\n\n    if (_p.autoPadding !== undefined) {\n      return _p.autoPadding;\n    } else {\n      return ele.pstyle('padding').pfValue;\n    }\n  } else {\n    return ele.pstyle('padding').pfValue;\n  }\n};\n\nelesfn$l.paddedHeight = function () {\n  var ele = this[0];\n  return ele.height() + 2 * ele.padding();\n};\n\nelesfn$l.paddedWidth = function () {\n  var ele = this[0];\n  return ele.width() + 2 * ele.padding();\n};\n\nvar widthHeight = elesfn$l;\n\nvar ifEdge = function ifEdge(ele, getValue) {\n  if (ele.isEdge()) {\n    return getValue(ele);\n  }\n};\n\nvar ifEdgeRenderedPosition = function ifEdgeRenderedPosition(ele, getPoint) {\n  if (ele.isEdge()) {\n    var cy = ele.cy();\n    return modelToRenderedPosition(getPoint(ele), cy.zoom(), cy.pan());\n  }\n};\n\nvar ifEdgeRenderedPositions = function ifEdgeRenderedPositions(ele, getPoints) {\n  if (ele.isEdge()) {\n    var cy = ele.cy();\n    var pan = cy.pan();\n    var zoom = cy.zoom();\n    return getPoints(ele).map(function (p) {\n      return modelToRenderedPosition(p, zoom, pan);\n    });\n  }\n};\n\nvar controlPoints = function controlPoints(ele) {\n  return ele.renderer().getControlPoints(ele);\n};\n\nvar segmentPoints = function segmentPoints(ele) {\n  return ele.renderer().getSegmentPoints(ele);\n};\n\nvar sourceEndpoint = function sourceEndpoint(ele) {\n  return ele.renderer().getSourceEndpoint(ele);\n};\n\nvar targetEndpoint = function targetEndpoint(ele) {\n  return ele.renderer().getTargetEndpoint(ele);\n};\n\nvar midpoint = function midpoint(ele) {\n  return ele.renderer().getEdgeMidpoint(ele);\n};\n\nvar pts = {\n  controlPoints: {\n    get: controlPoints,\n    mult: true\n  },\n  segmentPoints: {\n    get: segmentPoints,\n    mult: true\n  },\n  sourceEndpoint: {\n    get: sourceEndpoint\n  },\n  targetEndpoint: {\n    get: targetEndpoint\n  },\n  midpoint: {\n    get: midpoint\n  }\n};\n\nvar renderedName = function renderedName(name) {\n  return 'rendered' + name[0].toUpperCase() + name.substr(1);\n};\n\nvar edgePoints = Object.keys(pts).reduce(function (obj, name) {\n  var spec = pts[name];\n  var rName = renderedName(name);\n\n  obj[name] = function () {\n    return ifEdge(this, spec.get);\n  };\n\n  if (spec.mult) {\n    obj[rName] = function () {\n      return ifEdgeRenderedPositions(this, spec.get);\n    };\n  } else {\n    obj[rName] = function () {\n      return ifEdgeRenderedPosition(this, spec.get);\n    };\n  }\n\n  return obj;\n}, {});\n\nvar dimensions = extend({}, position, bounds, widthHeight, edgePoints);\n\n/*!\nEvent object based on jQuery events, MIT license\n\nhttps://jquery.org/license/\nhttps://tldrlegal.com/license/mit-license\nhttps://github.com/jquery/jquery/blob/master/src/event.js\n*/\nvar Event = function Event(src, props) {\n  this.recycle(src, props);\n};\n\nfunction returnFalse() {\n  return false;\n}\n\nfunction returnTrue() {\n  return true;\n} // http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\n\n\nEvent.prototype = {\n  instanceString: function instanceString() {\n    return 'event';\n  },\n  recycle: function recycle(src, props) {\n    this.isImmediatePropagationStopped = this.isPropagationStopped = this.isDefaultPrevented = returnFalse;\n\n    if (src != null && src.preventDefault) {\n      // Browser Event object\n      this.type = src.type; // Events bubbling up the document may have been marked as prevented\n      // by a handler lower down the tree; reflect the correct value.\n\n      this.isDefaultPrevented = src.defaultPrevented ? returnTrue : returnFalse;\n    } else if (src != null && src.type) {\n      // Plain object containing all event details\n      props = src;\n    } else {\n      // Event string\n      this.type = src;\n    } // Put explicitly provided properties onto the event object\n\n\n    if (props != null) {\n      // more efficient to manually copy fields we use\n      this.originalEvent = props.originalEvent;\n      this.type = props.type != null ? props.type : this.type;\n      this.cy = props.cy;\n      this.target = props.target;\n      this.position = props.position;\n      this.renderedPosition = props.renderedPosition;\n      this.namespace = props.namespace;\n      this.layout = props.layout;\n    }\n\n    if (this.cy != null && this.position != null && this.renderedPosition == null) {\n      // create a rendered position based on the passed position\n      var pos = this.position;\n      var zoom = this.cy.zoom();\n      var pan = this.cy.pan();\n      this.renderedPosition = {\n        x: pos.x * zoom + pan.x,\n        y: pos.y * zoom + pan.y\n      };\n    } // Create a timestamp if incoming event doesn't have one\n\n\n    this.timeStamp = src && src.timeStamp || Date.now();\n  },\n  preventDefault: function preventDefault() {\n    this.isDefaultPrevented = returnTrue;\n    var e = this.originalEvent;\n\n    if (!e) {\n      return;\n    } // if preventDefault exists run it on the original event\n\n\n    if (e.preventDefault) {\n      e.preventDefault();\n    }\n  },\n  stopPropagation: function stopPropagation() {\n    this.isPropagationStopped = returnTrue;\n    var e = this.originalEvent;\n\n    if (!e) {\n      return;\n    } // if stopPropagation exists run it on the original event\n\n\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    }\n  },\n  stopImmediatePropagation: function stopImmediatePropagation() {\n    this.isImmediatePropagationStopped = returnTrue;\n    this.stopPropagation();\n  },\n  isDefaultPrevented: returnFalse,\n  isPropagationStopped: returnFalse,\n  isImmediatePropagationStopped: returnFalse\n};\n\nvar eventRegex = /^([^.]+)(\\.(?:[^.]+))?$/; // regex for matching event strings (e.g. \"click.namespace\")\n\nvar universalNamespace = '.*'; // matches as if no namespace specified and prevents users from unbinding accidentally\n\nvar defaults$8 = {\n  qualifierCompare: function qualifierCompare(q1, q2) {\n    return q1 === q2;\n  },\n  eventMatches: function eventMatches()\n  /*context, listener, eventObj*/\n  {\n    return true;\n  },\n  addEventFields: function addEventFields()\n  /*context, evt*/\n  {},\n  callbackContext: function callbackContext(context\n  /*, listener, eventObj*/\n  ) {\n    return context;\n  },\n  beforeEmit: function beforeEmit()\n  /* context, listener, eventObj */\n  {},\n  afterEmit: function afterEmit()\n  /* context, listener, eventObj */\n  {},\n  bubble: function bubble()\n  /*context*/\n  {\n    return false;\n  },\n  parent: function parent()\n  /*context*/\n  {\n    return null;\n  },\n  context: null\n};\nvar defaultsKeys = Object.keys(defaults$8);\nvar emptyOpts = {};\n\nfunction Emitter() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : emptyOpts;\n  var context = arguments.length > 1 ? arguments[1] : undefined;\n\n  // micro-optimisation vs Object.assign() -- reduces Element instantiation time\n  for (var i = 0; i < defaultsKeys.length; i++) {\n    var key = defaultsKeys[i];\n    this[key] = opts[key] || defaults$8[key];\n  }\n\n  this.context = context || this.context;\n  this.listeners = [];\n  this.emitting = 0;\n}\n\nvar p = Emitter.prototype;\n\nvar forEachEvent = function forEachEvent(self, handler, events, qualifier, callback, conf, confOverrides) {\n  if (fn(qualifier)) {\n    callback = qualifier;\n    qualifier = null;\n  }\n\n  if (confOverrides) {\n    if (conf == null) {\n      conf = confOverrides;\n    } else {\n      conf = extend({}, conf, confOverrides);\n    }\n  }\n\n  var eventList = array(events) ? events : events.split(/\\s+/);\n\n  for (var i = 0; i < eventList.length; i++) {\n    var evt = eventList[i];\n\n    if (emptyString(evt)) {\n      continue;\n    }\n\n    var match = evt.match(eventRegex); // type[.namespace]\n\n    if (match) {\n      var type = match[1];\n      var namespace = match[2] ? match[2] : null;\n      var ret = handler(self, evt, type, namespace, qualifier, callback, conf);\n\n      if (ret === false) {\n        break;\n      } // allow exiting early\n\n    }\n  }\n};\n\nvar makeEventObj = function makeEventObj(self, obj) {\n  self.addEventFields(self.context, obj);\n  return new Event(obj.type, obj);\n};\n\nvar forEachEventObj = function forEachEventObj(self, handler, events) {\n  if (event(events)) {\n    handler(self, events);\n    return;\n  } else if (plainObject(events)) {\n    handler(self, makeEventObj(self, events));\n    return;\n  }\n\n  var eventList = array(events) ? events : events.split(/\\s+/);\n\n  for (var i = 0; i < eventList.length; i++) {\n    var evt = eventList[i];\n\n    if (emptyString(evt)) {\n      continue;\n    }\n\n    var match = evt.match(eventRegex); // type[.namespace]\n\n    if (match) {\n      var type = match[1];\n      var namespace = match[2] ? match[2] : null;\n      var eventObj = makeEventObj(self, {\n        type: type,\n        namespace: namespace,\n        target: self.context\n      });\n      handler(self, eventObj);\n    }\n  }\n};\n\np.on = p.addListener = function (events, qualifier, callback, conf, confOverrides) {\n  forEachEvent(this, function (self, event, type, namespace, qualifier, callback, conf) {\n    if (fn(callback)) {\n      self.listeners.push({\n        event: event,\n        // full event string\n        callback: callback,\n        // callback to run\n        type: type,\n        // the event type (e.g. 'click')\n        namespace: namespace,\n        // the event namespace (e.g. \".foo\")\n        qualifier: qualifier,\n        // a restriction on whether to match this emitter\n        conf: conf // additional configuration\n\n      });\n    }\n  }, events, qualifier, callback, conf, confOverrides);\n  return this;\n};\n\np.one = function (events, qualifier, callback, conf) {\n  return this.on(events, qualifier, callback, conf, {\n    one: true\n  });\n};\n\np.removeListener = p.off = function (events, qualifier, callback, conf) {\n  var _this = this;\n\n  if (this.emitting !== 0) {\n    this.listeners = copyArray(this.listeners);\n  }\n\n  var listeners = this.listeners;\n\n  var _loop = function _loop(i) {\n    var listener = listeners[i];\n    forEachEvent(_this, function (self, event, type, namespace, qualifier, callback\n    /*, conf*/\n    ) {\n      if ((listener.type === type || events === '*') && (!namespace && listener.namespace !== '.*' || listener.namespace === namespace) && (!qualifier || self.qualifierCompare(listener.qualifier, qualifier)) && (!callback || listener.callback === callback)) {\n        listeners.splice(i, 1);\n        return false;\n      }\n    }, events, qualifier, callback, conf);\n  };\n\n  for (var i = listeners.length - 1; i >= 0; i--) {\n    _loop(i);\n  }\n\n  return this;\n};\n\np.removeAllListeners = function () {\n  return this.removeListener('*');\n};\n\np.emit = p.trigger = function (events, extraParams, manualCallback) {\n  var listeners = this.listeners;\n  var numListenersBeforeEmit = listeners.length;\n  this.emitting++;\n\n  if (!array(extraParams)) {\n    extraParams = [extraParams];\n  }\n\n  forEachEventObj(this, function (self, eventObj) {\n    if (manualCallback != null) {\n      listeners = [{\n        event: eventObj.event,\n        type: eventObj.type,\n        namespace: eventObj.namespace,\n        callback: manualCallback\n      }];\n      numListenersBeforeEmit = listeners.length;\n    }\n\n    var _loop2 = function _loop2(i) {\n      var listener = listeners[i];\n\n      if (listener.type === eventObj.type && (!listener.namespace || listener.namespace === eventObj.namespace || listener.namespace === universalNamespace) && self.eventMatches(self.context, listener, eventObj)) {\n        var args = [eventObj];\n\n        if (extraParams != null) {\n          push(args, extraParams);\n        }\n\n        self.beforeEmit(self.context, listener, eventObj);\n\n        if (listener.conf && listener.conf.one) {\n          self.listeners = self.listeners.filter(function (l) {\n            return l !== listener;\n          });\n        }\n\n        var context = self.callbackContext(self.context, listener, eventObj);\n        var ret = listener.callback.apply(context, args);\n        self.afterEmit(self.context, listener, eventObj);\n\n        if (ret === false) {\n          eventObj.stopPropagation();\n          eventObj.preventDefault();\n        }\n      } // if listener matches\n\n    };\n\n    for (var i = 0; i < numListenersBeforeEmit; i++) {\n      _loop2(i);\n    } // for listener\n\n\n    if (self.bubble(self.context) && !eventObj.isPropagationStopped()) {\n      self.parent(self.context).emit(eventObj, extraParams);\n    }\n  }, events);\n  this.emitting--;\n  return this;\n};\n\nvar emitterOptions = {\n  qualifierCompare: function qualifierCompare(selector1, selector2) {\n    if (selector1 == null || selector2 == null) {\n      return selector1 == null && selector2 == null;\n    } else {\n      return selector1.sameText(selector2);\n    }\n  },\n  eventMatches: function eventMatches(ele, listener, eventObj) {\n    var selector = listener.qualifier;\n\n    if (selector != null) {\n      return ele !== eventObj.target && element(eventObj.target) && selector.matches(eventObj.target);\n    }\n\n    return true;\n  },\n  addEventFields: function addEventFields(ele, evt) {\n    evt.cy = ele.cy();\n    evt.target = ele;\n  },\n  callbackContext: function callbackContext(ele, listener, eventObj) {\n    return listener.qualifier != null ? eventObj.target : ele;\n  },\n  beforeEmit: function beforeEmit(context, listener\n  /*, eventObj*/\n  ) {\n    if (listener.conf && listener.conf.once) {\n      listener.conf.onceCollection.removeListener(listener.event, listener.qualifier, listener.callback);\n    }\n  },\n  bubble: function bubble() {\n    return true;\n  },\n  parent: function parent(ele) {\n    return ele.isChild() ? ele.parent() : ele.cy();\n  }\n};\n\nvar argSelector = function argSelector(arg) {\n  if (string(arg)) {\n    return new Selector(arg);\n  } else {\n    return arg;\n  }\n};\n\nvar elesfn$m = {\n  createEmitter: function createEmitter() {\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      var _p = ele._private;\n\n      if (!_p.emitter) {\n        _p.emitter = new Emitter(emitterOptions, ele);\n      }\n    }\n\n    return this;\n  },\n  emitter: function emitter() {\n    return this._private.emitter;\n  },\n  on: function on(events, selector, callback) {\n    var argSel = argSelector(selector);\n\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      ele.emitter().on(events, argSel, callback);\n    }\n\n    return this;\n  },\n  removeListener: function removeListener(events, selector, callback) {\n    var argSel = argSelector(selector);\n\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      ele.emitter().removeListener(events, argSel, callback);\n    }\n\n    return this;\n  },\n  removeAllListeners: function removeAllListeners() {\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      ele.emitter().removeAllListeners();\n    }\n\n    return this;\n  },\n  one: function one(events, selector, callback) {\n    var argSel = argSelector(selector);\n\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      ele.emitter().one(events, argSel, callback);\n    }\n\n    return this;\n  },\n  once: function once(events, selector, callback) {\n    var argSel = argSelector(selector);\n\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      ele.emitter().on(events, argSel, callback, {\n        once: true,\n        onceCollection: this\n      });\n    }\n  },\n  emit: function emit(events, extraParams) {\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      ele.emitter().emit(events, extraParams);\n    }\n\n    return this;\n  },\n  emitAndNotify: function emitAndNotify(event, extraParams) {\n    // for internal use only\n    if (this.length === 0) {\n      return;\n    } // empty collections don't need to notify anything\n    // notify renderer\n\n\n    this.cy().notify(event, this);\n    this.emit(event, extraParams);\n    return this;\n  }\n};\ndefine$3.eventAliasesOn(elesfn$m);\n\nvar elesfn$n = {\n  nodes: function nodes(selector) {\n    return this.filter(function (ele) {\n      return ele.isNode();\n    }).filter(selector);\n  },\n  edges: function edges(selector) {\n    return this.filter(function (ele) {\n      return ele.isEdge();\n    }).filter(selector);\n  },\n  // internal helper to get nodes and edges as separate collections with single iteration over elements\n  byGroup: function byGroup() {\n    var nodes = this.spawn();\n    var edges = this.spawn();\n\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n\n      if (ele.isNode()) {\n        nodes.merge(ele);\n      } else {\n        edges.merge(ele);\n      }\n    }\n\n    return {\n      nodes: nodes,\n      edges: edges\n    };\n  },\n  filter: function filter(_filter, thisArg) {\n    if (_filter === undefined) {\n      // check this first b/c it's the most common/performant case\n      return this;\n    } else if (string(_filter) || elementOrCollection(_filter)) {\n      return new Selector(_filter).filter(this);\n    } else if (fn(_filter)) {\n      var filterEles = this.spawn();\n      var eles = this;\n\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        var include = thisArg ? _filter.apply(thisArg, [ele, i, eles]) : _filter(ele, i, eles);\n\n        if (include) {\n          filterEles.merge(ele);\n        }\n      }\n\n      return filterEles;\n    }\n\n    return this.spawn(); // if not handled by above, give 'em an empty collection\n  },\n  not: function not(toRemove) {\n    if (!toRemove) {\n      return this;\n    } else {\n      if (string(toRemove)) {\n        toRemove = this.filter(toRemove);\n      }\n\n      var elements = [];\n      var rMap = toRemove._private.map;\n\n      for (var i = 0; i < this.length; i++) {\n        var element = this[i];\n        var remove = rMap.has(element.id());\n\n        if (!remove) {\n          elements.push(element);\n        }\n      }\n\n      return this.spawn(elements);\n    }\n  },\n  absoluteComplement: function absoluteComplement() {\n    var cy = this.cy();\n    return cy.mutableElements().not(this);\n  },\n  intersect: function intersect(other) {\n    // if a selector is specified, then filter by it instead\n    if (string(other)) {\n      var selector = other;\n      return this.filter(selector);\n    }\n\n    var elements = [];\n    var col1 = this;\n    var col2 = other;\n    var col1Smaller = this.length < other.length;\n    var map2 = col1Smaller ? col2._private.map : col1._private.map;\n    var col = col1Smaller ? col1 : col2;\n\n    for (var i = 0; i < col.length; i++) {\n      var id = col[i]._private.data.id;\n      var entry = map2.get(id);\n\n      if (entry) {\n        elements.push(entry.ele);\n      }\n    }\n\n    return this.spawn(elements);\n  },\n  xor: function xor(other) {\n    var cy = this._private.cy;\n\n    if (string(other)) {\n      other = cy.$(other);\n    }\n\n    var elements = [];\n    var col1 = this;\n    var col2 = other;\n\n    var add = function add(col, other) {\n      for (var i = 0; i < col.length; i++) {\n        var ele = col[i];\n        var id = ele._private.data.id;\n        var inOther = other.hasElementWithId(id);\n\n        if (!inOther) {\n          elements.push(ele);\n        }\n      }\n    };\n\n    add(col1, col2);\n    add(col2, col1);\n    return this.spawn(elements);\n  },\n  diff: function diff(other) {\n    var cy = this._private.cy;\n\n    if (string(other)) {\n      other = cy.$(other);\n    }\n\n    var left = [];\n    var right = [];\n    var both = [];\n    var col1 = this;\n    var col2 = other;\n\n    var add = function add(col, other, retEles) {\n      for (var i = 0; i < col.length; i++) {\n        var ele = col[i];\n        var id = ele._private.data.id;\n        var inOther = other.hasElementWithId(id);\n\n        if (inOther) {\n          both.push(ele);\n        } else {\n          retEles.push(ele);\n        }\n      }\n    };\n\n    add(col1, col2, left);\n    add(col2, col1, right);\n    return {\n      left: this.spawn(left, {\n        unique: true\n      }),\n      right: this.spawn(right, {\n        unique: true\n      }),\n      both: this.spawn(both, {\n        unique: true\n      })\n    };\n  },\n  add: function add(toAdd) {\n    var cy = this._private.cy;\n\n    if (!toAdd) {\n      return this;\n    }\n\n    if (string(toAdd)) {\n      var selector = toAdd;\n      toAdd = cy.mutableElements().filter(selector);\n    }\n\n    var elements = [];\n\n    for (var i = 0; i < this.length; i++) {\n      elements.push(this[i]);\n    }\n\n    var map = this._private.map;\n\n    for (var _i = 0; _i < toAdd.length; _i++) {\n      var add = !map.has(toAdd[_i].id());\n\n      if (add) {\n        elements.push(toAdd[_i]);\n      }\n    }\n\n    return this.spawn(elements);\n  },\n  // in place merge on calling collection\n  merge: function merge(toAdd) {\n    var _p = this._private;\n    var cy = _p.cy;\n\n    if (!toAdd) {\n      return this;\n    }\n\n    if (toAdd && string(toAdd)) {\n      var selector = toAdd;\n      toAdd = cy.mutableElements().filter(selector);\n    }\n\n    var map = _p.map;\n\n    for (var i = 0; i < toAdd.length; i++) {\n      var toAddEle = toAdd[i];\n      var id = toAddEle._private.data.id;\n      var add = !map.has(id);\n\n      if (add) {\n        var index = this.length++;\n        this[index] = toAddEle;\n        map.set(id, {\n          ele: toAddEle,\n          index: index\n        });\n      } else {\n        // replace\n        var _index = map.get(id).index;\n        this[_index] = toAddEle;\n        map.set(id, {\n          ele: toAddEle,\n          index: _index\n        });\n      }\n    }\n\n    return this; // chaining\n  },\n  unmergeAt: function unmergeAt(i) {\n    var ele = this[i];\n    var id = ele.id();\n    var _p = this._private;\n    var map = _p.map; // remove ele\n\n    this[i] = undefined;\n    map[\"delete\"](id);\n    var unmergedLastEle = i === this.length - 1; // replace empty spot with last ele in collection\n\n    if (this.length > 1 && !unmergedLastEle) {\n      var lastEleI = this.length - 1;\n      var lastEle = this[lastEleI];\n      var lastEleId = lastEle._private.data.id;\n      this[lastEleI] = undefined;\n      this[i] = lastEle;\n      map.set(lastEleId, {\n        ele: lastEle,\n        index: i\n      });\n    } // the collection is now 1 ele smaller\n\n\n    this.length--;\n    return this;\n  },\n  // remove single ele in place in calling collection\n  unmergeOne: function unmergeOne(ele) {\n    ele = ele[0];\n    var _p = this._private;\n    var id = ele._private.data.id;\n    var map = _p.map;\n    var entry = map.get(id);\n\n    if (!entry) {\n      return this; // no need to remove\n    }\n\n    var i = entry.index;\n    this.unmergeAt(i);\n    return this;\n  },\n  // remove eles in place on calling collection\n  unmerge: function unmerge(toRemove) {\n    var cy = this._private.cy;\n\n    if (!toRemove) {\n      return this;\n    }\n\n    if (toRemove && string(toRemove)) {\n      var selector = toRemove;\n      toRemove = cy.mutableElements().filter(selector);\n    }\n\n    for (var i = 0; i < toRemove.length; i++) {\n      this.unmergeOne(toRemove[i]);\n    }\n\n    return this; // chaining\n  },\n  unmergeBy: function unmergeBy(toRmFn) {\n    for (var i = this.length - 1; i >= 0; i--) {\n      var ele = this[i];\n\n      if (toRmFn(ele)) {\n        this.unmergeAt(i);\n      }\n    }\n\n    return this;\n  },\n  map: function map(mapFn, thisArg) {\n    var arr = [];\n    var eles = this;\n\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      var ret = thisArg ? mapFn.apply(thisArg, [ele, i, eles]) : mapFn(ele, i, eles);\n      arr.push(ret);\n    }\n\n    return arr;\n  },\n  reduce: function reduce(fn, initialValue) {\n    var val = initialValue;\n    var eles = this;\n\n    for (var i = 0; i < eles.length; i++) {\n      val = fn(val, eles[i], i, eles);\n    }\n\n    return val;\n  },\n  max: function max(valFn, thisArg) {\n    var max = -Infinity;\n    var maxEle;\n    var eles = this;\n\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      var val = thisArg ? valFn.apply(thisArg, [ele, i, eles]) : valFn(ele, i, eles);\n\n      if (val > max) {\n        max = val;\n        maxEle = ele;\n      }\n    }\n\n    return {\n      value: max,\n      ele: maxEle\n    };\n  },\n  min: function min(valFn, thisArg) {\n    var min = Infinity;\n    var minEle;\n    var eles = this;\n\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      var val = thisArg ? valFn.apply(thisArg, [ele, i, eles]) : valFn(ele, i, eles);\n\n      if (val < min) {\n        min = val;\n        minEle = ele;\n      }\n    }\n\n    return {\n      value: min,\n      ele: minEle\n    };\n  }\n}; // aliases\n\nvar fn$5 = elesfn$n;\nfn$5['u'] = fn$5['|'] = fn$5['+'] = fn$5.union = fn$5.or = fn$5.add;\nfn$5['\\\\'] = fn$5['!'] = fn$5['-'] = fn$5.difference = fn$5.relativeComplement = fn$5.subtract = fn$5.not;\nfn$5['n'] = fn$5['&'] = fn$5['.'] = fn$5.and = fn$5.intersection = fn$5.intersect;\nfn$5['^'] = fn$5['(+)'] = fn$5['(-)'] = fn$5.symmetricDifference = fn$5.symdiff = fn$5.xor;\nfn$5.fnFilter = fn$5.filterFn = fn$5.stdFilter = fn$5.filter;\nfn$5.complement = fn$5.abscomp = fn$5.absoluteComplement;\n\nvar elesfn$o = {\n  isNode: function isNode() {\n    return this.group() === 'nodes';\n  },\n  isEdge: function isEdge() {\n    return this.group() === 'edges';\n  },\n  isLoop: function isLoop() {\n    return this.isEdge() && this.source()[0] === this.target()[0];\n  },\n  isSimple: function isSimple() {\n    return this.isEdge() && this.source()[0] !== this.target()[0];\n  },\n  group: function group() {\n    var ele = this[0];\n\n    if (ele) {\n      return ele._private.group;\n    }\n  }\n};\n\n/**\n *  Elements are drawn in a specific order based on compound depth (low to high), the element type (nodes above edges),\n *  and z-index (low to high).  These styles affect how this applies:\n *\n *  z-compound-depth: May be `bottom | orphan | auto | top`.  The first drawn is `bottom`, then `orphan` which is the\n *      same depth as the root of the compound graph, followed by the default value `auto` which draws in order from\n *      root to leaves of the compound graph.  The last drawn is `top`.\n *  z-index-compare: May be `auto | manual`.  The default value is `auto` which always draws edges under nodes.\n *      `manual` ignores this convention and draws based on the `z-index` value setting.\n *  z-index: An integer value that affects the relative draw order of elements.  In general, an element with a higher\n *      `z-index` will be drawn on top of an element with a lower `z-index`.\n */\n\nvar zIndexSort = function zIndexSort(a, b) {\n  var cy = a.cy();\n  var hasCompoundNodes = cy.hasCompoundNodes();\n\n  function getDepth(ele) {\n    var style = ele.pstyle('z-compound-depth');\n\n    if (style.value === 'auto') {\n      return hasCompoundNodes ? ele.zDepth() : 0;\n    } else if (style.value === 'bottom') {\n      return -1;\n    } else if (style.value === 'top') {\n      return MAX_INT;\n    } // 'orphan'\n\n\n    return 0;\n  }\n\n  var depthDiff = getDepth(a) - getDepth(b);\n\n  if (depthDiff !== 0) {\n    return depthDiff;\n  }\n\n  function getEleDepth(ele) {\n    var style = ele.pstyle('z-index-compare');\n\n    if (style.value === 'auto') {\n      return ele.isNode() ? 1 : 0;\n    } // 'manual'\n\n\n    return 0;\n  }\n\n  var eleDiff = getEleDepth(a) - getEleDepth(b);\n\n  if (eleDiff !== 0) {\n    return eleDiff;\n  }\n\n  var zDiff = a.pstyle('z-index').value - b.pstyle('z-index').value;\n\n  if (zDiff !== 0) {\n    return zDiff;\n  } // compare indices in the core (order added to graph w/ last on top)\n\n\n  return a.poolIndex() - b.poolIndex();\n};\n\nvar elesfn$p = {\n  forEach: function forEach(fn$1, thisArg) {\n    if (fn(fn$1)) {\n      var N = this.length;\n\n      for (var i = 0; i < N; i++) {\n        var ele = this[i];\n        var ret = thisArg ? fn$1.apply(thisArg, [ele, i, this]) : fn$1(ele, i, this);\n\n        if (ret === false) {\n          break;\n        } // exit each early on return false\n\n      }\n    }\n\n    return this;\n  },\n  toArray: function toArray() {\n    var array = [];\n\n    for (var i = 0; i < this.length; i++) {\n      array.push(this[i]);\n    }\n\n    return array;\n  },\n  slice: function slice(start, end) {\n    var array = [];\n    var thisSize = this.length;\n\n    if (end == null) {\n      end = thisSize;\n    }\n\n    if (start == null) {\n      start = 0;\n    }\n\n    if (start < 0) {\n      start = thisSize + start;\n    }\n\n    if (end < 0) {\n      end = thisSize + end;\n    }\n\n    for (var i = start; i >= 0 && i < end && i < thisSize; i++) {\n      array.push(this[i]);\n    }\n\n    return this.spawn(array);\n  },\n  size: function size() {\n    return this.length;\n  },\n  eq: function eq(i) {\n    return this[i] || this.spawn();\n  },\n  first: function first() {\n    return this[0] || this.spawn();\n  },\n  last: function last() {\n    return this[this.length - 1] || this.spawn();\n  },\n  empty: function empty() {\n    return this.length === 0;\n  },\n  nonempty: function nonempty() {\n    return !this.empty();\n  },\n  sort: function sort(sortFn) {\n    if (!fn(sortFn)) {\n      return this;\n    }\n\n    var sorted = this.toArray().sort(sortFn);\n    return this.spawn(sorted);\n  },\n  sortByZIndex: function sortByZIndex() {\n    return this.sort(zIndexSort);\n  },\n  zDepth: function zDepth() {\n    var ele = this[0];\n\n    if (!ele) {\n      return undefined;\n    } // let cy = ele.cy();\n\n\n    var _p = ele._private;\n    var group = _p.group;\n\n    if (group === 'nodes') {\n      var depth = _p.data.parent ? ele.parents().size() : 0;\n\n      if (!ele.isParent()) {\n        return MAX_INT - 1; // childless nodes always on top\n      }\n\n      return depth;\n    } else {\n      var src = _p.source;\n      var tgt = _p.target;\n      var srcDepth = src.zDepth();\n      var tgtDepth = tgt.zDepth();\n      return Math.max(srcDepth, tgtDepth, 0); // depth of deepest parent\n    }\n  }\n};\nelesfn$p.each = elesfn$p.forEach;\n\nvar getLayoutDimensionOptions = defaults({\n  nodeDimensionsIncludeLabels: false\n});\nvar elesfn$q = {\n  // Calculates and returns node dimensions { x, y } based on options given\n  layoutDimensions: function layoutDimensions(options) {\n    options = getLayoutDimensionOptions(options);\n    var dims;\n\n    if (!this.takesUpSpace()) {\n      dims = {\n        w: 0,\n        h: 0\n      };\n    } else if (options.nodeDimensionsIncludeLabels) {\n      var bbDim = this.boundingBox();\n      dims = {\n        w: bbDim.w,\n        h: bbDim.h\n      };\n    } else {\n      dims = {\n        w: this.outerWidth(),\n        h: this.outerHeight()\n      };\n    } // sanitise the dimensions for external layouts (avoid division by zero)\n\n\n    if (dims.w === 0 || dims.h === 0) {\n      dims.w = dims.h = 1;\n    }\n\n    return dims;\n  },\n  // using standard layout options, apply position function (w/ or w/o animation)\n  layoutPositions: function layoutPositions(layout, options, fn) {\n    var nodes = this.nodes();\n    var cy = this.cy();\n    var layoutEles = options.eles; // nodes & edges\n\n    var getMemoizeKey = function getMemoizeKey(node) {\n      return node.id();\n    };\n\n    var fnMem = memoize(fn, getMemoizeKey); // memoized version of position function\n\n    layout.emit({\n      type: 'layoutstart',\n      layout: layout\n    });\n    layout.animations = [];\n\n    var calculateSpacing = function calculateSpacing(spacing, nodesBb, pos) {\n      var center = {\n        x: nodesBb.x1 + nodesBb.w / 2,\n        y: nodesBb.y1 + nodesBb.h / 2\n      };\n      var spacingVector = {\n        // scale from center of bounding box (not necessarily 0,0)\n        x: (pos.x - center.x) * spacing,\n        y: (pos.y - center.y) * spacing\n      };\n      return {\n        x: center.x + spacingVector.x,\n        y: center.y + spacingVector.y\n      };\n    };\n\n    var useSpacingFactor = options.spacingFactor && options.spacingFactor !== 1;\n\n    var spacingBb = function spacingBb() {\n      if (!useSpacingFactor) {\n        return null;\n      }\n\n      var bb = makeBoundingBox();\n\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var pos = fnMem(node, i);\n        expandBoundingBoxByPoint(bb, pos.x, pos.y);\n      }\n\n      return bb;\n    };\n\n    var bb = spacingBb();\n    var getFinalPos = memoize(function (node, i) {\n      var newPos = fnMem(node, i);\n\n      if (useSpacingFactor) {\n        var spacing = Math.abs(options.spacingFactor);\n        newPos = calculateSpacing(spacing, bb, newPos);\n      }\n\n      if (options.transform != null) {\n        newPos = options.transform(node, newPos);\n      }\n\n      return newPos;\n    }, getMemoizeKey);\n\n    if (options.animate) {\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var newPos = getFinalPos(node, i);\n        var animateNode = options.animateFilter == null || options.animateFilter(node, i);\n\n        if (animateNode) {\n          var ani = node.animation({\n            position: newPos,\n            duration: options.animationDuration,\n            easing: options.animationEasing\n          });\n          layout.animations.push(ani);\n        } else {\n          node.position(newPos);\n        }\n      }\n\n      if (options.fit) {\n        var fitAni = cy.animation({\n          fit: {\n            boundingBox: layoutEles.boundingBoxAt(getFinalPos),\n            padding: options.padding\n          },\n          duration: options.animationDuration,\n          easing: options.animationEasing\n        });\n        layout.animations.push(fitAni);\n      } else if (options.zoom !== undefined && options.pan !== undefined) {\n        var zoomPanAni = cy.animation({\n          zoom: options.zoom,\n          pan: options.pan,\n          duration: options.animationDuration,\n          easing: options.animationEasing\n        });\n        layout.animations.push(zoomPanAni);\n      }\n\n      layout.animations.forEach(function (ani) {\n        return ani.play();\n      });\n      layout.one('layoutready', options.ready);\n      layout.emit({\n        type: 'layoutready',\n        layout: layout\n      });\n      Promise$1.all(layout.animations.map(function (ani) {\n        return ani.promise();\n      })).then(function () {\n        layout.one('layoutstop', options.stop);\n        layout.emit({\n          type: 'layoutstop',\n          layout: layout\n        });\n      });\n    } else {\n      nodes.positions(getFinalPos);\n\n      if (options.fit) {\n        cy.fit(options.eles, options.padding);\n      }\n\n      if (options.zoom != null) {\n        cy.zoom(options.zoom);\n      }\n\n      if (options.pan) {\n        cy.pan(options.pan);\n      }\n\n      layout.one('layoutready', options.ready);\n      layout.emit({\n        type: 'layoutready',\n        layout: layout\n      });\n      layout.one('layoutstop', options.stop);\n      layout.emit({\n        type: 'layoutstop',\n        layout: layout\n      });\n    }\n\n    return this; // chaining\n  },\n  layout: function layout(options) {\n    var cy = this.cy();\n    return cy.makeLayout(extend({}, options, {\n      eles: this\n    }));\n  }\n}; // aliases:\n\nelesfn$q.createLayout = elesfn$q.makeLayout = elesfn$q.layout;\n\nfunction styleCache(key, fn, ele) {\n  var _p = ele._private;\n  var cache = _p.styleCache = _p.styleCache || [];\n  var val;\n\n  if ((val = cache[key]) != null) {\n    return val;\n  } else {\n    val = cache[key] = fn(ele);\n    return val;\n  }\n}\n\nfunction cacheStyleFunction(key, fn) {\n  key = hashString(key);\n  return function cachedStyleFunction(ele) {\n    return styleCache(key, fn, ele);\n  };\n}\n\nfunction cachePrototypeStyleFunction(key, fn) {\n  key = hashString(key);\n\n  var selfFn = function selfFn(ele) {\n    return fn.call(ele);\n  };\n\n  return function cachedPrototypeStyleFunction() {\n    var ele = this[0];\n\n    if (ele) {\n      return styleCache(key, selfFn, ele);\n    }\n  };\n}\n\nvar elesfn$r = {\n  recalculateRenderedStyle: function recalculateRenderedStyle(useCache) {\n    var cy = this.cy();\n    var renderer = cy.renderer();\n    var styleEnabled = cy.styleEnabled();\n\n    if (renderer && styleEnabled) {\n      renderer.recalculateRenderedStyle(this, useCache);\n    }\n\n    return this;\n  },\n  dirtyStyleCache: function dirtyStyleCache() {\n    var cy = this.cy();\n\n    var dirty = function dirty(ele) {\n      return ele._private.styleCache = null;\n    };\n\n    if (cy.hasCompoundNodes()) {\n      var eles;\n      eles = this.spawnSelf().merge(this.descendants()).merge(this.parents());\n      eles.merge(eles.connectedEdges());\n      eles.forEach(dirty);\n    } else {\n      this.forEach(function (ele) {\n        dirty(ele);\n        ele.connectedEdges().forEach(dirty);\n      });\n    }\n\n    return this;\n  },\n  // fully updates (recalculates) the style for the elements\n  updateStyle: function updateStyle(notifyRenderer) {\n    var cy = this._private.cy;\n\n    if (!cy.styleEnabled()) {\n      return this;\n    }\n\n    if (cy.batching()) {\n      var bEles = cy._private.batchStyleEles;\n      bEles.merge(this);\n      return this; // chaining and exit early when batching\n    }\n\n    var hasCompounds = cy.hasCompoundNodes();\n    var style = cy.style();\n    var updatedEles = this;\n    notifyRenderer = notifyRenderer || notifyRenderer === undefined ? true : false;\n\n    if (hasCompounds) {\n      // then add everything up and down for compound selector checks\n      updatedEles = this.spawnSelf().merge(this.descendants()).merge(this.parents());\n    }\n\n    var changedEles = style.apply(updatedEles);\n\n    if (notifyRenderer) {\n      changedEles.emitAndNotify('style'); // let renderer know we changed style\n    } else {\n      changedEles.emit('style'); // just fire the event\n    }\n\n    return this; // chaining\n  },\n  // get the internal parsed style object for the specified property\n  parsedStyle: function parsedStyle(property) {\n    var includeNonDefault = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var ele = this[0];\n    var cy = ele.cy();\n\n    if (!cy.styleEnabled()) {\n      return;\n    }\n\n    if (ele) {\n      var overriddenStyle = ele._private.style[property];\n\n      if (overriddenStyle != null) {\n        return overriddenStyle;\n      } else if (includeNonDefault) {\n        return cy.style().getDefaultProperty(property);\n      } else {\n        return null;\n      }\n    }\n  },\n  numericStyle: function numericStyle(property) {\n    var ele = this[0];\n\n    if (!ele.cy().styleEnabled()) {\n      return;\n    }\n\n    if (ele) {\n      var pstyle = ele.pstyle(property);\n      return pstyle.pfValue !== undefined ? pstyle.pfValue : pstyle.value;\n    }\n  },\n  numericStyleUnits: function numericStyleUnits(property) {\n    var ele = this[0];\n\n    if (!ele.cy().styleEnabled()) {\n      return;\n    }\n\n    if (ele) {\n      return ele.pstyle(property).units;\n    }\n  },\n  // get the specified css property as a rendered value (i.e. on-screen value)\n  // or get the whole rendered style if no property specified (NB doesn't allow setting)\n  renderedStyle: function renderedStyle(property) {\n    var cy = this.cy();\n\n    if (!cy.styleEnabled()) {\n      return this;\n    }\n\n    var ele = this[0];\n\n    if (ele) {\n      return cy.style().getRenderedStyle(ele, property);\n    }\n  },\n  // read the calculated css style of the element or override the style (via a bypass)\n  style: function style(name, value) {\n    var cy = this.cy();\n\n    if (!cy.styleEnabled()) {\n      return this;\n    }\n\n    var updateTransitions = false;\n    var style = cy.style();\n\n    if (plainObject(name)) {\n      // then extend the bypass\n      var props = name;\n      style.applyBypass(this, props, updateTransitions);\n      this.emitAndNotify('style'); // let the renderer know we've updated style\n    } else if (string(name)) {\n      if (value === undefined) {\n        // then get the property from the style\n        var ele = this[0];\n\n        if (ele) {\n          return style.getStylePropertyValue(ele, name);\n        } else {\n          // empty collection => can't get any value\n          return;\n        }\n      } else {\n        // then set the bypass with the property value\n        style.applyBypass(this, name, value, updateTransitions);\n        this.emitAndNotify('style'); // let the renderer know we've updated style\n      }\n    } else if (name === undefined) {\n      var _ele = this[0];\n\n      if (_ele) {\n        return style.getRawStyle(_ele);\n      } else {\n        // empty collection => can't get any value\n        return;\n      }\n    }\n\n    return this; // chaining\n  },\n  removeStyle: function removeStyle(names) {\n    var cy = this.cy();\n\n    if (!cy.styleEnabled()) {\n      return this;\n    }\n\n    var updateTransitions = false;\n    var style = cy.style();\n    var eles = this;\n\n    if (names === undefined) {\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        style.removeAllBypasses(ele, updateTransitions);\n      }\n    } else {\n      names = names.split(/\\s+/);\n\n      for (var _i = 0; _i < eles.length; _i++) {\n        var _ele2 = eles[_i];\n        style.removeBypasses(_ele2, names, updateTransitions);\n      }\n    }\n\n    this.emitAndNotify('style'); // let the renderer know we've updated style\n\n    return this; // chaining\n  },\n  show: function show() {\n    this.css('display', 'element');\n    return this; // chaining\n  },\n  hide: function hide() {\n    this.css('display', 'none');\n    return this; // chaining\n  },\n  effectiveOpacity: function effectiveOpacity() {\n    var cy = this.cy();\n\n    if (!cy.styleEnabled()) {\n      return 1;\n    }\n\n    var hasCompoundNodes = cy.hasCompoundNodes();\n    var ele = this[0];\n\n    if (ele) {\n      var _p = ele._private;\n      var parentOpacity = ele.pstyle('opacity').value;\n\n      if (!hasCompoundNodes) {\n        return parentOpacity;\n      }\n\n      var parents = !_p.data.parent ? null : ele.parents();\n\n      if (parents) {\n        for (var i = 0; i < parents.length; i++) {\n          var parent = parents[i];\n          var opacity = parent.pstyle('opacity').value;\n          parentOpacity = opacity * parentOpacity;\n        }\n      }\n\n      return parentOpacity;\n    }\n  },\n  transparent: function transparent() {\n    var cy = this.cy();\n\n    if (!cy.styleEnabled()) {\n      return false;\n    }\n\n    var ele = this[0];\n    var hasCompoundNodes = ele.cy().hasCompoundNodes();\n\n    if (ele) {\n      if (!hasCompoundNodes) {\n        return ele.pstyle('opacity').value === 0;\n      } else {\n        return ele.effectiveOpacity() === 0;\n      }\n    }\n  },\n  backgrounding: function backgrounding() {\n    var cy = this.cy();\n\n    if (!cy.styleEnabled()) {\n      return false;\n    }\n\n    var ele = this[0];\n    return ele._private.backgrounding ? true : false;\n  }\n};\n\nfunction checkCompound(ele, parentOk) {\n  var _p = ele._private;\n  var parents = _p.data.parent ? ele.parents() : null;\n\n  if (parents) {\n    for (var i = 0; i < parents.length; i++) {\n      var parent = parents[i];\n\n      if (!parentOk(parent)) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n\nfunction defineDerivedStateFunction(specs) {\n  var ok = specs.ok;\n  var edgeOkViaNode = specs.edgeOkViaNode || specs.ok;\n  var parentOk = specs.parentOk || specs.ok;\n  return function () {\n    var cy = this.cy();\n\n    if (!cy.styleEnabled()) {\n      return true;\n    }\n\n    var ele = this[0];\n    var hasCompoundNodes = cy.hasCompoundNodes();\n\n    if (ele) {\n      var _p = ele._private;\n\n      if (!ok(ele)) {\n        return false;\n      }\n\n      if (ele.isNode()) {\n        return !hasCompoundNodes || checkCompound(ele, parentOk);\n      } else {\n        var src = _p.source;\n        var tgt = _p.target;\n        return edgeOkViaNode(src) && (!hasCompoundNodes || checkCompound(src, edgeOkViaNode)) && (src === tgt || edgeOkViaNode(tgt) && (!hasCompoundNodes || checkCompound(tgt, edgeOkViaNode)));\n      }\n    }\n  };\n}\n\nvar eleTakesUpSpace = cacheStyleFunction('eleTakesUpSpace', function (ele) {\n  return ele.pstyle('display').value === 'element' && ele.width() !== 0 && (ele.isNode() ? ele.height() !== 0 : true);\n});\nelesfn$r.takesUpSpace = cachePrototypeStyleFunction('takesUpSpace', defineDerivedStateFunction({\n  ok: eleTakesUpSpace\n}));\nvar eleInteractive = cacheStyleFunction('eleInteractive', function (ele) {\n  return ele.pstyle('events').value === 'yes' && ele.pstyle('visibility').value === 'visible' && eleTakesUpSpace(ele);\n});\nvar parentInteractive = cacheStyleFunction('parentInteractive', function (parent) {\n  return parent.pstyle('visibility').value === 'visible' && eleTakesUpSpace(parent);\n});\nelesfn$r.interactive = cachePrototypeStyleFunction('interactive', defineDerivedStateFunction({\n  ok: eleInteractive,\n  parentOk: parentInteractive,\n  edgeOkViaNode: eleTakesUpSpace\n}));\n\nelesfn$r.noninteractive = function () {\n  var ele = this[0];\n\n  if (ele) {\n    return !ele.interactive();\n  }\n};\n\nvar eleVisible = cacheStyleFunction('eleVisible', function (ele) {\n  return ele.pstyle('visibility').value === 'visible' && ele.pstyle('opacity').pfValue !== 0 && eleTakesUpSpace(ele);\n});\nvar edgeVisibleViaNode = eleTakesUpSpace;\nelesfn$r.visible = cachePrototypeStyleFunction('visible', defineDerivedStateFunction({\n  ok: eleVisible,\n  edgeOkViaNode: edgeVisibleViaNode\n}));\n\nelesfn$r.hidden = function () {\n  var ele = this[0];\n\n  if (ele) {\n    return !ele.visible();\n  }\n};\n\nelesfn$r.isBundledBezier = cachePrototypeStyleFunction('isBundledBezier', function () {\n  if (!this.cy().styleEnabled()) {\n    return false;\n  }\n\n  return !this.removed() && this.pstyle('curve-style').value === 'bezier' && this.takesUpSpace();\n});\nelesfn$r.bypass = elesfn$r.css = elesfn$r.style;\nelesfn$r.renderedCss = elesfn$r.renderedStyle;\nelesfn$r.removeBypass = elesfn$r.removeCss = elesfn$r.removeStyle;\nelesfn$r.pstyle = elesfn$r.parsedStyle;\n\nvar elesfn$s = {};\n\nfunction defineSwitchFunction(params) {\n  return function () {\n    var args = arguments;\n    var changedEles = []; // e.g. cy.nodes().select( data, handler )\n\n    if (args.length === 2) {\n      var data = args[0];\n      var handler = args[1];\n      this.on(params.event, data, handler);\n    } // e.g. cy.nodes().select( handler )\n    else if (args.length === 1 && fn(args[0])) {\n        var _handler = args[0];\n        this.on(params.event, _handler);\n      } // e.g. cy.nodes().select()\n      // e.g. (private) cy.nodes().select(['tapselect'])\n      else if (args.length === 0 || args.length === 1 && array(args[0])) {\n          var addlEvents = args.length === 1 ? args[0] : null;\n\n          for (var i = 0; i < this.length; i++) {\n            var ele = this[i];\n            var able = !params.ableField || ele._private[params.ableField];\n            var changed = ele._private[params.field] != params.value;\n\n            if (params.overrideAble) {\n              var overrideAble = params.overrideAble(ele);\n\n              if (overrideAble !== undefined) {\n                able = overrideAble;\n\n                if (!overrideAble) {\n                  return this;\n                } // to save cycles assume not able for all on override\n\n              }\n            }\n\n            if (able) {\n              ele._private[params.field] = params.value;\n\n              if (changed) {\n                changedEles.push(ele);\n              }\n            }\n          }\n\n          var changedColl = this.spawn(changedEles);\n          changedColl.updateStyle(); // change of state => possible change of style\n\n          changedColl.emit(params.event);\n\n          if (addlEvents) {\n            changedColl.emit(addlEvents);\n          }\n        }\n\n    return this;\n  };\n}\n\nfunction defineSwitchSet(params) {\n  elesfn$s[params.field] = function () {\n    var ele = this[0];\n\n    if (ele) {\n      if (params.overrideField) {\n        var val = params.overrideField(ele);\n\n        if (val !== undefined) {\n          return val;\n        }\n      }\n\n      return ele._private[params.field];\n    }\n  };\n\n  elesfn$s[params.on] = defineSwitchFunction({\n    event: params.on,\n    field: params.field,\n    ableField: params.ableField,\n    overrideAble: params.overrideAble,\n    value: true\n  });\n  elesfn$s[params.off] = defineSwitchFunction({\n    event: params.off,\n    field: params.field,\n    ableField: params.ableField,\n    overrideAble: params.overrideAble,\n    value: false\n  });\n}\n\ndefineSwitchSet({\n  field: 'locked',\n  overrideField: function overrideField(ele) {\n    return ele.cy().autolock() ? true : undefined;\n  },\n  on: 'lock',\n  off: 'unlock'\n});\ndefineSwitchSet({\n  field: 'grabbable',\n  overrideField: function overrideField(ele) {\n    return ele.cy().autoungrabify() || ele.pannable() ? false : undefined;\n  },\n  on: 'grabify',\n  off: 'ungrabify'\n});\ndefineSwitchSet({\n  field: 'selected',\n  ableField: 'selectable',\n  overrideAble: function overrideAble(ele) {\n    return ele.cy().autounselectify() ? false : undefined;\n  },\n  on: 'select',\n  off: 'unselect'\n});\ndefineSwitchSet({\n  field: 'selectable',\n  overrideField: function overrideField(ele) {\n    return ele.cy().autounselectify() ? false : undefined;\n  },\n  on: 'selectify',\n  off: 'unselectify'\n});\nelesfn$s.deselect = elesfn$s.unselect;\n\nelesfn$s.grabbed = function () {\n  var ele = this[0];\n\n  if (ele) {\n    return ele._private.grabbed;\n  }\n};\n\ndefineSwitchSet({\n  field: 'active',\n  on: 'activate',\n  off: 'unactivate'\n});\ndefineSwitchSet({\n  field: 'pannable',\n  on: 'panify',\n  off: 'unpanify'\n});\n\nelesfn$s.inactive = function () {\n  var ele = this[0];\n\n  if (ele) {\n    return !ele._private.active;\n  }\n};\n\nvar elesfn$t = {}; // DAG functions\n////////////////\n\nvar defineDagExtremity = function defineDagExtremity(params) {\n  return function dagExtremityImpl(selector) {\n    var eles = this;\n    var ret = [];\n\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n\n      if (!ele.isNode()) {\n        continue;\n      }\n\n      var disqualified = false;\n      var edges = ele.connectedEdges();\n\n      for (var j = 0; j < edges.length; j++) {\n        var edge = edges[j];\n        var src = edge.source();\n        var tgt = edge.target();\n\n        if (params.noIncomingEdges && tgt === ele && src !== ele || params.noOutgoingEdges && src === ele && tgt !== ele) {\n          disqualified = true;\n          break;\n        }\n      }\n\n      if (!disqualified) {\n        ret.push(ele);\n      }\n    }\n\n    return this.spawn(ret, {\n      unique: true\n    }).filter(selector);\n  };\n};\n\nvar defineDagOneHop = function defineDagOneHop(params) {\n  return function (selector) {\n    var eles = this;\n    var oEles = [];\n\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n\n      if (!ele.isNode()) {\n        continue;\n      }\n\n      var edges = ele.connectedEdges();\n\n      for (var j = 0; j < edges.length; j++) {\n        var edge = edges[j];\n        var src = edge.source();\n        var tgt = edge.target();\n\n        if (params.outgoing && src === ele) {\n          oEles.push(edge);\n          oEles.push(tgt);\n        } else if (params.incoming && tgt === ele) {\n          oEles.push(edge);\n          oEles.push(src);\n        }\n      }\n    }\n\n    return this.spawn(oEles, {\n      unique: true\n    }).filter(selector);\n  };\n};\n\nvar defineDagAllHops = function defineDagAllHops(params) {\n  return function (selector) {\n    var eles = this;\n    var sEles = [];\n    var sElesIds = {};\n\n    for (;;) {\n      var next = params.outgoing ? eles.outgoers() : eles.incomers();\n\n      if (next.length === 0) {\n        break;\n      } // done if none left\n\n\n      var newNext = false;\n\n      for (var i = 0; i < next.length; i++) {\n        var n = next[i];\n        var nid = n.id();\n\n        if (!sElesIds[nid]) {\n          sElesIds[nid] = true;\n          sEles.push(n);\n          newNext = true;\n        }\n      }\n\n      if (!newNext) {\n        break;\n      } // done if touched all outgoers already\n\n\n      eles = next;\n    }\n\n    return this.spawn(sEles, {\n      unique: true\n    }).filter(selector);\n  };\n};\n\nelesfn$t.clearTraversalCache = function () {\n  for (var i = 0; i < this.length; i++) {\n    this[i]._private.traversalCache = null;\n  }\n};\n\nextend(elesfn$t, {\n  // get the root nodes in the DAG\n  roots: defineDagExtremity({\n    noIncomingEdges: true\n  }),\n  // get the leaf nodes in the DAG\n  leaves: defineDagExtremity({\n    noOutgoingEdges: true\n  }),\n  // normally called children in graph theory\n  // these nodes =edges=> outgoing nodes\n  outgoers: cache(defineDagOneHop({\n    outgoing: true\n  }), 'outgoers'),\n  // aka DAG descendants\n  successors: defineDagAllHops({\n    outgoing: true\n  }),\n  // normally called parents in graph theory\n  // these nodes <=edges= incoming nodes\n  incomers: cache(defineDagOneHop({\n    incoming: true\n  }), 'incomers'),\n  // aka DAG ancestors\n  predecessors: defineDagAllHops({\n    incoming: true\n  })\n}); // Neighbourhood functions\n//////////////////////////\n\nextend(elesfn$t, {\n  neighborhood: cache(function (selector) {\n    var elements = [];\n    var nodes = this.nodes();\n\n    for (var i = 0; i < nodes.length; i++) {\n      // for all nodes\n      var node = nodes[i];\n      var connectedEdges = node.connectedEdges(); // for each connected edge, add the edge and the other node\n\n      for (var j = 0; j < connectedEdges.length; j++) {\n        var edge = connectedEdges[j];\n        var src = edge.source();\n        var tgt = edge.target();\n        var otherNode = node === src ? tgt : src; // need check in case of loop\n\n        if (otherNode.length > 0) {\n          elements.push(otherNode[0]); // add node 1 hop away\n        } // add connected edge\n\n\n        elements.push(edge[0]);\n      }\n    }\n\n    return this.spawn(elements, {\n      unique: true\n    }).filter(selector);\n  }, 'neighborhood'),\n  closedNeighborhood: function closedNeighborhood(selector) {\n    return this.neighborhood().add(this).filter(selector);\n  },\n  openNeighborhood: function openNeighborhood(selector) {\n    return this.neighborhood(selector);\n  }\n}); // aliases\n\nelesfn$t.neighbourhood = elesfn$t.neighborhood;\nelesfn$t.closedNeighbourhood = elesfn$t.closedNeighborhood;\nelesfn$t.openNeighbourhood = elesfn$t.openNeighborhood; // Edge functions\n/////////////////\n\nextend(elesfn$t, {\n  source: cache(function sourceImpl(selector) {\n    var ele = this[0];\n    var src;\n\n    if (ele) {\n      src = ele._private.source || ele.cy().collection();\n    }\n\n    return src && selector ? src.filter(selector) : src;\n  }, 'source'),\n  target: cache(function targetImpl(selector) {\n    var ele = this[0];\n    var tgt;\n\n    if (ele) {\n      tgt = ele._private.target || ele.cy().collection();\n    }\n\n    return tgt && selector ? tgt.filter(selector) : tgt;\n  }, 'target'),\n  sources: defineSourceFunction({\n    attr: 'source'\n  }),\n  targets: defineSourceFunction({\n    attr: 'target'\n  })\n});\n\nfunction defineSourceFunction(params) {\n  return function sourceImpl(selector) {\n    var sources = [];\n\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      var src = ele._private[params.attr];\n\n      if (src) {\n        sources.push(src);\n      }\n    }\n\n    return this.spawn(sources, {\n      unique: true\n    }).filter(selector);\n  };\n}\n\nextend(elesfn$t, {\n  edgesWith: cache(defineEdgesWithFunction(), 'edgesWith'),\n  edgesTo: cache(defineEdgesWithFunction({\n    thisIsSrc: true\n  }), 'edgesTo')\n});\n\nfunction defineEdgesWithFunction(params) {\n  return function edgesWithImpl(otherNodes) {\n    var elements = [];\n    var cy = this._private.cy;\n    var p = params || {}; // get elements if a selector is specified\n\n    if (string(otherNodes)) {\n      otherNodes = cy.$(otherNodes);\n    }\n\n    for (var h = 0; h < otherNodes.length; h++) {\n      var edges = otherNodes[h]._private.edges;\n\n      for (var i = 0; i < edges.length; i++) {\n        var edge = edges[i];\n        var edgeData = edge._private.data;\n        var thisToOther = this.hasElementWithId(edgeData.source) && otherNodes.hasElementWithId(edgeData.target);\n        var otherToThis = otherNodes.hasElementWithId(edgeData.source) && this.hasElementWithId(edgeData.target);\n        var edgeConnectsThisAndOther = thisToOther || otherToThis;\n\n        if (!edgeConnectsThisAndOther) {\n          continue;\n        }\n\n        if (p.thisIsSrc || p.thisIsTgt) {\n          if (p.thisIsSrc && !thisToOther) {\n            continue;\n          }\n\n          if (p.thisIsTgt && !otherToThis) {\n            continue;\n          }\n        }\n\n        elements.push(edge);\n      }\n    }\n\n    return this.spawn(elements, {\n      unique: true\n    });\n  };\n}\n\nextend(elesfn$t, {\n  connectedEdges: cache(function (selector) {\n    var retEles = [];\n    var eles = this;\n\n    for (var i = 0; i < eles.length; i++) {\n      var node = eles[i];\n\n      if (!node.isNode()) {\n        continue;\n      }\n\n      var edges = node._private.edges;\n\n      for (var j = 0; j < edges.length; j++) {\n        var edge = edges[j];\n        retEles.push(edge);\n      }\n    }\n\n    return this.spawn(retEles, {\n      unique: true\n    }).filter(selector);\n  }, 'connectedEdges'),\n  connectedNodes: cache(function (selector) {\n    var retEles = [];\n    var eles = this;\n\n    for (var i = 0; i < eles.length; i++) {\n      var edge = eles[i];\n\n      if (!edge.isEdge()) {\n        continue;\n      }\n\n      retEles.push(edge.source()[0]);\n      retEles.push(edge.target()[0]);\n    }\n\n    return this.spawn(retEles, {\n      unique: true\n    }).filter(selector);\n  }, 'connectedNodes'),\n  parallelEdges: cache(defineParallelEdgesFunction(), 'parallelEdges'),\n  codirectedEdges: cache(defineParallelEdgesFunction({\n    codirected: true\n  }), 'codirectedEdges')\n});\n\nfunction defineParallelEdgesFunction(params) {\n  var defaults = {\n    codirected: false\n  };\n  params = extend({}, defaults, params);\n  return function parallelEdgesImpl(selector) {\n    // micro-optimised for renderer\n    var elements = [];\n    var edges = this.edges();\n    var p = params; // look at all the edges in the collection\n\n    for (var i = 0; i < edges.length; i++) {\n      var edge1 = edges[i];\n      var edge1_p = edge1._private;\n      var src1 = edge1_p.source;\n      var srcid1 = src1._private.data.id;\n      var tgtid1 = edge1_p.data.target;\n      var srcEdges1 = src1._private.edges; // look at edges connected to the src node of this edge\n\n      for (var j = 0; j < srcEdges1.length; j++) {\n        var edge2 = srcEdges1[j];\n        var edge2data = edge2._private.data;\n        var tgtid2 = edge2data.target;\n        var srcid2 = edge2data.source;\n        var codirected = tgtid2 === tgtid1 && srcid2 === srcid1;\n        var oppdirected = srcid1 === tgtid2 && tgtid1 === srcid2;\n\n        if (p.codirected && codirected || !p.codirected && (codirected || oppdirected)) {\n          elements.push(edge2);\n        }\n      }\n    }\n\n    return this.spawn(elements, {\n      unique: true\n    }).filter(selector);\n  };\n} // Misc functions\n/////////////////\n\n\nextend(elesfn$t, {\n  components: function components(root) {\n    var self = this;\n    var cy = self.cy();\n    var visited = cy.collection();\n    var unvisited = root == null ? self.nodes() : root.nodes();\n    var components = [];\n\n    if (root != null && unvisited.empty()) {\n      // root may contain only edges\n      unvisited = root.sources(); // doesn't matter which node to use (undirected), so just use the source sides\n    }\n\n    var visitInComponent = function visitInComponent(node, component) {\n      visited.merge(node);\n      unvisited.unmerge(node);\n      component.merge(node);\n    };\n\n    if (unvisited.empty()) {\n      return self.spawn();\n    }\n\n    var _loop = function _loop() {\n      // each iteration yields a component\n      var cmpt = cy.collection();\n      components.push(cmpt);\n      var root = unvisited[0];\n      visitInComponent(root, cmpt);\n      self.bfs({\n        directed: false,\n        roots: root,\n        visit: function visit(v) {\n          return visitInComponent(v, cmpt);\n        }\n      });\n      cmpt.forEach(function (node) {\n        node.connectedEdges().forEach(function (e) {\n          // connectedEdges() usually cached\n          if (self.has(e) && cmpt.has(e.source()) && cmpt.has(e.target())) {\n            // has() is cheap\n            cmpt.merge(e); // forEach() only considers nodes -- sets N at call time\n          }\n        });\n      });\n    };\n\n    do {\n      _loop();\n    } while (unvisited.length > 0);\n\n    return components;\n  },\n  component: function component() {\n    var ele = this[0];\n    return ele.cy().mutableElements().components(ele)[0];\n  }\n});\nelesfn$t.componentsOf = elesfn$t.components;\n\nvar idFactory = {\n  generate: function generate(cy, element, tryThisId) {\n    var id = tryThisId != null ? tryThisId : uuid();\n\n    while (cy.hasElementWithId(id)) {\n      id = uuid();\n    }\n\n    return id;\n  }\n}; // represents a set of nodes, edges, or both together\n\nvar Collection = function Collection(cy, elements, options) {\n  if (cy === undefined || !core(cy)) {\n    error('A collection must have a reference to the core');\n    return;\n  }\n\n  var map = new Map$1();\n  var createdElements = false;\n\n  if (!elements) {\n    elements = [];\n  } else if (elements.length > 0 && plainObject(elements[0]) && !element(elements[0])) {\n    createdElements = true; // make elements from json and restore all at once later\n\n    var eles = [];\n    var elesIds = new Set$1();\n\n    for (var i = 0, l = elements.length; i < l; i++) {\n      var json = elements[i];\n\n      if (json.data == null) {\n        json.data = {};\n      }\n\n      var _data = json.data; // make sure newly created elements have valid ids\n\n      if (_data.id == null) {\n        _data.id = idFactory.generate(cy, json);\n      } else if (cy.hasElementWithId(_data.id) || elesIds.has(_data.id)) {\n        continue; // can't create element if prior id already exists\n      }\n\n      var ele = new Element(cy, json, false);\n      eles.push(ele);\n      elesIds.add(_data.id);\n    }\n\n    elements = eles;\n  }\n\n  this.length = 0;\n\n  for (var _i = 0, _l = elements.length; _i < _l; _i++) {\n    var element$1 = elements[_i][0]; // [0] in case elements is an array of collections, rather than array of elements\n\n    if (element$1 == null) {\n      continue;\n    }\n\n    var id = element$1._private.data.id;\n\n    if (options == null || options.unique && !map.has(id)) {\n      map.set(id, {\n        index: this.length,\n        ele: element$1\n      });\n      this[this.length] = element$1;\n      this.length++;\n    }\n  }\n\n  this._private = {\n    cy: cy,\n    map: map\n  }; // restore the elements if we created them from json\n\n  if (createdElements) {\n    this.restore();\n  }\n}; // Functions\n////////////////////////////////////////////////////////////////////////////////////////////////////\n// keep the prototypes in sync (an element has the same functions as a collection)\n// and use elefn and elesfn as shorthands to the prototypes\n\n\nvar elesfn$u = Element.prototype = Collection.prototype;\n\nelesfn$u.instanceString = function () {\n  return 'collection';\n};\n\nelesfn$u.spawn = function (cy, eles, opts) {\n  if (!core(cy)) {\n    // cy is optional\n    opts = eles;\n    eles = cy;\n    cy = this.cy();\n  }\n\n  return new Collection(cy, eles, opts);\n};\n\nelesfn$u.spawnSelf = function () {\n  return this.spawn(this);\n};\n\nelesfn$u.cy = function () {\n  return this._private.cy;\n};\n\nelesfn$u.renderer = function () {\n  return this._private.cy.renderer();\n};\n\nelesfn$u.element = function () {\n  return this[0];\n};\n\nelesfn$u.collection = function () {\n  if (collection(this)) {\n    return this;\n  } else {\n    // an element\n    return new Collection(this._private.cy, [this]);\n  }\n};\n\nelesfn$u.unique = function () {\n  return new Collection(this._private.cy, this, {\n    unique: true\n  });\n};\n\nelesfn$u.hasElementWithId = function (id) {\n  id = '' + id; // id must be string\n\n  return this._private.map.has(id);\n};\n\nelesfn$u.getElementById = function (id) {\n  id = '' + id; // id must be string\n\n  var cy = this._private.cy;\n\n  var entry = this._private.map.get(id);\n\n  return entry ? entry.ele : new Collection(cy); // get ele or empty collection\n};\n\nelesfn$u.$id = elesfn$u.getElementById;\n\nelesfn$u.poolIndex = function () {\n  var cy = this._private.cy;\n  var eles = cy._private.elements;\n  var id = this[0]._private.data.id;\n  return eles._private.map.get(id).index;\n};\n\nelesfn$u.indexOf = function (ele) {\n  var id = ele[0]._private.data.id;\n  return this._private.map.get(id).index;\n};\n\nelesfn$u.indexOfId = function (id) {\n  id = '' + id; // id must be string\n\n  return this._private.map.get(id).index;\n};\n\nelesfn$u.json = function (obj) {\n  var ele = this.element();\n  var cy = this.cy();\n\n  if (ele == null && obj) {\n    return this;\n  } // can't set to no eles\n\n\n  if (ele == null) {\n    return undefined;\n  } // can't get from no eles\n\n\n  var p = ele._private;\n\n  if (plainObject(obj)) {\n    // set\n    cy.startBatch();\n\n    if (obj.data) {\n      ele.data(obj.data);\n      var _data2 = p.data;\n\n      if (ele.isEdge()) {\n        // source and target are immutable via data()\n        var move = false;\n        var spec = {};\n        var src = obj.data.source;\n        var tgt = obj.data.target;\n\n        if (src != null && src != _data2.source) {\n          spec.source = '' + src; // id must be string\n\n          move = true;\n        }\n\n        if (tgt != null && tgt != _data2.target) {\n          spec.target = '' + tgt; // id must be string\n\n          move = true;\n        }\n\n        if (move) {\n          ele = ele.move(spec);\n        }\n      } else {\n        // parent is immutable via data()\n        var parent = obj.data.parent;\n\n        if ((parent != null || _data2.parent != null) && parent != _data2.parent) {\n          if (parent === undefined) {\n            // can't set undefined imperatively, so use null\n            parent = null;\n          }\n\n          if (parent != null) {\n            parent = '' + parent; // id must be string\n          }\n\n          ele = ele.move({\n            parent: parent\n          });\n        }\n      }\n    }\n\n    if (obj.position) {\n      ele.position(obj.position);\n    } // ignore group -- immutable\n\n\n    var checkSwitch = function checkSwitch(k, trueFnName, falseFnName) {\n      var obj_k = obj[k];\n\n      if (obj_k != null && obj_k !== p[k]) {\n        if (obj_k) {\n          ele[trueFnName]();\n        } else {\n          ele[falseFnName]();\n        }\n      }\n    };\n\n    checkSwitch('removed', 'remove', 'restore');\n    checkSwitch('selected', 'select', 'unselect');\n    checkSwitch('selectable', 'selectify', 'unselectify');\n    checkSwitch('locked', 'lock', 'unlock');\n    checkSwitch('grabbable', 'grabify', 'ungrabify');\n    checkSwitch('pannable', 'panify', 'unpanify');\n\n    if (obj.classes != null) {\n      ele.classes(obj.classes);\n    }\n\n    cy.endBatch();\n    return this;\n  } else if (obj === undefined) {\n    // get\n    var json = {\n      data: copy(p.data),\n      position: copy(p.position),\n      group: p.group,\n      removed: p.removed,\n      selected: p.selected,\n      selectable: p.selectable,\n      locked: p.locked,\n      grabbable: p.grabbable,\n      pannable: p.pannable,\n      classes: null\n    };\n    json.classes = '';\n    var i = 0;\n    p.classes.forEach(function (cls) {\n      return json.classes += i++ === 0 ? cls : ' ' + cls;\n    });\n    return json;\n  }\n};\n\nelesfn$u.jsons = function () {\n  var jsons = [];\n\n  for (var i = 0; i < this.length; i++) {\n    var ele = this[i];\n    var json = ele.json();\n    jsons.push(json);\n  }\n\n  return jsons;\n};\n\nelesfn$u.clone = function () {\n  var cy = this.cy();\n  var elesArr = [];\n\n  for (var i = 0; i < this.length; i++) {\n    var ele = this[i];\n    var json = ele.json();\n    var clone = new Element(cy, json, false); // NB no restore\n\n    elesArr.push(clone);\n  }\n\n  return new Collection(cy, elesArr);\n};\n\nelesfn$u.copy = elesfn$u.clone;\n\nelesfn$u.restore = function () {\n  var notifyRenderer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  var addToPool = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var self = this;\n  var cy = self.cy();\n  var cy_p = cy._private; // create arrays of nodes and edges, since we need to\n  // restore the nodes first\n\n  var nodes = [];\n  var edges = [];\n  var elements;\n\n  for (var _i2 = 0, l = self.length; _i2 < l; _i2++) {\n    var ele = self[_i2];\n\n    if (addToPool && !ele.removed()) {\n      // don't need to handle this ele\n      continue;\n    } // keep nodes first in the array and edges after\n\n\n    if (ele.isNode()) {\n      // put to front of array if node\n      nodes.push(ele);\n    } else {\n      // put to end of array if edge\n      edges.push(ele);\n    }\n  }\n\n  elements = nodes.concat(edges);\n  var i;\n\n  var removeFromElements = function removeFromElements() {\n    elements.splice(i, 1);\n    i--;\n  }; // now, restore each element\n\n\n  for (i = 0; i < elements.length; i++) {\n    var _ele = elements[i];\n    var _private = _ele._private;\n    var _data3 = _private.data; // the traversal cache should start fresh when ele is added\n\n    _ele.clearTraversalCache(); // set id and validate\n\n\n    if (!addToPool && !_private.removed) ; else if (_data3.id === undefined) {\n      _data3.id = idFactory.generate(cy, _ele);\n    } else if (number(_data3.id)) {\n      _data3.id = '' + _data3.id; // now it's a string\n    } else if (emptyString(_data3.id) || !string(_data3.id)) {\n      error('Can not create element with invalid string ID `' + _data3.id + '`'); // can't create element if it has empty string as id or non-string id\n\n      removeFromElements();\n      continue;\n    } else if (cy.hasElementWithId(_data3.id)) {\n      error('Can not create second element with ID `' + _data3.id + '`'); // can't create element if one already has that id\n\n      removeFromElements();\n      continue;\n    }\n\n    var id = _data3.id; // id is finalised, now let's keep a ref\n\n    if (_ele.isNode()) {\n      // extra checks for nodes\n      var pos = _private.position; // make sure the nodes have a defined position\n\n      if (pos.x == null) {\n        pos.x = 0;\n      }\n\n      if (pos.y == null) {\n        pos.y = 0;\n      }\n    }\n\n    if (_ele.isEdge()) {\n      // extra checks for edges\n      var edge = _ele;\n      var fields = ['source', 'target'];\n      var fieldsLength = fields.length;\n      var badSourceOrTarget = false;\n\n      for (var j = 0; j < fieldsLength; j++) {\n        var field = fields[j];\n        var val = _data3[field];\n\n        if (number(val)) {\n          val = _data3[field] = '' + _data3[field]; // now string\n        }\n\n        if (val == null || val === '') {\n          // can't create if source or target is not defined properly\n          error('Can not create edge `' + id + '` with unspecified ' + field);\n          badSourceOrTarget = true;\n        } else if (!cy.hasElementWithId(val)) {\n          // can't create edge if one of its nodes doesn't exist\n          error('Can not create edge `' + id + '` with nonexistant ' + field + ' `' + val + '`');\n          badSourceOrTarget = true;\n        }\n      }\n\n      if (badSourceOrTarget) {\n        removeFromElements();\n        continue;\n      } // can't create this\n\n\n      var src = cy.getElementById(_data3.source);\n      var tgt = cy.getElementById(_data3.target); // only one edge in node if loop\n\n      if (src.same(tgt)) {\n        src._private.edges.push(edge);\n      } else {\n        src._private.edges.push(edge);\n\n        tgt._private.edges.push(edge);\n      }\n\n      edge._private.source = src;\n      edge._private.target = tgt;\n    } // if is edge\n    // create mock ids / indexes maps for element so it can be used like collections\n\n\n    _private.map = new Map$1();\n\n    _private.map.set(id, {\n      ele: _ele,\n      index: 0\n    });\n\n    _private.removed = false;\n\n    if (addToPool) {\n      cy.addToPool(_ele);\n    }\n  } // for each element\n  // do compound node sanity checks\n\n\n  for (var _i3 = 0; _i3 < nodes.length; _i3++) {\n    // each node\n    var node = nodes[_i3];\n    var _data4 = node._private.data;\n\n    if (number(_data4.parent)) {\n      // then automake string\n      _data4.parent = '' + _data4.parent;\n    }\n\n    var parentId = _data4.parent;\n    var specifiedParent = parentId != null;\n\n    if (specifiedParent) {\n      var parent = cy.getElementById(parentId);\n\n      if (parent.empty()) {\n        // non-existant parent; just remove it\n        _data4.parent = undefined;\n      } else {\n        var selfAsParent = false;\n        var ancestor = parent;\n\n        while (!ancestor.empty()) {\n          if (node.same(ancestor)) {\n            // mark self as parent and remove from data\n            selfAsParent = true;\n            _data4.parent = undefined; // remove parent reference\n            // exit or we loop forever\n\n            break;\n          }\n\n          ancestor = ancestor.parent();\n        }\n\n        if (!selfAsParent) {\n          // connect with children\n          parent[0]._private.children.push(node);\n\n          node._private.parent = parent[0]; // let the core know we have a compound graph\n\n          cy_p.hasCompoundNodes = true;\n        }\n      } // else\n\n    } // if specified parent\n\n  } // for each node\n\n\n  if (elements.length > 0) {\n    var restored = new Collection(cy, elements);\n\n    for (var _i4 = 0; _i4 < restored.length; _i4++) {\n      var _ele2 = restored[_i4];\n\n      if (_ele2.isNode()) {\n        continue;\n      } // adding an edge invalidates the traversal caches for the parallel edges\n\n\n      _ele2.parallelEdges().clearTraversalCache(); // adding an edge invalidates the traversal cache for the connected nodes\n\n\n      _ele2.source().clearTraversalCache();\n\n      _ele2.target().clearTraversalCache();\n    }\n\n    var toUpdateStyle;\n\n    if (cy_p.hasCompoundNodes) {\n      toUpdateStyle = cy.collection().merge(restored).merge(restored.connectedNodes()).merge(restored.parent());\n    } else {\n      toUpdateStyle = restored;\n    }\n\n    toUpdateStyle.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(notifyRenderer);\n\n    if (notifyRenderer) {\n      restored.emitAndNotify('add');\n    } else if (addToPool) {\n      restored.emit('add');\n    }\n  }\n\n  return self; // chainability\n};\n\nelesfn$u.removed = function () {\n  var ele = this[0];\n  return ele && ele._private.removed;\n};\n\nelesfn$u.inside = function () {\n  var ele = this[0];\n  return ele && !ele._private.removed;\n};\n\nelesfn$u.remove = function () {\n  var notifyRenderer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  var removeFromPool = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var self = this;\n  var elesToRemove = [];\n  var elesToRemoveIds = {};\n  var cy = self._private.cy; // add connected edges\n\n  function addConnectedEdges(node) {\n    var edges = node._private.edges;\n\n    for (var i = 0; i < edges.length; i++) {\n      add(edges[i]);\n    }\n  } // add descendant nodes\n\n\n  function addChildren(node) {\n    var children = node._private.children;\n\n    for (var i = 0; i < children.length; i++) {\n      add(children[i]);\n    }\n  }\n\n  function add(ele) {\n    var alreadyAdded = elesToRemoveIds[ele.id()];\n\n    if (removeFromPool && ele.removed() || alreadyAdded) {\n      return;\n    } else {\n      elesToRemoveIds[ele.id()] = true;\n    }\n\n    if (ele.isNode()) {\n      elesToRemove.push(ele); // nodes are removed last\n\n      addConnectedEdges(ele);\n      addChildren(ele);\n    } else {\n      elesToRemove.unshift(ele); // edges are removed first\n    }\n  } // make the list of elements to remove\n  // (may be removing more than specified due to connected edges etc)\n\n\n  for (var i = 0, l = self.length; i < l; i++) {\n    var ele = self[i];\n    add(ele);\n  }\n\n  function removeEdgeRef(node, edge) {\n    var connectedEdges = node._private.edges;\n    removeFromArray(connectedEdges, edge); // removing an edges invalidates the traversal cache for its nodes\n\n    node.clearTraversalCache();\n  }\n\n  function removeParallelRef(pllEdge) {\n    // removing an edge invalidates the traversal caches for the parallel edges\n    pllEdge.clearTraversalCache();\n  }\n\n  var alteredParents = [];\n  alteredParents.ids = {};\n\n  function removeChildRef(parent, ele) {\n    ele = ele[0];\n    parent = parent[0];\n    var children = parent._private.children;\n    var pid = parent.id();\n    removeFromArray(children, ele); // remove parent => child ref\n\n    ele._private.parent = null; // remove child => parent ref\n\n    if (!alteredParents.ids[pid]) {\n      alteredParents.ids[pid] = true;\n      alteredParents.push(parent);\n    }\n  }\n\n  self.dirtyCompoundBoundsCache();\n\n  if (removeFromPool) {\n    cy.removeFromPool(elesToRemove); // remove from core pool\n  }\n\n  for (var _i5 = 0; _i5 < elesToRemove.length; _i5++) {\n    var _ele3 = elesToRemove[_i5];\n\n    if (_ele3.isEdge()) {\n      // remove references to this edge in its connected nodes\n      var src = _ele3.source()[0];\n\n      var tgt = _ele3.target()[0];\n\n      removeEdgeRef(src, _ele3);\n      removeEdgeRef(tgt, _ele3);\n\n      var pllEdges = _ele3.parallelEdges();\n\n      for (var j = 0; j < pllEdges.length; j++) {\n        var pllEdge = pllEdges[j];\n        removeParallelRef(pllEdge);\n\n        if (pllEdge.isBundledBezier()) {\n          pllEdge.dirtyBoundingBoxCache();\n        }\n      }\n    } else {\n      // remove reference to parent\n      var parent = _ele3.parent();\n\n      if (parent.length !== 0) {\n        removeChildRef(parent, _ele3);\n      }\n    }\n\n    if (removeFromPool) {\n      // mark as removed\n      _ele3._private.removed = true;\n    }\n  } // check to see if we have a compound graph or not\n\n\n  var elesStillInside = cy._private.elements;\n  cy._private.hasCompoundNodes = false;\n\n  for (var _i6 = 0; _i6 < elesStillInside.length; _i6++) {\n    var _ele4 = elesStillInside[_i6];\n\n    if (_ele4.isParent()) {\n      cy._private.hasCompoundNodes = true;\n      break;\n    }\n  }\n\n  var removedElements = new Collection(this.cy(), elesToRemove);\n\n  if (removedElements.size() > 0) {\n    // must manually notify since trigger won't do this automatically once removed\n    if (notifyRenderer) {\n      removedElements.emitAndNotify('remove');\n    } else if (removeFromPool) {\n      removedElements.emit('remove');\n    }\n  } // the parents who were modified by the removal need their style updated\n\n\n  for (var _i7 = 0; _i7 < alteredParents.length; _i7++) {\n    var _ele5 = alteredParents[_i7];\n\n    if (!removeFromPool || !_ele5.removed()) {\n      _ele5.updateStyle();\n    }\n  }\n\n  return removedElements;\n};\n\nelesfn$u.move = function (struct) {\n  var cy = this._private.cy;\n  var eles = this; // just clean up refs, caches, etc. in the same way as when removing and then restoring\n  // (our calls to remove/restore do not remove from the graph or make events)\n\n  var notifyRenderer = false;\n  var modifyPool = false;\n\n  var toString = function toString(id) {\n    return id == null ? id : '' + id;\n  }; // id must be string\n\n\n  if (struct.source !== undefined || struct.target !== undefined) {\n    var srcId = toString(struct.source);\n    var tgtId = toString(struct.target);\n    var srcExists = srcId != null && cy.hasElementWithId(srcId);\n    var tgtExists = tgtId != null && cy.hasElementWithId(tgtId);\n\n    if (srcExists || tgtExists) {\n      cy.batch(function () {\n        // avoid duplicate style updates\n        eles.remove(notifyRenderer, modifyPool); // clean up refs etc.\n\n        eles.emitAndNotify('moveout');\n\n        for (var i = 0; i < eles.length; i++) {\n          var ele = eles[i];\n          var _data5 = ele._private.data;\n\n          if (ele.isEdge()) {\n            if (srcExists) {\n              _data5.source = srcId;\n            }\n\n            if (tgtExists) {\n              _data5.target = tgtId;\n            }\n          }\n        }\n\n        eles.restore(notifyRenderer, modifyPool); // make new refs, style, etc.\n      });\n      eles.emitAndNotify('move');\n    }\n  } else if (struct.parent !== undefined) {\n    // move node to new parent\n    var parentId = toString(struct.parent);\n    var parentExists = parentId === null || cy.hasElementWithId(parentId);\n\n    if (parentExists) {\n      var pidToAssign = parentId === null ? undefined : parentId;\n      cy.batch(function () {\n        // avoid duplicate style updates\n        var updated = eles.remove(notifyRenderer, modifyPool); // clean up refs etc.\n\n        updated.emitAndNotify('moveout');\n\n        for (var i = 0; i < eles.length; i++) {\n          var ele = eles[i];\n          var _data6 = ele._private.data;\n\n          if (ele.isNode()) {\n            _data6.parent = pidToAssign;\n          }\n        }\n\n        updated.restore(notifyRenderer, modifyPool); // make new refs, style, etc.\n      });\n      eles.emitAndNotify('move');\n    }\n  }\n\n  return this;\n};\n\n[elesfn$c, elesfn$d, elesfn$e, elesfn$f, elesfn$g, data$1, elesfn$i, dimensions, elesfn$m, elesfn$n, elesfn$o, elesfn$p, elesfn$q, elesfn$r, elesfn$s, elesfn$t].forEach(function (props) {\n  extend(elesfn$u, props);\n});\n\nvar corefn = {\n  add: function add(opts) {\n    var elements;\n    var cy = this; // add the elements\n\n    if (elementOrCollection(opts)) {\n      var eles = opts;\n\n      if (eles._private.cy === cy) {\n        // same instance => just restore\n        elements = eles.restore();\n      } else {\n        // otherwise, copy from json\n        var jsons = [];\n\n        for (var i = 0; i < eles.length; i++) {\n          var ele = eles[i];\n          jsons.push(ele.json());\n        }\n\n        elements = new Collection(cy, jsons);\n      }\n    } // specify an array of options\n    else if (array(opts)) {\n        var _jsons = opts;\n        elements = new Collection(cy, _jsons);\n      } // specify via opts.nodes and opts.edges\n      else if (plainObject(opts) && (array(opts.nodes) || array(opts.edges))) {\n          var elesByGroup = opts;\n          var _jsons2 = [];\n          var grs = ['nodes', 'edges'];\n\n          for (var _i = 0, il = grs.length; _i < il; _i++) {\n            var group = grs[_i];\n            var elesArray = elesByGroup[group];\n\n            if (array(elesArray)) {\n              for (var j = 0, jl = elesArray.length; j < jl; j++) {\n                var json = extend({\n                  group: group\n                }, elesArray[j]);\n\n                _jsons2.push(json);\n              }\n            }\n          }\n\n          elements = new Collection(cy, _jsons2);\n        } // specify options for one element\n        else {\n            var _json = opts;\n            elements = new Element(cy, _json).collection();\n          }\n\n    return elements;\n  },\n  remove: function remove(collection) {\n    if (elementOrCollection(collection)) ; else if (string(collection)) {\n      var selector = collection;\n      collection = this.$(selector);\n    }\n\n    return collection.remove();\n  }\n};\n\n/* global Float32Array */\n\n/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */\nfunction generateCubicBezier(mX1, mY1, mX2, mY2) {\n  var NEWTON_ITERATIONS = 4,\n      NEWTON_MIN_SLOPE = 0.001,\n      SUBDIVISION_PRECISION = 0.0000001,\n      SUBDIVISION_MAX_ITERATIONS = 10,\n      kSplineTableSize = 11,\n      kSampleStepSize = 1.0 / (kSplineTableSize - 1.0),\n      float32ArraySupported = typeof Float32Array !== 'undefined';\n  /* Must contain four arguments. */\n\n  if (arguments.length !== 4) {\n    return false;\n  }\n  /* Arguments must be numbers. */\n\n\n  for (var i = 0; i < 4; ++i) {\n    if (typeof arguments[i] !== \"number\" || isNaN(arguments[i]) || !isFinite(arguments[i])) {\n      return false;\n    }\n  }\n  /* X values must be in the [0, 1] range. */\n\n\n  mX1 = Math.min(mX1, 1);\n  mX2 = Math.min(mX2, 1);\n  mX1 = Math.max(mX1, 0);\n  mX2 = Math.max(mX2, 0);\n  var mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n\n  function A(aA1, aA2) {\n    return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n  }\n\n  function B(aA1, aA2) {\n    return 3.0 * aA2 - 6.0 * aA1;\n  }\n\n  function C(aA1) {\n    return 3.0 * aA1;\n  }\n\n  function calcBezier(aT, aA1, aA2) {\n    return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n  }\n\n  function getSlope(aT, aA1, aA2) {\n    return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT) {\n    for (var _i = 0; _i < NEWTON_ITERATIONS; ++_i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n\n      if (currentSlope === 0.0) {\n        return aGuessT;\n      }\n\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n\n    return aGuessT;\n  }\n\n  function calcSampleValues() {\n    for (var _i2 = 0; _i2 < kSplineTableSize; ++_i2) {\n      mSampleValues[_i2] = calcBezier(_i2 * kSampleStepSize, mX1, mX2);\n    }\n  }\n\n  function binarySubdivide(aX, aA, aB) {\n    var currentX,\n        currentT,\n        i = 0;\n\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n\n      if (currentX > 0.0) {\n        aB = currentT;\n      } else {\n        aA = currentT;\n      }\n    } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n\n    return currentT;\n  }\n\n  function getTForX(aX) {\n    var intervalStart = 0.0,\n        currentSample = 1,\n        lastSample = kSplineTableSize - 1;\n\n    for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n\n    --currentSample;\n    var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]),\n        guessForT = intervalStart + dist * kSampleStepSize,\n        initialSlope = getSlope(guessForT, mX1, mX2);\n\n    if (initialSlope >= NEWTON_MIN_SLOPE) {\n      return newtonRaphsonIterate(aX, guessForT);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize);\n    }\n  }\n\n  var _precomputed = false;\n\n  function precompute() {\n    _precomputed = true;\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      calcSampleValues();\n    }\n  }\n\n  var f = function f(aX) {\n    if (!_precomputed) {\n      precompute();\n    }\n\n    if (mX1 === mY1 && mX2 === mY2) {\n      return aX;\n    }\n\n    if (aX === 0) {\n      return 0;\n    }\n\n    if (aX === 1) {\n      return 1;\n    }\n\n    return calcBezier(getTForX(aX), mY1, mY2);\n  };\n\n  f.getControlPoints = function () {\n    return [{\n      x: mX1,\n      y: mY1\n    }, {\n      x: mX2,\n      y: mY2\n    }];\n  };\n\n  var str = \"generateBezier(\" + [mX1, mY1, mX2, mY2] + \")\";\n\n  f.toString = function () {\n    return str;\n  };\n\n  return f;\n}\n\n/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */\n\n/* Given a tension, friction, and duration, a simulation at 60FPS will first run without a defined duration in order to calculate the full path. A second pass\n   then adjusts the time delta -- using the relation between actual time and duration -- to calculate the path for the duration-constrained animation. */\nvar generateSpringRK4 = function () {\n  function springAccelerationForState(state) {\n    return -state.tension * state.x - state.friction * state.v;\n  }\n\n  function springEvaluateStateWithDerivative(initialState, dt, derivative) {\n    var state = {\n      x: initialState.x + derivative.dx * dt,\n      v: initialState.v + derivative.dv * dt,\n      tension: initialState.tension,\n      friction: initialState.friction\n    };\n    return {\n      dx: state.v,\n      dv: springAccelerationForState(state)\n    };\n  }\n\n  function springIntegrateState(state, dt) {\n    var a = {\n      dx: state.v,\n      dv: springAccelerationForState(state)\n    },\n        b = springEvaluateStateWithDerivative(state, dt * 0.5, a),\n        c = springEvaluateStateWithDerivative(state, dt * 0.5, b),\n        d = springEvaluateStateWithDerivative(state, dt, c),\n        dxdt = 1.0 / 6.0 * (a.dx + 2.0 * (b.dx + c.dx) + d.dx),\n        dvdt = 1.0 / 6.0 * (a.dv + 2.0 * (b.dv + c.dv) + d.dv);\n    state.x = state.x + dxdt * dt;\n    state.v = state.v + dvdt * dt;\n    return state;\n  }\n\n  return function springRK4Factory(tension, friction, duration) {\n    var initState = {\n      x: -1,\n      v: 0,\n      tension: null,\n      friction: null\n    },\n        path = [0],\n        time_lapsed = 0,\n        tolerance = 1 / 10000,\n        DT = 16 / 1000,\n        have_duration,\n        dt,\n        last_state;\n    tension = parseFloat(tension) || 500;\n    friction = parseFloat(friction) || 20;\n    duration = duration || null;\n    initState.tension = tension;\n    initState.friction = friction;\n    have_duration = duration !== null;\n    /* Calculate the actual time it takes for this animation to complete with the provided conditions. */\n\n    if (have_duration) {\n      /* Run the simulation without a duration. */\n      time_lapsed = springRK4Factory(tension, friction);\n      /* Compute the adjusted time delta. */\n\n      dt = time_lapsed / duration * DT;\n    } else {\n      dt = DT;\n    }\n\n    for (;;) {\n      /* Next/step function .*/\n      last_state = springIntegrateState(last_state || initState, dt);\n      /* Store the position. */\n\n      path.push(1 + last_state.x);\n      time_lapsed += 16;\n      /* If the change threshold is reached, break. */\n\n      if (!(Math.abs(last_state.x) > tolerance && Math.abs(last_state.v) > tolerance)) {\n        break;\n      }\n    }\n    /* If duration is not defined, return the actual time required for completing this animation. Otherwise, return a closure that holds the\n       computed path and returns a snapshot of the position according to a given percentComplete. */\n\n\n    return !have_duration ? time_lapsed : function (percentComplete) {\n      return path[percentComplete * (path.length - 1) | 0];\n    };\n  };\n}();\n\nvar cubicBezier = function cubicBezier(t1, p1, t2, p2) {\n  var bezier = generateCubicBezier(t1, p1, t2, p2);\n  return function (start, end, percent) {\n    return start + (end - start) * bezier(percent);\n  };\n};\n\nvar easings = {\n  'linear': function linear(start, end, percent) {\n    return start + (end - start) * percent;\n  },\n  // default easings\n  'ease': cubicBezier(0.25, 0.1, 0.25, 1),\n  'ease-in': cubicBezier(0.42, 0, 1, 1),\n  'ease-out': cubicBezier(0, 0, 0.58, 1),\n  'ease-in-out': cubicBezier(0.42, 0, 0.58, 1),\n  // sine\n  'ease-in-sine': cubicBezier(0.47, 0, 0.745, 0.715),\n  'ease-out-sine': cubicBezier(0.39, 0.575, 0.565, 1),\n  'ease-in-out-sine': cubicBezier(0.445, 0.05, 0.55, 0.95),\n  // quad\n  'ease-in-quad': cubicBezier(0.55, 0.085, 0.68, 0.53),\n  'ease-out-quad': cubicBezier(0.25, 0.46, 0.45, 0.94),\n  'ease-in-out-quad': cubicBezier(0.455, 0.03, 0.515, 0.955),\n  // cubic\n  'ease-in-cubic': cubicBezier(0.55, 0.055, 0.675, 0.19),\n  'ease-out-cubic': cubicBezier(0.215, 0.61, 0.355, 1),\n  'ease-in-out-cubic': cubicBezier(0.645, 0.045, 0.355, 1),\n  // quart\n  'ease-in-quart': cubicBezier(0.895, 0.03, 0.685, 0.22),\n  'ease-out-quart': cubicBezier(0.165, 0.84, 0.44, 1),\n  'ease-in-out-quart': cubicBezier(0.77, 0, 0.175, 1),\n  // quint\n  'ease-in-quint': cubicBezier(0.755, 0.05, 0.855, 0.06),\n  'ease-out-quint': cubicBezier(0.23, 1, 0.32, 1),\n  'ease-in-out-quint': cubicBezier(0.86, 0, 0.07, 1),\n  // expo\n  'ease-in-expo': cubicBezier(0.95, 0.05, 0.795, 0.035),\n  'ease-out-expo': cubicBezier(0.19, 1, 0.22, 1),\n  'ease-in-out-expo': cubicBezier(1, 0, 0, 1),\n  // circ\n  'ease-in-circ': cubicBezier(0.6, 0.04, 0.98, 0.335),\n  'ease-out-circ': cubicBezier(0.075, 0.82, 0.165, 1),\n  'ease-in-out-circ': cubicBezier(0.785, 0.135, 0.15, 0.86),\n  // user param easings...\n  'spring': function spring(tension, friction, duration) {\n    if (duration === 0) {\n      // can't get a spring w/ duration 0\n      return easings.linear; // duration 0 => jump to end so impl doesn't matter\n    }\n\n    var spring = generateSpringRK4(tension, friction, duration);\n    return function (start, end, percent) {\n      return start + (end - start) * spring(percent);\n    };\n  },\n  'cubic-bezier': cubicBezier\n};\n\nfunction getEasedValue(type, start, end, percent, easingFn) {\n  if (percent === 1) {\n    return end;\n  }\n\n  var val = easingFn(start, end, percent);\n\n  if (type == null) {\n    return val;\n  }\n\n  if (type.roundValue || type.color) {\n    val = Math.round(val);\n  }\n\n  if (type.min !== undefined) {\n    val = Math.max(val, type.min);\n  }\n\n  if (type.max !== undefined) {\n    val = Math.min(val, type.max);\n  }\n\n  return val;\n}\n\nfunction getValue(prop, spec) {\n  if (prop.pfValue != null || prop.value != null) {\n    if (prop.pfValue != null && (spec == null || spec.type.units !== '%')) {\n      return prop.pfValue;\n    } else {\n      return prop.value;\n    }\n  } else {\n    return prop;\n  }\n}\n\nfunction ease(startProp, endProp, percent, easingFn, propSpec) {\n  var type = propSpec != null ? propSpec.type : null;\n\n  if (percent < 0) {\n    percent = 0;\n  } else if (percent > 1) {\n    percent = 1;\n  }\n\n  var start = getValue(startProp, propSpec);\n  var end = getValue(endProp, propSpec);\n\n  if (number(start) && number(end)) {\n    return getEasedValue(type, start, end, percent, easingFn);\n  } else if (array(start) && array(end)) {\n    var easedArr = [];\n\n    for (var i = 0; i < end.length; i++) {\n      var si = start[i];\n      var ei = end[i];\n\n      if (si != null && ei != null) {\n        var val = getEasedValue(type, si, ei, percent, easingFn);\n        easedArr.push(val);\n      } else {\n        easedArr.push(ei);\n      }\n    }\n\n    return easedArr;\n  }\n\n  return undefined;\n}\n\nfunction step(self, ani, now, isCore) {\n  var isEles = !isCore;\n  var _p = self._private;\n  var ani_p = ani._private;\n  var pEasing = ani_p.easing;\n  var startTime = ani_p.startTime;\n  var cy = isCore ? self : self.cy();\n  var style = cy.style();\n\n  if (!ani_p.easingImpl) {\n    if (pEasing == null) {\n      // use default\n      ani_p.easingImpl = easings['linear'];\n    } else {\n      // then define w/ name\n      var easingVals;\n\n      if (string(pEasing)) {\n        var easingProp = style.parse('transition-timing-function', pEasing);\n        easingVals = easingProp.value;\n      } else {\n        // then assume preparsed array\n        easingVals = pEasing;\n      }\n\n      var name, args;\n\n      if (string(easingVals)) {\n        name = easingVals;\n        args = [];\n      } else {\n        name = easingVals[1];\n        args = easingVals.slice(2).map(function (n) {\n          return +n;\n        });\n      }\n\n      if (args.length > 0) {\n        // create with args\n        if (name === 'spring') {\n          args.push(ani_p.duration); // need duration to generate spring\n        }\n\n        ani_p.easingImpl = easings[name].apply(null, args);\n      } else {\n        // static impl by name\n        ani_p.easingImpl = easings[name];\n      }\n    }\n  }\n\n  var easing = ani_p.easingImpl;\n  var percent;\n\n  if (ani_p.duration === 0) {\n    percent = 1;\n  } else {\n    percent = (now - startTime) / ani_p.duration;\n  }\n\n  if (ani_p.applying) {\n    percent = ani_p.progress;\n  }\n\n  if (percent < 0) {\n    percent = 0;\n  } else if (percent > 1) {\n    percent = 1;\n  }\n\n  if (ani_p.delay == null) {\n    // then update\n    var startPos = ani_p.startPosition;\n    var endPos = ani_p.position;\n\n    if (endPos && isEles && !self.locked()) {\n      var newPos = {};\n\n      if (valid(startPos.x, endPos.x)) {\n        newPos.x = ease(startPos.x, endPos.x, percent, easing);\n      }\n\n      if (valid(startPos.y, endPos.y)) {\n        newPos.y = ease(startPos.y, endPos.y, percent, easing);\n      }\n\n      self.position(newPos);\n    }\n\n    var startPan = ani_p.startPan;\n    var endPan = ani_p.pan;\n    var pan = _p.pan;\n    var animatingPan = endPan != null && isCore;\n\n    if (animatingPan) {\n      if (valid(startPan.x, endPan.x)) {\n        pan.x = ease(startPan.x, endPan.x, percent, easing);\n      }\n\n      if (valid(startPan.y, endPan.y)) {\n        pan.y = ease(startPan.y, endPan.y, percent, easing);\n      }\n\n      self.emit('pan');\n    }\n\n    var startZoom = ani_p.startZoom;\n    var endZoom = ani_p.zoom;\n    var animatingZoom = endZoom != null && isCore;\n\n    if (animatingZoom) {\n      if (valid(startZoom, endZoom)) {\n        _p.zoom = bound(_p.minZoom, ease(startZoom, endZoom, percent, easing), _p.maxZoom);\n      }\n\n      self.emit('zoom');\n    }\n\n    if (animatingPan || animatingZoom) {\n      self.emit('viewport');\n    }\n\n    var props = ani_p.style;\n\n    if (props && props.length > 0 && isEles) {\n      for (var i = 0; i < props.length; i++) {\n        var prop = props[i];\n        var _name = prop.name;\n        var end = prop;\n        var start = ani_p.startStyle[_name];\n        var propSpec = style.properties[start.name];\n        var easedVal = ease(start, end, percent, easing, propSpec);\n        style.overrideBypass(self, _name, easedVal);\n      } // for props\n\n\n      self.emit('style');\n    } // if\n\n  }\n\n  ani_p.progress = percent;\n  return percent;\n}\n\nfunction valid(start, end) {\n  if (start == null || end == null) {\n    return false;\n  }\n\n  if (number(start) && number(end)) {\n    return true;\n  } else if (start && end) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction startAnimation(self, ani, now, isCore) {\n  var ani_p = ani._private;\n  ani_p.started = true;\n  ani_p.startTime = now - ani_p.progress * ani_p.duration;\n}\n\nfunction stepAll(now, cy) {\n  var eles = cy._private.aniEles;\n  var doneEles = [];\n\n  function stepOne(ele, isCore) {\n    var _p = ele._private;\n    var current = _p.animation.current;\n    var queue = _p.animation.queue;\n    var ranAnis = false; // cancel all animations on display:none ele\n\n    if (!isCore && ele.pstyle('display').value === 'none') {\n      // put all current and queue animations in this tick's current list\n      // and empty the lists for the element\n      current = current.splice(0, current.length).concat(queue.splice(0, queue.length)); // stop all animations\n\n      for (var i = 0; i < current.length; i++) {\n        current[i].stop();\n      }\n    } // if nothing currently animating, get something from the queue\n\n\n    if (current.length === 0) {\n      var next = queue.shift();\n\n      if (next) {\n        current.push(next);\n      }\n    }\n\n    var callbacks = function callbacks(_callbacks) {\n      for (var j = _callbacks.length - 1; j >= 0; j--) {\n        var cb = _callbacks[j];\n        cb();\n      }\n\n      _callbacks.splice(0, _callbacks.length);\n    }; // step and remove if done\n\n\n    for (var _i = current.length - 1; _i >= 0; _i--) {\n      var ani = current[_i];\n      var ani_p = ani._private;\n\n      if (ani_p.stopped) {\n        current.splice(_i, 1);\n        ani_p.hooked = false;\n        ani_p.playing = false;\n        ani_p.started = false;\n        callbacks(ani_p.frames);\n        continue;\n      }\n\n      if (!ani_p.playing && !ani_p.applying) {\n        continue;\n      } // an apply() while playing shouldn't do anything\n\n\n      if (ani_p.playing && ani_p.applying) {\n        ani_p.applying = false;\n      }\n\n      if (!ani_p.started) {\n        startAnimation(ele, ani, now);\n      }\n\n      step(ele, ani, now, isCore);\n\n      if (ani_p.applying) {\n        ani_p.applying = false;\n      }\n\n      callbacks(ani_p.frames);\n\n      if (ani_p.step != null) {\n        ani_p.step(now);\n      }\n\n      if (ani.completed()) {\n        current.splice(_i, 1);\n        ani_p.hooked = false;\n        ani_p.playing = false;\n        ani_p.started = false;\n        callbacks(ani_p.completes);\n      }\n\n      ranAnis = true;\n    }\n\n    if (!isCore && current.length === 0 && queue.length === 0) {\n      doneEles.push(ele);\n    }\n\n    return ranAnis;\n  } // stepElement\n  // handle all eles\n\n\n  var ranEleAni = false;\n\n  for (var e = 0; e < eles.length; e++) {\n    var ele = eles[e];\n    var handledThisEle = stepOne(ele);\n    ranEleAni = ranEleAni || handledThisEle;\n  } // each element\n\n\n  var ranCoreAni = stepOne(cy, true); // notify renderer\n\n  if (ranEleAni || ranCoreAni) {\n    if (eles.length > 0) {\n      cy.notify('draw', eles);\n    } else {\n      cy.notify('draw');\n    }\n  } // remove elements from list of currently animating if its queues are empty\n\n\n  eles.unmerge(doneEles);\n  cy.emit('step');\n} // stepAll\n\nvar corefn$1 = {\n  // pull in animation functions\n  animate: define$3.animate(),\n  animation: define$3.animation(),\n  animated: define$3.animated(),\n  clearQueue: define$3.clearQueue(),\n  delay: define$3.delay(),\n  delayAnimation: define$3.delayAnimation(),\n  stop: define$3.stop(),\n  addToAnimationPool: function addToAnimationPool(eles) {\n    var cy = this;\n\n    if (!cy.styleEnabled()) {\n      return;\n    } // save cycles when no style used\n\n\n    cy._private.aniEles.merge(eles);\n  },\n  stopAnimationLoop: function stopAnimationLoop() {\n    this._private.animationsRunning = false;\n  },\n  startAnimationLoop: function startAnimationLoop() {\n    var cy = this;\n    cy._private.animationsRunning = true;\n\n    if (!cy.styleEnabled()) {\n      return;\n    } // save cycles when no style used\n    // NB the animation loop will exec in headless environments if style enabled\n    // and explicit cy.destroy() is necessary to stop the loop\n\n\n    function headlessStep() {\n      if (!cy._private.animationsRunning) {\n        return;\n      }\n\n      requestAnimationFrame(function animationStep(now) {\n        stepAll(now, cy);\n        headlessStep();\n      });\n    }\n\n    var renderer = cy.renderer();\n\n    if (renderer && renderer.beforeRender) {\n      // let the renderer schedule animations\n      renderer.beforeRender(function rendererAnimationStep(willDraw, now) {\n        stepAll(now, cy);\n      }, renderer.beforeRenderPriorities.animations);\n    } else {\n      // manage the animation loop ourselves\n      headlessStep(); // first call\n    }\n  }\n};\n\nvar emitterOptions$1 = {\n  qualifierCompare: function qualifierCompare(selector1, selector2) {\n    if (selector1 == null || selector2 == null) {\n      return selector1 == null && selector2 == null;\n    } else {\n      return selector1.sameText(selector2);\n    }\n  },\n  eventMatches: function eventMatches(cy, listener, eventObj) {\n    var selector = listener.qualifier;\n\n    if (selector != null) {\n      return cy !== eventObj.target && element(eventObj.target) && selector.matches(eventObj.target);\n    }\n\n    return true;\n  },\n  addEventFields: function addEventFields(cy, evt) {\n    evt.cy = cy;\n    evt.target = cy;\n  },\n  callbackContext: function callbackContext(cy, listener, eventObj) {\n    return listener.qualifier != null ? eventObj.target : cy;\n  }\n};\n\nvar argSelector$1 = function argSelector(arg) {\n  if (string(arg)) {\n    return new Selector(arg);\n  } else {\n    return arg;\n  }\n};\n\nvar elesfn$v = {\n  createEmitter: function createEmitter() {\n    var _p = this._private;\n\n    if (!_p.emitter) {\n      _p.emitter = new Emitter(emitterOptions$1, this);\n    }\n\n    return this;\n  },\n  emitter: function emitter() {\n    return this._private.emitter;\n  },\n  on: function on(events, selector, callback) {\n    this.emitter().on(events, argSelector$1(selector), callback);\n    return this;\n  },\n  removeListener: function removeListener(events, selector, callback) {\n    this.emitter().removeListener(events, argSelector$1(selector), callback);\n    return this;\n  },\n  removeAllListeners: function removeAllListeners() {\n    this.emitter().removeAllListeners();\n    return this;\n  },\n  one: function one(events, selector, callback) {\n    this.emitter().one(events, argSelector$1(selector), callback);\n    return this;\n  },\n  once: function once(events, selector, callback) {\n    this.emitter().one(events, argSelector$1(selector), callback);\n    return this;\n  },\n  emit: function emit(events, extraParams) {\n    this.emitter().emit(events, extraParams);\n    return this;\n  },\n  emitAndNotify: function emitAndNotify(event, eles) {\n    this.emit(event);\n    this.notify(event, eles);\n    return this;\n  }\n};\ndefine$3.eventAliasesOn(elesfn$v);\n\nvar corefn$2 = {\n  png: function png(options) {\n    var renderer = this._private.renderer;\n    options = options || {};\n    return renderer.png(options);\n  },\n  jpg: function jpg(options) {\n    var renderer = this._private.renderer;\n    options = options || {};\n    options.bg = options.bg || '#fff';\n    return renderer.jpg(options);\n  }\n};\ncorefn$2.jpeg = corefn$2.jpg;\n\nvar corefn$3 = {\n  layout: function layout(options) {\n    var cy = this;\n\n    if (options == null) {\n      error('Layout options must be specified to make a layout');\n      return;\n    }\n\n    if (options.name == null) {\n      error('A `name` must be specified to make a layout');\n      return;\n    }\n\n    var name = options.name;\n    var Layout = cy.extension('layout', name);\n\n    if (Layout == null) {\n      error('No such layout `' + name + '` found.  Did you forget to import it and `cytoscape.use()` it?');\n      return;\n    }\n\n    var eles;\n\n    if (string(options.eles)) {\n      eles = cy.$(options.eles);\n    } else {\n      eles = options.eles != null ? options.eles : cy.$();\n    }\n\n    var layout = new Layout(extend({}, options, {\n      cy: cy,\n      eles: eles\n    }));\n    return layout;\n  }\n};\ncorefn$3.createLayout = corefn$3.makeLayout = corefn$3.layout;\n\nvar corefn$4 = {\n  notify: function notify(eventName, eventEles) {\n    var _p = this._private;\n\n    if (this.batching()) {\n      _p.batchNotifications = _p.batchNotifications || {};\n      var eles = _p.batchNotifications[eventName] = _p.batchNotifications[eventName] || this.collection();\n\n      if (eventEles != null) {\n        eles.merge(eventEles);\n      }\n\n      return; // notifications are disabled during batching\n    }\n\n    if (!_p.notificationsEnabled) {\n      return;\n    } // exit on disabled\n\n\n    var renderer = this.renderer(); // exit if destroy() called on core or renderer in between frames #1499 #1528\n\n    if (this.destroyed() || !renderer) {\n      return;\n    }\n\n    renderer.notify(eventName, eventEles);\n  },\n  notifications: function notifications(bool) {\n    var p = this._private;\n\n    if (bool === undefined) {\n      return p.notificationsEnabled;\n    } else {\n      p.notificationsEnabled = bool ? true : false;\n    }\n\n    return this;\n  },\n  noNotifications: function noNotifications(callback) {\n    this.notifications(false);\n    callback();\n    this.notifications(true);\n  },\n  batching: function batching() {\n    return this._private.batchCount > 0;\n  },\n  startBatch: function startBatch() {\n    var _p = this._private;\n\n    if (_p.batchCount == null) {\n      _p.batchCount = 0;\n    }\n\n    if (_p.batchCount === 0) {\n      _p.batchStyleEles = this.collection();\n      _p.batchNotifications = {};\n    }\n\n    _p.batchCount++;\n    return this;\n  },\n  endBatch: function endBatch() {\n    var _p = this._private;\n\n    if (_p.batchCount === 0) {\n      return this;\n    }\n\n    _p.batchCount--;\n\n    if (_p.batchCount === 0) {\n      // update style for dirty eles\n      _p.batchStyleEles.updateStyle();\n\n      var renderer = this.renderer(); // notify the renderer of queued eles and event types\n\n      Object.keys(_p.batchNotifications).forEach(function (eventName) {\n        var eles = _p.batchNotifications[eventName];\n\n        if (eles.empty()) {\n          renderer.notify(eventName);\n        } else {\n          renderer.notify(eventName, eles);\n        }\n      });\n    }\n\n    return this;\n  },\n  batch: function batch(callback) {\n    this.startBatch();\n    callback();\n    this.endBatch();\n    return this;\n  },\n  // for backwards compatibility\n  batchData: function batchData(map) {\n    var cy = this;\n    return this.batch(function () {\n      var ids = Object.keys(map);\n\n      for (var i = 0; i < ids.length; i++) {\n        var id = ids[i];\n        var data = map[id];\n        var ele = cy.getElementById(id);\n        ele.data(data);\n      }\n    });\n  }\n};\n\nvar rendererDefaults = defaults({\n  hideEdgesOnViewport: false,\n  textureOnViewport: false,\n  motionBlur: false,\n  motionBlurOpacity: 0.05,\n  pixelRatio: undefined,\n  desktopTapThreshold: 4,\n  touchTapThreshold: 8,\n  wheelSensitivity: 1,\n  debug: false,\n  showFps: false\n});\nvar corefn$5 = {\n  renderTo: function renderTo(context, zoom, pan, pxRatio) {\n    var r = this._private.renderer;\n    r.renderTo(context, zoom, pan, pxRatio);\n    return this;\n  },\n  renderer: function renderer() {\n    return this._private.renderer;\n  },\n  forceRender: function forceRender() {\n    this.notify('draw');\n    return this;\n  },\n  resize: function resize() {\n    this.invalidateSize();\n    this.emitAndNotify('resize');\n    return this;\n  },\n  initRenderer: function initRenderer(options) {\n    var cy = this;\n    var RendererProto = cy.extension('renderer', options.name);\n\n    if (RendererProto == null) {\n      error(\"Can not initialise: No such renderer `\".concat(options.name, \"` found. Did you forget to import it and `cytoscape.use()` it?\"));\n      return;\n    }\n\n    if (options.wheelSensitivity !== undefined) {\n      warn(\"You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.\");\n    }\n\n    var rOpts = rendererDefaults(options);\n    rOpts.cy = cy;\n    cy._private.renderer = new RendererProto(rOpts);\n    this.notify('init');\n  },\n  destroyRenderer: function destroyRenderer() {\n    var cy = this;\n    cy.notify('destroy'); // destroy the renderer\n\n    var domEle = cy.container();\n\n    if (domEle) {\n      domEle._cyreg = null;\n\n      while (domEle.childNodes.length > 0) {\n        domEle.removeChild(domEle.childNodes[0]);\n      }\n    }\n\n    cy._private.renderer = null; // to be extra safe, remove the ref\n\n    cy.mutableElements().forEach(function (ele) {\n      var _p = ele._private;\n      _p.rscratch = {};\n      _p.rstyle = {};\n      _p.animation.current = [];\n      _p.animation.queue = [];\n    });\n  },\n  onRender: function onRender(fn) {\n    return this.on('render', fn);\n  },\n  offRender: function offRender(fn) {\n    return this.off('render', fn);\n  }\n};\ncorefn$5.invalidateDimensions = corefn$5.resize;\n\nvar corefn$6 = {\n  // get a collection\n  // - empty collection on no args\n  // - collection of elements in the graph on selector arg\n  // - guarantee a returned collection when elements or collection specified\n  collection: function collection(eles, opts) {\n    if (string(eles)) {\n      return this.$(eles);\n    } else if (elementOrCollection(eles)) {\n      return eles.collection();\n    } else if (array(eles)) {\n      return new Collection(this, eles, opts);\n    }\n\n    return new Collection(this);\n  },\n  nodes: function nodes(selector) {\n    var nodes = this.$(function (ele) {\n      return ele.isNode();\n    });\n\n    if (selector) {\n      return nodes.filter(selector);\n    }\n\n    return nodes;\n  },\n  edges: function edges(selector) {\n    var edges = this.$(function (ele) {\n      return ele.isEdge();\n    });\n\n    if (selector) {\n      return edges.filter(selector);\n    }\n\n    return edges;\n  },\n  // search the graph like jQuery\n  $: function $(selector) {\n    var eles = this._private.elements;\n\n    if (selector) {\n      return eles.filter(selector);\n    } else {\n      return eles.spawnSelf();\n    }\n  },\n  mutableElements: function mutableElements() {\n    return this._private.elements;\n  }\n}; // aliases\n\ncorefn$6.elements = corefn$6.filter = corefn$6.$;\n\nvar styfn = {}; // keys for style blocks, e.g. ttfftt\n\nvar TRUE = 't';\nvar FALSE = 'f'; // (potentially expensive calculation)\n// apply the style to the element based on\n// - its bypass\n// - what selectors match it\n\nstyfn.apply = function (eles) {\n  var self = this;\n  var _p = self._private;\n  var cy = _p.cy;\n  var updatedEles = cy.collection();\n\n  if (_p.newStyle) {\n    // clear style caches\n    _p.contextStyles = {};\n    _p.propDiffs = {};\n    self.cleanElements(eles, true);\n  }\n\n  for (var ie = 0; ie < eles.length; ie++) {\n    var ele = eles[ie];\n    var cxtMeta = self.getContextMeta(ele);\n\n    if (cxtMeta.empty) {\n      continue;\n    }\n\n    var cxtStyle = self.getContextStyle(cxtMeta);\n    var app = self.applyContextStyle(cxtMeta, cxtStyle, ele);\n\n    if (!_p.newStyle) {\n      self.updateTransitions(ele, app.diffProps);\n    }\n\n    var hintsDiff = self.updateStyleHints(ele);\n\n    if (hintsDiff) {\n      updatedEles.merge(ele);\n    }\n  } // for elements\n\n\n  _p.newStyle = false;\n  return updatedEles;\n};\n\nstyfn.getPropertiesDiff = function (oldCxtKey, newCxtKey) {\n  var self = this;\n  var cache = self._private.propDiffs = self._private.propDiffs || {};\n  var dualCxtKey = oldCxtKey + '-' + newCxtKey;\n  var cachedVal = cache[dualCxtKey];\n\n  if (cachedVal) {\n    return cachedVal;\n  }\n\n  var diffProps = [];\n  var addedProp = {};\n\n  for (var i = 0; i < self.length; i++) {\n    var cxt = self[i];\n    var oldHasCxt = oldCxtKey[i] === TRUE;\n    var newHasCxt = newCxtKey[i] === TRUE;\n    var cxtHasDiffed = oldHasCxt !== newHasCxt;\n    var cxtHasMappedProps = cxt.mappedProperties.length > 0;\n\n    if (cxtHasDiffed || newHasCxt && cxtHasMappedProps) {\n      var props = void 0;\n\n      if (cxtHasDiffed && cxtHasMappedProps) {\n        props = cxt.properties; // suffices b/c mappedProperties is a subset of properties\n      } else if (cxtHasDiffed) {\n        props = cxt.properties; // need to check them all\n      } else if (cxtHasMappedProps) {\n        props = cxt.mappedProperties; // only need to check mapped\n      }\n\n      for (var j = 0; j < props.length; j++) {\n        var prop = props[j];\n        var name = prop.name; // if a later context overrides this property, then the fact that this context has switched/diffed doesn't matter\n        // (semi expensive check since it makes this function O(n^2) on context length, but worth it since overall result\n        // is cached)\n\n        var laterCxtOverrides = false;\n\n        for (var k = i + 1; k < self.length; k++) {\n          var laterCxt = self[k];\n          var hasLaterCxt = newCxtKey[k] === TRUE;\n\n          if (!hasLaterCxt) {\n            continue;\n          } // can't override unless the context is active\n\n\n          laterCxtOverrides = laterCxt.properties[prop.name] != null;\n\n          if (laterCxtOverrides) {\n            break;\n          } // exit early as long as one later context overrides\n\n        }\n\n        if (!addedProp[name] && !laterCxtOverrides) {\n          addedProp[name] = true;\n          diffProps.push(name);\n        }\n      } // for props\n\n    } // if\n\n  } // for contexts\n\n\n  cache[dualCxtKey] = diffProps;\n  return diffProps;\n};\n\nstyfn.getContextMeta = function (ele) {\n  var self = this;\n  var cxtKey = '';\n  var diffProps;\n  var prevKey = ele._private.styleCxtKey || '';\n\n  if (self._private.newStyle) {\n    prevKey = ''; // since we need to apply all style if a fresh stylesheet\n  } // get the cxt key\n\n\n  for (var i = 0; i < self.length; i++) {\n    var context = self[i];\n    var contextSelectorMatches = context.selector && context.selector.matches(ele); // NB: context.selector may be null for 'core'\n\n    if (contextSelectorMatches) {\n      cxtKey += TRUE;\n    } else {\n      cxtKey += FALSE;\n    }\n  } // for context\n\n\n  diffProps = self.getPropertiesDiff(prevKey, cxtKey);\n  ele._private.styleCxtKey = cxtKey;\n  return {\n    key: cxtKey,\n    diffPropNames: diffProps,\n    empty: diffProps.length === 0\n  };\n}; // gets a computed ele style object based on matched contexts\n\n\nstyfn.getContextStyle = function (cxtMeta) {\n  var cxtKey = cxtMeta.key;\n  var self = this;\n  var cxtStyles = this._private.contextStyles = this._private.contextStyles || {}; // if already computed style, returned cached copy\n\n  if (cxtStyles[cxtKey]) {\n    return cxtStyles[cxtKey];\n  }\n\n  var style = {\n    _private: {\n      key: cxtKey\n    }\n  };\n\n  for (var i = 0; i < self.length; i++) {\n    var cxt = self[i];\n    var hasCxt = cxtKey[i] === TRUE;\n\n    if (!hasCxt) {\n      continue;\n    }\n\n    for (var j = 0; j < cxt.properties.length; j++) {\n      var prop = cxt.properties[j];\n      style[prop.name] = prop;\n    }\n  }\n\n  cxtStyles[cxtKey] = style;\n  return style;\n};\n\nstyfn.applyContextStyle = function (cxtMeta, cxtStyle, ele) {\n  var self = this;\n  var diffProps = cxtMeta.diffPropNames;\n  var retDiffProps = {};\n  var types = self.types;\n\n  for (var i = 0; i < diffProps.length; i++) {\n    var diffPropName = diffProps[i];\n    var cxtProp = cxtStyle[diffPropName];\n    var eleProp = ele.pstyle(diffPropName);\n\n    if (!cxtProp) {\n      // no context prop means delete\n      if (!eleProp) {\n        continue; // no existing prop means nothing needs to be removed\n        // nb affects initial application on mapped values like control-point-distances\n      } else if (eleProp.bypass) {\n        cxtProp = {\n          name: diffPropName,\n          deleteBypassed: true\n        };\n      } else {\n        cxtProp = {\n          name: diffPropName,\n          \"delete\": true\n        };\n      }\n    } // save cycles when the context prop doesn't need to be applied\n\n\n    if (eleProp === cxtProp) {\n      continue;\n    } // save cycles when a mapped context prop doesn't need to be applied\n\n\n    if (cxtProp.mapped === types.fn // context prop is function mapper\n    && eleProp != null // some props can be null even by default (e.g. a prop that overrides another one)\n    && eleProp.mapping != null // ele prop is a concrete value from from a mapper\n    && eleProp.mapping.value === cxtProp.value // the current prop on the ele is a flat prop value for the function mapper\n    ) {\n        // NB don't write to cxtProp, as it's shared among eles (stored in stylesheet)\n        var mapping = eleProp.mapping; // can write to mapping, as it's a per-ele copy\n\n        var fnValue = mapping.fnValue = cxtProp.value(ele); // temporarily cache the value in case of a miss\n\n        if (fnValue === mapping.prevFnValue) {\n          continue;\n        }\n      }\n\n    var retDiffProp = retDiffProps[diffPropName] = {\n      prev: eleProp\n    };\n    self.applyParsedProperty(ele, cxtProp);\n    retDiffProp.next = ele.pstyle(diffPropName);\n\n    if (retDiffProp.next && retDiffProp.next.bypass) {\n      retDiffProp.next = retDiffProp.next.bypassed;\n    }\n  }\n\n  return {\n    diffProps: retDiffProps\n  };\n};\n\nstyfn.updateStyleHints = function (ele) {\n  var _p = ele._private;\n  var self = this;\n  var propNames = self.propertyGroupNames;\n  var propGrKeys = self.propertyGroupKeys;\n\n  var propHash = function propHash(ele, propNames, seedKey) {\n    return self.getPropertiesHash(ele, propNames, seedKey);\n  };\n\n  var oldStyleKey = _p.styleKey;\n\n  if (ele.removed()) {\n    return false;\n  }\n\n  var isNode = _p.group === 'nodes'; // get the style key hashes per prop group\n  // but lazily -- only use non-default prop values to reduce the number of hashes\n  //\n\n  var overriddenStyles = ele._private.style;\n  propNames = Object.keys(overriddenStyles);\n\n  for (var i = 0; i < propGrKeys.length; i++) {\n    var grKey = propGrKeys[i];\n    _p.styleKeys[grKey] = 0;\n  }\n\n  var updateGrKey = function updateGrKey(val, grKey) {\n    return _p.styleKeys[grKey] = hashInt(val, _p.styleKeys[grKey]);\n  };\n\n  var updateGrKeyWStr = function updateGrKeyWStr(strVal, grKey) {\n    for (var j = 0; j < strVal.length; j++) {\n      updateGrKey(strVal.charCodeAt(j), grKey);\n    }\n  }; // - hashing works on 32 bit ints b/c we use bitwise ops\n  // - small numbers get cut off (e.g. 0.123 is seen as 0 by the hashing function)\n  // - raise up small numbers so more significant digits are seen by hashing\n  // - make small numbers larger than a normal value to avoid collisions\n  // - works in practice and it's relatively cheap\n\n\n  var N = 2000000000;\n\n  var cleanNum = function cleanNum(val) {\n    return -128 < val && val < 128 && Math.floor(val) !== val ? N - (val * 1024 | 0) : val;\n  };\n\n  for (var _i = 0; _i < propNames.length; _i++) {\n    var name = propNames[_i];\n    var parsedProp = overriddenStyles[name];\n\n    if (parsedProp == null) {\n      continue;\n    }\n\n    var propInfo = this.properties[name];\n    var type = propInfo.type;\n    var _grKey = propInfo.groupKey;\n    var normalizedNumberVal = void 0;\n\n    if (propInfo.hashOverride != null) {\n      normalizedNumberVal = propInfo.hashOverride(ele, parsedProp);\n    } else if (parsedProp.pfValue != null) {\n      normalizedNumberVal = parsedProp.pfValue;\n    } // might not be a number if it allows enums\n\n\n    var numberVal = propInfo.enums == null ? parsedProp.value : null;\n    var haveNormNum = normalizedNumberVal != null;\n    var haveUnitedNum = numberVal != null;\n    var haveNum = haveNormNum || haveUnitedNum;\n    var units = parsedProp.units; // numbers are cheaper to hash than strings\n    // 1 hash op vs n hash ops (for length n string)\n\n    if (type.number && haveNum) {\n      var v = haveNormNum ? normalizedNumberVal : numberVal;\n\n      if (type.multiple) {\n        for (var _i2 = 0; _i2 < v.length; _i2++) {\n          updateGrKey(cleanNum(v[_i2]), _grKey);\n        }\n      } else {\n        updateGrKey(cleanNum(v), _grKey);\n      }\n\n      if (!haveNormNum && units != null) {\n        updateGrKeyWStr(units, _grKey);\n      }\n    } else {\n      updateGrKeyWStr(parsedProp.strValue, _grKey);\n    }\n  } // overall style key\n  //\n\n\n  var hash = 0;\n\n  for (var _i3 = 0; _i3 < propGrKeys.length; _i3++) {\n    var _grKey2 = propGrKeys[_i3];\n    var grHash = _p.styleKeys[_grKey2];\n    hash = hashInt(grHash, hash);\n  }\n\n  _p.styleKey = hash; // label dims\n  //\n\n  var labelDimsKey = _p.labelDimsKey = _p.styleKeys.labelDimensions;\n  _p.labelKey = propHash(ele, ['label'], labelDimsKey);\n  _p.labelStyleKey = hashInt(_p.styleKeys.commonLabel, _p.labelKey);\n\n  if (!isNode) {\n    _p.sourceLabelKey = propHash(ele, ['source-label'], labelDimsKey);\n    _p.sourceLabelStyleKey = hashInt(_p.styleKeys.commonLabel, _p.sourceLabelKey);\n    _p.targetLabelKey = propHash(ele, ['target-label'], labelDimsKey);\n    _p.targetLabelStyleKey = hashInt(_p.styleKeys.commonLabel, _p.targetLabelKey);\n  } // node\n  //\n\n\n  if (isNode) {\n    var _p$styleKeys = _p.styleKeys,\n        nodeBody = _p$styleKeys.nodeBody,\n        nodeBorder = _p$styleKeys.nodeBorder,\n        backgroundImage = _p$styleKeys.backgroundImage,\n        compound = _p$styleKeys.compound,\n        pie = _p$styleKeys.pie;\n    _p.nodeKey = hashIntsArray([nodeBorder, backgroundImage, compound, pie], nodeBody);\n    _p.hasPie = pie != 0;\n  }\n\n  return oldStyleKey !== _p.styleKey;\n};\n\nstyfn.clearStyleHints = function (ele) {\n  var _p = ele._private;\n  _p.styleKeys = {};\n  _p.styleKey = null;\n  _p.labelKey = null;\n  _p.labelStyleKey = null;\n  _p.sourceLabelKey = null;\n  _p.sourceLabelStyleKey = null;\n  _p.targetLabelKey = null;\n  _p.targetLabelStyleKey = null;\n  _p.nodeKey = null;\n  _p.hasPie = null;\n}; // apply a property to the style (for internal use)\n// returns whether application was successful\n//\n// now, this function flattens the property, and here's how:\n//\n// for parsedProp:{ bypass: true, deleteBypass: true }\n// no property is generated, instead the bypass property in the\n// element's style is replaced by what's pointed to by the `bypassed`\n// field in the bypass property (i.e. restoring the property the\n// bypass was overriding)\n//\n// for parsedProp:{ mapped: truthy }\n// the generated flattenedProp:{ mapping: prop }\n//\n// for parsedProp:{ bypass: true }\n// the generated flattenedProp:{ bypassed: parsedProp }\n\n\nstyfn.applyParsedProperty = function (ele, parsedProp) {\n  var self = this;\n  var prop = parsedProp;\n  var style = ele._private.style;\n  var flatProp;\n  var types = self.types;\n  var type = self.properties[prop.name].type;\n  var propIsBypass = prop.bypass;\n  var origProp = style[prop.name];\n  var origPropIsBypass = origProp && origProp.bypass;\n  var _p = ele._private;\n  var flatPropMapping = 'mapping';\n\n  var getVal = function getVal(p) {\n    if (p == null) {\n      return null;\n    } else if (p.pfValue != null) {\n      return p.pfValue;\n    } else {\n      return p.value;\n    }\n  };\n\n  var checkTriggers = function checkTriggers() {\n    var fromVal = getVal(origProp);\n    var toVal = getVal(prop);\n    self.checkTriggers(ele, prop.name, fromVal, toVal);\n  }; // edge sanity checks to prevent the client from making serious mistakes\n\n\n  if (parsedProp.name === 'curve-style' && ele.isEdge() && ( // loops must be bundled beziers\n  parsedProp.value !== 'bezier' && ele.isLoop() || // edges connected to compound nodes can not be haystacks\n  parsedProp.value === 'haystack' && (ele.source().isParent() || ele.target().isParent()))) {\n    prop = parsedProp = this.parse(parsedProp.name, 'bezier', propIsBypass);\n  }\n\n  if (prop[\"delete\"]) {\n    // delete the property and use the default value on falsey value\n    style[prop.name] = undefined;\n    checkTriggers();\n    return true;\n  }\n\n  if (prop.deleteBypassed) {\n    // delete the property that the\n    if (!origProp) {\n      checkTriggers();\n      return true; // can't delete if no prop\n    } else if (origProp.bypass) {\n      // delete bypassed\n      origProp.bypassed = undefined;\n      checkTriggers();\n      return true;\n    } else {\n      return false; // we're unsuccessful deleting the bypassed\n    }\n  } // check if we need to delete the current bypass\n\n\n  if (prop.deleteBypass) {\n    // then this property is just here to indicate we need to delete\n    if (!origProp) {\n      checkTriggers();\n      return true; // property is already not defined\n    } else if (origProp.bypass) {\n      // then replace the bypass property with the original\n      // because the bypassed property was already applied (and therefore parsed), we can just replace it (no reapplying necessary)\n      style[prop.name] = origProp.bypassed;\n      checkTriggers();\n      return true;\n    } else {\n      return false; // we're unsuccessful deleting the bypass\n    }\n  }\n\n  var printMappingErr = function printMappingErr() {\n    warn('Do not assign mappings to elements without corresponding data (i.e. ele `' + ele.id() + '` has no mapping for property `' + prop.name + '` with data field `' + prop.field + '`); try a `[' + prop.field + ']` selector to limit scope to elements with `' + prop.field + '` defined');\n  }; // put the property in the style objects\n\n\n  switch (prop.mapped) {\n    // flatten the property if mapped\n    case types.mapData:\n      {\n        // flatten the field (e.g. data.foo.bar)\n        var fields = prop.field.split('.');\n        var fieldVal = _p.data;\n\n        for (var i = 0; i < fields.length && fieldVal; i++) {\n          var field = fields[i];\n          fieldVal = fieldVal[field];\n        }\n\n        if (fieldVal == null) {\n          printMappingErr();\n          return false;\n        }\n\n        var percent;\n\n        if (!number(fieldVal)) {\n          // then don't apply and fall back on the existing style\n          warn('Do not use continuous mappers without specifying numeric data (i.e. `' + prop.field + ': ' + fieldVal + '` for `' + ele.id() + '` is non-numeric)');\n          return false;\n        } else {\n          var fieldWidth = prop.fieldMax - prop.fieldMin;\n\n          if (fieldWidth === 0) {\n            // safety check -- not strictly necessary as no props of zero range should be passed here\n            percent = 0;\n          } else {\n            percent = (fieldVal - prop.fieldMin) / fieldWidth;\n          }\n        } // make sure to bound percent value\n\n\n        if (percent < 0) {\n          percent = 0;\n        } else if (percent > 1) {\n          percent = 1;\n        }\n\n        if (type.color) {\n          var r1 = prop.valueMin[0];\n          var r2 = prop.valueMax[0];\n          var g1 = prop.valueMin[1];\n          var g2 = prop.valueMax[1];\n          var b1 = prop.valueMin[2];\n          var b2 = prop.valueMax[2];\n          var a1 = prop.valueMin[3] == null ? 1 : prop.valueMin[3];\n          var a2 = prop.valueMax[3] == null ? 1 : prop.valueMax[3];\n          var clr = [Math.round(r1 + (r2 - r1) * percent), Math.round(g1 + (g2 - g1) * percent), Math.round(b1 + (b2 - b1) * percent), Math.round(a1 + (a2 - a1) * percent)];\n          flatProp = {\n            // colours are simple, so just create the flat property instead of expensive string parsing\n            bypass: prop.bypass,\n            // we're a bypass if the mapping property is a bypass\n            name: prop.name,\n            value: clr,\n            strValue: 'rgb(' + clr[0] + ', ' + clr[1] + ', ' + clr[2] + ')'\n          };\n        } else if (type.number) {\n          var calcValue = prop.valueMin + (prop.valueMax - prop.valueMin) * percent;\n          flatProp = this.parse(prop.name, calcValue, prop.bypass, flatPropMapping);\n        } else {\n          return false; // can only map to colours and numbers\n        }\n\n        if (!flatProp) {\n          // if we can't flatten the property, then don't apply the property and fall back on the existing style\n          printMappingErr();\n          return false;\n        }\n\n        flatProp.mapping = prop; // keep a reference to the mapping\n\n        prop = flatProp; // the flattened (mapped) property is the one we want\n\n        break;\n      }\n    // direct mapping\n\n    case types.data:\n      {\n        // flatten the field (e.g. data.foo.bar)\n        var _fields = prop.field.split('.');\n\n        var _fieldVal = _p.data;\n\n        for (var _i4 = 0; _i4 < _fields.length && _fieldVal; _i4++) {\n          var _field = _fields[_i4];\n          _fieldVal = _fieldVal[_field];\n        }\n\n        if (_fieldVal != null) {\n          flatProp = this.parse(prop.name, _fieldVal, prop.bypass, flatPropMapping);\n        }\n\n        if (!flatProp) {\n          // if we can't flatten the property, then don't apply and fall back on the existing style\n          printMappingErr();\n          return false;\n        }\n\n        flatProp.mapping = prop; // keep a reference to the mapping\n\n        prop = flatProp; // the flattened (mapped) property is the one we want\n\n        break;\n      }\n\n    case types.fn:\n      {\n        var fn = prop.value;\n        var fnRetVal = prop.fnValue != null ? prop.fnValue : fn(ele); // check for cached value before calling function\n\n        prop.prevFnValue = fnRetVal;\n\n        if (fnRetVal == null) {\n          warn('Custom function mappers may not return null (i.e. `' + prop.name + '` for ele `' + ele.id() + '` is null)');\n          return false;\n        }\n\n        flatProp = this.parse(prop.name, fnRetVal, prop.bypass, flatPropMapping);\n\n        if (!flatProp) {\n          warn('Custom function mappers may not return invalid values for the property type (i.e. `' + prop.name + '` for ele `' + ele.id() + '` is invalid)');\n          return false;\n        }\n\n        flatProp.mapping = copy(prop); // keep a reference to the mapping\n\n        prop = flatProp; // the flattened (mapped) property is the one we want\n\n        break;\n      }\n\n    case undefined:\n      break;\n    // just set the property\n\n    default:\n      return false;\n    // not a valid mapping\n  } // if the property is a bypass property, then link the resultant property to the original one\n\n\n  if (propIsBypass) {\n    if (origPropIsBypass) {\n      // then this bypass overrides the existing one\n      prop.bypassed = origProp.bypassed; // steal bypassed prop from old bypass\n    } else {\n      // then link the orig prop to the new bypass\n      prop.bypassed = origProp;\n    }\n\n    style[prop.name] = prop; // and set\n  } else {\n    // prop is not bypass\n    if (origPropIsBypass) {\n      // then keep the orig prop (since it's a bypass) and link to the new prop\n      origProp.bypassed = prop;\n    } else {\n      // then just replace the old prop with the new one\n      style[prop.name] = prop;\n    }\n  }\n\n  checkTriggers();\n  return true;\n};\n\nstyfn.cleanElements = function (eles, keepBypasses) {\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    this.clearStyleHints(ele);\n    ele.dirtyCompoundBoundsCache();\n    ele.dirtyBoundingBoxCache();\n\n    if (!keepBypasses) {\n      ele._private.style = {};\n    } else {\n      var style = ele._private.style;\n      var propNames = Object.keys(style);\n\n      for (var j = 0; j < propNames.length; j++) {\n        var propName = propNames[j];\n        var eleProp = style[propName];\n\n        if (eleProp != null) {\n          if (eleProp.bypass) {\n            eleProp.bypassed = null;\n          } else {\n            style[propName] = null;\n          }\n        }\n      }\n    }\n  }\n}; // updates the visual style for all elements (useful for manual style modification after init)\n\n\nstyfn.update = function () {\n  var cy = this._private.cy;\n  var eles = cy.mutableElements();\n  eles.updateStyle();\n}; // diffProps : { name => { prev, next } }\n\n\nstyfn.updateTransitions = function (ele, diffProps) {\n  var self = this;\n  var _p = ele._private;\n  var props = ele.pstyle('transition-property').value;\n  var duration = ele.pstyle('transition-duration').pfValue;\n  var delay = ele.pstyle('transition-delay').pfValue;\n\n  if (props.length > 0 && duration > 0) {\n    var style = {}; // build up the style to animate towards\n\n    var anyPrev = false;\n\n    for (var i = 0; i < props.length; i++) {\n      var prop = props[i];\n      var styProp = ele.pstyle(prop);\n      var diffProp = diffProps[prop];\n\n      if (!diffProp) {\n        continue;\n      }\n\n      var prevProp = diffProp.prev;\n      var fromProp = prevProp;\n      var toProp = diffProp.next != null ? diffProp.next : styProp;\n      var diff = false;\n      var initVal = void 0;\n      var initDt = 0.000001; // delta time % value for initVal (allows animating out of init zero opacity)\n\n      if (!fromProp) {\n        continue;\n      } // consider px values\n\n\n      if (number(fromProp.pfValue) && number(toProp.pfValue)) {\n        diff = toProp.pfValue - fromProp.pfValue; // nonzero is truthy\n\n        initVal = fromProp.pfValue + initDt * diff; // consider numerical values\n      } else if (number(fromProp.value) && number(toProp.value)) {\n        diff = toProp.value - fromProp.value; // nonzero is truthy\n\n        initVal = fromProp.value + initDt * diff; // consider colour values\n      } else if (array(fromProp.value) && array(toProp.value)) {\n        diff = fromProp.value[0] !== toProp.value[0] || fromProp.value[1] !== toProp.value[1] || fromProp.value[2] !== toProp.value[2];\n        initVal = fromProp.strValue;\n      } // the previous value is good for an animation only if it's different\n\n\n      if (diff) {\n        style[prop] = toProp.strValue; // to val\n\n        this.applyBypass(ele, prop, initVal); // from val\n\n        anyPrev = true;\n      }\n    } // end if props allow ani\n    // can't transition if there's nothing previous to transition from\n\n\n    if (!anyPrev) {\n      return;\n    }\n\n    _p.transitioning = true;\n    new Promise$1(function (resolve) {\n      if (delay > 0) {\n        ele.delayAnimation(delay).play().promise().then(resolve);\n      } else {\n        resolve();\n      }\n    }).then(function () {\n      return ele.animation({\n        style: style,\n        duration: duration,\n        easing: ele.pstyle('transition-timing-function').value,\n        queue: false\n      }).play().promise();\n    }).then(function () {\n      // if( !isBypass ){\n      self.removeBypasses(ele, props);\n      ele.emitAndNotify('style'); // }\n\n      _p.transitioning = false;\n    });\n  } else if (_p.transitioning) {\n    this.removeBypasses(ele, props);\n    ele.emitAndNotify('style');\n    _p.transitioning = false;\n  }\n};\n\nstyfn.checkTrigger = function (ele, name, fromValue, toValue, getTrigger, onTrigger) {\n  var prop = this.properties[name];\n  var triggerCheck = getTrigger(prop);\n\n  if (triggerCheck != null && triggerCheck(fromValue, toValue)) {\n    onTrigger(prop);\n  }\n};\n\nstyfn.checkZOrderTrigger = function (ele, name, fromValue, toValue) {\n  var _this = this;\n\n  this.checkTrigger(ele, name, fromValue, toValue, function (prop) {\n    return prop.triggersZOrder;\n  }, function () {\n    _this._private.cy.notify('zorder', ele);\n  });\n};\n\nstyfn.checkBoundsTrigger = function (ele, name, fromValue, toValue) {\n  this.checkTrigger(ele, name, fromValue, toValue, function (prop) {\n    return prop.triggersBounds;\n  }, function (prop) {\n    ele.dirtyCompoundBoundsCache();\n    ele.dirtyBoundingBoxCache(); // if the prop change makes the bb of pll bezier edges invalid,\n    // then dirty the pll edge bb cache as well\n\n    if ( // only for beziers -- so performance of other edges isn't affected\n    (ele.pstyle('curve-style').value === 'bezier' // already a bezier\n    // was just now changed to or from a bezier:\n    || name === 'curve-style' && (fromValue === 'bezier' || toValue === 'bezier')) && prop.triggersBoundsOfParallelBeziers) {\n      ele.parallelEdges().forEach(function (pllEdge) {\n        if (pllEdge.isBundledBezier()) {\n          pllEdge.dirtyBoundingBoxCache();\n        }\n      });\n    }\n  });\n};\n\nstyfn.checkTriggers = function (ele, name, fromValue, toValue) {\n  ele.dirtyStyleCache();\n  this.checkZOrderTrigger(ele, name, fromValue, toValue);\n  this.checkBoundsTrigger(ele, name, fromValue, toValue);\n};\n\nvar styfn$1 = {}; // bypasses are applied to an existing style on an element, and just tacked on temporarily\n// returns true iff application was successful for at least 1 specified property\n\nstyfn$1.applyBypass = function (eles, name, value, updateTransitions) {\n  var self = this;\n  var props = [];\n  var isBypass = true; // put all the properties (can specify one or many) in an array after parsing them\n\n  if (name === '*' || name === '**') {\n    // apply to all property names\n    if (value !== undefined) {\n      for (var i = 0; i < self.properties.length; i++) {\n        var prop = self.properties[i];\n        var _name = prop.name;\n        var parsedProp = this.parse(_name, value, true);\n\n        if (parsedProp) {\n          props.push(parsedProp);\n        }\n      }\n    }\n  } else if (string(name)) {\n    // then parse the single property\n    var _parsedProp = this.parse(name, value, true);\n\n    if (_parsedProp) {\n      props.push(_parsedProp);\n    }\n  } else if (plainObject(name)) {\n    // then parse each property\n    var specifiedProps = name;\n    updateTransitions = value;\n    var names = Object.keys(specifiedProps);\n\n    for (var _i = 0; _i < names.length; _i++) {\n      var _name2 = names[_i];\n      var _value = specifiedProps[_name2];\n\n      if (_value === undefined) {\n        // try camel case name too\n        _value = specifiedProps[dash2camel(_name2)];\n      }\n\n      if (_value !== undefined) {\n        var _parsedProp2 = this.parse(_name2, _value, true);\n\n        if (_parsedProp2) {\n          props.push(_parsedProp2);\n        }\n      }\n    }\n  } else {\n    // can't do anything without well defined properties\n    return false;\n  } // we've failed if there are no valid properties\n\n\n  if (props.length === 0) {\n    return false;\n  } // now, apply the bypass properties on the elements\n\n\n  var ret = false; // return true if at least one succesful bypass applied\n\n  for (var _i2 = 0; _i2 < eles.length; _i2++) {\n    // for each ele\n    var ele = eles[_i2];\n    var diffProps = {};\n    var diffProp = void 0;\n\n    for (var j = 0; j < props.length; j++) {\n      // for each prop\n      var _prop = props[j];\n\n      if (updateTransitions) {\n        var prevProp = ele.pstyle(_prop.name);\n        diffProp = diffProps[_prop.name] = {\n          prev: prevProp\n        };\n      }\n\n      ret = this.applyParsedProperty(ele, _prop) || ret;\n\n      if (updateTransitions) {\n        diffProp.next = ele.pstyle(_prop.name);\n      }\n    } // for props\n\n\n    if (ret) {\n      this.updateStyleHints(ele);\n    }\n\n    if (updateTransitions) {\n      this.updateTransitions(ele, diffProps, isBypass);\n    }\n  } // for eles\n\n\n  return ret;\n}; // only useful in specific cases like animation\n\n\nstyfn$1.overrideBypass = function (eles, name, value) {\n  name = camel2dash(name);\n\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    var prop = ele._private.style[name];\n    var type = this.properties[name].type;\n    var isColor = type.color;\n    var isMulti = type.mutiple;\n    var oldValue = !prop ? null : prop.pfValue != null ? prop.pfValue : prop.value;\n\n    if (!prop || !prop.bypass) {\n      // need a bypass if one doesn't exist\n      this.applyBypass(ele, name, value);\n    } else {\n      prop.value = value;\n\n      if (prop.pfValue != null) {\n        prop.pfValue = value;\n      }\n\n      if (isColor) {\n        prop.strValue = 'rgb(' + value.join(',') + ')';\n      } else if (isMulti) {\n        prop.strValue = value.join(' ');\n      } else {\n        prop.strValue = '' + value;\n      }\n\n      this.updateStyleHints(ele);\n    }\n\n    this.checkTriggers(ele, name, oldValue, value);\n  }\n};\n\nstyfn$1.removeAllBypasses = function (eles, updateTransitions) {\n  return this.removeBypasses(eles, this.propertyNames, updateTransitions);\n};\n\nstyfn$1.removeBypasses = function (eles, props, updateTransitions) {\n  var isBypass = true;\n\n  for (var j = 0; j < eles.length; j++) {\n    var ele = eles[j];\n    var diffProps = {};\n\n    for (var i = 0; i < props.length; i++) {\n      var name = props[i];\n      var prop = this.properties[name];\n      var prevProp = ele.pstyle(prop.name);\n\n      if (!prevProp || !prevProp.bypass) {\n        // if a bypass doesn't exist for the prop, nothing needs to be removed\n        continue;\n      }\n\n      var value = ''; // empty => remove bypass\n\n      var parsedProp = this.parse(name, value, true);\n      var diffProp = diffProps[prop.name] = {\n        prev: prevProp\n      };\n      this.applyParsedProperty(ele, parsedProp);\n      diffProp.next = ele.pstyle(prop.name);\n    } // for props\n\n\n    this.updateStyleHints(ele);\n\n    if (updateTransitions) {\n      this.updateTransitions(ele, diffProps, isBypass);\n    }\n  } // for eles\n\n};\n\nvar styfn$2 = {}; // gets what an em size corresponds to in pixels relative to a dom element\n\nstyfn$2.getEmSizeInPixels = function () {\n  var px = this.containerCss('font-size');\n\n  if (px != null) {\n    return parseFloat(px);\n  } else {\n    return 1; // for headless\n  }\n}; // gets css property from the core container\n\n\nstyfn$2.containerCss = function (propName) {\n  var cy = this._private.cy;\n  var domElement = cy.container();\n\n  if (window$1 && domElement && window$1.getComputedStyle) {\n    return window$1.getComputedStyle(domElement).getPropertyValue(propName);\n  }\n};\n\nvar styfn$3 = {}; // gets the rendered style for an element\n\nstyfn$3.getRenderedStyle = function (ele, prop) {\n  if (prop) {\n    return this.getStylePropertyValue(ele, prop, true);\n  } else {\n    return this.getRawStyle(ele, true);\n  }\n}; // gets the raw style for an element\n\n\nstyfn$3.getRawStyle = function (ele, isRenderedVal) {\n  var self = this;\n  ele = ele[0]; // insure it's an element\n\n  if (ele) {\n    var rstyle = {};\n\n    for (var i = 0; i < self.properties.length; i++) {\n      var prop = self.properties[i];\n      var val = self.getStylePropertyValue(ele, prop.name, isRenderedVal);\n\n      if (val != null) {\n        rstyle[prop.name] = val;\n        rstyle[dash2camel(prop.name)] = val;\n      }\n    }\n\n    return rstyle;\n  }\n};\n\nstyfn$3.getIndexedStyle = function (ele, property, subproperty, index) {\n  var pstyle = ele.pstyle(property)[subproperty][index];\n  return pstyle != null ? pstyle : ele.cy().style().getDefaultProperty(property)[subproperty][0];\n};\n\nstyfn$3.getStylePropertyValue = function (ele, propName, isRenderedVal) {\n  var self = this;\n  ele = ele[0]; // insure it's an element\n\n  if (ele) {\n    var prop = self.properties[propName];\n\n    if (prop.alias) {\n      prop = prop.pointsTo;\n    }\n\n    var type = prop.type;\n    var styleProp = ele.pstyle(prop.name);\n\n    if (styleProp) {\n      var value = styleProp.value,\n          units = styleProp.units,\n          strValue = styleProp.strValue;\n\n      if (isRenderedVal && type.number && value != null && number(value)) {\n        var zoom = ele.cy().zoom();\n\n        var getRenderedValue = function getRenderedValue(val) {\n          return val * zoom;\n        };\n\n        var getValueStringWithUnits = function getValueStringWithUnits(val, units) {\n          return getRenderedValue(val) + units;\n        };\n\n        var isArrayValue = array(value);\n        var haveUnits = isArrayValue ? units.every(function (u) {\n          return u != null;\n        }) : units != null;\n\n        if (haveUnits) {\n          if (isArrayValue) {\n            return value.map(function (v, i) {\n              return getValueStringWithUnits(v, units[i]);\n            }).join(' ');\n          } else {\n            return getValueStringWithUnits(value, units);\n          }\n        } else {\n          if (isArrayValue) {\n            return value.map(function (v) {\n              return string(v) ? v : '' + getRenderedValue(v);\n            }).join(' ');\n          } else {\n            return '' + getRenderedValue(value);\n          }\n        }\n      } else if (strValue != null) {\n        return strValue;\n      }\n    }\n\n    return null;\n  }\n};\n\nstyfn$3.getAnimationStartStyle = function (ele, aniProps) {\n  var rstyle = {};\n\n  for (var i = 0; i < aniProps.length; i++) {\n    var aniProp = aniProps[i];\n    var name = aniProp.name;\n    var styleProp = ele.pstyle(name);\n\n    if (styleProp !== undefined) {\n      // then make a prop of it\n      if (plainObject(styleProp)) {\n        styleProp = this.parse(name, styleProp.strValue);\n      } else {\n        styleProp = this.parse(name, styleProp);\n      }\n    }\n\n    if (styleProp) {\n      rstyle[name] = styleProp;\n    }\n  }\n\n  return rstyle;\n};\n\nstyfn$3.getPropsList = function (propsObj) {\n  var self = this;\n  var rstyle = [];\n  var style = propsObj;\n  var props = self.properties;\n\n  if (style) {\n    var names = Object.keys(style);\n\n    for (var i = 0; i < names.length; i++) {\n      var name = names[i];\n      var val = style[name];\n      var prop = props[name] || props[camel2dash(name)];\n      var styleProp = this.parse(prop.name, val);\n\n      if (styleProp) {\n        rstyle.push(styleProp);\n      }\n    }\n  }\n\n  return rstyle;\n};\n\nstyfn$3.getNonDefaultPropertiesHash = function (ele, propNames, seed) {\n  var hash = seed;\n  var name, val, strVal, chVal;\n  var i, j;\n\n  for (i = 0; i < propNames.length; i++) {\n    name = propNames[i];\n    val = ele.pstyle(name, false);\n\n    if (val == null) {\n      continue;\n    } else if (val.pfValue != null) {\n      hash = hashInt(chVal, hash);\n    } else {\n      strVal = val.strValue;\n\n      for (j = 0; j < strVal.length; j++) {\n        chVal = strVal.charCodeAt(j);\n        hash = hashInt(chVal, hash);\n      }\n    }\n  }\n\n  return hash;\n};\n\nstyfn$3.getPropertiesHash = styfn$3.getNonDefaultPropertiesHash;\n\nvar styfn$4 = {};\n\nstyfn$4.appendFromJson = function (json) {\n  var style = this;\n\n  for (var i = 0; i < json.length; i++) {\n    var context = json[i];\n    var selector = context.selector;\n    var props = context.style || context.css;\n    var names = Object.keys(props);\n    style.selector(selector); // apply selector\n\n    for (var j = 0; j < names.length; j++) {\n      var name = names[j];\n      var value = props[name];\n      style.css(name, value); // apply property\n    }\n  }\n\n  return style;\n}; // accessible cy.style() function\n\n\nstyfn$4.fromJson = function (json) {\n  var style = this;\n  style.resetToDefault();\n  style.appendFromJson(json);\n  return style;\n}; // get json from cy.style() api\n\n\nstyfn$4.json = function () {\n  var json = [];\n\n  for (var i = this.defaultLength; i < this.length; i++) {\n    var cxt = this[i];\n    var selector = cxt.selector;\n    var props = cxt.properties;\n    var css = {};\n\n    for (var j = 0; j < props.length; j++) {\n      var prop = props[j];\n      css[prop.name] = prop.strValue;\n    }\n\n    json.push({\n      selector: !selector ? 'core' : selector.toString(),\n      style: css\n    });\n  }\n\n  return json;\n};\n\nvar styfn$5 = {};\n\nstyfn$5.appendFromString = function (string) {\n  var self = this;\n  var style = this;\n  var remaining = '' + string;\n  var selAndBlockStr;\n  var blockRem;\n  var propAndValStr; // remove comments from the style string\n\n  remaining = remaining.replace(/[/][*](\\s|.)+?[*][/]/g, '');\n\n  function removeSelAndBlockFromRemaining() {\n    // remove the parsed selector and block from the remaining text to parse\n    if (remaining.length > selAndBlockStr.length) {\n      remaining = remaining.substr(selAndBlockStr.length);\n    } else {\n      remaining = '';\n    }\n  }\n\n  function removePropAndValFromRem() {\n    // remove the parsed property and value from the remaining block text to parse\n    if (blockRem.length > propAndValStr.length) {\n      blockRem = blockRem.substr(propAndValStr.length);\n    } else {\n      blockRem = '';\n    }\n  }\n\n  for (;;) {\n    var nothingLeftToParse = remaining.match(/^\\s*$/);\n\n    if (nothingLeftToParse) {\n      break;\n    }\n\n    var selAndBlock = remaining.match(/^\\s*((?:.|\\s)+?)\\s*\\{((?:.|\\s)+?)\\}/);\n\n    if (!selAndBlock) {\n      warn('Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: ' + remaining);\n      break;\n    }\n\n    selAndBlockStr = selAndBlock[0]; // parse the selector\n\n    var selectorStr = selAndBlock[1];\n\n    if (selectorStr !== 'core') {\n      var selector = new Selector(selectorStr);\n\n      if (selector.invalid) {\n        warn('Skipping parsing of block: Invalid selector found in string stylesheet: ' + selectorStr); // skip this selector and block\n\n        removeSelAndBlockFromRemaining();\n        continue;\n      }\n    } // parse the block of properties and values\n\n\n    var blockStr = selAndBlock[2];\n    var invalidBlock = false;\n    blockRem = blockStr;\n    var props = [];\n\n    for (;;) {\n      var _nothingLeftToParse = blockRem.match(/^\\s*$/);\n\n      if (_nothingLeftToParse) {\n        break;\n      }\n\n      var propAndVal = blockRem.match(/^\\s*(.+?)\\s*:\\s*(.+?)\\s*;/);\n\n      if (!propAndVal) {\n        warn('Skipping parsing of block: Invalid formatting of style property and value definitions found in:' + blockStr);\n        invalidBlock = true;\n        break;\n      }\n\n      propAndValStr = propAndVal[0];\n      var propStr = propAndVal[1];\n      var valStr = propAndVal[2];\n      var prop = self.properties[propStr];\n\n      if (!prop) {\n        warn('Skipping property: Invalid property name in: ' + propAndValStr); // skip this property in the block\n\n        removePropAndValFromRem();\n        continue;\n      }\n\n      var parsedProp = style.parse(propStr, valStr);\n\n      if (!parsedProp) {\n        warn('Skipping property: Invalid property definition in: ' + propAndValStr); // skip this property in the block\n\n        removePropAndValFromRem();\n        continue;\n      }\n\n      props.push({\n        name: propStr,\n        val: valStr\n      });\n      removePropAndValFromRem();\n    }\n\n    if (invalidBlock) {\n      removeSelAndBlockFromRemaining();\n      break;\n    } // put the parsed block in the style\n\n\n    style.selector(selectorStr);\n\n    for (var i = 0; i < props.length; i++) {\n      var _prop = props[i];\n      style.css(_prop.name, _prop.val);\n    }\n\n    removeSelAndBlockFromRemaining();\n  }\n\n  return style;\n};\n\nstyfn$5.fromString = function (string) {\n  var style = this;\n  style.resetToDefault();\n  style.appendFromString(string);\n  return style;\n};\n\nvar styfn$6 = {};\n\n(function () {\n  var number = number$1;\n  var rgba = rgbaNoBackRefs;\n  var hsla = hslaNoBackRefs;\n  var hex3$1 = hex3;\n  var hex6$1 = hex6;\n\n  var data = function data(prefix) {\n    return '^' + prefix + '\\\\s*\\\\(\\\\s*([\\\\w\\\\.]+)\\\\s*\\\\)$';\n  };\n\n  var mapData = function mapData(prefix) {\n    var mapArg = number + '|\\\\w+|' + rgba + '|' + hsla + '|' + hex3$1 + '|' + hex6$1;\n    return '^' + prefix + '\\\\s*\\\\(([\\\\w\\\\.]+)\\\\s*\\\\,\\\\s*(' + number + ')\\\\s*\\\\,\\\\s*(' + number + ')\\\\s*,\\\\s*(' + mapArg + ')\\\\s*\\\\,\\\\s*(' + mapArg + ')\\\\)$';\n  };\n\n  var urlRegexes = ['^url\\\\s*\\\\(\\\\s*[\\'\"]?(.+?)[\\'\"]?\\\\s*\\\\)$', '^(none)$', '^(.+)$']; // each visual style property has a type and needs to be validated according to it\n\n  styfn$6.types = {\n    time: {\n      number: true,\n      min: 0,\n      units: 's|ms',\n      implicitUnits: 'ms'\n    },\n    percent: {\n      number: true,\n      min: 0,\n      max: 100,\n      units: '%',\n      implicitUnits: '%'\n    },\n    percentages: {\n      number: true,\n      min: 0,\n      max: 100,\n      units: '%',\n      implicitUnits: '%',\n      multiple: true\n    },\n    zeroOneNumber: {\n      number: true,\n      min: 0,\n      max: 1,\n      unitless: true\n    },\n    zeroOneNumbers: {\n      number: true,\n      min: 0,\n      max: 1,\n      unitless: true,\n      multiple: true\n    },\n    nOneOneNumber: {\n      number: true,\n      min: -1,\n      max: 1,\n      unitless: true\n    },\n    nonNegativeInt: {\n      number: true,\n      min: 0,\n      integer: true,\n      unitless: true\n    },\n    position: {\n      enums: ['parent', 'origin']\n    },\n    nodeSize: {\n      number: true,\n      min: 0,\n      enums: ['label']\n    },\n    number: {\n      number: true,\n      unitless: true\n    },\n    numbers: {\n      number: true,\n      unitless: true,\n      multiple: true\n    },\n    positiveNumber: {\n      number: true,\n      unitless: true,\n      min: 0,\n      strictMin: true\n    },\n    size: {\n      number: true,\n      min: 0\n    },\n    bidirectionalSize: {\n      number: true\n    },\n    // allows negative\n    bidirectionalSizes: {\n      number: true,\n      multiple: true\n    },\n    // allows negative\n    sizeMaybePercent: {\n      number: true,\n      min: 0,\n      allowPercent: true\n    },\n    axisDirection: {\n      enums: ['horizontal', 'leftward', 'rightward', 'vertical', 'upward', 'downward', 'auto']\n    },\n    paddingRelativeTo: {\n      enums: ['width', 'height', 'average', 'min', 'max']\n    },\n    bgWH: {\n      number: true,\n      min: 0,\n      allowPercent: true,\n      enums: ['auto'],\n      multiple: true\n    },\n    bgPos: {\n      number: true,\n      allowPercent: true,\n      multiple: true\n    },\n    bgRelativeTo: {\n      enums: ['inner', 'include-padding'],\n      multiple: true\n    },\n    bgRepeat: {\n      enums: ['repeat', 'repeat-x', 'repeat-y', 'no-repeat'],\n      multiple: true\n    },\n    bgFit: {\n      enums: ['none', 'contain', 'cover'],\n      multiple: true\n    },\n    bgCrossOrigin: {\n      enums: ['anonymous', 'use-credentials'],\n      multiple: true\n    },\n    bgClip: {\n      enums: ['none', 'node'],\n      multiple: true\n    },\n    color: {\n      color: true\n    },\n    colors: {\n      color: true,\n      multiple: true\n    },\n    fill: {\n      enums: ['solid', 'linear-gradient', 'radial-gradient']\n    },\n    bool: {\n      enums: ['yes', 'no']\n    },\n    lineStyle: {\n      enums: ['solid', 'dotted', 'dashed']\n    },\n    lineCap: {\n      enums: ['butt', 'round', 'square']\n    },\n    borderStyle: {\n      enums: ['solid', 'dotted', 'dashed', 'double']\n    },\n    curveStyle: {\n      enums: ['bezier', 'unbundled-bezier', 'haystack', 'segments', 'straight', 'taxi']\n    },\n    fontFamily: {\n      regex: '^([\\\\w- \\\\\"]+(?:\\\\s*,\\\\s*[\\\\w- \\\\\"]+)*)$'\n    },\n    fontStyle: {\n      enums: ['italic', 'normal', 'oblique']\n    },\n    fontWeight: {\n      enums: ['normal', 'bold', 'bolder', 'lighter', '100', '200', '300', '400', '500', '600', '800', '900', 100, 200, 300, 400, 500, 600, 700, 800, 900]\n    },\n    textDecoration: {\n      enums: ['none', 'underline', 'overline', 'line-through']\n    },\n    textTransform: {\n      enums: ['none', 'uppercase', 'lowercase']\n    },\n    textWrap: {\n      enums: ['none', 'wrap', 'ellipsis']\n    },\n    textOverflowWrap: {\n      enums: ['whitespace', 'anywhere']\n    },\n    textBackgroundShape: {\n      enums: ['rectangle', 'roundrectangle', 'round-rectangle']\n    },\n    nodeShape: {\n      enums: ['rectangle', 'roundrectangle', 'round-rectangle', 'cutrectangle', 'cut-rectangle', 'bottomroundrectangle', 'bottom-round-rectangle', 'barrel', 'ellipse', 'triangle', 'round-triangle', 'square', 'pentagon', 'round-pentagon', 'hexagon', 'round-hexagon', 'concavehexagon', 'concave-hexagon', 'heptagon', 'round-heptagon', 'octagon', 'round-octagon', 'tag', 'round-tag', 'star', 'diamond', 'round-diamond', 'vee', 'rhomboid', 'polygon']\n    },\n    compoundIncludeLabels: {\n      enums: ['include', 'exclude']\n    },\n    arrowShape: {\n      enums: ['tee', 'triangle', 'triangle-tee', 'triangle-cross', 'triangle-backcurve', 'vee', 'square', 'circle', 'diamond', 'chevron', 'none']\n    },\n    arrowFill: {\n      enums: ['filled', 'hollow']\n    },\n    display: {\n      enums: ['element', 'none']\n    },\n    visibility: {\n      enums: ['hidden', 'visible']\n    },\n    zCompoundDepth: {\n      enums: ['bottom', 'orphan', 'auto', 'top']\n    },\n    zIndexCompare: {\n      enums: ['auto', 'manual']\n    },\n    valign: {\n      enums: ['top', 'center', 'bottom']\n    },\n    halign: {\n      enums: ['left', 'center', 'right']\n    },\n    justification: {\n      enums: ['left', 'center', 'right', 'auto']\n    },\n    text: {\n      string: true\n    },\n    data: {\n      mapping: true,\n      regex: data('data')\n    },\n    layoutData: {\n      mapping: true,\n      regex: data('layoutData')\n    },\n    scratch: {\n      mapping: true,\n      regex: data('scratch')\n    },\n    mapData: {\n      mapping: true,\n      regex: mapData('mapData')\n    },\n    mapLayoutData: {\n      mapping: true,\n      regex: mapData('mapLayoutData')\n    },\n    mapScratch: {\n      mapping: true,\n      regex: mapData('mapScratch')\n    },\n    fn: {\n      mapping: true,\n      fn: true\n    },\n    url: {\n      regexes: urlRegexes,\n      singleRegexMatchValue: true\n    },\n    urls: {\n      regexes: urlRegexes,\n      singleRegexMatchValue: true,\n      multiple: true\n    },\n    propList: {\n      propList: true\n    },\n    angle: {\n      number: true,\n      units: 'deg|rad',\n      implicitUnits: 'rad'\n    },\n    textRotation: {\n      number: true,\n      units: 'deg|rad',\n      implicitUnits: 'rad',\n      enums: ['none', 'autorotate']\n    },\n    polygonPointList: {\n      number: true,\n      multiple: true,\n      evenMultiple: true,\n      min: -1,\n      max: 1,\n      unitless: true\n    },\n    edgeDistances: {\n      enums: ['intersection', 'node-position']\n    },\n    edgeEndpoint: {\n      number: true,\n      multiple: true,\n      units: '%|px|em|deg|rad',\n      implicitUnits: 'px',\n      enums: ['inside-to-node', 'outside-to-node', 'outside-to-node-or-label', 'outside-to-line', 'outside-to-line-or-label'],\n      singleEnum: true,\n      validate: function validate(valArr, unitsArr) {\n        switch (valArr.length) {\n          case 2:\n            // can be % or px only\n            return unitsArr[0] !== 'deg' && unitsArr[0] !== 'rad' && unitsArr[1] !== 'deg' && unitsArr[1] !== 'rad';\n\n          case 1:\n            // can be enum, deg, or rad only\n            return string(valArr[0]) || unitsArr[0] === 'deg' || unitsArr[0] === 'rad';\n\n          default:\n            return false;\n        }\n      }\n    },\n    easing: {\n      regexes: ['^(spring)\\\\s*\\\\(\\\\s*(' + number + ')\\\\s*,\\\\s*(' + number + ')\\\\s*\\\\)$', '^(cubic-bezier)\\\\s*\\\\(\\\\s*(' + number + ')\\\\s*,\\\\s*(' + number + ')\\\\s*,\\\\s*(' + number + ')\\\\s*,\\\\s*(' + number + ')\\\\s*\\\\)$'],\n      enums: ['linear', 'ease', 'ease-in', 'ease-out', 'ease-in-out', 'ease-in-sine', 'ease-out-sine', 'ease-in-out-sine', 'ease-in-quad', 'ease-out-quad', 'ease-in-out-quad', 'ease-in-cubic', 'ease-out-cubic', 'ease-in-out-cubic', 'ease-in-quart', 'ease-out-quart', 'ease-in-out-quart', 'ease-in-quint', 'ease-out-quint', 'ease-in-out-quint', 'ease-in-expo', 'ease-out-expo', 'ease-in-out-expo', 'ease-in-circ', 'ease-out-circ', 'ease-in-out-circ']\n    },\n    gradientDirection: {\n      enums: ['to-bottom', 'to-top', 'to-left', 'to-right', 'to-bottom-right', 'to-bottom-left', 'to-top-right', 'to-top-left', 'to-right-bottom', 'to-left-bottom', 'to-right-top', 'to-left-top']\n    },\n    boundsExpansion: {\n      number: true,\n      multiple: true,\n      min: 0,\n      validate: function validate(valArr) {\n        var length = valArr.length;\n        return length === 1 || length === 2 || length === 4;\n      }\n    }\n  };\n  var diff = {\n    zeroNonZero: function zeroNonZero(val1, val2) {\n      if ((val1 == null || val2 == null) && val1 !== val2) {\n        return true; // null cases could represent any value\n      }\n\n      if (val1 == 0 && val2 != 0) {\n        return true;\n      } else if (val1 != 0 && val2 == 0) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    any: function any(val1, val2) {\n      return val1 != val2;\n    }\n  }; // define visual style properties\n  //\n  // - n.b. adding a new group of props may require updates to updateStyleHints()\n  // - adding new props to an existing group gets handled automatically\n\n  var t = styfn$6.types;\n  var mainLabel = [{\n    name: 'label',\n    type: t.text,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-rotation',\n    type: t.textRotation,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-margin-x',\n    type: t.bidirectionalSize,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-margin-y',\n    type: t.bidirectionalSize,\n    triggersBounds: diff.any\n  }];\n  var sourceLabel = [{\n    name: 'source-label',\n    type: t.text,\n    triggersBounds: diff.any\n  }, {\n    name: 'source-text-rotation',\n    type: t.textRotation,\n    triggersBounds: diff.any\n  }, {\n    name: 'source-text-margin-x',\n    type: t.bidirectionalSize,\n    triggersBounds: diff.any\n  }, {\n    name: 'source-text-margin-y',\n    type: t.bidirectionalSize,\n    triggersBounds: diff.any\n  }, {\n    name: 'source-text-offset',\n    type: t.size,\n    triggersBounds: diff.any\n  }];\n  var targetLabel = [{\n    name: 'target-label',\n    type: t.text,\n    triggersBounds: diff.any\n  }, {\n    name: 'target-text-rotation',\n    type: t.textRotation,\n    triggersBounds: diff.any\n  }, {\n    name: 'target-text-margin-x',\n    type: t.bidirectionalSize,\n    triggersBounds: diff.any\n  }, {\n    name: 'target-text-margin-y',\n    type: t.bidirectionalSize,\n    triggersBounds: diff.any\n  }, {\n    name: 'target-text-offset',\n    type: t.size,\n    triggersBounds: diff.any\n  }];\n  var labelDimensions = [{\n    name: 'font-family',\n    type: t.fontFamily,\n    triggersBounds: diff.any\n  }, {\n    name: 'font-style',\n    type: t.fontStyle,\n    triggersBounds: diff.any\n  }, {\n    name: 'font-weight',\n    type: t.fontWeight,\n    triggersBounds: diff.any\n  }, {\n    name: 'font-size',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-transform',\n    type: t.textTransform,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-wrap',\n    type: t.textWrap,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-overflow-wrap',\n    type: t.textOverflowWrap,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-max-width',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-outline-width',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'line-height',\n    type: t.positiveNumber,\n    triggersBounds: diff.any\n  }];\n  var commonLabel = [{\n    name: 'text-valign',\n    type: t.valign,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-halign',\n    type: t.halign,\n    triggersBounds: diff.any\n  }, {\n    name: 'color',\n    type: t.color\n  }, {\n    name: 'text-outline-color',\n    type: t.color\n  }, {\n    name: 'text-outline-opacity',\n    type: t.zeroOneNumber\n  }, {\n    name: 'text-background-color',\n    type: t.color\n  }, {\n    name: 'text-background-opacity',\n    type: t.zeroOneNumber\n  }, {\n    name: 'text-background-padding',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-border-opacity',\n    type: t.zeroOneNumber\n  }, {\n    name: 'text-border-color',\n    type: t.color\n  }, {\n    name: 'text-border-width',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-border-style',\n    type: t.borderStyle,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-background-shape',\n    type: t.textBackgroundShape,\n    triggersBounds: diff.any\n  }, {\n    name: 'text-justification',\n    type: t.justification\n  }];\n  var behavior = [{\n    name: 'events',\n    type: t.bool\n  }, {\n    name: 'text-events',\n    type: t.bool\n  }];\n  var visibility = [{\n    name: 'display',\n    type: t.display,\n    triggersZOrder: diff.any,\n    triggersBounds: diff.any,\n    triggersBoundsOfParallelBeziers: true\n  }, {\n    name: 'visibility',\n    type: t.visibility,\n    triggersZOrder: diff.any\n  }, {\n    name: 'opacity',\n    type: t.zeroOneNumber,\n    triggersZOrder: diff.zeroNonZero\n  }, {\n    name: 'text-opacity',\n    type: t.zeroOneNumber\n  }, {\n    name: 'min-zoomed-font-size',\n    type: t.size\n  }, {\n    name: 'z-compound-depth',\n    type: t.zCompoundDepth,\n    triggersZOrder: diff.any\n  }, {\n    name: 'z-index-compare',\n    type: t.zIndexCompare,\n    triggersZOrder: diff.any\n  }, {\n    name: 'z-index',\n    type: t.nonNegativeInt,\n    triggersZOrder: diff.any\n  }];\n  var overlay = [{\n    name: 'overlay-padding',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'overlay-color',\n    type: t.color\n  }, {\n    name: 'overlay-opacity',\n    type: t.zeroOneNumber,\n    triggersBounds: diff.zeroNonZero\n  }];\n  var transition = [{\n    name: 'transition-property',\n    type: t.propList\n  }, {\n    name: 'transition-duration',\n    type: t.time\n  }, {\n    name: 'transition-delay',\n    type: t.time\n  }, {\n    name: 'transition-timing-function',\n    type: t.easing\n  }];\n\n  var nodeSizeHashOverride = function nodeSizeHashOverride(ele, parsedProp) {\n    if (parsedProp.value === 'label') {\n      return -ele.poolIndex(); // no hash key hits is using label size (hitrate for perf probably low anyway)\n    } else {\n      return parsedProp.pfValue;\n    }\n  };\n\n  var nodeBody = [{\n    name: 'height',\n    type: t.nodeSize,\n    triggersBounds: diff.any,\n    hashOverride: nodeSizeHashOverride\n  }, {\n    name: 'width',\n    type: t.nodeSize,\n    triggersBounds: diff.any,\n    hashOverride: nodeSizeHashOverride\n  }, {\n    name: 'shape',\n    type: t.nodeShape,\n    triggersBounds: diff.any\n  }, {\n    name: 'shape-polygon-points',\n    type: t.polygonPointList,\n    triggersBounds: diff.any\n  }, {\n    name: 'background-color',\n    type: t.color\n  }, {\n    name: 'background-fill',\n    type: t.fill\n  }, {\n    name: 'background-opacity',\n    type: t.zeroOneNumber\n  }, {\n    name: 'background-blacken',\n    type: t.nOneOneNumber\n  }, {\n    name: 'background-gradient-stop-colors',\n    type: t.colors\n  }, {\n    name: 'background-gradient-stop-positions',\n    type: t.percentages\n  }, {\n    name: 'background-gradient-direction',\n    type: t.gradientDirection\n  }, {\n    name: 'padding',\n    type: t.sizeMaybePercent,\n    triggersBounds: diff.any\n  }, {\n    name: 'padding-relative-to',\n    type: t.paddingRelativeTo,\n    triggersBounds: diff.any\n  }, {\n    name: 'bounds-expansion',\n    type: t.boundsExpansion,\n    triggersBounds: diff.any\n  }];\n  var nodeBorder = [{\n    name: 'border-color',\n    type: t.color\n  }, {\n    name: 'border-opacity',\n    type: t.zeroOneNumber\n  }, {\n    name: 'border-width',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'border-style',\n    type: t.borderStyle\n  }];\n  var backgroundImage = [{\n    name: 'background-image',\n    type: t.urls\n  }, {\n    name: 'background-image-crossorigin',\n    type: t.bgCrossOrigin\n  }, {\n    name: 'background-image-opacity',\n    type: t.zeroOneNumbers\n  }, {\n    name: 'background-position-x',\n    type: t.bgPos\n  }, {\n    name: 'background-position-y',\n    type: t.bgPos\n  }, {\n    name: 'background-width-relative-to',\n    type: t.bgRelativeTo\n  }, {\n    name: 'background-height-relative-to',\n    type: t.bgRelativeTo\n  }, {\n    name: 'background-repeat',\n    type: t.bgRepeat\n  }, {\n    name: 'background-fit',\n    type: t.bgFit\n  }, {\n    name: 'background-clip',\n    type: t.bgClip\n  }, {\n    name: 'background-width',\n    type: t.bgWH\n  }, {\n    name: 'background-height',\n    type: t.bgWH\n  }, {\n    name: 'background-offset-x',\n    type: t.bgPos\n  }, {\n    name: 'background-offset-y',\n    type: t.bgPos\n  }];\n  var compound = [{\n    name: 'position',\n    type: t.position,\n    triggersBounds: diff.any\n  }, {\n    name: 'compound-sizing-wrt-labels',\n    type: t.compoundIncludeLabels,\n    triggersBounds: diff.any\n  }, {\n    name: 'min-width',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'min-width-bias-left',\n    type: t.sizeMaybePercent,\n    triggersBounds: diff.any\n  }, {\n    name: 'min-width-bias-right',\n    type: t.sizeMaybePercent,\n    triggersBounds: diff.any\n  }, {\n    name: 'min-height',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'min-height-bias-top',\n    type: t.sizeMaybePercent,\n    triggersBounds: diff.any\n  }, {\n    name: 'min-height-bias-bottom',\n    type: t.sizeMaybePercent,\n    triggersBounds: diff.any\n  }];\n  var edgeLine = [{\n    name: 'line-style',\n    type: t.lineStyle\n  }, {\n    name: 'line-color',\n    type: t.color\n  }, {\n    name: 'line-fill',\n    type: t.fill\n  }, {\n    name: 'line-cap',\n    type: t.lineCap\n  }, {\n    name: 'line-dash-pattern',\n    type: t.numbers\n  }, {\n    name: 'line-dash-offset',\n    type: t.number\n  }, {\n    name: 'line-gradient-stop-colors',\n    type: t.colors\n  }, {\n    name: 'line-gradient-stop-positions',\n    type: t.percentages\n  }, {\n    name: 'curve-style',\n    type: t.curveStyle,\n    triggersBounds: diff.any,\n    triggersBoundsOfParallelBeziers: true\n  }, {\n    name: 'haystack-radius',\n    type: t.zeroOneNumber,\n    triggersBounds: diff.any\n  }, {\n    name: 'source-endpoint',\n    type: t.edgeEndpoint,\n    triggersBounds: diff.any\n  }, {\n    name: 'target-endpoint',\n    type: t.edgeEndpoint,\n    triggersBounds: diff.any\n  }, {\n    name: 'control-point-step-size',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'control-point-distances',\n    type: t.bidirectionalSizes,\n    triggersBounds: diff.any\n  }, {\n    name: 'control-point-weights',\n    type: t.numbers,\n    triggersBounds: diff.any\n  }, {\n    name: 'segment-distances',\n    type: t.bidirectionalSizes,\n    triggersBounds: diff.any\n  }, {\n    name: 'segment-weights',\n    type: t.numbers,\n    triggersBounds: diff.any\n  }, {\n    name: 'taxi-turn',\n    type: t.sizeMaybePercent,\n    triggersBounds: diff.any\n  }, {\n    name: 'taxi-turn-min-distance',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'taxi-direction',\n    type: t.axisDirection,\n    triggersBounds: diff.any\n  }, {\n    name: 'edge-distances',\n    type: t.edgeDistances,\n    triggersBounds: diff.any\n  }, {\n    name: 'arrow-scale',\n    type: t.positiveNumber,\n    triggersBounds: diff.any\n  }, {\n    name: 'loop-direction',\n    type: t.angle,\n    triggersBounds: diff.any\n  }, {\n    name: 'loop-sweep',\n    type: t.angle,\n    triggersBounds: diff.any\n  }, {\n    name: 'source-distance-from-node',\n    type: t.size,\n    triggersBounds: diff.any\n  }, {\n    name: 'target-distance-from-node',\n    type: t.size,\n    triggersBounds: diff.any\n  }];\n  var ghost = [{\n    name: 'ghost',\n    type: t.bool,\n    triggersBounds: diff.any\n  }, {\n    name: 'ghost-offset-x',\n    type: t.bidirectionalSize,\n    triggersBounds: diff.any\n  }, {\n    name: 'ghost-offset-y',\n    type: t.bidirectionalSize,\n    triggersBounds: diff.any\n  }, {\n    name: 'ghost-opacity',\n    type: t.zeroOneNumber\n  }];\n  var core = [{\n    name: 'selection-box-color',\n    type: t.color\n  }, {\n    name: 'selection-box-opacity',\n    type: t.zeroOneNumber\n  }, {\n    name: 'selection-box-border-color',\n    type: t.color\n  }, {\n    name: 'selection-box-border-width',\n    type: t.size\n  }, {\n    name: 'active-bg-color',\n    type: t.color\n  }, {\n    name: 'active-bg-opacity',\n    type: t.zeroOneNumber\n  }, {\n    name: 'active-bg-size',\n    type: t.size\n  }, {\n    name: 'outside-texture-bg-color',\n    type: t.color\n  }, {\n    name: 'outside-texture-bg-opacity',\n    type: t.zeroOneNumber\n  }]; // pie backgrounds for nodes\n\n  var pie = [];\n  styfn$6.pieBackgroundN = 16; // because the pie properties are numbered, give access to a constant N (for renderer use)\n\n  pie.push({\n    name: 'pie-size',\n    type: t.sizeMaybePercent\n  });\n\n  for (var i = 1; i <= styfn$6.pieBackgroundN; i++) {\n    pie.push({\n      name: 'pie-' + i + '-background-color',\n      type: t.color\n    });\n    pie.push({\n      name: 'pie-' + i + '-background-size',\n      type: t.percent\n    });\n    pie.push({\n      name: 'pie-' + i + '-background-opacity',\n      type: t.zeroOneNumber\n    });\n  } // edge arrows\n\n\n  var edgeArrow = [];\n  var arrowPrefixes = styfn$6.arrowPrefixes = ['source', 'mid-source', 'target', 'mid-target'];\n  [{\n    name: 'arrow-shape',\n    type: t.arrowShape,\n    triggersBounds: diff.any\n  }, {\n    name: 'arrow-color',\n    type: t.color\n  }, {\n    name: 'arrow-fill',\n    type: t.arrowFill\n  }].forEach(function (prop) {\n    arrowPrefixes.forEach(function (prefix) {\n      var name = prefix + '-' + prop.name;\n      var type = prop.type,\n          triggersBounds = prop.triggersBounds;\n      edgeArrow.push({\n        name: name,\n        type: type,\n        triggersBounds: triggersBounds\n      });\n    });\n  }, {});\n  var props = styfn$6.properties = [].concat(behavior, transition, visibility, overlay, ghost, commonLabel, labelDimensions, mainLabel, sourceLabel, targetLabel, nodeBody, nodeBorder, backgroundImage, pie, compound, edgeLine, edgeArrow, core);\n  var propGroups = styfn$6.propertyGroups = {\n    // common to all eles\n    behavior: behavior,\n    transition: transition,\n    visibility: visibility,\n    overlay: overlay,\n    ghost: ghost,\n    // labels\n    commonLabel: commonLabel,\n    labelDimensions: labelDimensions,\n    mainLabel: mainLabel,\n    sourceLabel: sourceLabel,\n    targetLabel: targetLabel,\n    // node props\n    nodeBody: nodeBody,\n    nodeBorder: nodeBorder,\n    backgroundImage: backgroundImage,\n    pie: pie,\n    compound: compound,\n    // edge props\n    edgeLine: edgeLine,\n    edgeArrow: edgeArrow,\n    core: core\n  };\n  var propGroupNames = styfn$6.propertyGroupNames = {};\n  var propGroupKeys = styfn$6.propertyGroupKeys = Object.keys(propGroups);\n  propGroupKeys.forEach(function (key) {\n    propGroupNames[key] = propGroups[key].map(function (prop) {\n      return prop.name;\n    });\n    propGroups[key].forEach(function (prop) {\n      return prop.groupKey = key;\n    });\n  }); // define aliases\n\n  var aliases = styfn$6.aliases = [{\n    name: 'content',\n    pointsTo: 'label'\n  }, {\n    name: 'control-point-distance',\n    pointsTo: 'control-point-distances'\n  }, {\n    name: 'control-point-weight',\n    pointsTo: 'control-point-weights'\n  }, {\n    name: 'edge-text-rotation',\n    pointsTo: 'text-rotation'\n  }, {\n    name: 'padding-left',\n    pointsTo: 'padding'\n  }, {\n    name: 'padding-right',\n    pointsTo: 'padding'\n  }, {\n    name: 'padding-top',\n    pointsTo: 'padding'\n  }, {\n    name: 'padding-bottom',\n    pointsTo: 'padding'\n  }]; // list of property names\n\n  styfn$6.propertyNames = props.map(function (p) {\n    return p.name;\n  }); // allow access of properties by name ( e.g. style.properties.height )\n\n  for (var _i = 0; _i < props.length; _i++) {\n    var prop = props[_i];\n    props[prop.name] = prop; // allow lookup by name\n  } // map aliases\n\n\n  for (var _i2 = 0; _i2 < aliases.length; _i2++) {\n    var alias = aliases[_i2];\n    var pointsToProp = props[alias.pointsTo];\n    var aliasProp = {\n      name: alias.name,\n      alias: true,\n      pointsTo: pointsToProp\n    }; // add alias prop for parsing\n\n    props.push(aliasProp);\n    props[alias.name] = aliasProp; // allow lookup by name\n  }\n})();\n\nstyfn$6.getDefaultProperty = function (name) {\n  return this.getDefaultProperties()[name];\n};\n\nstyfn$6.getDefaultProperties = function () {\n  var _p = this._private;\n\n  if (_p.defaultProperties != null) {\n    return _p.defaultProperties;\n  }\n\n  var rawProps = extend({\n    // core props\n    'selection-box-color': '#ddd',\n    'selection-box-opacity': 0.65,\n    'selection-box-border-color': '#aaa',\n    'selection-box-border-width': 1,\n    'active-bg-color': 'black',\n    'active-bg-opacity': 0.15,\n    'active-bg-size': 30,\n    'outside-texture-bg-color': '#000',\n    'outside-texture-bg-opacity': 0.125,\n    // common node/edge props\n    'events': 'yes',\n    'text-events': 'no',\n    'text-valign': 'top',\n    'text-halign': 'center',\n    'text-justification': 'auto',\n    'line-height': 1,\n    'color': '#000',\n    'text-outline-color': '#000',\n    'text-outline-width': 0,\n    'text-outline-opacity': 1,\n    'text-opacity': 1,\n    'text-decoration': 'none',\n    'text-transform': 'none',\n    'text-wrap': 'none',\n    'text-overflow-wrap': 'whitespace',\n    'text-max-width': 9999,\n    'text-background-color': '#000',\n    'text-background-opacity': 0,\n    'text-background-shape': 'rectangle',\n    'text-background-padding': 0,\n    'text-border-opacity': 0,\n    'text-border-width': 0,\n    'text-border-style': 'solid',\n    'text-border-color': '#000',\n    'font-family': 'Helvetica Neue, Helvetica, sans-serif',\n    'font-style': 'normal',\n    'font-weight': 'normal',\n    'font-size': 16,\n    'min-zoomed-font-size': 0,\n    'text-rotation': 'none',\n    'source-text-rotation': 'none',\n    'target-text-rotation': 'none',\n    'visibility': 'visible',\n    'display': 'element',\n    'opacity': 1,\n    'z-compound-depth': 'auto',\n    'z-index-compare': 'auto',\n    'z-index': 0,\n    'label': '',\n    'text-margin-x': 0,\n    'text-margin-y': 0,\n    'source-label': '',\n    'source-text-offset': 0,\n    'source-text-margin-x': 0,\n    'source-text-margin-y': 0,\n    'target-label': '',\n    'target-text-offset': 0,\n    'target-text-margin-x': 0,\n    'target-text-margin-y': 0,\n    'overlay-opacity': 0,\n    'overlay-color': '#000',\n    'overlay-padding': 10,\n    'transition-property': 'none',\n    'transition-duration': 0,\n    'transition-delay': 0,\n    'transition-timing-function': 'linear',\n    // node props\n    'background-blacken': 0,\n    'background-color': '#999',\n    'background-fill': 'solid',\n    'background-opacity': 1,\n    'background-image': 'none',\n    'background-image-crossorigin': 'anonymous',\n    'background-image-opacity': 1,\n    'background-position-x': '50%',\n    'background-position-y': '50%',\n    'background-offset-x': 0,\n    'background-offset-y': 0,\n    'background-width-relative-to': 'include-padding',\n    'background-height-relative-to': 'include-padding',\n    'background-repeat': 'no-repeat',\n    'background-fit': 'none',\n    'background-clip': 'node',\n    'background-width': 'auto',\n    'background-height': 'auto',\n    'border-color': '#000',\n    'border-opacity': 1,\n    'border-width': 0,\n    'border-style': 'solid',\n    'height': 30,\n    'width': 30,\n    'shape': 'ellipse',\n    'shape-polygon-points': '-1, -1,   1, -1,   1, 1,   -1, 1',\n    'bounds-expansion': 0,\n    // node gradient\n    'background-gradient-direction': 'to-bottom',\n    'background-gradient-stop-colors': '#999',\n    'background-gradient-stop-positions': '0%',\n    // ghost props\n    'ghost': 'no',\n    'ghost-offset-y': 0,\n    'ghost-offset-x': 0,\n    'ghost-opacity': 0,\n    // compound props\n    'padding': 0,\n    'padding-relative-to': 'width',\n    'position': 'origin',\n    'compound-sizing-wrt-labels': 'include',\n    'min-width': 0,\n    'min-width-bias-left': 0,\n    'min-width-bias-right': 0,\n    'min-height': 0,\n    'min-height-bias-top': 0,\n    'min-height-bias-bottom': 0\n  }, {\n    // node pie bg\n    'pie-size': '100%'\n  }, [{\n    name: 'pie-{{i}}-background-color',\n    value: 'black'\n  }, {\n    name: 'pie-{{i}}-background-size',\n    value: '0%'\n  }, {\n    name: 'pie-{{i}}-background-opacity',\n    value: 1\n  }].reduce(function (css, prop) {\n    for (var i = 1; i <= styfn$6.pieBackgroundN; i++) {\n      var name = prop.name.replace('{{i}}', i);\n      var val = prop.value;\n      css[name] = val;\n    }\n\n    return css;\n  }, {}), {\n    // edge props\n    'line-style': 'solid',\n    'line-color': '#999',\n    'line-fill': 'solid',\n    'line-cap': 'butt',\n    'line-gradient-stop-colors': '#999',\n    'line-gradient-stop-positions': '0%',\n    'control-point-step-size': 40,\n    'control-point-weights': 0.5,\n    'segment-weights': 0.5,\n    'segment-distances': 20,\n    'taxi-turn': '50%',\n    'taxi-turn-min-distance': 10,\n    'taxi-direction': 'auto',\n    'edge-distances': 'intersection',\n    'curve-style': 'haystack',\n    'haystack-radius': 0,\n    'arrow-scale': 1,\n    'loop-direction': '-45deg',\n    'loop-sweep': '-90deg',\n    'source-distance-from-node': 0,\n    'target-distance-from-node': 0,\n    'source-endpoint': 'outside-to-node',\n    'target-endpoint': 'outside-to-node',\n    'line-dash-pattern': [6, 3],\n    'line-dash-offset': 0\n  }, [{\n    name: 'arrow-shape',\n    value: 'none'\n  }, {\n    name: 'arrow-color',\n    value: '#999'\n  }, {\n    name: 'arrow-fill',\n    value: 'filled'\n  }].reduce(function (css, prop) {\n    styfn$6.arrowPrefixes.forEach(function (prefix) {\n      var name = prefix + '-' + prop.name;\n      var val = prop.value;\n      css[name] = val;\n    });\n    return css;\n  }, {}));\n  var parsedProps = {};\n\n  for (var i = 0; i < this.properties.length; i++) {\n    var prop = this.properties[i];\n\n    if (prop.pointsTo) {\n      continue;\n    }\n\n    var name = prop.name;\n    var val = rawProps[name];\n    var parsedProp = this.parse(name, val);\n    parsedProps[name] = parsedProp;\n  }\n\n  _p.defaultProperties = parsedProps;\n  return _p.defaultProperties;\n};\n\nstyfn$6.addDefaultStylesheet = function () {\n  this.selector(':parent').css({\n    'shape': 'rectangle',\n    'padding': 10,\n    'background-color': '#eee',\n    'border-color': '#ccc',\n    'border-width': 1\n  }).selector('edge').css({\n    'width': 3\n  }).selector(':loop').css({\n    'curve-style': 'bezier'\n  }).selector('edge:compound').css({\n    'curve-style': 'bezier',\n    'source-endpoint': 'outside-to-line',\n    'target-endpoint': 'outside-to-line'\n  }).selector(':selected').css({\n    'background-color': '#0169D9',\n    'line-color': '#0169D9',\n    'source-arrow-color': '#0169D9',\n    'target-arrow-color': '#0169D9',\n    'mid-source-arrow-color': '#0169D9',\n    'mid-target-arrow-color': '#0169D9'\n  }).selector(':parent:selected').css({\n    'background-color': '#CCE1F9',\n    'border-color': '#aec8e5'\n  }).selector(':active').css({\n    'overlay-color': 'black',\n    'overlay-padding': 10,\n    'overlay-opacity': 0.25\n  });\n  this.defaultLength = this.length;\n};\n\nvar styfn$7 = {}; // a caching layer for property parsing\n\nstyfn$7.parse = function (name, value, propIsBypass, propIsFlat) {\n  var self = this; // function values can't be cached in all cases, and there isn't much benefit of caching them anyway\n\n  if (fn(value)) {\n    return self.parseImplWarn(name, value, propIsBypass, propIsFlat);\n  }\n\n  var flatKey = propIsFlat === 'mapping' || propIsFlat === true || propIsFlat === false || propIsFlat == null ? 'dontcare' : propIsFlat;\n  var bypassKey = propIsBypass ? 't' : 'f';\n  var valueKey = '' + value;\n  var argHash = hashStrings(name, valueKey, bypassKey, flatKey);\n  var propCache = self.propCache = self.propCache || [];\n  var ret;\n\n  if (!(ret = propCache[argHash])) {\n    ret = propCache[argHash] = self.parseImplWarn(name, value, propIsBypass, propIsFlat);\n  } // - bypasses can't be shared b/c the value can be changed by animations or otherwise overridden\n  // - mappings can't be shared b/c mappings are per-element\n\n\n  if (propIsBypass || propIsFlat === 'mapping') {\n    // need a copy since props are mutated later in their lifecycles\n    ret = copy(ret);\n\n    if (ret) {\n      ret.value = copy(ret.value); // because it could be an array, e.g. colour\n    }\n  }\n\n  return ret;\n};\n\nstyfn$7.parseImplWarn = function (name, value, propIsBypass, propIsFlat) {\n  var prop = this.parseImpl(name, value, propIsBypass, propIsFlat);\n\n  if (!prop && value != null) {\n    warn(\"The style property `\".concat(name, \": \").concat(value, \"` is invalid\"));\n  }\n\n  return prop;\n}; // parse a property; return null on invalid; return parsed property otherwise\n// fields :\n// - name : the name of the property\n// - value : the parsed, native-typed value of the property\n// - strValue : a string value that represents the property value in valid css\n// - bypass : true iff the property is a bypass property\n\n\nstyfn$7.parseImpl = function (name, value, propIsBypass, propIsFlat) {\n  var self = this;\n  name = camel2dash(name); // make sure the property name is in dash form (e.g. 'property-name' not 'propertyName')\n\n  var property = self.properties[name];\n  var passedValue = value;\n  var types = self.types;\n\n  if (!property) {\n    return null;\n  } // return null on property of unknown name\n\n\n  if (value === undefined) {\n    return null;\n  } // can't assign undefined\n  // the property may be an alias\n\n\n  if (property.alias) {\n    property = property.pointsTo;\n    name = property.name;\n  }\n\n  var valueIsString = string(value);\n\n  if (valueIsString) {\n    // trim the value to make parsing easier\n    value = value.trim();\n  }\n\n  var type = property.type;\n\n  if (!type) {\n    return null;\n  } // no type, no luck\n  // check if bypass is null or empty string (i.e. indication to delete bypass property)\n\n\n  if (propIsBypass && (value === '' || value === null)) {\n    return {\n      name: name,\n      value: value,\n      bypass: true,\n      deleteBypass: true\n    };\n  } // check if value is a function used as a mapper\n\n\n  if (fn(value)) {\n    return {\n      name: name,\n      value: value,\n      strValue: 'fn',\n      mapped: types.fn,\n      bypass: propIsBypass\n    };\n  } // check if value is mapped\n\n\n  var data, mapData;\n\n  if (!valueIsString || propIsFlat || value.length < 7 || value[1] !== 'a') ; else if (value.length >= 7 && value[0] === 'd' && (data = new RegExp(types.data.regex).exec(value))) {\n    if (propIsBypass) {\n      return false;\n    } // mappers not allowed in bypass\n\n\n    var mapped = types.data;\n    return {\n      name: name,\n      value: data,\n      strValue: '' + value,\n      mapped: mapped,\n      field: data[1],\n      bypass: propIsBypass\n    };\n  } else if (value.length >= 10 && value[0] === 'm' && (mapData = new RegExp(types.mapData.regex).exec(value))) {\n    if (propIsBypass) {\n      return false;\n    } // mappers not allowed in bypass\n\n\n    if (type.multiple) {\n      return false;\n    } // impossible to map to num\n\n\n    var _mapped = types.mapData; // we can map only if the type is a colour or a number\n\n    if (!(type.color || type.number)) {\n      return false;\n    }\n\n    var valueMin = this.parse(name, mapData[4]); // parse to validate\n\n    if (!valueMin || valueMin.mapped) {\n      return false;\n    } // can't be invalid or mapped\n\n\n    var valueMax = this.parse(name, mapData[5]); // parse to validate\n\n    if (!valueMax || valueMax.mapped) {\n      return false;\n    } // can't be invalid or mapped\n    // check if valueMin and valueMax are the same\n\n\n    if (valueMin.pfValue === valueMax.pfValue || valueMin.strValue === valueMax.strValue) {\n      warn('`' + name + ': ' + value + '` is not a valid mapper because the output range is zero; converting to `' + name + ': ' + valueMin.strValue + '`');\n      return this.parse(name, valueMin.strValue); // can't make much of a mapper without a range\n    } else if (type.color) {\n      var c1 = valueMin.value;\n      var c2 = valueMax.value;\n      var same = c1[0] === c2[0] // red\n      && c1[1] === c2[1] // green\n      && c1[2] === c2[2] // blue\n      && ( // optional alpha\n      c1[3] === c2[3] // same alpha outright\n      || (c1[3] == null || c1[3] === 1) && ( // full opacity for colour 1?\n      c2[3] == null || c2[3] === 1) // full opacity for colour 2?\n      );\n\n      if (same) {\n        return false;\n      } // can't make a mapper without a range\n\n    }\n\n    return {\n      name: name,\n      value: mapData,\n      strValue: '' + value,\n      mapped: _mapped,\n      field: mapData[1],\n      fieldMin: parseFloat(mapData[2]),\n      // min & max are numeric\n      fieldMax: parseFloat(mapData[3]),\n      valueMin: valueMin.value,\n      valueMax: valueMax.value,\n      bypass: propIsBypass\n    };\n  }\n\n  if (type.multiple && propIsFlat !== 'multiple') {\n    var vals;\n\n    if (valueIsString) {\n      vals = value.split(/\\s+/);\n    } else if (array(value)) {\n      vals = value;\n    } else {\n      vals = [value];\n    }\n\n    if (type.evenMultiple && vals.length % 2 !== 0) {\n      return null;\n    }\n\n    var valArr = [];\n    var unitsArr = [];\n    var pfValArr = [];\n    var strVal = '';\n    var hasEnum = false;\n\n    for (var i = 0; i < vals.length; i++) {\n      var p = self.parse(name, vals[i], propIsBypass, 'multiple');\n      hasEnum = hasEnum || string(p.value);\n      valArr.push(p.value);\n      pfValArr.push(p.pfValue != null ? p.pfValue : p.value);\n      unitsArr.push(p.units);\n      strVal += (i > 0 ? ' ' : '') + p.strValue;\n    }\n\n    if (type.validate && !type.validate(valArr, unitsArr)) {\n      return null;\n    }\n\n    if (type.singleEnum && hasEnum) {\n      if (valArr.length === 1 && string(valArr[0])) {\n        return {\n          name: name,\n          value: valArr[0],\n          strValue: valArr[0],\n          bypass: propIsBypass\n        };\n      } else {\n        return null;\n      }\n    }\n\n    return {\n      name: name,\n      value: valArr,\n      pfValue: pfValArr,\n      strValue: strVal,\n      bypass: propIsBypass,\n      units: unitsArr\n    };\n  } // several types also allow enums\n\n\n  var checkEnums = function checkEnums() {\n    for (var _i = 0; _i < type.enums.length; _i++) {\n      var en = type.enums[_i];\n\n      if (en === value) {\n        return {\n          name: name,\n          value: value,\n          strValue: '' + value,\n          bypass: propIsBypass\n        };\n      }\n    }\n\n    return null;\n  }; // check the type and return the appropriate object\n\n\n  if (type.number) {\n    var units;\n    var implicitUnits = 'px'; // not set => px\n\n    if (type.units) {\n      // use specified units if set\n      units = type.units;\n    }\n\n    if (type.implicitUnits) {\n      implicitUnits = type.implicitUnits;\n    }\n\n    if (!type.unitless) {\n      if (valueIsString) {\n        var unitsRegex = 'px|em' + (type.allowPercent ? '|\\\\%' : '');\n\n        if (units) {\n          unitsRegex = units;\n        } // only allow explicit units if so set\n\n\n        var match = value.match('^(' + number$1 + ')(' + unitsRegex + ')?' + '$');\n\n        if (match) {\n          value = match[1];\n          units = match[2] || implicitUnits;\n        }\n      } else if (!units || type.implicitUnits) {\n        units = implicitUnits; // implicitly px if unspecified\n      }\n    }\n\n    value = parseFloat(value); // if not a number and enums not allowed, then the value is invalid\n\n    if (isNaN(value) && type.enums === undefined) {\n      return null;\n    } // check if this number type also accepts special keywords in place of numbers\n    // (i.e. `left`, `auto`, etc)\n\n\n    if (isNaN(value) && type.enums !== undefined) {\n      value = passedValue;\n      return checkEnums();\n    } // check if value must be an integer\n\n\n    if (type.integer && !integer(value)) {\n      return null;\n    } // check value is within range\n\n\n    if (type.min !== undefined && (value < type.min || type.strictMin && value === type.min) || type.max !== undefined && (value > type.max || type.strictMax && value === type.max)) {\n      return null;\n    }\n\n    var ret = {\n      name: name,\n      value: value,\n      strValue: '' + value + (units ? units : ''),\n      units: units,\n      bypass: propIsBypass\n    }; // normalise value in pixels\n\n    if (type.unitless || units !== 'px' && units !== 'em') {\n      ret.pfValue = value;\n    } else {\n      ret.pfValue = units === 'px' || !units ? value : this.getEmSizeInPixels() * value;\n    } // normalise value in ms\n\n\n    if (units === 'ms' || units === 's') {\n      ret.pfValue = units === 'ms' ? value : 1000 * value;\n    } // normalise value in rad\n\n\n    if (units === 'deg' || units === 'rad') {\n      ret.pfValue = units === 'rad' ? value : deg2rad(value);\n    } // normalize value in %\n\n\n    if (units === '%') {\n      ret.pfValue = value / 100;\n    }\n\n    return ret;\n  } else if (type.propList) {\n    var props = [];\n    var propsStr = '' + value;\n\n    if (propsStr === 'none') ; else {\n      // go over each prop\n      var propsSplit = propsStr.split(/\\s*,\\s*|\\s+/);\n\n      for (var _i2 = 0; _i2 < propsSplit.length; _i2++) {\n        var propName = propsSplit[_i2].trim();\n\n        if (self.properties[propName]) {\n          props.push(propName);\n        } else {\n          warn('`' + propName + '` is not a valid property name');\n        }\n      }\n\n      if (props.length === 0) {\n        return null;\n      }\n    }\n\n    return {\n      name: name,\n      value: props,\n      strValue: props.length === 0 ? 'none' : props.join(' '),\n      bypass: propIsBypass\n    };\n  } else if (type.color) {\n    var tuple = color2tuple(value);\n\n    if (!tuple) {\n      return null;\n    }\n\n    return {\n      name: name,\n      value: tuple,\n      pfValue: tuple,\n      strValue: 'rgb(' + tuple[0] + ',' + tuple[1] + ',' + tuple[2] + ')',\n      // n.b. no spaces b/c of multiple support\n      bypass: propIsBypass\n    };\n  } else if (type.regex || type.regexes) {\n    // first check enums\n    if (type.enums) {\n      var enumProp = checkEnums();\n\n      if (enumProp) {\n        return enumProp;\n      }\n    }\n\n    var regexes = type.regexes ? type.regexes : [type.regex];\n\n    for (var _i3 = 0; _i3 < regexes.length; _i3++) {\n      var regex = new RegExp(regexes[_i3]); // make a regex from the type string\n\n      var m = regex.exec(value);\n\n      if (m) {\n        // regex matches\n        return {\n          name: name,\n          value: type.singleRegexMatchValue ? m[1] : m,\n          strValue: '' + value,\n          bypass: propIsBypass\n        };\n      }\n    }\n\n    return null; // didn't match any\n  } else if (type.string) {\n    // just return\n    return {\n      name: name,\n      value: '' + value,\n      strValue: '' + value,\n      bypass: propIsBypass\n    };\n  } else if (type.enums) {\n    // check enums last because it's a combo type in others\n    return checkEnums();\n  } else {\n    return null; // not a type we can handle\n  }\n};\n\nvar Style = function Style(cy) {\n  if (!(this instanceof Style)) {\n    return new Style(cy);\n  }\n\n  if (!core(cy)) {\n    error('A style must have a core reference');\n    return;\n  }\n\n  this._private = {\n    cy: cy,\n    coreStyle: {}\n  };\n  this.length = 0;\n  this.resetToDefault();\n};\n\nvar styfn$8 = Style.prototype;\n\nstyfn$8.instanceString = function () {\n  return 'style';\n}; // remove all contexts\n\n\nstyfn$8.clear = function () {\n  for (var i = 0; i < this.length; i++) {\n    this[i] = undefined;\n  }\n\n  this.length = 0;\n  var _p = this._private;\n  _p.newStyle = true;\n  return this; // chaining\n};\n\nstyfn$8.resetToDefault = function () {\n  this.clear();\n  this.addDefaultStylesheet();\n  return this;\n}; // builds a style object for the 'core' selector\n\n\nstyfn$8.core = function (propName) {\n  return this._private.coreStyle[propName] || this.getDefaultProperty(propName);\n}; // create a new context from the specified selector string and switch to that context\n\n\nstyfn$8.selector = function (selectorStr) {\n  // 'core' is a special case and does not need a selector\n  var selector = selectorStr === 'core' ? null : new Selector(selectorStr);\n  var i = this.length++; // new context means new index\n\n  this[i] = {\n    selector: selector,\n    properties: [],\n    mappedProperties: [],\n    index: i\n  };\n  return this; // chaining\n}; // add one or many css rules to the current context\n\n\nstyfn$8.css = function () {\n  var self = this;\n  var args = arguments;\n\n  if (args.length === 1) {\n    var map = args[0];\n\n    for (var i = 0; i < self.properties.length; i++) {\n      var prop = self.properties[i];\n      var mapVal = map[prop.name];\n\n      if (mapVal === undefined) {\n        mapVal = map[dash2camel(prop.name)];\n      }\n\n      if (mapVal !== undefined) {\n        this.cssRule(prop.name, mapVal);\n      }\n    }\n  } else if (args.length === 2) {\n    this.cssRule(args[0], args[1]);\n  } // do nothing if args are invalid\n\n\n  return this; // chaining\n};\n\nstyfn$8.style = styfn$8.css; // add a single css rule to the current context\n\nstyfn$8.cssRule = function (name, value) {\n  // name-value pair\n  var property = this.parse(name, value); // add property to current context if valid\n\n  if (property) {\n    var i = this.length - 1;\n    this[i].properties.push(property);\n    this[i].properties[property.name] = property; // allow access by name as well\n\n    if (property.name.match(/pie-(\\d+)-background-size/) && property.value) {\n      this._private.hasPie = true;\n    }\n\n    if (property.mapped) {\n      this[i].mappedProperties.push(property);\n    } // add to core style if necessary\n\n\n    var currentSelectorIsCore = !this[i].selector;\n\n    if (currentSelectorIsCore) {\n      this._private.coreStyle[property.name] = property;\n    }\n  }\n\n  return this; // chaining\n};\n\nstyfn$8.append = function (style) {\n  if (stylesheet(style)) {\n    style.appendToStyle(this);\n  } else if (array(style)) {\n    this.appendFromJson(style);\n  } else if (string(style)) {\n    this.appendFromString(style);\n  } // you probably wouldn't want to append a Style, since you'd duplicate the default parts\n\n\n  return this;\n}; // static function\n\n\nStyle.fromJson = function (cy, json) {\n  var style = new Style(cy);\n  style.fromJson(json);\n  return style;\n};\n\nStyle.fromString = function (cy, string) {\n  return new Style(cy).fromString(string);\n};\n\n[styfn, styfn$1, styfn$2, styfn$3, styfn$4, styfn$5, styfn$6, styfn$7].forEach(function (props) {\n  extend(styfn$8, props);\n});\nStyle.types = styfn$8.types;\nStyle.properties = styfn$8.properties;\nStyle.propertyGroups = styfn$8.propertyGroups;\nStyle.propertyGroupNames = styfn$8.propertyGroupNames;\nStyle.propertyGroupKeys = styfn$8.propertyGroupKeys;\n\nvar corefn$7 = {\n  style: function style(newStyle) {\n    if (newStyle) {\n      var s = this.setStyle(newStyle);\n      s.update();\n    }\n\n    return this._private.style;\n  },\n  setStyle: function setStyle(style) {\n    var _p = this._private;\n\n    if (stylesheet(style)) {\n      _p.style = style.generateStyle(this);\n    } else if (array(style)) {\n      _p.style = Style.fromJson(this, style);\n    } else if (string(style)) {\n      _p.style = Style.fromString(this, style);\n    } else {\n      _p.style = Style(this);\n    }\n\n    return _p.style;\n  }\n};\n\nvar defaultSelectionType = 'single';\nvar corefn$8 = {\n  autolock: function autolock(bool) {\n    if (bool !== undefined) {\n      this._private.autolock = bool ? true : false;\n    } else {\n      return this._private.autolock;\n    }\n\n    return this; // chaining\n  },\n  autoungrabify: function autoungrabify(bool) {\n    if (bool !== undefined) {\n      this._private.autoungrabify = bool ? true : false;\n    } else {\n      return this._private.autoungrabify;\n    }\n\n    return this; // chaining\n  },\n  autounselectify: function autounselectify(bool) {\n    if (bool !== undefined) {\n      this._private.autounselectify = bool ? true : false;\n    } else {\n      return this._private.autounselectify;\n    }\n\n    return this; // chaining\n  },\n  selectionType: function selectionType(selType) {\n    var _p = this._private;\n\n    if (_p.selectionType == null) {\n      _p.selectionType = defaultSelectionType;\n    }\n\n    if (selType !== undefined) {\n      if (selType === 'additive' || selType === 'single') {\n        _p.selectionType = selType;\n      }\n    } else {\n      return _p.selectionType;\n    }\n\n    return this;\n  },\n  panningEnabled: function panningEnabled(bool) {\n    if (bool !== undefined) {\n      this._private.panningEnabled = bool ? true : false;\n    } else {\n      return this._private.panningEnabled;\n    }\n\n    return this; // chaining\n  },\n  userPanningEnabled: function userPanningEnabled(bool) {\n    if (bool !== undefined) {\n      this._private.userPanningEnabled = bool ? true : false;\n    } else {\n      return this._private.userPanningEnabled;\n    }\n\n    return this; // chaining\n  },\n  zoomingEnabled: function zoomingEnabled(bool) {\n    if (bool !== undefined) {\n      this._private.zoomingEnabled = bool ? true : false;\n    } else {\n      return this._private.zoomingEnabled;\n    }\n\n    return this; // chaining\n  },\n  userZoomingEnabled: function userZoomingEnabled(bool) {\n    if (bool !== undefined) {\n      this._private.userZoomingEnabled = bool ? true : false;\n    } else {\n      return this._private.userZoomingEnabled;\n    }\n\n    return this; // chaining\n  },\n  boxSelectionEnabled: function boxSelectionEnabled(bool) {\n    if (bool !== undefined) {\n      this._private.boxSelectionEnabled = bool ? true : false;\n    } else {\n      return this._private.boxSelectionEnabled;\n    }\n\n    return this; // chaining\n  },\n  pan: function pan() {\n    var args = arguments;\n    var pan = this._private.pan;\n    var dim, val, dims, x, y;\n\n    switch (args.length) {\n      case 0:\n        // .pan()\n        return pan;\n\n      case 1:\n        if (string(args[0])) {\n          // .pan('x')\n          dim = args[0];\n          return pan[dim];\n        } else if (plainObject(args[0])) {\n          // .pan({ x: 0, y: 100 })\n          if (!this._private.panningEnabled) {\n            return this;\n          }\n\n          dims = args[0];\n          x = dims.x;\n          y = dims.y;\n\n          if (number(x)) {\n            pan.x = x;\n          }\n\n          if (number(y)) {\n            pan.y = y;\n          }\n\n          this.emit('pan viewport');\n        }\n\n        break;\n\n      case 2:\n        // .pan('x', 100)\n        if (!this._private.panningEnabled) {\n          return this;\n        }\n\n        dim = args[0];\n        val = args[1];\n\n        if ((dim === 'x' || dim === 'y') && number(val)) {\n          pan[dim] = val;\n        }\n\n        this.emit('pan viewport');\n        break;\n\n      default:\n        break;\n      // invalid\n    }\n\n    this.notify('viewport');\n    return this; // chaining\n  },\n  panBy: function panBy(arg0, arg1) {\n    var args = arguments;\n    var pan = this._private.pan;\n    var dim, val, dims, x, y;\n\n    if (!this._private.panningEnabled) {\n      return this;\n    }\n\n    switch (args.length) {\n      case 1:\n        if (plainObject(arg0)) {\n          // .panBy({ x: 0, y: 100 })\n          dims = args[0];\n          x = dims.x;\n          y = dims.y;\n\n          if (number(x)) {\n            pan.x += x;\n          }\n\n          if (number(y)) {\n            pan.y += y;\n          }\n\n          this.emit('pan viewport');\n        }\n\n        break;\n\n      case 2:\n        // .panBy('x', 100)\n        dim = arg0;\n        val = arg1;\n\n        if ((dim === 'x' || dim === 'y') && number(val)) {\n          pan[dim] += val;\n        }\n\n        this.emit('pan viewport');\n        break;\n\n      default:\n        break;\n      // invalid\n    }\n\n    this.notify('viewport');\n    return this; // chaining\n  },\n  fit: function fit(elements, padding) {\n    var viewportState = this.getFitViewport(elements, padding);\n\n    if (viewportState) {\n      var _p = this._private;\n      _p.zoom = viewportState.zoom;\n      _p.pan = viewportState.pan;\n      this.emit('pan zoom viewport');\n      this.notify('viewport');\n    }\n\n    return this; // chaining\n  },\n  getFitViewport: function getFitViewport(elements, padding) {\n    if (number(elements) && padding === undefined) {\n      // elements is optional\n      padding = elements;\n      elements = undefined;\n    }\n\n    if (!this._private.panningEnabled || !this._private.zoomingEnabled) {\n      return;\n    }\n\n    var bb;\n\n    if (string(elements)) {\n      var sel = elements;\n      elements = this.$(sel);\n    } else if (boundingBox(elements)) {\n      // assume bb\n      var bbe = elements;\n      bb = {\n        x1: bbe.x1,\n        y1: bbe.y1,\n        x2: bbe.x2,\n        y2: bbe.y2\n      };\n      bb.w = bb.x2 - bb.x1;\n      bb.h = bb.y2 - bb.y1;\n    } else if (!elementOrCollection(elements)) {\n      elements = this.mutableElements();\n    }\n\n    if (elementOrCollection(elements) && elements.empty()) {\n      return;\n    } // can't fit to nothing\n\n\n    bb = bb || elements.boundingBox();\n    var w = this.width();\n    var h = this.height();\n    var zoom;\n    padding = number(padding) ? padding : 0;\n\n    if (!isNaN(w) && !isNaN(h) && w > 0 && h > 0 && !isNaN(bb.w) && !isNaN(bb.h) && bb.w > 0 && bb.h > 0) {\n      zoom = Math.min((w - 2 * padding) / bb.w, (h - 2 * padding) / bb.h); // crop zoom\n\n      zoom = zoom > this._private.maxZoom ? this._private.maxZoom : zoom;\n      zoom = zoom < this._private.minZoom ? this._private.minZoom : zoom;\n      var pan = {\n        // now pan to middle\n        x: (w - zoom * (bb.x1 + bb.x2)) / 2,\n        y: (h - zoom * (bb.y1 + bb.y2)) / 2\n      };\n      return {\n        zoom: zoom,\n        pan: pan\n      };\n    }\n\n    return;\n  },\n  zoomRange: function zoomRange(min, max) {\n    var _p = this._private;\n\n    if (max == null) {\n      var opts = min;\n      min = opts.min;\n      max = opts.max;\n    }\n\n    if (number(min) && number(max) && min <= max) {\n      _p.minZoom = min;\n      _p.maxZoom = max;\n    } else if (number(min) && max === undefined && min <= _p.maxZoom) {\n      _p.minZoom = min;\n    } else if (number(max) && min === undefined && max >= _p.minZoom) {\n      _p.maxZoom = max;\n    }\n\n    return this;\n  },\n  minZoom: function minZoom(zoom) {\n    if (zoom === undefined) {\n      return this._private.minZoom;\n    } else {\n      return this.zoomRange({\n        min: zoom\n      });\n    }\n  },\n  maxZoom: function maxZoom(zoom) {\n    if (zoom === undefined) {\n      return this._private.maxZoom;\n    } else {\n      return this.zoomRange({\n        max: zoom\n      });\n    }\n  },\n  getZoomedViewport: function getZoomedViewport(params) {\n    var _p = this._private;\n    var currentPan = _p.pan;\n    var currentZoom = _p.zoom;\n    var pos; // in rendered px\n\n    var zoom;\n    var bail = false;\n\n    if (!_p.zoomingEnabled) {\n      // zooming disabled\n      bail = true;\n    }\n\n    if (number(params)) {\n      // then set the zoom\n      zoom = params;\n    } else if (plainObject(params)) {\n      // then zoom about a point\n      zoom = params.level;\n\n      if (params.position != null) {\n        pos = modelToRenderedPosition(params.position, currentZoom, currentPan);\n      } else if (params.renderedPosition != null) {\n        pos = params.renderedPosition;\n      }\n\n      if (pos != null && !_p.panningEnabled) {\n        // panning disabled\n        bail = true;\n      }\n    } // crop zoom\n\n\n    zoom = zoom > _p.maxZoom ? _p.maxZoom : zoom;\n    zoom = zoom < _p.minZoom ? _p.minZoom : zoom; // can't zoom with invalid params\n\n    if (bail || !number(zoom) || zoom === currentZoom || pos != null && (!number(pos.x) || !number(pos.y))) {\n      return null;\n    }\n\n    if (pos != null) {\n      // set zoom about position\n      var pan1 = currentPan;\n      var zoom1 = currentZoom;\n      var zoom2 = zoom;\n      var pan2 = {\n        x: -zoom2 / zoom1 * (pos.x - pan1.x) + pos.x,\n        y: -zoom2 / zoom1 * (pos.y - pan1.y) + pos.y\n      };\n      return {\n        zoomed: true,\n        panned: true,\n        zoom: zoom2,\n        pan: pan2\n      };\n    } else {\n      // just set the zoom\n      return {\n        zoomed: true,\n        panned: false,\n        zoom: zoom,\n        pan: currentPan\n      };\n    }\n  },\n  zoom: function zoom(params) {\n    if (params === undefined) {\n      // get\n      return this._private.zoom;\n    } else {\n      // set\n      var vp = this.getZoomedViewport(params);\n      var _p = this._private;\n\n      if (vp == null || !vp.zoomed) {\n        return this;\n      }\n\n      _p.zoom = vp.zoom;\n\n      if (vp.panned) {\n        _p.pan.x = vp.pan.x;\n        _p.pan.y = vp.pan.y;\n      }\n\n      this.emit('zoom' + (vp.panned ? ' pan' : '') + ' viewport');\n      this.notify('viewport');\n      return this; // chaining\n    }\n  },\n  viewport: function viewport(opts) {\n    var _p = this._private;\n    var zoomDefd = true;\n    var panDefd = true;\n    var events = []; // to trigger\n\n    var zoomFailed = false;\n    var panFailed = false;\n\n    if (!opts) {\n      return this;\n    }\n\n    if (!number(opts.zoom)) {\n      zoomDefd = false;\n    }\n\n    if (!plainObject(opts.pan)) {\n      panDefd = false;\n    }\n\n    if (!zoomDefd && !panDefd) {\n      return this;\n    }\n\n    if (zoomDefd) {\n      var z = opts.zoom;\n\n      if (z < _p.minZoom || z > _p.maxZoom || !_p.zoomingEnabled) {\n        zoomFailed = true;\n      } else {\n        _p.zoom = z;\n        events.push('zoom');\n      }\n    }\n\n    if (panDefd && (!zoomFailed || !opts.cancelOnFailedZoom) && _p.panningEnabled) {\n      var p = opts.pan;\n\n      if (number(p.x)) {\n        _p.pan.x = p.x;\n        panFailed = false;\n      }\n\n      if (number(p.y)) {\n        _p.pan.y = p.y;\n        panFailed = false;\n      }\n\n      if (!panFailed) {\n        events.push('pan');\n      }\n    }\n\n    if (events.length > 0) {\n      events.push('viewport');\n      this.emit(events.join(' '));\n      this.notify('viewport');\n    }\n\n    return this; // chaining\n  },\n  center: function center(elements) {\n    var pan = this.getCenterPan(elements);\n\n    if (pan) {\n      this._private.pan = pan;\n      this.emit('pan viewport');\n      this.notify('viewport');\n    }\n\n    return this; // chaining\n  },\n  getCenterPan: function getCenterPan(elements, zoom) {\n    if (!this._private.panningEnabled) {\n      return;\n    }\n\n    if (string(elements)) {\n      var selector = elements;\n      elements = this.mutableElements().filter(selector);\n    } else if (!elementOrCollection(elements)) {\n      elements = this.mutableElements();\n    }\n\n    if (elements.length === 0) {\n      return;\n    } // can't centre pan to nothing\n\n\n    var bb = elements.boundingBox();\n    var w = this.width();\n    var h = this.height();\n    zoom = zoom === undefined ? this._private.zoom : zoom;\n    var pan = {\n      // middle\n      x: (w - zoom * (bb.x1 + bb.x2)) / 2,\n      y: (h - zoom * (bb.y1 + bb.y2)) / 2\n    };\n    return pan;\n  },\n  reset: function reset() {\n    if (!this._private.panningEnabled || !this._private.zoomingEnabled) {\n      return this;\n    }\n\n    this.viewport({\n      pan: {\n        x: 0,\n        y: 0\n      },\n      zoom: 1\n    });\n    return this; // chaining\n  },\n  invalidateSize: function invalidateSize() {\n    this._private.sizeCache = null;\n  },\n  size: function size() {\n    var _p = this._private;\n    var container = _p.container;\n    return _p.sizeCache = _p.sizeCache || (container ? function () {\n      var style = window$1.getComputedStyle(container);\n\n      var val = function val(name) {\n        return parseFloat(style.getPropertyValue(name));\n      };\n\n      return {\n        width: container.clientWidth - val('padding-left') - val('padding-right'),\n        height: container.clientHeight - val('padding-top') - val('padding-bottom')\n      };\n    }() : {\n      // fallback if no container (not 0 b/c can be used for dividing etc)\n      width: 1,\n      height: 1\n    });\n  },\n  width: function width() {\n    return this.size().width;\n  },\n  height: function height() {\n    return this.size().height;\n  },\n  extent: function extent() {\n    var pan = this._private.pan;\n    var zoom = this._private.zoom;\n    var rb = this.renderedExtent();\n    var b = {\n      x1: (rb.x1 - pan.x) / zoom,\n      x2: (rb.x2 - pan.x) / zoom,\n      y1: (rb.y1 - pan.y) / zoom,\n      y2: (rb.y2 - pan.y) / zoom\n    };\n    b.w = b.x2 - b.x1;\n    b.h = b.y2 - b.y1;\n    return b;\n  },\n  renderedExtent: function renderedExtent() {\n    var width = this.width();\n    var height = this.height();\n    return {\n      x1: 0,\n      y1: 0,\n      x2: width,\n      y2: height,\n      w: width,\n      h: height\n    };\n  }\n}; // aliases\n\ncorefn$8.centre = corefn$8.center; // backwards compatibility\n\ncorefn$8.autolockNodes = corefn$8.autolock;\ncorefn$8.autoungrabifyNodes = corefn$8.autoungrabify;\n\nvar fn$6 = {\n  data: define$3.data({\n    field: 'data',\n    bindingEvent: 'data',\n    allowBinding: true,\n    allowSetting: true,\n    settingEvent: 'data',\n    settingTriggersEvent: true,\n    triggerFnName: 'trigger',\n    allowGetting: true\n  }),\n  removeData: define$3.removeData({\n    field: 'data',\n    event: 'data',\n    triggerFnName: 'trigger',\n    triggerEvent: true\n  }),\n  scratch: define$3.data({\n    field: 'scratch',\n    bindingEvent: 'scratch',\n    allowBinding: true,\n    allowSetting: true,\n    settingEvent: 'scratch',\n    settingTriggersEvent: true,\n    triggerFnName: 'trigger',\n    allowGetting: true\n  }),\n  removeScratch: define$3.removeData({\n    field: 'scratch',\n    event: 'scratch',\n    triggerFnName: 'trigger',\n    triggerEvent: true\n  })\n}; // aliases\n\nfn$6.attr = fn$6.data;\nfn$6.removeAttr = fn$6.removeData;\n\nvar Core = function Core(opts) {\n  var cy = this;\n  opts = extend({}, opts);\n  var container = opts.container; // allow for passing a wrapped jquery object\n  // e.g. cytoscape({ container: $('#cy') })\n\n  if (container && !htmlElement(container) && htmlElement(container[0])) {\n    container = container[0];\n  }\n\n  var reg = container ? container._cyreg : null; // e.g. already registered some info (e.g. readies) via jquery\n\n  reg = reg || {};\n\n  if (reg && reg.cy) {\n    reg.cy.destroy();\n    reg = {}; // old instance => replace reg completely\n  }\n\n  var readies = reg.readies = reg.readies || [];\n\n  if (container) {\n    container._cyreg = reg;\n  } // make sure container assoc'd reg points to this cy\n\n\n  reg.cy = cy;\n  var head = window$1 !== undefined && container !== undefined && !opts.headless;\n  var options = opts;\n  options.layout = extend({\n    name: head ? 'grid' : 'null'\n  }, options.layout);\n  options.renderer = extend({\n    name: head ? 'canvas' : 'null'\n  }, options.renderer);\n\n  var defVal = function defVal(def, val, altVal) {\n    if (val !== undefined) {\n      return val;\n    } else if (altVal !== undefined) {\n      return altVal;\n    } else {\n      return def;\n    }\n  };\n\n  var _p = this._private = {\n    container: container,\n    // html dom ele container\n    ready: false,\n    // whether ready has been triggered\n    options: options,\n    // cached options\n    elements: new Collection(this),\n    // elements in the graph\n    listeners: [],\n    // list of listeners\n    aniEles: new Collection(this),\n    // elements being animated\n    data: {},\n    // data for the core\n    scratch: {},\n    // scratch object for core\n    layout: null,\n    renderer: null,\n    destroyed: false,\n    // whether destroy was called\n    notificationsEnabled: true,\n    // whether notifications are sent to the renderer\n    minZoom: 1e-50,\n    maxZoom: 1e50,\n    zoomingEnabled: defVal(true, options.zoomingEnabled),\n    userZoomingEnabled: defVal(true, options.userZoomingEnabled),\n    panningEnabled: defVal(true, options.panningEnabled),\n    userPanningEnabled: defVal(true, options.userPanningEnabled),\n    boxSelectionEnabled: defVal(true, options.boxSelectionEnabled),\n    autolock: defVal(false, options.autolock, options.autolockNodes),\n    autoungrabify: defVal(false, options.autoungrabify, options.autoungrabifyNodes),\n    autounselectify: defVal(false, options.autounselectify),\n    styleEnabled: options.styleEnabled === undefined ? head : options.styleEnabled,\n    zoom: number(options.zoom) ? options.zoom : 1,\n    pan: {\n      x: plainObject(options.pan) && number(options.pan.x) ? options.pan.x : 0,\n      y: plainObject(options.pan) && number(options.pan.y) ? options.pan.y : 0\n    },\n    animation: {\n      // object for currently-running animations\n      current: [],\n      queue: []\n    },\n    hasCompoundNodes: false\n  };\n\n  this.createEmitter(); // set selection type\n\n  this.selectionType(options.selectionType); // init zoom bounds\n\n  this.zoomRange({\n    min: options.minZoom,\n    max: options.maxZoom\n  });\n\n  var loadExtData = function loadExtData(extData, next) {\n    var anyIsPromise = extData.some(promise);\n\n    if (anyIsPromise) {\n      return Promise$1.all(extData).then(next); // load all data asynchronously, then exec rest of init\n    } else {\n      next(extData); // exec synchronously for convenience\n    }\n  }; // start with the default stylesheet so we have something before loading an external stylesheet\n\n\n  if (_p.styleEnabled) {\n    cy.setStyle([]);\n  } // create the renderer\n\n\n  var rendererOptions = extend({}, options, options.renderer); // allow rendering hints in top level options\n\n  cy.initRenderer(rendererOptions);\n\n  var setElesAndLayout = function setElesAndLayout(elements, onload, ondone) {\n    cy.notifications(false); // remove old elements\n\n    var oldEles = cy.mutableElements();\n\n    if (oldEles.length > 0) {\n      oldEles.remove();\n    }\n\n    if (elements != null) {\n      if (plainObject(elements) || array(elements)) {\n        cy.add(elements);\n      }\n    }\n\n    cy.one('layoutready', function (e) {\n      cy.notifications(true);\n      cy.emit(e); // we missed this event by turning notifications off, so pass it on\n\n      cy.one('load', onload);\n      cy.emitAndNotify('load');\n    }).one('layoutstop', function () {\n      cy.one('done', ondone);\n      cy.emit('done');\n    });\n    var layoutOpts = extend({}, cy._private.options.layout);\n    layoutOpts.eles = cy.elements();\n    cy.layout(layoutOpts).run();\n  };\n\n  loadExtData([options.style, options.elements], function (thens) {\n    var initStyle = thens[0];\n    var initEles = thens[1]; // init style\n\n    if (_p.styleEnabled) {\n      cy.style().append(initStyle);\n    } // initial load\n\n\n    setElesAndLayout(initEles, function () {\n      // onready\n      cy.startAnimationLoop();\n      _p.ready = true; // if a ready callback is specified as an option, the bind it\n\n      if (fn(options.ready)) {\n        cy.on('ready', options.ready);\n      } // bind all the ready handlers registered before creating this instance\n\n\n      for (var i = 0; i < readies.length; i++) {\n        var fn$1 = readies[i];\n        cy.on('ready', fn$1);\n      }\n\n      if (reg) {\n        reg.readies = [];\n      } // clear b/c we've bound them all and don't want to keep it around in case a new core uses the same div etc\n\n\n      cy.emit('ready');\n    }, options.done);\n  });\n};\n\nvar corefn$9 = Core.prototype; // short alias\n\nextend(corefn$9, {\n  instanceString: function instanceString() {\n    return 'core';\n  },\n  isReady: function isReady() {\n    return this._private.ready;\n  },\n  destroyed: function destroyed() {\n    return this._private.destroyed;\n  },\n  ready: function ready(fn) {\n    if (this.isReady()) {\n      this.emitter().emit('ready', [], fn); // just calls fn as though triggered via ready event\n    } else {\n      this.on('ready', fn);\n    }\n\n    return this;\n  },\n  destroy: function destroy() {\n    var cy = this;\n    if (cy.destroyed()) return;\n    cy.stopAnimationLoop();\n    cy.destroyRenderer();\n    this.emit('destroy');\n    cy._private.destroyed = true;\n    return cy;\n  },\n  hasElementWithId: function hasElementWithId(id) {\n    return this._private.elements.hasElementWithId(id);\n  },\n  getElementById: function getElementById(id) {\n    return this._private.elements.getElementById(id);\n  },\n  hasCompoundNodes: function hasCompoundNodes() {\n    return this._private.hasCompoundNodes;\n  },\n  headless: function headless() {\n    return this._private.renderer.isHeadless();\n  },\n  styleEnabled: function styleEnabled() {\n    return this._private.styleEnabled;\n  },\n  addToPool: function addToPool(eles) {\n    this._private.elements.merge(eles);\n\n    return this; // chaining\n  },\n  removeFromPool: function removeFromPool(eles) {\n    this._private.elements.unmerge(eles);\n\n    return this;\n  },\n  container: function container() {\n    return this._private.container || null;\n  },\n  mount: function mount(container) {\n    if (container == null) {\n      return;\n    }\n\n    var cy = this;\n    var _p = cy._private;\n    var options = _p.options;\n\n    if (!htmlElement(container) && htmlElement(container[0])) {\n      container = container[0];\n    }\n\n    cy.stopAnimationLoop();\n    cy.destroyRenderer();\n    _p.container = container;\n    _p.styleEnabled = true;\n    cy.invalidateSize();\n    cy.initRenderer(extend({}, options, options.renderer, {\n      // allow custom renderer name to be re-used, otherwise use canvas\n      name: options.renderer.name === 'null' ? 'canvas' : options.renderer.name\n    }));\n    cy.startAnimationLoop();\n    cy.style(options.style);\n    cy.emit('mount');\n    return cy;\n  },\n  unmount: function unmount() {\n    var cy = this;\n    cy.stopAnimationLoop();\n    cy.destroyRenderer();\n    cy.initRenderer({\n      name: 'null'\n    });\n    cy.emit('unmount');\n    return cy;\n  },\n  options: function options() {\n    return copy(this._private.options);\n  },\n  json: function json(obj) {\n    var cy = this;\n    var _p = cy._private;\n    var eles = cy.mutableElements();\n\n    var getFreshRef = function getFreshRef(ele) {\n      return cy.getElementById(ele.id());\n    };\n\n    if (plainObject(obj)) {\n      // set\n      cy.startBatch();\n\n      if (obj.elements) {\n        var idInJson = {};\n\n        var updateEles = function updateEles(jsons, gr) {\n          var toAdd = [];\n          var toMod = [];\n\n          for (var i = 0; i < jsons.length; i++) {\n            var json = jsons[i];\n            var id = '' + json.data.id; // id must be string\n\n            var ele = cy.getElementById(id);\n            idInJson[id] = true;\n\n            if (ele.length !== 0) {\n              // existing element should be updated\n              toMod.push({\n                ele: ele,\n                json: json\n              });\n            } else {\n              // otherwise should be added\n              if (gr) {\n                json.group = gr;\n                toAdd.push(json);\n              } else {\n                toAdd.push(json);\n              }\n            }\n          }\n\n          cy.add(toAdd);\n\n          for (var _i = 0; _i < toMod.length; _i++) {\n            var _toMod$_i = toMod[_i],\n                _ele = _toMod$_i.ele,\n                _json = _toMod$_i.json;\n\n            _ele.json(_json);\n          }\n        };\n\n        if (array(obj.elements)) {\n          // elements: []\n          updateEles(obj.elements);\n        } else {\n          // elements: { nodes: [], edges: [] }\n          var grs = ['nodes', 'edges'];\n\n          for (var i = 0; i < grs.length; i++) {\n            var gr = grs[i];\n            var elements = obj.elements[gr];\n\n            if (array(elements)) {\n              updateEles(elements, gr);\n            }\n          }\n        }\n\n        var parentsToRemove = cy.collection();\n        eles.filter(function (ele) {\n          return !idInJson[ele.id()];\n        }).forEach(function (ele) {\n          if (ele.isParent()) {\n            parentsToRemove.merge(ele);\n          } else {\n            ele.remove();\n          }\n        }); // so that children are not removed w/parent\n\n        parentsToRemove.forEach(function (ele) {\n          return ele.children().move({\n            parent: null\n          });\n        }); // intermediate parents may be moved by prior line, so make sure we remove by fresh refs\n\n        parentsToRemove.forEach(function (ele) {\n          return getFreshRef(ele).remove();\n        });\n      }\n\n      if (obj.style) {\n        cy.style(obj.style);\n      }\n\n      if (obj.zoom != null && obj.zoom !== _p.zoom) {\n        cy.zoom(obj.zoom);\n      }\n\n      if (obj.pan) {\n        if (obj.pan.x !== _p.pan.x || obj.pan.y !== _p.pan.y) {\n          cy.pan(obj.pan);\n        }\n      }\n\n      if (obj.data) {\n        cy.data(obj.data);\n      }\n\n      var fields = ['minZoom', 'maxZoom', 'zoomingEnabled', 'userZoomingEnabled', 'panningEnabled', 'userPanningEnabled', 'boxSelectionEnabled', 'autolock', 'autoungrabify', 'autounselectify'];\n\n      for (var _i2 = 0; _i2 < fields.length; _i2++) {\n        var f = fields[_i2];\n\n        if (obj[f] != null) {\n          cy[f](obj[f]);\n        }\n      }\n\n      cy.endBatch();\n      return this; // chaining\n    } else {\n      // get\n      var flat = !!obj;\n      var json = {};\n\n      if (flat) {\n        json.elements = this.elements().map(function (ele) {\n          return ele.json();\n        });\n      } else {\n        json.elements = {};\n        eles.forEach(function (ele) {\n          var group = ele.group();\n\n          if (!json.elements[group]) {\n            json.elements[group] = [];\n          }\n\n          json.elements[group].push(ele.json());\n        });\n      }\n\n      if (this._private.styleEnabled) {\n        json.style = cy.style().json();\n      }\n\n      json.data = copy(cy.data());\n      var options = _p.options;\n      json.zoomingEnabled = _p.zoomingEnabled;\n      json.userZoomingEnabled = _p.userZoomingEnabled;\n      json.zoom = _p.zoom;\n      json.minZoom = _p.minZoom;\n      json.maxZoom = _p.maxZoom;\n      json.panningEnabled = _p.panningEnabled;\n      json.userPanningEnabled = _p.userPanningEnabled;\n      json.pan = copy(_p.pan);\n      json.boxSelectionEnabled = _p.boxSelectionEnabled;\n      json.renderer = copy(options.renderer);\n      json.hideEdgesOnViewport = options.hideEdgesOnViewport;\n      json.textureOnViewport = options.textureOnViewport;\n      json.wheelSensitivity = options.wheelSensitivity;\n      json.motionBlur = options.motionBlur;\n      return json;\n    }\n  }\n});\ncorefn$9.$id = corefn$9.getElementById;\n[corefn, corefn$1, elesfn$v, corefn$2, corefn$3, corefn$4, corefn$5, corefn$6, corefn$7, corefn$8, fn$6].forEach(function (props) {\n  extend(corefn$9, props);\n});\n\n/* eslint-disable no-unused-vars */\n\nvar defaults$9 = {\n  fit: true,\n  // whether to fit the viewport to the graph\n  directed: false,\n  // whether the tree is directed downwards (or edges can point in any direction if false)\n  padding: 30,\n  // padding on fit\n  circle: false,\n  // put depths in concentric circles if true, put depths top down if false\n  grid: false,\n  // whether to create an even grid into which the DAG is placed (circle:false only)\n  spacingFactor: 1.75,\n  // positive spacing factor, larger => more space between nodes (N.B. n/a if causes overlap)\n  boundingBox: undefined,\n  // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n  avoidOverlap: true,\n  // prevents node overlap, may overflow boundingBox if not enough space\n  nodeDimensionsIncludeLabels: false,\n  // Excludes the label when calculating node bounding boxes for the layout algorithm\n  roots: undefined,\n  // the roots of the trees\n  maximal: false,\n  // whether to shift nodes down their natural BFS depths in order to avoid upwards edges (DAGS only)\n  animate: false,\n  // whether to transition the node positions\n  animationDuration: 500,\n  // duration of animation in ms if enabled\n  animationEasing: undefined,\n  // easing of animation if enabled,\n  animateFilter: function animateFilter(node, i) {\n    return true;\n  },\n  // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n  ready: undefined,\n  // callback on layoutready\n  stop: undefined,\n  // callback on layoutstop\n  transform: function transform(node, position) {\n    return position;\n  } // transform a given node position. Useful for changing flow direction in discrete layouts\n\n};\n/* eslint-enable */\n\nvar getInfo = function getInfo(ele) {\n  return ele.scratch('breadthfirst');\n};\n\nvar setInfo = function setInfo(ele, obj) {\n  return ele.scratch('breadthfirst', obj);\n};\n\nfunction BreadthFirstLayout(options) {\n  this.options = extend({}, defaults$9, options);\n}\n\nBreadthFirstLayout.prototype.run = function () {\n  var params = this.options;\n  var options = params;\n  var cy = params.cy;\n  var eles = options.eles;\n  var nodes = eles.nodes().filter(function (n) {\n    return !n.isParent();\n  });\n  var graph = eles;\n  var directed = options.directed;\n  var maximal = options.maximal || options.maximalAdjustments > 0; // maximalAdjustments for compat. w/ old code\n\n  var bb = makeBoundingBox(options.boundingBox ? options.boundingBox : {\n    x1: 0,\n    y1: 0,\n    w: cy.width(),\n    h: cy.height()\n  });\n  var roots;\n\n  if (elementOrCollection(options.roots)) {\n    roots = options.roots;\n  } else if (array(options.roots)) {\n    var rootsArray = [];\n\n    for (var i = 0; i < options.roots.length; i++) {\n      var id = options.roots[i];\n      var ele = cy.getElementById(id);\n      rootsArray.push(ele);\n    }\n\n    roots = cy.collection(rootsArray);\n  } else if (string(options.roots)) {\n    roots = cy.$(options.roots);\n  } else {\n    if (directed) {\n      roots = nodes.roots();\n    } else {\n      var components = eles.components();\n      roots = cy.collection();\n\n      var _loop = function _loop(_i) {\n        var comp = components[_i];\n        var maxDegree = comp.maxDegree(false);\n        var compRoots = comp.filter(function (ele) {\n          return ele.degree(false) === maxDegree;\n        });\n        roots = roots.add(compRoots);\n      };\n\n      for (var _i = 0; _i < components.length; _i++) {\n        _loop(_i);\n      }\n    }\n  }\n\n  var depths = [];\n  var foundByBfs = {};\n\n  var addToDepth = function addToDepth(ele, d) {\n    if (depths[d] == null) {\n      depths[d] = [];\n    }\n\n    var i = depths[d].length;\n    depths[d].push(ele);\n    setInfo(ele, {\n      index: i,\n      depth: d\n    });\n  };\n\n  var changeDepth = function changeDepth(ele, newDepth) {\n    var _getInfo = getInfo(ele),\n        depth = _getInfo.depth,\n        index = _getInfo.index;\n\n    depths[depth][index] = null;\n    addToDepth(ele, newDepth);\n  }; // find the depths of the nodes\n\n\n  graph.bfs({\n    roots: roots,\n    directed: options.directed,\n    visit: function visit(node, edge, pNode, i, depth) {\n      var ele = node[0];\n      var id = ele.id();\n      addToDepth(ele, depth);\n      foundByBfs[id] = true;\n    }\n  }); // check for nodes not found by bfs\n\n  var orphanNodes = [];\n\n  for (var _i2 = 0; _i2 < nodes.length; _i2++) {\n    var _ele = nodes[_i2];\n\n    if (foundByBfs[_ele.id()]) {\n      continue;\n    } else {\n      orphanNodes.push(_ele);\n    }\n  } // assign the nodes a depth and index\n\n\n  var assignDepthsAt = function assignDepthsAt(i) {\n    var eles = depths[i];\n\n    for (var j = 0; j < eles.length; j++) {\n      var _ele2 = eles[j];\n\n      if (_ele2 == null) {\n        eles.splice(j, 1);\n        j--;\n        continue;\n      }\n\n      setInfo(_ele2, {\n        depth: i,\n        index: j\n      });\n    }\n  };\n\n  var assignDepths = function assignDepths() {\n    for (var _i3 = 0; _i3 < depths.length; _i3++) {\n      assignDepthsAt(_i3);\n    }\n  };\n\n  var adjustMaximally = function adjustMaximally(ele, shifted) {\n    var eInfo = getInfo(ele);\n    var incomers = ele.incomers().filter(function (el) {\n      return el.isNode() && eles.has(el);\n    });\n    var maxDepth = -1;\n    var id = ele.id();\n\n    for (var k = 0; k < incomers.length; k++) {\n      var incmr = incomers[k];\n      var iInfo = getInfo(incmr);\n      maxDepth = Math.max(maxDepth, iInfo.depth);\n    }\n\n    if (eInfo.depth <= maxDepth) {\n      if (shifted[id]) {\n        return null;\n      }\n\n      changeDepth(ele, maxDepth + 1);\n      shifted[id] = true;\n      return true;\n    }\n\n    return false;\n  }; // for the directed case, try to make the edges all go down (i.e. depth i => depth i + 1)\n\n\n  if (directed && maximal) {\n    var Q = [];\n    var shifted = {};\n\n    var enqueue = function enqueue(n) {\n      return Q.push(n);\n    };\n\n    var dequeue = function dequeue() {\n      return Q.shift();\n    };\n\n    nodes.forEach(function (n) {\n      return Q.push(n);\n    });\n\n    while (Q.length > 0) {\n      var _ele3 = dequeue();\n\n      var didShift = adjustMaximally(_ele3, shifted);\n\n      if (didShift) {\n        _ele3.outgoers().filter(function (el) {\n          return el.isNode() && eles.has(el);\n        }).forEach(enqueue);\n      } else if (didShift === null) {\n        warn('Detected double maximal shift for node `' + _ele3.id() + '`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.');\n        break; // exit on failure\n      }\n    }\n  }\n\n  assignDepths(); // clear holes\n  // find min distance we need to leave between nodes\n\n  var minDistance = 0;\n\n  if (options.avoidOverlap) {\n    for (var _i4 = 0; _i4 < nodes.length; _i4++) {\n      var n = nodes[_i4];\n      var nbb = n.layoutDimensions(options);\n      var w = nbb.w;\n      var h = nbb.h;\n      minDistance = Math.max(minDistance, w, h);\n    }\n  } // get the weighted percent for an element based on its connectivity to other levels\n\n\n  var cachedWeightedPercent = {};\n\n  var getWeightedPercent = function getWeightedPercent(ele) {\n    if (cachedWeightedPercent[ele.id()]) {\n      return cachedWeightedPercent[ele.id()];\n    }\n\n    var eleDepth = getInfo(ele).depth;\n    var neighbors = ele.neighborhood();\n    var percent = 0;\n    var samples = 0;\n\n    for (var _i5 = 0; _i5 < neighbors.length; _i5++) {\n      var neighbor = neighbors[_i5];\n\n      if (neighbor.isEdge() || neighbor.isParent() || !nodes.has(neighbor)) {\n        continue;\n      }\n\n      var bf = getInfo(neighbor);\n      var index = bf.index;\n      var depth = bf.depth; // unassigned neighbours shouldn't affect the ordering\n\n      if (index == null || depth == null) {\n        continue;\n      }\n\n      var nDepth = depths[depth].length;\n\n      if (depth < eleDepth) {\n        // only get influenced by elements above\n        percent += index / nDepth;\n        samples++;\n      }\n    }\n\n    samples = Math.max(1, samples);\n    percent = percent / samples;\n\n    if (samples === 0) {\n      // put lone nodes at the start\n      percent = 0;\n    }\n\n    cachedWeightedPercent[ele.id()] = percent;\n    return percent;\n  }; // rearrange the indices in each depth level based on connectivity\n\n\n  var sortFn = function sortFn(a, b) {\n    var apct = getWeightedPercent(a);\n    var bpct = getWeightedPercent(b);\n    var diff = apct - bpct;\n\n    if (diff === 0) {\n      return ascending(a.id(), b.id()); // make sure sort doesn't have don't-care comparisons\n    } else {\n      return diff;\n    }\n  }; // sort each level to make connected nodes closer\n\n\n  for (var _i6 = 0; _i6 < depths.length; _i6++) {\n    depths[_i6].sort(sortFn);\n\n    assignDepthsAt(_i6);\n  } // assign orphan nodes to a new top-level depth\n\n\n  var orphanDepth = [];\n\n  for (var _i7 = 0; _i7 < orphanNodes.length; _i7++) {\n    orphanDepth.push(orphanNodes[_i7]);\n  }\n\n  depths.unshift(orphanDepth);\n  assignDepths();\n  var biggestDepthSize = 0;\n\n  for (var _i8 = 0; _i8 < depths.length; _i8++) {\n    biggestDepthSize = Math.max(depths[_i8].length, biggestDepthSize);\n  }\n\n  var center = {\n    x: bb.x1 + bb.w / 2,\n    y: bb.x1 + bb.h / 2\n  };\n  var maxDepthSize = depths.reduce(function (max, eles) {\n    return Math.max(max, eles.length);\n  }, 0);\n\n  var getPosition = function getPosition(ele) {\n    var _getInfo2 = getInfo(ele),\n        depth = _getInfo2.depth,\n        index = _getInfo2.index;\n\n    var depthSize = depths[depth].length;\n    var distanceX = Math.max(bb.w / ((options.grid ? maxDepthSize : depthSize) + 1), minDistance);\n    var distanceY = Math.max(bb.h / (depths.length + 1), minDistance);\n    var radiusStepSize = Math.min(bb.w / 2 / depths.length, bb.h / 2 / depths.length);\n    radiusStepSize = Math.max(radiusStepSize, minDistance);\n\n    if (!options.circle) {\n      var epos = {\n        x: center.x + (index + 1 - (depthSize + 1) / 2) * distanceX,\n        y: (depth + 1) * distanceY\n      };\n      return epos;\n    } else {\n      var radius = radiusStepSize * depth + radiusStepSize - (depths.length > 0 && depths[0].length <= 3 ? radiusStepSize / 2 : 0);\n      var theta = 2 * Math.PI / depths[depth].length * index;\n\n      if (depth === 0 && depths[0].length === 1) {\n        radius = 1;\n      }\n\n      return {\n        x: center.x + radius * Math.cos(theta),\n        y: center.y + radius * Math.sin(theta)\n      };\n    }\n  };\n\n  nodes.layoutPositions(this, options, getPosition);\n  return this; // chaining\n};\n\nvar defaults$a = {\n  fit: true,\n  // whether to fit the viewport to the graph\n  padding: 30,\n  // the padding on fit\n  boundingBox: undefined,\n  // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n  avoidOverlap: true,\n  // prevents node overlap, may overflow boundingBox and radius if not enough space\n  nodeDimensionsIncludeLabels: false,\n  // Excludes the label when calculating node bounding boxes for the layout algorithm\n  spacingFactor: undefined,\n  // Applies a multiplicative factor (>0) to expand or compress the overall area that the nodes take up\n  radius: undefined,\n  // the radius of the circle\n  startAngle: 3 / 2 * Math.PI,\n  // where nodes start in radians\n  sweep: undefined,\n  // how many radians should be between the first and last node (defaults to full circle)\n  clockwise: true,\n  // whether the layout should go clockwise (true) or counterclockwise/anticlockwise (false)\n  sort: undefined,\n  // a sorting function to order the nodes; e.g. function(a, b){ return a.data('weight') - b.data('weight') }\n  animate: false,\n  // whether to transition the node positions\n  animationDuration: 500,\n  // duration of animation in ms if enabled\n  animationEasing: undefined,\n  // easing of animation if enabled\n  animateFilter: function animateFilter(node, i) {\n    return true;\n  },\n  // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n  ready: undefined,\n  // callback on layoutready\n  stop: undefined,\n  // callback on layoutstop\n  transform: function transform(node, position) {\n    return position;\n  } // transform a given node position. Useful for changing flow direction in discrete layouts \n\n};\n\nfunction CircleLayout(options) {\n  this.options = extend({}, defaults$a, options);\n}\n\nCircleLayout.prototype.run = function () {\n  var params = this.options;\n  var options = params;\n  var cy = params.cy;\n  var eles = options.eles;\n  var clockwise = options.counterclockwise !== undefined ? !options.counterclockwise : options.clockwise;\n  var nodes = eles.nodes().not(':parent');\n\n  if (options.sort) {\n    nodes = nodes.sort(options.sort);\n  }\n\n  var bb = makeBoundingBox(options.boundingBox ? options.boundingBox : {\n    x1: 0,\n    y1: 0,\n    w: cy.width(),\n    h: cy.height()\n  });\n  var center = {\n    x: bb.x1 + bb.w / 2,\n    y: bb.y1 + bb.h / 2\n  };\n  var sweep = options.sweep === undefined ? 2 * Math.PI - 2 * Math.PI / nodes.length : options.sweep;\n  var dTheta = sweep / Math.max(1, nodes.length - 1);\n  var r;\n  var minDistance = 0;\n\n  for (var i = 0; i < nodes.length; i++) {\n    var n = nodes[i];\n    var nbb = n.layoutDimensions(options);\n    var w = nbb.w;\n    var h = nbb.h;\n    minDistance = Math.max(minDistance, w, h);\n  }\n\n  if (number(options.radius)) {\n    r = options.radius;\n  } else if (nodes.length <= 1) {\n    r = 0;\n  } else {\n    r = Math.min(bb.h, bb.w) / 2 - minDistance;\n  } // calculate the radius\n\n\n  if (nodes.length > 1 && options.avoidOverlap) {\n    // but only if more than one node (can't overlap)\n    minDistance *= 1.75; // just to have some nice spacing\n\n    var dcos = Math.cos(dTheta) - Math.cos(0);\n    var dsin = Math.sin(dTheta) - Math.sin(0);\n    var rMin = Math.sqrt(minDistance * minDistance / (dcos * dcos + dsin * dsin)); // s.t. no nodes overlapping\n\n    r = Math.max(rMin, r);\n  }\n\n  var getPos = function getPos(ele, i) {\n    var theta = options.startAngle + i * dTheta * (clockwise ? 1 : -1);\n    var rx = r * Math.cos(theta);\n    var ry = r * Math.sin(theta);\n    var pos = {\n      x: center.x + rx,\n      y: center.y + ry\n    };\n    return pos;\n  };\n\n  nodes.layoutPositions(this, options, getPos);\n  return this; // chaining\n};\n\nvar defaults$b = {\n  fit: true,\n  // whether to fit the viewport to the graph\n  padding: 30,\n  // the padding on fit\n  startAngle: 3 / 2 * Math.PI,\n  // where nodes start in radians\n  sweep: undefined,\n  // how many radians should be between the first and last node (defaults to full circle)\n  clockwise: true,\n  // whether the layout should go clockwise (true) or counterclockwise/anticlockwise (false)\n  equidistant: false,\n  // whether levels have an equal radial distance betwen them, may cause bounding box overflow\n  minNodeSpacing: 10,\n  // min spacing between outside of nodes (used for radius adjustment)\n  boundingBox: undefined,\n  // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n  avoidOverlap: true,\n  // prevents node overlap, may overflow boundingBox if not enough space\n  nodeDimensionsIncludeLabels: false,\n  // Excludes the label when calculating node bounding boxes for the layout algorithm\n  height: undefined,\n  // height of layout area (overrides container height)\n  width: undefined,\n  // width of layout area (overrides container width)\n  spacingFactor: undefined,\n  // Applies a multiplicative factor (>0) to expand or compress the overall area that the nodes take up\n  concentric: function concentric(node) {\n    // returns numeric value for each node, placing higher nodes in levels towards the centre\n    return node.degree();\n  },\n  levelWidth: function levelWidth(nodes) {\n    // the letiation of concentric values in each level\n    return nodes.maxDegree() / 4;\n  },\n  animate: false,\n  // whether to transition the node positions\n  animationDuration: 500,\n  // duration of animation in ms if enabled\n  animationEasing: undefined,\n  // easing of animation if enabled\n  animateFilter: function animateFilter(node, i) {\n    return true;\n  },\n  // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n  ready: undefined,\n  // callback on layoutready\n  stop: undefined,\n  // callback on layoutstop\n  transform: function transform(node, position) {\n    return position;\n  } // transform a given node position. Useful for changing flow direction in discrete layouts\n\n};\n\nfunction ConcentricLayout(options) {\n  this.options = extend({}, defaults$b, options);\n}\n\nConcentricLayout.prototype.run = function () {\n  var params = this.options;\n  var options = params;\n  var clockwise = options.counterclockwise !== undefined ? !options.counterclockwise : options.clockwise;\n  var cy = params.cy;\n  var eles = options.eles;\n  var nodes = eles.nodes().not(':parent');\n  var bb = makeBoundingBox(options.boundingBox ? options.boundingBox : {\n    x1: 0,\n    y1: 0,\n    w: cy.width(),\n    h: cy.height()\n  });\n  var center = {\n    x: bb.x1 + bb.w / 2,\n    y: bb.y1 + bb.h / 2\n  };\n  var nodeValues = []; // { node, value }\n\n  var maxNodeSize = 0;\n\n  for (var i = 0; i < nodes.length; i++) {\n    var node = nodes[i];\n    var value = void 0; // calculate the node value\n\n    value = options.concentric(node);\n    nodeValues.push({\n      value: value,\n      node: node\n    }); // for style mapping\n\n    node._private.scratch.concentric = value;\n  } // in case we used the `concentric` in style\n\n\n  nodes.updateStyle(); // calculate max size now based on potentially updated mappers\n\n  for (var _i = 0; _i < nodes.length; _i++) {\n    var _node = nodes[_i];\n\n    var nbb = _node.layoutDimensions(options);\n\n    maxNodeSize = Math.max(maxNodeSize, nbb.w, nbb.h);\n  } // sort node values in descreasing order\n\n\n  nodeValues.sort(function (a, b) {\n    return b.value - a.value;\n  });\n  var levelWidth = options.levelWidth(nodes); // put the values into levels\n\n  var levels = [[]];\n  var currentLevel = levels[0];\n\n  for (var _i2 = 0; _i2 < nodeValues.length; _i2++) {\n    var val = nodeValues[_i2];\n\n    if (currentLevel.length > 0) {\n      var diff = Math.abs(currentLevel[0].value - val.value);\n\n      if (diff >= levelWidth) {\n        currentLevel = [];\n        levels.push(currentLevel);\n      }\n    }\n\n    currentLevel.push(val);\n  } // create positions from levels\n\n\n  var minDist = maxNodeSize + options.minNodeSpacing; // min dist between nodes\n\n  if (!options.avoidOverlap) {\n    // then strictly constrain to bb\n    var firstLvlHasMulti = levels.length > 0 && levels[0].length > 1;\n    var maxR = Math.min(bb.w, bb.h) / 2 - minDist;\n    var rStep = maxR / (levels.length + firstLvlHasMulti ? 1 : 0);\n    minDist = Math.min(minDist, rStep);\n  } // find the metrics for each level\n\n\n  var r = 0;\n\n  for (var _i3 = 0; _i3 < levels.length; _i3++) {\n    var level = levels[_i3];\n    var sweep = options.sweep === undefined ? 2 * Math.PI - 2 * Math.PI / level.length : options.sweep;\n    var dTheta = level.dTheta = sweep / Math.max(1, level.length - 1); // calculate the radius\n\n    if (level.length > 1 && options.avoidOverlap) {\n      // but only if more than one node (can't overlap)\n      var dcos = Math.cos(dTheta) - Math.cos(0);\n      var dsin = Math.sin(dTheta) - Math.sin(0);\n      var rMin = Math.sqrt(minDist * minDist / (dcos * dcos + dsin * dsin)); // s.t. no nodes overlapping\n\n      r = Math.max(rMin, r);\n    }\n\n    level.r = r;\n    r += minDist;\n  }\n\n  if (options.equidistant) {\n    var rDeltaMax = 0;\n    var _r = 0;\n\n    for (var _i4 = 0; _i4 < levels.length; _i4++) {\n      var _level = levels[_i4];\n      var rDelta = _level.r - _r;\n      rDeltaMax = Math.max(rDeltaMax, rDelta);\n    }\n\n    _r = 0;\n\n    for (var _i5 = 0; _i5 < levels.length; _i5++) {\n      var _level2 = levels[_i5];\n\n      if (_i5 === 0) {\n        _r = _level2.r;\n      }\n\n      _level2.r = _r;\n      _r += rDeltaMax;\n    }\n  } // calculate the node positions\n\n\n  var pos = {}; // id => position\n\n  for (var _i6 = 0; _i6 < levels.length; _i6++) {\n    var _level3 = levels[_i6];\n    var _dTheta = _level3.dTheta;\n    var _r2 = _level3.r;\n\n    for (var j = 0; j < _level3.length; j++) {\n      var _val = _level3[j];\n      var theta = options.startAngle + (clockwise ? 1 : -1) * _dTheta * j;\n      var p = {\n        x: center.x + _r2 * Math.cos(theta),\n        y: center.y + _r2 * Math.sin(theta)\n      };\n      pos[_val.node.id()] = p;\n    }\n  } // position the nodes\n\n\n  nodes.layoutPositions(this, options, function (ele) {\n    var id = ele.id();\n    return pos[id];\n  });\n  return this; // chaining\n};\n\n/*\nThe CoSE layout was written by Gerardo Huck.\nhttps://www.linkedin.com/in/gerardohuck/\n\nBased on the following article:\nhttp://dl.acm.org/citation.cfm?id=1498047\n\nModifications tracked on Github.\n*/\nvar DEBUG;\n/**\n * @brief :  default layout options\n */\n\nvar defaults$c = {\n  // Called on `layoutready`\n  ready: function ready() {},\n  // Called on `layoutstop`\n  stop: function stop() {},\n  // Whether to animate while running the layout\n  // true : Animate continuously as the layout is running\n  // false : Just show the end result\n  // 'end' : Animate with the end result, from the initial positions to the end positions\n  animate: true,\n  // Easing of the animation for animate:'end'\n  animationEasing: undefined,\n  // The duration of the animation for animate:'end'\n  animationDuration: undefined,\n  // A function that determines whether the node should be animated\n  // All nodes animated by default on animate enabled\n  // Non-animated nodes are positioned immediately when the layout starts\n  animateFilter: function animateFilter(node, i) {\n    return true;\n  },\n  // The layout animates only after this many milliseconds for animate:true\n  // (prevents flashing on fast runs)\n  animationThreshold: 250,\n  // Number of iterations between consecutive screen positions update\n  refresh: 20,\n  // Whether to fit the network view after when done\n  fit: true,\n  // Padding on fit\n  padding: 30,\n  // Constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n  boundingBox: undefined,\n  // Excludes the label when calculating node bounding boxes for the layout algorithm\n  nodeDimensionsIncludeLabels: false,\n  // Randomize the initial positions of the nodes (true) or use existing positions (false)\n  randomize: false,\n  // Extra spacing between components in non-compound graphs\n  componentSpacing: 40,\n  // Node repulsion (non overlapping) multiplier\n  nodeRepulsion: function nodeRepulsion(node) {\n    return 2048;\n  },\n  // Node repulsion (overlapping) multiplier\n  nodeOverlap: 4,\n  // Ideal edge (non nested) length\n  idealEdgeLength: function idealEdgeLength(edge) {\n    return 32;\n  },\n  // Divisor to compute edge forces\n  edgeElasticity: function edgeElasticity(edge) {\n    return 32;\n  },\n  // Nesting factor (multiplier) to compute ideal edge length for nested edges\n  nestingFactor: 1.2,\n  // Gravity force (constant)\n  gravity: 1,\n  // Maximum number of iterations to perform\n  numIter: 1000,\n  // Initial temperature (maximum node displacement)\n  initialTemp: 1000,\n  // Cooling factor (how the temperature is reduced between consecutive iterations\n  coolingFactor: 0.99,\n  // Lower temperature threshold (below this point the layout will end)\n  minTemp: 1.0\n};\n/**\n * @brief       : constructor\n * @arg options : object containing layout options\n */\n\nfunction CoseLayout(options) {\n  this.options = extend({}, defaults$c, options);\n  this.options.layout = this;\n}\n/**\n * @brief : runs the layout\n */\n\n\nCoseLayout.prototype.run = function () {\n  var options = this.options;\n  var cy = options.cy;\n  var layout = this;\n  layout.stopped = false;\n\n  if (options.animate === true || options.animate === false) {\n    layout.emit({\n      type: 'layoutstart',\n      layout: layout\n    });\n  } // Set DEBUG - Global variable\n\n\n  if (true === options.debug) {\n    DEBUG = true;\n  } else {\n    DEBUG = false;\n  } // Initialize layout info\n\n\n  var layoutInfo = createLayoutInfo(cy, layout, options); // Show LayoutInfo contents if debugging\n\n  if (DEBUG) {\n    printLayoutInfo(layoutInfo);\n  } // If required, randomize node positions\n\n\n  if (options.randomize) {\n    randomizePositions(layoutInfo);\n  }\n\n  var startTime = performanceNow();\n\n  var refresh = function refresh() {\n    refreshPositions(layoutInfo, cy, options); // Fit the graph if necessary\n\n    if (true === options.fit) {\n      cy.fit(options.padding);\n    }\n  };\n\n  var mainLoop = function mainLoop(i) {\n    if (layout.stopped || i >= options.numIter) {\n      // logDebug(\"Layout manually stopped. Stopping computation in step \" + i);\n      return false;\n    } // Do one step in the phisical simulation\n\n\n    step$1(layoutInfo, options); // Update temperature\n\n    layoutInfo.temperature = layoutInfo.temperature * options.coolingFactor; // logDebug(\"New temperature: \" + layoutInfo.temperature);\n\n    if (layoutInfo.temperature < options.minTemp) {\n      // logDebug(\"Temperature drop below minimum threshold. Stopping computation in step \" + i);\n      return false;\n    }\n\n    return true;\n  };\n\n  var done = function done() {\n    if (options.animate === true || options.animate === false) {\n      refresh(); // Layout has finished\n\n      layout.one('layoutstop', options.stop);\n      layout.emit({\n        type: 'layoutstop',\n        layout: layout\n      });\n    } else {\n      var nodes = options.eles.nodes();\n      var getScaledPos = getScaleInBoundsFn(layoutInfo, options, nodes);\n      nodes.layoutPositions(layout, options, getScaledPos);\n    }\n  };\n\n  var i = 0;\n  var loopRet = true;\n\n  if (options.animate === true) {\n    var frame = function frame() {\n      var f = 0;\n\n      while (loopRet && f < options.refresh) {\n        loopRet = mainLoop(i);\n        i++;\n        f++;\n      }\n\n      if (!loopRet) {\n        // it's done\n        separateComponents(layoutInfo, options);\n        done();\n      } else {\n        var now = performanceNow();\n\n        if (now - startTime >= options.animationThreshold) {\n          refresh();\n        }\n\n        requestAnimationFrame(frame);\n      }\n    };\n\n    frame();\n  } else {\n    while (loopRet) {\n      loopRet = mainLoop(i);\n      i++;\n    }\n\n    separateComponents(layoutInfo, options);\n    done();\n  }\n\n  return this; // chaining\n};\n/**\n * @brief : called on continuous layouts to stop them before they finish\n */\n\n\nCoseLayout.prototype.stop = function () {\n  this.stopped = true;\n\n  if (this.thread) {\n    this.thread.stop();\n  }\n\n  this.emit('layoutstop');\n  return this; // chaining\n};\n\nCoseLayout.prototype.destroy = function () {\n  if (this.thread) {\n    this.thread.stop();\n  }\n\n  return this; // chaining\n};\n/**\n * @brief     : Creates an object which is contains all the data\n *              used in the layout process\n * @arg cy    : cytoscape.js object\n * @return    : layoutInfo object initialized\n */\n\n\nvar createLayoutInfo = function createLayoutInfo(cy, layout, options) {\n  // Shortcut\n  var edges = options.eles.edges();\n  var nodes = options.eles.nodes();\n  var layoutInfo = {\n    isCompound: cy.hasCompoundNodes(),\n    layoutNodes: [],\n    idToIndex: {},\n    nodeSize: nodes.size(),\n    graphSet: [],\n    indexToGraph: [],\n    layoutEdges: [],\n    edgeSize: edges.size(),\n    temperature: options.initialTemp,\n    clientWidth: cy.width(),\n    clientHeight: cy.width(),\n    boundingBox: makeBoundingBox(options.boundingBox ? options.boundingBox : {\n      x1: 0,\n      y1: 0,\n      w: cy.width(),\n      h: cy.height()\n    })\n  };\n  var components = options.eles.components();\n  var id2cmptId = {};\n\n  for (var i = 0; i < components.length; i++) {\n    var component = components[i];\n\n    for (var j = 0; j < component.length; j++) {\n      var node = component[j];\n      id2cmptId[node.id()] = i;\n    }\n  } // Iterate over all nodes, creating layout nodes\n\n\n  for (var i = 0; i < layoutInfo.nodeSize; i++) {\n    var n = nodes[i];\n    var nbb = n.layoutDimensions(options);\n    var tempNode = {};\n    tempNode.isLocked = n.locked();\n    tempNode.id = n.data('id');\n    tempNode.parentId = n.data('parent');\n    tempNode.cmptId = id2cmptId[n.id()];\n    tempNode.children = [];\n    tempNode.positionX = n.position('x');\n    tempNode.positionY = n.position('y');\n    tempNode.offsetX = 0;\n    tempNode.offsetY = 0;\n    tempNode.height = nbb.w;\n    tempNode.width = nbb.h;\n    tempNode.maxX = tempNode.positionX + tempNode.width / 2;\n    tempNode.minX = tempNode.positionX - tempNode.width / 2;\n    tempNode.maxY = tempNode.positionY + tempNode.height / 2;\n    tempNode.minY = tempNode.positionY - tempNode.height / 2;\n    tempNode.padLeft = parseFloat(n.style('padding'));\n    tempNode.padRight = parseFloat(n.style('padding'));\n    tempNode.padTop = parseFloat(n.style('padding'));\n    tempNode.padBottom = parseFloat(n.style('padding')); // forces\n\n    tempNode.nodeRepulsion = fn(options.nodeRepulsion) ? options.nodeRepulsion(n) : options.nodeRepulsion; // Add new node\n\n    layoutInfo.layoutNodes.push(tempNode); // Add entry to id-index map\n\n    layoutInfo.idToIndex[tempNode.id] = i;\n  } // Inline implementation of a queue, used for traversing the graph in BFS order\n\n\n  var queue = [];\n  var start = 0; // Points to the start the queue\n\n  var end = -1; // Points to the end of the queue\n\n  var tempGraph = []; // Second pass to add child information and\n  // initialize queue for hierarchical traversal\n\n  for (var i = 0; i < layoutInfo.nodeSize; i++) {\n    var n = layoutInfo.layoutNodes[i];\n    var p_id = n.parentId; // Check if node n has a parent node\n\n    if (null != p_id) {\n      // Add node Id to parent's list of children\n      layoutInfo.layoutNodes[layoutInfo.idToIndex[p_id]].children.push(n.id);\n    } else {\n      // If a node doesn't have a parent, then it's in the root graph\n      queue[++end] = n.id;\n      tempGraph.push(n.id);\n    }\n  } // Add root graph to graphSet\n\n\n  layoutInfo.graphSet.push(tempGraph); // Traverse the graph, level by level,\n\n  while (start <= end) {\n    // Get the node to visit and remove it from queue\n    var node_id = queue[start++];\n    var node_ix = layoutInfo.idToIndex[node_id];\n    var node = layoutInfo.layoutNodes[node_ix];\n    var children = node.children;\n\n    if (children.length > 0) {\n      // Add children nodes as a new graph to graph set\n      layoutInfo.graphSet.push(children); // Add children to que queue to be visited\n\n      for (var i = 0; i < children.length; i++) {\n        queue[++end] = children[i];\n      }\n    }\n  } // Create indexToGraph map\n\n\n  for (var i = 0; i < layoutInfo.graphSet.length; i++) {\n    var graph = layoutInfo.graphSet[i];\n\n    for (var j = 0; j < graph.length; j++) {\n      var index = layoutInfo.idToIndex[graph[j]];\n      layoutInfo.indexToGraph[index] = i;\n    }\n  } // Iterate over all edges, creating Layout Edges\n\n\n  for (var i = 0; i < layoutInfo.edgeSize; i++) {\n    var e = edges[i];\n    var tempEdge = {};\n    tempEdge.id = e.data('id');\n    tempEdge.sourceId = e.data('source');\n    tempEdge.targetId = e.data('target'); // Compute ideal length\n\n    var idealLength = fn(options.idealEdgeLength) ? options.idealEdgeLength(e) : options.idealEdgeLength;\n    var elasticity = fn(options.edgeElasticity) ? options.edgeElasticity(e) : options.edgeElasticity; // Check if it's an inter graph edge\n\n    var sourceIx = layoutInfo.idToIndex[tempEdge.sourceId];\n    var targetIx = layoutInfo.idToIndex[tempEdge.targetId];\n    var sourceGraph = layoutInfo.indexToGraph[sourceIx];\n    var targetGraph = layoutInfo.indexToGraph[targetIx];\n\n    if (sourceGraph != targetGraph) {\n      // Find lowest common graph ancestor\n      var lca = findLCA(tempEdge.sourceId, tempEdge.targetId, layoutInfo); // Compute sum of node depths, relative to lca graph\n\n      var lcaGraph = layoutInfo.graphSet[lca];\n      var depth = 0; // Source depth\n\n      var tempNode = layoutInfo.layoutNodes[sourceIx];\n\n      while (-1 === lcaGraph.indexOf(tempNode.id)) {\n        tempNode = layoutInfo.layoutNodes[layoutInfo.idToIndex[tempNode.parentId]];\n        depth++;\n      } // Target depth\n\n\n      tempNode = layoutInfo.layoutNodes[targetIx];\n\n      while (-1 === lcaGraph.indexOf(tempNode.id)) {\n        tempNode = layoutInfo.layoutNodes[layoutInfo.idToIndex[tempNode.parentId]];\n        depth++;\n      } // logDebug('LCA of nodes ' + tempEdge.sourceId + ' and ' + tempEdge.targetId +\n      //  \". Index: \" + lca + \" Contents: \" + lcaGraph.toString() +\n      //  \". Depth: \" + depth);\n      // Update idealLength\n\n\n      idealLength *= depth * options.nestingFactor;\n    }\n\n    tempEdge.idealLength = idealLength;\n    tempEdge.elasticity = elasticity;\n    layoutInfo.layoutEdges.push(tempEdge);\n  } // Finally, return layoutInfo object\n\n\n  return layoutInfo;\n};\n/**\n * @brief : This function finds the index of the lowest common\n *          graph ancestor between 2 nodes in the subtree\n *          (from the graph hierarchy induced tree) whose\n *          root is graphIx\n *\n * @arg node1: node1's ID\n * @arg node2: node2's ID\n * @arg layoutInfo: layoutInfo object\n *\n */\n\n\nvar findLCA = function findLCA(node1, node2, layoutInfo) {\n  // Find their common ancester, starting from the root graph\n  var res = findLCA_aux(node1, node2, 0, layoutInfo);\n\n  if (2 > res.count) {\n    // If aux function couldn't find the common ancester,\n    // then it is the root graph\n    return 0;\n  } else {\n    return res.graph;\n  }\n};\n/**\n * @brief          : Auxiliary function used for LCA computation\n *\n * @arg node1      : node1's ID\n * @arg node2      : node2's ID\n * @arg graphIx    : subgraph index\n * @arg layoutInfo : layoutInfo object\n *\n * @return         : object of the form {count: X, graph: Y}, where:\n *                   X is the number of ancesters (max: 2) found in\n *                   graphIx (and it's subgraphs),\n *                   Y is the graph index of the lowest graph containing\n *                   all X nodes\n */\n\n\nvar findLCA_aux = function findLCA_aux(node1, node2, graphIx, layoutInfo) {\n  var graph = layoutInfo.graphSet[graphIx]; // If both nodes belongs to graphIx\n\n  if (-1 < graph.indexOf(node1) && -1 < graph.indexOf(node2)) {\n    return {\n      count: 2,\n      graph: graphIx\n    };\n  } // Make recursive calls for all subgraphs\n\n\n  var c = 0;\n\n  for (var i = 0; i < graph.length; i++) {\n    var nodeId = graph[i];\n    var nodeIx = layoutInfo.idToIndex[nodeId];\n    var children = layoutInfo.layoutNodes[nodeIx].children; // If the node has no child, skip it\n\n    if (0 === children.length) {\n      continue;\n    }\n\n    var childGraphIx = layoutInfo.indexToGraph[layoutInfo.idToIndex[children[0]]];\n    var result = findLCA_aux(node1, node2, childGraphIx, layoutInfo);\n\n    if (0 === result.count) {\n      // Neither node1 nor node2 are present in this subgraph\n      continue;\n    } else if (1 === result.count) {\n      // One of (node1, node2) is present in this subgraph\n      c++;\n\n      if (2 === c) {\n        // We've already found both nodes, no need to keep searching\n        break;\n      }\n    } else {\n      // Both nodes are present in this subgraph\n      return result;\n    }\n  }\n\n  return {\n    count: c,\n    graph: graphIx\n  };\n};\n/**\n * @brief: printsLayoutInfo into js console\n *         Only used for debbuging\n */\n\n\nif (false) {\n  var printLayoutInfo;\n}\n/**\n * @brief : Randomizes the position of all nodes\n */\n\n\nvar randomizePositions = function randomizePositions(layoutInfo, cy) {\n  var width = layoutInfo.clientWidth;\n  var height = layoutInfo.clientHeight;\n\n  for (var i = 0; i < layoutInfo.nodeSize; i++) {\n    var n = layoutInfo.layoutNodes[i]; // No need to randomize compound nodes or locked nodes\n\n    if (0 === n.children.length && !n.isLocked) {\n      n.positionX = Math.random() * width;\n      n.positionY = Math.random() * height;\n    }\n  }\n};\n\nvar getScaleInBoundsFn = function getScaleInBoundsFn(layoutInfo, options, nodes) {\n  var bb = layoutInfo.boundingBox;\n  var coseBB = {\n    x1: Infinity,\n    x2: -Infinity,\n    y1: Infinity,\n    y2: -Infinity\n  };\n\n  if (options.boundingBox) {\n    nodes.forEach(function (node) {\n      var lnode = layoutInfo.layoutNodes[layoutInfo.idToIndex[node.data('id')]];\n      coseBB.x1 = Math.min(coseBB.x1, lnode.positionX);\n      coseBB.x2 = Math.max(coseBB.x2, lnode.positionX);\n      coseBB.y1 = Math.min(coseBB.y1, lnode.positionY);\n      coseBB.y2 = Math.max(coseBB.y2, lnode.positionY);\n    });\n    coseBB.w = coseBB.x2 - coseBB.x1;\n    coseBB.h = coseBB.y2 - coseBB.y1;\n  }\n\n  return function (ele, i) {\n    var lnode = layoutInfo.layoutNodes[layoutInfo.idToIndex[ele.data('id')]];\n\n    if (options.boundingBox) {\n      // then add extra bounding box constraint\n      var pctX = (lnode.positionX - coseBB.x1) / coseBB.w;\n      var pctY = (lnode.positionY - coseBB.y1) / coseBB.h;\n      return {\n        x: bb.x1 + pctX * bb.w,\n        y: bb.y1 + pctY * bb.h\n      };\n    } else {\n      return {\n        x: lnode.positionX,\n        y: lnode.positionY\n      };\n    }\n  };\n};\n/**\n * @brief          : Updates the positions of nodes in the network\n * @arg layoutInfo : LayoutInfo object\n * @arg cy         : Cytoscape object\n * @arg options    : Layout options\n */\n\n\nvar refreshPositions = function refreshPositions(layoutInfo, cy, options) {\n  // var s = 'Refreshing positions';\n  // logDebug(s);\n  var layout = options.layout;\n  var nodes = options.eles.nodes();\n  var getScaledPos = getScaleInBoundsFn(layoutInfo, options, nodes);\n  nodes.positions(getScaledPos); // Trigger layoutReady only on first call\n\n  if (true !== layoutInfo.ready) {\n    // s = 'Triggering layoutready';\n    // logDebug(s);\n    layoutInfo.ready = true;\n    layout.one('layoutready', options.ready);\n    layout.emit({\n      type: 'layoutready',\n      layout: this\n    });\n  }\n};\n/**\n * @brief : Logs a debug message in JS console, if DEBUG is ON\n */\n// var logDebug = function(text) {\n//   if (DEBUG) {\n//     console.debug(text);\n//   }\n// };\n\n/**\n * @brief          : Performs one iteration of the physical simulation\n * @arg layoutInfo : LayoutInfo object already initialized\n * @arg cy         : Cytoscape object\n * @arg options    : Layout options\n */\n\n\nvar step$1 = function step(layoutInfo, options, _step) {\n  // var s = \"\\n\\n###############################\";\n  // s += \"\\nSTEP: \" + step;\n  // s += \"\\n###############################\\n\";\n  // logDebug(s);\n  // Calculate node repulsions\n  calculateNodeForces(layoutInfo, options); // Calculate edge forces\n\n  calculateEdgeForces(layoutInfo); // Calculate gravity forces\n\n  calculateGravityForces(layoutInfo, options); // Propagate forces from parent to child\n\n  propagateForces(layoutInfo); // Update positions based on calculated forces\n\n  updatePositions(layoutInfo);\n};\n/**\n * @brief : Computes the node repulsion forces\n */\n\n\nvar calculateNodeForces = function calculateNodeForces(layoutInfo, options) {\n  // Go through each of the graphs in graphSet\n  // Nodes only repel each other if they belong to the same graph\n  // var s = 'calculateNodeForces';\n  // logDebug(s);\n  for (var i = 0; i < layoutInfo.graphSet.length; i++) {\n    var graph = layoutInfo.graphSet[i];\n    var numNodes = graph.length; // s = \"Set: \" + graph.toString();\n    // logDebug(s);\n    // Now get all the pairs of nodes\n    // Only get each pair once, (A, B) = (B, A)\n\n    for (var j = 0; j < numNodes; j++) {\n      var node1 = layoutInfo.layoutNodes[layoutInfo.idToIndex[graph[j]]];\n\n      for (var k = j + 1; k < numNodes; k++) {\n        var node2 = layoutInfo.layoutNodes[layoutInfo.idToIndex[graph[k]]];\n        nodeRepulsion(node1, node2, layoutInfo, options);\n      }\n    }\n  }\n};\n\nvar randomDistance = function randomDistance(max) {\n  return -max + 2 * max * Math.random();\n};\n/**\n * @brief : Compute the node repulsion forces between a pair of nodes\n */\n\n\nvar nodeRepulsion = function nodeRepulsion(node1, node2, layoutInfo, options) {\n  // var s = \"Node repulsion. Node1: \" + node1.id + \" Node2: \" + node2.id;\n  var cmptId1 = node1.cmptId;\n  var cmptId2 = node2.cmptId;\n\n  if (cmptId1 !== cmptId2 && !layoutInfo.isCompound) {\n    return;\n  } // Get direction of line connecting both node centers\n\n\n  var directionX = node2.positionX - node1.positionX;\n  var directionY = node2.positionY - node1.positionY;\n  var maxRandDist = 1; // s += \"\\ndirectionX: \" + directionX + \", directionY: \" + directionY;\n  // If both centers are the same, apply a random force\n\n  if (0 === directionX && 0 === directionY) {\n    directionX = randomDistance(maxRandDist);\n    directionY = randomDistance(maxRandDist);\n  }\n\n  var overlap = nodesOverlap(node1, node2, directionX, directionY);\n\n  if (overlap > 0) {\n    // s += \"\\nNodes DO overlap.\";\n    // s += \"\\nOverlap: \" + overlap;\n    // If nodes overlap, repulsion force is proportional\n    // to the overlap\n    var force = options.nodeOverlap * overlap; // Compute the module and components of the force vector\n\n    var distance = Math.sqrt(directionX * directionX + directionY * directionY); // s += \"\\nDistance: \" + distance;\n\n    var forceX = force * directionX / distance;\n    var forceY = force * directionY / distance;\n  } else {\n    // s += \"\\nNodes do NOT overlap.\";\n    // If there's no overlap, force is inversely proportional\n    // to squared distance\n    // Get clipping points for both nodes\n    var point1 = findClippingPoint(node1, directionX, directionY);\n    var point2 = findClippingPoint(node2, -1 * directionX, -1 * directionY); // Use clipping points to compute distance\n\n    var distanceX = point2.x - point1.x;\n    var distanceY = point2.y - point1.y;\n    var distanceSqr = distanceX * distanceX + distanceY * distanceY;\n    var distance = Math.sqrt(distanceSqr); // s += \"\\nDistance: \" + distance;\n    // Compute the module and components of the force vector\n\n    var force = (node1.nodeRepulsion + node2.nodeRepulsion) / distanceSqr;\n    var forceX = force * distanceX / distance;\n    var forceY = force * distanceY / distance;\n  } // Apply force\n\n\n  if (!node1.isLocked) {\n    node1.offsetX -= forceX;\n    node1.offsetY -= forceY;\n  }\n\n  if (!node2.isLocked) {\n    node2.offsetX += forceX;\n    node2.offsetY += forceY;\n  } // s += \"\\nForceX: \" + forceX + \" ForceY: \" + forceY;\n  // logDebug(s);\n\n\n  return;\n};\n/**\n * @brief  : Determines whether two nodes overlap or not\n * @return : Amount of overlapping (0 => no overlap)\n */\n\n\nvar nodesOverlap = function nodesOverlap(node1, node2, dX, dY) {\n  if (dX > 0) {\n    var overlapX = node1.maxX - node2.minX;\n  } else {\n    var overlapX = node2.maxX - node1.minX;\n  }\n\n  if (dY > 0) {\n    var overlapY = node1.maxY - node2.minY;\n  } else {\n    var overlapY = node2.maxY - node1.minY;\n  }\n\n  if (overlapX >= 0 && overlapY >= 0) {\n    return Math.sqrt(overlapX * overlapX + overlapY * overlapY);\n  } else {\n    return 0;\n  }\n};\n/**\n * @brief : Finds the point in which an edge (direction dX, dY) intersects\n *          the rectangular bounding box of it's source/target node\n */\n\n\nvar findClippingPoint = function findClippingPoint(node, dX, dY) {\n  // Shorcuts\n  var X = node.positionX;\n  var Y = node.positionY;\n  var H = node.height || 1;\n  var W = node.width || 1;\n  var dirSlope = dY / dX;\n  var nodeSlope = H / W; // var s = 'Computing clipping point of node ' + node.id +\n  //   \" . Height:  \" + H + \", Width: \" + W +\n  //   \"\\nDirection \" + dX + \", \" + dY;\n  //\n  // Compute intersection\n\n  var res = {}; // Case: Vertical direction (up)\n\n  if (0 === dX && 0 < dY) {\n    res.x = X; // s += \"\\nUp direction\";\n\n    res.y = Y + H / 2;\n    return res;\n  } // Case: Vertical direction (down)\n\n\n  if (0 === dX && 0 > dY) {\n    res.x = X;\n    res.y = Y + H / 2; // s += \"\\nDown direction\";\n\n    return res;\n  } // Case: Intersects the right border\n\n\n  if (0 < dX && -1 * nodeSlope <= dirSlope && dirSlope <= nodeSlope) {\n    res.x = X + W / 2;\n    res.y = Y + W * dY / 2 / dX; // s += \"\\nRightborder\";\n\n    return res;\n  } // Case: Intersects the left border\n\n\n  if (0 > dX && -1 * nodeSlope <= dirSlope && dirSlope <= nodeSlope) {\n    res.x = X - W / 2;\n    res.y = Y - W * dY / 2 / dX; // s += \"\\nLeftborder\";\n\n    return res;\n  } // Case: Intersects the top border\n\n\n  if (0 < dY && (dirSlope <= -1 * nodeSlope || dirSlope >= nodeSlope)) {\n    res.x = X + H * dX / 2 / dY;\n    res.y = Y + H / 2; // s += \"\\nTop border\";\n\n    return res;\n  } // Case: Intersects the bottom border\n\n\n  if (0 > dY && (dirSlope <= -1 * nodeSlope || dirSlope >= nodeSlope)) {\n    res.x = X - H * dX / 2 / dY;\n    res.y = Y - H / 2; // s += \"\\nBottom border\";\n\n    return res;\n  } // s += \"\\nClipping point found at \" + res.x + \", \" + res.y;\n  // logDebug(s);\n\n\n  return res;\n};\n/**\n * @brief : Calculates all edge forces\n */\n\n\nvar calculateEdgeForces = function calculateEdgeForces(layoutInfo, options) {\n  // Iterate over all edges\n  for (var i = 0; i < layoutInfo.edgeSize; i++) {\n    // Get edge, source & target nodes\n    var edge = layoutInfo.layoutEdges[i];\n    var sourceIx = layoutInfo.idToIndex[edge.sourceId];\n    var source = layoutInfo.layoutNodes[sourceIx];\n    var targetIx = layoutInfo.idToIndex[edge.targetId];\n    var target = layoutInfo.layoutNodes[targetIx]; // Get direction of line connecting both node centers\n\n    var directionX = target.positionX - source.positionX;\n    var directionY = target.positionY - source.positionY; // If both centers are the same, do nothing.\n    // A random force has already been applied as node repulsion\n\n    if (0 === directionX && 0 === directionY) {\n      continue;\n    } // Get clipping points for both nodes\n\n\n    var point1 = findClippingPoint(source, directionX, directionY);\n    var point2 = findClippingPoint(target, -1 * directionX, -1 * directionY);\n    var lx = point2.x - point1.x;\n    var ly = point2.y - point1.y;\n    var l = Math.sqrt(lx * lx + ly * ly);\n    var force = Math.pow(edge.idealLength - l, 2) / edge.elasticity;\n\n    if (0 !== l) {\n      var forceX = force * lx / l;\n      var forceY = force * ly / l;\n    } else {\n      var forceX = 0;\n      var forceY = 0;\n    } // Add this force to target and source nodes\n\n\n    if (!source.isLocked) {\n      source.offsetX += forceX;\n      source.offsetY += forceY;\n    }\n\n    if (!target.isLocked) {\n      target.offsetX -= forceX;\n      target.offsetY -= forceY;\n    } // var s = 'Edge force between nodes ' + source.id + ' and ' + target.id;\n    // s += \"\\nDistance: \" + l + \" Force: (\" + forceX + \", \" + forceY + \")\";\n    // logDebug(s);\n\n  }\n};\n/**\n * @brief : Computes gravity forces for all nodes\n */\n\n\nvar calculateGravityForces = function calculateGravityForces(layoutInfo, options) {\n  var distThreshold = 1; // var s = 'calculateGravityForces';\n  // logDebug(s);\n\n  for (var i = 0; i < layoutInfo.graphSet.length; i++) {\n    var graph = layoutInfo.graphSet[i];\n    var numNodes = graph.length; // s = \"Set: \" + graph.toString();\n    // logDebug(s);\n    // Compute graph center\n\n    if (0 === i) {\n      var centerX = layoutInfo.clientHeight / 2;\n      var centerY = layoutInfo.clientWidth / 2;\n    } else {\n      // Get Parent node for this graph, and use its position as center\n      var temp = layoutInfo.layoutNodes[layoutInfo.idToIndex[graph[0]]];\n      var parent = layoutInfo.layoutNodes[layoutInfo.idToIndex[temp.parentId]];\n      var centerX = parent.positionX;\n      var centerY = parent.positionY;\n    } // s = \"Center found at: \" + centerX + \", \" + centerY;\n    // logDebug(s);\n    // Apply force to all nodes in graph\n\n\n    for (var j = 0; j < numNodes; j++) {\n      var node = layoutInfo.layoutNodes[layoutInfo.idToIndex[graph[j]]]; // s = \"Node: \" + node.id;\n\n      if (node.isLocked) {\n        continue;\n      }\n\n      var dx = centerX - node.positionX;\n      var dy = centerY - node.positionY;\n      var d = Math.sqrt(dx * dx + dy * dy);\n\n      if (d > distThreshold) {\n        var fx = options.gravity * dx / d;\n        var fy = options.gravity * dy / d;\n        node.offsetX += fx;\n        node.offsetY += fy; // s += \": Applied force: \" + fx + \", \" + fy;\n      } // s += \": skypped since it's too close to center\";\n        // logDebug(s);\n\n    }\n  }\n};\n/**\n * @brief          : This function propagates the existing offsets from\n *                   parent nodes to its descendents.\n * @arg layoutInfo : layoutInfo Object\n * @arg cy         : cytoscape Object\n * @arg options    : Layout options\n */\n\n\nvar propagateForces = function propagateForces(layoutInfo, options) {\n  // Inline implementation of a queue, used for traversing the graph in BFS order\n  var queue = [];\n  var start = 0; // Points to the start the queue\n\n  var end = -1; // Points to the end of the queue\n  // logDebug('propagateForces');\n  // Start by visiting the nodes in the root graph\n\n  queue.push.apply(queue, layoutInfo.graphSet[0]);\n  end += layoutInfo.graphSet[0].length; // Traverse the graph, level by level,\n\n  while (start <= end) {\n    // Get the node to visit and remove it from queue\n    var nodeId = queue[start++];\n    var nodeIndex = layoutInfo.idToIndex[nodeId];\n    var node = layoutInfo.layoutNodes[nodeIndex];\n    var children = node.children; // We only need to process the node if it's compound\n\n    if (0 < children.length && !node.isLocked) {\n      var offX = node.offsetX;\n      var offY = node.offsetY; // var s = \"Propagating offset from parent node : \" + node.id +\n      //   \". OffsetX: \" + offX + \". OffsetY: \" + offY;\n      // s += \"\\n Children: \" + children.toString();\n      // logDebug(s);\n\n      for (var i = 0; i < children.length; i++) {\n        var childNode = layoutInfo.layoutNodes[layoutInfo.idToIndex[children[i]]]; // Propagate offset\n\n        childNode.offsetX += offX;\n        childNode.offsetY += offY; // Add children to queue to be visited\n\n        queue[++end] = children[i];\n      } // Reset parent offsets\n\n\n      node.offsetX = 0;\n      node.offsetY = 0;\n    }\n  }\n};\n/**\n * @brief : Updates the layout model positions, based on\n *          the accumulated forces\n */\n\n\nvar updatePositions = function updatePositions(layoutInfo, options) {\n  // var s = 'Updating positions';\n  // logDebug(s);\n  // Reset boundaries for compound nodes\n  for (var i = 0; i < layoutInfo.nodeSize; i++) {\n    var n = layoutInfo.layoutNodes[i];\n\n    if (0 < n.children.length) {\n      // logDebug(\"Resetting boundaries of compound node: \" + n.id);\n      n.maxX = undefined;\n      n.minX = undefined;\n      n.maxY = undefined;\n      n.minY = undefined;\n    }\n  }\n\n  for (var i = 0; i < layoutInfo.nodeSize; i++) {\n    var n = layoutInfo.layoutNodes[i];\n\n    if (0 < n.children.length || n.isLocked) {\n      // No need to set compound or locked node position\n      // logDebug(\"Skipping position update of node: \" + n.id);\n      continue;\n    } // s = \"Node: \" + n.id + \" Previous position: (\" +\n    // n.positionX + \", \" + n.positionY + \").\";\n    // Limit displacement in order to improve stability\n\n\n    var tempForce = limitForce(n.offsetX, n.offsetY, layoutInfo.temperature);\n    n.positionX += tempForce.x;\n    n.positionY += tempForce.y;\n    n.offsetX = 0;\n    n.offsetY = 0;\n    n.minX = n.positionX - n.width;\n    n.maxX = n.positionX + n.width;\n    n.minY = n.positionY - n.height;\n    n.maxY = n.positionY + n.height; // s += \" New Position: (\" + n.positionX + \", \" + n.positionY + \").\";\n    // logDebug(s);\n    // Update ancestry boudaries\n\n    updateAncestryBoundaries(n, layoutInfo);\n  } // Update size, position of compund nodes\n\n\n  for (var i = 0; i < layoutInfo.nodeSize; i++) {\n    var n = layoutInfo.layoutNodes[i];\n\n    if (0 < n.children.length && !n.isLocked) {\n      n.positionX = (n.maxX + n.minX) / 2;\n      n.positionY = (n.maxY + n.minY) / 2;\n      n.width = n.maxX - n.minX;\n      n.height = n.maxY - n.minY; // s = \"Updating position, size of compound node \" + n.id;\n      // s += \"\\nPositionX: \" + n.positionX + \", PositionY: \" + n.positionY;\n      // s += \"\\nWidth: \" + n.width + \", Height: \" + n.height;\n      // logDebug(s);\n    }\n  }\n};\n/**\n * @brief : Limits a force (forceX, forceY) to be not\n *          greater (in modulo) than max.\n 8          Preserves force direction.\n  */\n\n\nvar limitForce = function limitForce(forceX, forceY, max) {\n  // var s = \"Limiting force: (\" + forceX + \", \" + forceY + \"). Max: \" + max;\n  var force = Math.sqrt(forceX * forceX + forceY * forceY);\n\n  if (force > max) {\n    var res = {\n      x: max * forceX / force,\n      y: max * forceY / force\n    };\n  } else {\n    var res = {\n      x: forceX,\n      y: forceY\n    };\n  } // s += \".\\nResult: (\" + res.x + \", \" + res.y + \")\";\n  // logDebug(s);\n\n\n  return res;\n};\n/**\n * @brief : Function used for keeping track of compound node\n *          sizes, since they should bound all their subnodes.\n */\n\n\nvar updateAncestryBoundaries = function updateAncestryBoundaries(node, layoutInfo) {\n  // var s = \"Propagating new position/size of node \" + node.id;\n  var parentId = node.parentId;\n\n  if (null == parentId) {\n    // If there's no parent, we are done\n    // s += \". No parent node.\";\n    // logDebug(s);\n    return;\n  } // Get Parent Node\n\n\n  var p = layoutInfo.layoutNodes[layoutInfo.idToIndex[parentId]];\n  var flag = false; // MaxX\n\n  if (null == p.maxX || node.maxX + p.padRight > p.maxX) {\n    p.maxX = node.maxX + p.padRight;\n    flag = true; // s += \"\\nNew maxX for parent node \" + p.id + \": \" + p.maxX;\n  } // MinX\n\n\n  if (null == p.minX || node.minX - p.padLeft < p.minX) {\n    p.minX = node.minX - p.padLeft;\n    flag = true; // s += \"\\nNew minX for parent node \" + p.id + \": \" + p.minX;\n  } // MaxY\n\n\n  if (null == p.maxY || node.maxY + p.padBottom > p.maxY) {\n    p.maxY = node.maxY + p.padBottom;\n    flag = true; // s += \"\\nNew maxY for parent node \" + p.id + \": \" + p.maxY;\n  } // MinY\n\n\n  if (null == p.minY || node.minY - p.padTop < p.minY) {\n    p.minY = node.minY - p.padTop;\n    flag = true; // s += \"\\nNew minY for parent node \" + p.id + \": \" + p.minY;\n  } // If updated boundaries, propagate changes upward\n\n\n  if (flag) {\n    // logDebug(s);\n    return updateAncestryBoundaries(p, layoutInfo);\n  } // s += \". No changes in boundaries/position of parent node \" + p.id;\n  // logDebug(s);\n\n\n  return;\n};\n\nvar separateComponents = function separateComponents(layoutInfo, options) {\n  var nodes = layoutInfo.layoutNodes;\n  var components = [];\n\n  for (var i = 0; i < nodes.length; i++) {\n    var node = nodes[i];\n    var cid = node.cmptId;\n    var component = components[cid] = components[cid] || [];\n    component.push(node);\n  }\n\n  var totalA = 0;\n\n  for (var i = 0; i < components.length; i++) {\n    var c = components[i];\n\n    if (!c) {\n      continue;\n    }\n\n    c.x1 = Infinity;\n    c.x2 = -Infinity;\n    c.y1 = Infinity;\n    c.y2 = -Infinity;\n\n    for (var j = 0; j < c.length; j++) {\n      var n = c[j];\n      c.x1 = Math.min(c.x1, n.positionX - n.width / 2);\n      c.x2 = Math.max(c.x2, n.positionX + n.width / 2);\n      c.y1 = Math.min(c.y1, n.positionY - n.height / 2);\n      c.y2 = Math.max(c.y2, n.positionY + n.height / 2);\n    }\n\n    c.w = c.x2 - c.x1;\n    c.h = c.y2 - c.y1;\n    totalA += c.w * c.h;\n  }\n\n  components.sort(function (c1, c2) {\n    return c2.w * c2.h - c1.w * c1.h;\n  });\n  var x = 0;\n  var y = 0;\n  var usedW = 0;\n  var rowH = 0;\n  var maxRowW = Math.sqrt(totalA) * layoutInfo.clientWidth / layoutInfo.clientHeight;\n\n  for (var i = 0; i < components.length; i++) {\n    var c = components[i];\n\n    if (!c) {\n      continue;\n    }\n\n    for (var j = 0; j < c.length; j++) {\n      var n = c[j];\n\n      if (!n.isLocked) {\n        n.positionX += x - c.x1;\n        n.positionY += y - c.y1;\n      }\n    }\n\n    x += c.w + options.componentSpacing;\n    usedW += c.w + options.componentSpacing;\n    rowH = Math.max(rowH, c.h);\n\n    if (usedW > maxRowW) {\n      y += rowH + options.componentSpacing;\n      x = 0;\n      usedW = 0;\n      rowH = 0;\n    }\n  }\n};\n\nvar defaults$d = {\n  fit: true,\n  // whether to fit the viewport to the graph\n  padding: 30,\n  // padding used on fit\n  boundingBox: undefined,\n  // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n  avoidOverlap: true,\n  // prevents node overlap, may overflow boundingBox if not enough space\n  avoidOverlapPadding: 10,\n  // extra spacing around nodes when avoidOverlap: true\n  nodeDimensionsIncludeLabels: false,\n  // Excludes the label when calculating node bounding boxes for the layout algorithm\n  spacingFactor: undefined,\n  // Applies a multiplicative factor (>0) to expand or compress the overall area that the nodes take up\n  condense: false,\n  // uses all available space on false, uses minimal space on true\n  rows: undefined,\n  // force num of rows in the grid\n  cols: undefined,\n  // force num of columns in the grid\n  position: function position(node) {},\n  // returns { row, col } for element\n  sort: undefined,\n  // a sorting function to order the nodes; e.g. function(a, b){ return a.data('weight') - b.data('weight') }\n  animate: false,\n  // whether to transition the node positions\n  animationDuration: 500,\n  // duration of animation in ms if enabled\n  animationEasing: undefined,\n  // easing of animation if enabled\n  animateFilter: function animateFilter(node, i) {\n    return true;\n  },\n  // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n  ready: undefined,\n  // callback on layoutready\n  stop: undefined,\n  // callback on layoutstop\n  transform: function transform(node, position) {\n    return position;\n  } // transform a given node position. Useful for changing flow direction in discrete layouts \n\n};\n\nfunction GridLayout(options) {\n  this.options = extend({}, defaults$d, options);\n}\n\nGridLayout.prototype.run = function () {\n  var params = this.options;\n  var options = params;\n  var cy = params.cy;\n  var eles = options.eles;\n  var nodes = eles.nodes().not(':parent');\n\n  if (options.sort) {\n    nodes = nodes.sort(options.sort);\n  }\n\n  var bb = makeBoundingBox(options.boundingBox ? options.boundingBox : {\n    x1: 0,\n    y1: 0,\n    w: cy.width(),\n    h: cy.height()\n  });\n\n  if (bb.h === 0 || bb.w === 0) {\n    nodes.layoutPositions(this, options, function (ele) {\n      return {\n        x: bb.x1,\n        y: bb.y1\n      };\n    });\n  } else {\n    // width/height * splits^2 = cells where splits is number of times to split width\n    var cells = nodes.size();\n    var splits = Math.sqrt(cells * bb.h / bb.w);\n    var rows = Math.round(splits);\n    var cols = Math.round(bb.w / bb.h * splits);\n\n    var small = function small(val) {\n      if (val == null) {\n        return Math.min(rows, cols);\n      } else {\n        var min = Math.min(rows, cols);\n\n        if (min == rows) {\n          rows = val;\n        } else {\n          cols = val;\n        }\n      }\n    };\n\n    var large = function large(val) {\n      if (val == null) {\n        return Math.max(rows, cols);\n      } else {\n        var max = Math.max(rows, cols);\n\n        if (max == rows) {\n          rows = val;\n        } else {\n          cols = val;\n        }\n      }\n    };\n\n    var oRows = options.rows;\n    var oCols = options.cols != null ? options.cols : options.columns; // if rows or columns were set in options, use those values\n\n    if (oRows != null && oCols != null) {\n      rows = oRows;\n      cols = oCols;\n    } else if (oRows != null && oCols == null) {\n      rows = oRows;\n      cols = Math.ceil(cells / rows);\n    } else if (oRows == null && oCols != null) {\n      cols = oCols;\n      rows = Math.ceil(cells / cols);\n    } // otherwise use the automatic values and adjust accordingly\n    // if rounding was up, see if we can reduce rows or columns\n    else if (cols * rows > cells) {\n        var sm = small();\n        var lg = large(); // reducing the small side takes away the most cells, so try it first\n\n        if ((sm - 1) * lg >= cells) {\n          small(sm - 1);\n        } else if ((lg - 1) * sm >= cells) {\n          large(lg - 1);\n        }\n      } else {\n        // if rounding was too low, add rows or columns\n        while (cols * rows < cells) {\n          var _sm = small();\n\n          var _lg = large(); // try to add to larger side first (adds less in multiplication)\n\n\n          if ((_lg + 1) * _sm >= cells) {\n            large(_lg + 1);\n          } else {\n            small(_sm + 1);\n          }\n        }\n      }\n\n    var cellWidth = bb.w / cols;\n    var cellHeight = bb.h / rows;\n\n    if (options.condense) {\n      cellWidth = 0;\n      cellHeight = 0;\n    }\n\n    if (options.avoidOverlap) {\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var pos = node._private.position;\n\n        if (pos.x == null || pos.y == null) {\n          // for bb\n          pos.x = 0;\n          pos.y = 0;\n        }\n\n        var nbb = node.layoutDimensions(options);\n        var p = options.avoidOverlapPadding;\n        var w = nbb.w + p;\n        var h = nbb.h + p;\n        cellWidth = Math.max(cellWidth, w);\n        cellHeight = Math.max(cellHeight, h);\n      }\n    }\n\n    var cellUsed = {}; // e.g. 'c-0-2' => true\n\n    var used = function used(row, col) {\n      return cellUsed['c-' + row + '-' + col] ? true : false;\n    };\n\n    var use = function use(row, col) {\n      cellUsed['c-' + row + '-' + col] = true;\n    }; // to keep track of current cell position\n\n\n    var row = 0;\n    var col = 0;\n\n    var moveToNextCell = function moveToNextCell() {\n      col++;\n\n      if (col >= cols) {\n        col = 0;\n        row++;\n      }\n    }; // get a cache of all the manual positions\n\n\n    var id2manPos = {};\n\n    for (var _i = 0; _i < nodes.length; _i++) {\n      var _node = nodes[_i];\n      var rcPos = options.position(_node);\n\n      if (rcPos && (rcPos.row !== undefined || rcPos.col !== undefined)) {\n        // must have at least row or col def'd\n        var _pos = {\n          row: rcPos.row,\n          col: rcPos.col\n        };\n\n        if (_pos.col === undefined) {\n          // find unused col\n          _pos.col = 0;\n\n          while (used(_pos.row, _pos.col)) {\n            _pos.col++;\n          }\n        } else if (_pos.row === undefined) {\n          // find unused row\n          _pos.row = 0;\n\n          while (used(_pos.row, _pos.col)) {\n            _pos.row++;\n          }\n        }\n\n        id2manPos[_node.id()] = _pos;\n        use(_pos.row, _pos.col);\n      }\n    }\n\n    var getPos = function getPos(element, i) {\n      var x, y;\n\n      if (element.locked() || element.isParent()) {\n        return false;\n      } // see if we have a manual position set\n\n\n      var rcPos = id2manPos[element.id()];\n\n      if (rcPos) {\n        x = rcPos.col * cellWidth + cellWidth / 2 + bb.x1;\n        y = rcPos.row * cellHeight + cellHeight / 2 + bb.y1;\n      } else {\n        // otherwise set automatically\n        while (used(row, col)) {\n          moveToNextCell();\n        }\n\n        x = col * cellWidth + cellWidth / 2 + bb.x1;\n        y = row * cellHeight + cellHeight / 2 + bb.y1;\n        use(row, col);\n        moveToNextCell();\n      }\n\n      return {\n        x: x,\n        y: y\n      };\n    };\n\n    nodes.layoutPositions(this, options, getPos);\n  }\n\n  return this; // chaining\n};\n\nvar defaults$e = {\n  ready: function ready() {},\n  // on layoutready\n  stop: function stop() {} // on layoutstop\n\n}; // constructor\n// options : object containing layout options\n\nfunction NullLayout(options) {\n  this.options = extend({}, defaults$e, options);\n} // runs the layout\n\n\nNullLayout.prototype.run = function () {\n  var options = this.options;\n  var eles = options.eles; // elements to consider in the layout\n\n  var layout = this; // cy is automatically populated for us in the constructor\n  // (disable eslint for next line as this serves as example layout code to external developers)\n  // eslint-disable-next-line no-unused-vars\n\n  var cy = options.cy;\n  layout.emit('layoutstart'); // puts all nodes at (0, 0)\n  // n.b. most layouts would use layoutPositions(), instead of positions() and manual events\n\n  eles.nodes().positions(function () {\n    return {\n      x: 0,\n      y: 0\n    };\n  }); // trigger layoutready when each node has had its position set at least once\n\n  layout.one('layoutready', options.ready);\n  layout.emit('layoutready'); // trigger layoutstop when the layout stops (e.g. finishes)\n\n  layout.one('layoutstop', options.stop);\n  layout.emit('layoutstop');\n  return this; // chaining\n}; // called on continuous layouts to stop them before they finish\n\n\nNullLayout.prototype.stop = function () {\n  return this; // chaining\n};\n\nvar defaults$f = {\n  positions: undefined,\n  // map of (node id) => (position obj); or function(node){ return somPos; }\n  zoom: undefined,\n  // the zoom level to set (prob want fit = false if set)\n  pan: undefined,\n  // the pan level to set (prob want fit = false if set)\n  fit: true,\n  // whether to fit to viewport\n  padding: 30,\n  // padding on fit\n  animate: false,\n  // whether to transition the node positions\n  animationDuration: 500,\n  // duration of animation in ms if enabled\n  animationEasing: undefined,\n  // easing of animation if enabled\n  animateFilter: function animateFilter(node, i) {\n    return true;\n  },\n  // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n  ready: undefined,\n  // callback on layoutready\n  stop: undefined,\n  // callback on layoutstop\n  transform: function transform(node, position) {\n    return position;\n  } // transform a given node position. Useful for changing flow direction in discrete layouts\n\n};\n\nfunction PresetLayout(options) {\n  this.options = extend({}, defaults$f, options);\n}\n\nPresetLayout.prototype.run = function () {\n  var options = this.options;\n  var eles = options.eles;\n  var nodes = eles.nodes();\n  var posIsFn = fn(options.positions);\n\n  function getPosition(node) {\n    if (options.positions == null) {\n      return copyPosition(node.position());\n    }\n\n    if (posIsFn) {\n      return options.positions(node);\n    }\n\n    var pos = options.positions[node._private.data.id];\n\n    if (pos == null) {\n      return null;\n    }\n\n    return pos;\n  }\n\n  nodes.layoutPositions(this, options, function (node, i) {\n    var position = getPosition(node);\n\n    if (node.locked() || position == null) {\n      return false;\n    }\n\n    return position;\n  });\n  return this; // chaining\n};\n\nvar defaults$g = {\n  fit: true,\n  // whether to fit to viewport\n  padding: 30,\n  // fit padding\n  boundingBox: undefined,\n  // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n  animate: false,\n  // whether to transition the node positions\n  animationDuration: 500,\n  // duration of animation in ms if enabled\n  animationEasing: undefined,\n  // easing of animation if enabled\n  animateFilter: function animateFilter(node, i) {\n    return true;\n  },\n  // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n  ready: undefined,\n  // callback on layoutready\n  stop: undefined,\n  // callback on layoutstop\n  transform: function transform(node, position) {\n    return position;\n  } // transform a given node position. Useful for changing flow direction in discrete layouts \n\n};\n\nfunction RandomLayout(options) {\n  this.options = extend({}, defaults$g, options);\n}\n\nRandomLayout.prototype.run = function () {\n  var options = this.options;\n  var cy = options.cy;\n  var eles = options.eles;\n  var nodes = eles.nodes().not(':parent');\n  var bb = makeBoundingBox(options.boundingBox ? options.boundingBox : {\n    x1: 0,\n    y1: 0,\n    w: cy.width(),\n    h: cy.height()\n  });\n\n  var getPos = function getPos(node, i) {\n    return {\n      x: bb.x1 + Math.round(Math.random() * bb.w),\n      y: bb.y1 + Math.round(Math.random() * bb.h)\n    };\n  };\n\n  nodes.layoutPositions(this, options, getPos);\n  return this; // chaining\n};\n\nvar layout = [{\n  name: 'breadthfirst',\n  impl: BreadthFirstLayout\n}, {\n  name: 'circle',\n  impl: CircleLayout\n}, {\n  name: 'concentric',\n  impl: ConcentricLayout\n}, {\n  name: 'cose',\n  impl: CoseLayout\n}, {\n  name: 'grid',\n  impl: GridLayout\n}, {\n  name: 'null',\n  impl: NullLayout\n}, {\n  name: 'preset',\n  impl: PresetLayout\n}, {\n  name: 'random',\n  impl: RandomLayout\n}];\n\nfunction NullRenderer(options) {\n  this.options = options;\n  this.notifications = 0; // for testing\n}\n\nvar noop$1 = function noop() {};\n\nvar throwImgErr = function throwImgErr() {\n  throw new Error('A headless instance can not render images');\n};\n\nNullRenderer.prototype = {\n  recalculateRenderedStyle: noop$1,\n  notify: function notify() {\n    this.notifications++;\n  },\n  init: noop$1,\n  isHeadless: function isHeadless() {\n    return true;\n  },\n  png: throwImgErr,\n  jpg: throwImgErr\n};\n\nvar BRp = {};\nBRp.arrowShapeWidth = 0.3;\n\nBRp.registerArrowShapes = function () {\n  var arrowShapes = this.arrowShapes = {};\n  var renderer = this; // Contract for arrow shapes:\n  // 0, 0 is arrow tip\n  // (0, 1) is direction towards node\n  // (1, 0) is right\n  //\n  // functional api:\n  // collide: check x, y in shape\n  // roughCollide: called before collide, no false negatives\n  // draw: draw\n  // spacing: dist(arrowTip, nodeBoundary)\n  // gap: dist(edgeTip, nodeBoundary), edgeTip may != arrowTip\n\n  var bbCollide = function bbCollide(x, y, size, angle, translation, edgeWidth, padding) {\n    var x1 = translation.x - size / 2 - padding;\n    var x2 = translation.x + size / 2 + padding;\n    var y1 = translation.y - size / 2 - padding;\n    var y2 = translation.y + size / 2 + padding;\n    var inside = x1 <= x && x <= x2 && y1 <= y && y <= y2;\n    return inside;\n  };\n\n  var transform = function transform(x, y, size, angle, translation) {\n    var xRotated = x * Math.cos(angle) - y * Math.sin(angle);\n    var yRotated = x * Math.sin(angle) + y * Math.cos(angle);\n    var xScaled = xRotated * size;\n    var yScaled = yRotated * size;\n    var xTranslated = xScaled + translation.x;\n    var yTranslated = yScaled + translation.y;\n    return {\n      x: xTranslated,\n      y: yTranslated\n    };\n  };\n\n  var transformPoints = function transformPoints(pts, size, angle, translation) {\n    var retPts = [];\n\n    for (var i = 0; i < pts.length; i += 2) {\n      var x = pts[i];\n      var y = pts[i + 1];\n      retPts.push(transform(x, y, size, angle, translation));\n    }\n\n    return retPts;\n  };\n\n  var pointsToArr = function pointsToArr(pts) {\n    var ret = [];\n\n    for (var i = 0; i < pts.length; i++) {\n      var p = pts[i];\n      ret.push(p.x, p.y);\n    }\n\n    return ret;\n  };\n\n  var standardGap = function standardGap(edge) {\n    return edge.pstyle('width').pfValue * edge.pstyle('arrow-scale').pfValue * 2;\n  };\n\n  var defineArrowShape = function defineArrowShape(name, defn) {\n    if (string(defn)) {\n      defn = arrowShapes[defn];\n    }\n\n    arrowShapes[name] = extend({\n      name: name,\n      points: [-0.15, -0.3, 0.15, -0.3, 0.15, 0.3, -0.15, 0.3],\n      collide: function collide(x, y, size, angle, translation, padding) {\n        var points = pointsToArr(transformPoints(this.points, size + 2 * padding, angle, translation));\n        var inside = pointInsidePolygonPoints(x, y, points);\n        return inside;\n      },\n      roughCollide: bbCollide,\n      draw: function draw(context, size, angle, translation) {\n        var points = transformPoints(this.points, size, angle, translation);\n        renderer.arrowShapeImpl('polygon')(context, points);\n      },\n      spacing: function spacing(edge) {\n        return 0;\n      },\n      gap: standardGap\n    }, defn);\n  };\n\n  defineArrowShape('none', {\n    collide: falsify,\n    roughCollide: falsify,\n    draw: noop,\n    spacing: zeroify,\n    gap: zeroify\n  });\n  defineArrowShape('triangle', {\n    points: [-0.15, -0.3, 0, 0, 0.15, -0.3]\n  });\n  defineArrowShape('arrow', 'triangle');\n  defineArrowShape('triangle-backcurve', {\n    points: arrowShapes['triangle'].points,\n    controlPoint: [0, -0.15],\n    roughCollide: bbCollide,\n    draw: function draw(context, size, angle, translation, edgeWidth) {\n      var ptsTrans = transformPoints(this.points, size, angle, translation);\n      var ctrlPt = this.controlPoint;\n      var ctrlPtTrans = transform(ctrlPt[0], ctrlPt[1], size, angle, translation);\n      renderer.arrowShapeImpl(this.name)(context, ptsTrans, ctrlPtTrans);\n    },\n    gap: function gap(edge) {\n      return standardGap(edge) * 0.8;\n    }\n  });\n  defineArrowShape('triangle-tee', {\n    points: [0, 0, 0.15, -0.3, -0.15, -0.3, 0, 0],\n    pointsTee: [-0.15, -0.4, -0.15, -0.5, 0.15, -0.5, 0.15, -0.4],\n    collide: function collide(x, y, size, angle, translation, edgeWidth, padding) {\n      var triPts = pointsToArr(transformPoints(this.points, size + 2 * padding, angle, translation));\n      var teePts = pointsToArr(transformPoints(this.pointsTee, size + 2 * padding, angle, translation));\n      var inside = pointInsidePolygonPoints(x, y, triPts) || pointInsidePolygonPoints(x, y, teePts);\n      return inside;\n    },\n    draw: function draw(context, size, angle, translation, edgeWidth) {\n      var triPts = transformPoints(this.points, size, angle, translation);\n      var teePts = transformPoints(this.pointsTee, size, angle, translation);\n      renderer.arrowShapeImpl(this.name)(context, triPts, teePts);\n    }\n  });\n  defineArrowShape('triangle-cross', {\n    points: [0, 0, 0.15, -0.3, -0.15, -0.3, 0, 0],\n    baseCrossLinePts: [-0.15, -0.4, // first half of the rectangle\n    -0.15, -0.4, 0.15, -0.4, // second half of the rectangle\n    0.15, -0.4],\n    crossLinePts: function crossLinePts(size, edgeWidth) {\n      // shift points so that the distance between the cross points matches edge width\n      var p = this.baseCrossLinePts.slice();\n      var shiftFactor = edgeWidth / size;\n      var y0 = 3;\n      var y1 = 5;\n      p[y0] = p[y0] - shiftFactor;\n      p[y1] = p[y1] - shiftFactor;\n      return p;\n    },\n    collide: function collide(x, y, size, angle, translation, edgeWidth, padding) {\n      var triPts = pointsToArr(transformPoints(this.points, size + 2 * padding, angle, translation));\n      var teePts = pointsToArr(transformPoints(this.crossLinePts(size, edgeWidth), size + 2 * padding, angle, translation));\n      var inside = pointInsidePolygonPoints(x, y, triPts) || pointInsidePolygonPoints(x, y, teePts);\n      return inside;\n    },\n    draw: function draw(context, size, angle, translation, edgeWidth) {\n      var triPts = transformPoints(this.points, size, angle, translation);\n      var crossLinePts = transformPoints(this.crossLinePts(size, edgeWidth), size, angle, translation);\n      renderer.arrowShapeImpl(this.name)(context, triPts, crossLinePts);\n    }\n  });\n  defineArrowShape('vee', {\n    points: [-0.15, -0.3, 0, 0, 0.15, -0.3, 0, -0.15],\n    gap: function gap(edge) {\n      return standardGap(edge) * 0.525;\n    }\n  });\n  defineArrowShape('circle', {\n    radius: 0.15,\n    collide: function collide(x, y, size, angle, translation, edgeWidth, padding) {\n      var t = translation;\n      var inside = Math.pow(t.x - x, 2) + Math.pow(t.y - y, 2) <= Math.pow((size + 2 * padding) * this.radius, 2);\n      return inside;\n    },\n    draw: function draw(context, size, angle, translation, edgeWidth) {\n      renderer.arrowShapeImpl(this.name)(context, translation.x, translation.y, this.radius * size);\n    },\n    spacing: function spacing(edge) {\n      return renderer.getArrowWidth(edge.pstyle('width').pfValue, edge.pstyle('arrow-scale').value) * this.radius;\n    }\n  });\n  defineArrowShape('tee', {\n    points: [-0.15, 0, -0.15, -0.1, 0.15, -0.1, 0.15, 0],\n    spacing: function spacing(edge) {\n      return 1;\n    },\n    gap: function gap(edge) {\n      return 1;\n    }\n  });\n  defineArrowShape('square', {\n    points: [-0.15, 0.00, 0.15, 0.00, 0.15, -0.3, -0.15, -0.3]\n  });\n  defineArrowShape('diamond', {\n    points: [-0.15, -0.15, 0, -0.3, 0.15, -0.15, 0, 0],\n    gap: function gap(edge) {\n      return edge.pstyle('width').pfValue * edge.pstyle('arrow-scale').value;\n    }\n  });\n  defineArrowShape('chevron', {\n    points: [0, 0, -0.15, -0.15, -0.1, -0.2, 0, -0.1, 0.1, -0.2, 0.15, -0.15],\n    gap: function gap(edge) {\n      return 0.95 * edge.pstyle('width').pfValue * edge.pstyle('arrow-scale').value;\n    }\n  });\n};\n\nvar BRp$1 = {}; // Project mouse\n\nBRp$1.projectIntoViewport = function (clientX, clientY) {\n  var cy = this.cy;\n  var offsets = this.findContainerClientCoords();\n  var offsetLeft = offsets[0];\n  var offsetTop = offsets[1];\n  var scale = offsets[4];\n  var pan = cy.pan();\n  var zoom = cy.zoom();\n  var x = ((clientX - offsetLeft) / scale - pan.x) / zoom;\n  var y = ((clientY - offsetTop) / scale - pan.y) / zoom;\n  return [x, y];\n};\n\nBRp$1.findContainerClientCoords = function () {\n  if (this.containerBB) {\n    return this.containerBB;\n  }\n\n  var container = this.container;\n  var rect = container.getBoundingClientRect();\n  var style = window$1.getComputedStyle(container);\n\n  var styleValue = function styleValue(name) {\n    return parseFloat(style.getPropertyValue(name));\n  };\n\n  var padding = {\n    left: styleValue('padding-left'),\n    right: styleValue('padding-right'),\n    top: styleValue('padding-top'),\n    bottom: styleValue('padding-bottom')\n  };\n  var border = {\n    left: styleValue('border-left-width'),\n    right: styleValue('border-right-width'),\n    top: styleValue('border-top-width'),\n    bottom: styleValue('border-bottom-width')\n  };\n  var clientWidth = container.clientWidth;\n  var clientHeight = container.clientHeight;\n  var paddingHor = padding.left + padding.right;\n  var paddingVer = padding.top + padding.bottom;\n  var borderHor = border.left + border.right;\n  var scale = rect.width / (clientWidth + borderHor);\n  var unscaledW = clientWidth - paddingHor;\n  var unscaledH = clientHeight - paddingVer;\n  var left = rect.left + padding.left + border.left;\n  var top = rect.top + padding.top + border.top;\n  return this.containerBB = [left, top, unscaledW, unscaledH, scale];\n};\n\nBRp$1.invalidateContainerClientCoordsCache = function () {\n  this.containerBB = null;\n};\n\nBRp$1.findNearestElement = function (x, y, interactiveElementsOnly, isTouch) {\n  return this.findNearestElements(x, y, interactiveElementsOnly, isTouch)[0];\n};\n\nBRp$1.findNearestElements = function (x, y, interactiveElementsOnly, isTouch) {\n  var self = this;\n  var r = this;\n  var eles = r.getCachedZSortedEles();\n  var near = []; // 1 node max, 1 edge max\n\n  var zoom = r.cy.zoom();\n  var hasCompounds = r.cy.hasCompoundNodes();\n  var edgeThreshold = (isTouch ? 24 : 8) / zoom;\n  var nodeThreshold = (isTouch ? 8 : 2) / zoom;\n  var labelThreshold = (isTouch ? 8 : 2) / zoom;\n  var minSqDist = Infinity;\n  var nearEdge;\n  var nearNode;\n\n  if (interactiveElementsOnly) {\n    eles = eles.interactive;\n  }\n\n  function addEle(ele, sqDist) {\n    if (ele.isNode()) {\n      if (nearNode) {\n        return; // can't replace node\n      } else {\n        nearNode = ele;\n        near.push(ele);\n      }\n    }\n\n    if (ele.isEdge() && (sqDist == null || sqDist < minSqDist)) {\n      if (nearEdge) {\n        // then replace existing edge\n        // can replace only if same z-index\n        if (nearEdge.pstyle('z-compound-depth').value === ele.pstyle('z-compound-depth').value && nearEdge.pstyle('z-compound-depth').value === ele.pstyle('z-compound-depth').value) {\n          for (var i = 0; i < near.length; i++) {\n            if (near[i].isEdge()) {\n              near[i] = ele;\n              nearEdge = ele;\n              minSqDist = sqDist != null ? sqDist : minSqDist;\n              break;\n            }\n          }\n        }\n      } else {\n        near.push(ele);\n        nearEdge = ele;\n        minSqDist = sqDist != null ? sqDist : minSqDist;\n      }\n    }\n  }\n\n  function checkNode(node) {\n    var width = node.outerWidth() + 2 * nodeThreshold;\n    var height = node.outerHeight() + 2 * nodeThreshold;\n    var hw = width / 2;\n    var hh = height / 2;\n    var pos = node.position();\n\n    if (pos.x - hw <= x && x <= pos.x + hw // bb check x\n    && pos.y - hh <= y && y <= pos.y + hh // bb check y\n    ) {\n        var shape = r.nodeShapes[self.getNodeShape(node)];\n\n        if (shape.checkPoint(x, y, 0, width, height, pos.x, pos.y)) {\n          addEle(node, 0);\n          return true;\n        }\n      }\n  }\n\n  function checkEdge(edge) {\n    var _p = edge._private;\n    var rs = _p.rscratch;\n    var styleWidth = edge.pstyle('width').pfValue;\n    var scale = edge.pstyle('arrow-scale').value;\n    var width = styleWidth / 2 + edgeThreshold; // more like a distance radius from centre\n\n    var widthSq = width * width;\n    var width2 = width * 2;\n    var src = _p.source;\n    var tgt = _p.target;\n    var sqDist;\n\n    if (rs.edgeType === 'segments' || rs.edgeType === 'straight' || rs.edgeType === 'haystack') {\n      var pts = rs.allpts;\n\n      for (var i = 0; i + 3 < pts.length; i += 2) {\n        if (inLineVicinity(x, y, pts[i], pts[i + 1], pts[i + 2], pts[i + 3], width2) && widthSq > (sqDist = sqdistToFiniteLine(x, y, pts[i], pts[i + 1], pts[i + 2], pts[i + 3]))) {\n          addEle(edge, sqDist);\n          return true;\n        }\n      }\n    } else if (rs.edgeType === 'bezier' || rs.edgeType === 'multibezier' || rs.edgeType === 'self' || rs.edgeType === 'compound') {\n      var pts = rs.allpts;\n\n      for (var i = 0; i + 5 < rs.allpts.length; i += 4) {\n        if (inBezierVicinity(x, y, pts[i], pts[i + 1], pts[i + 2], pts[i + 3], pts[i + 4], pts[i + 5], width2) && widthSq > (sqDist = sqdistToQuadraticBezier(x, y, pts[i], pts[i + 1], pts[i + 2], pts[i + 3], pts[i + 4], pts[i + 5]))) {\n          addEle(edge, sqDist);\n          return true;\n        }\n      }\n    } // if we're close to the edge but didn't hit it, maybe we hit its arrows\n\n\n    var src = src || _p.source;\n    var tgt = tgt || _p.target;\n    var arSize = self.getArrowWidth(styleWidth, scale);\n    var arrows = [{\n      name: 'source',\n      x: rs.arrowStartX,\n      y: rs.arrowStartY,\n      angle: rs.srcArrowAngle\n    }, {\n      name: 'target',\n      x: rs.arrowEndX,\n      y: rs.arrowEndY,\n      angle: rs.tgtArrowAngle\n    }, {\n      name: 'mid-source',\n      x: rs.midX,\n      y: rs.midY,\n      angle: rs.midsrcArrowAngle\n    }, {\n      name: 'mid-target',\n      x: rs.midX,\n      y: rs.midY,\n      angle: rs.midtgtArrowAngle\n    }];\n\n    for (var i = 0; i < arrows.length; i++) {\n      var ar = arrows[i];\n      var shape = r.arrowShapes[edge.pstyle(ar.name + '-arrow-shape').value];\n      var edgeWidth = edge.pstyle('width').pfValue;\n\n      if (shape.roughCollide(x, y, arSize, ar.angle, {\n        x: ar.x,\n        y: ar.y\n      }, edgeWidth, edgeThreshold) && shape.collide(x, y, arSize, ar.angle, {\n        x: ar.x,\n        y: ar.y\n      }, edgeWidth, edgeThreshold)) {\n        addEle(edge);\n        return true;\n      }\n    } // for compound graphs, hitting edge may actually want a connected node instead (b/c edge may have greater z-index precedence)\n\n\n    if (hasCompounds && near.length > 0) {\n      checkNode(src);\n      checkNode(tgt);\n    }\n  }\n\n  function preprop(obj, name, pre) {\n    return getPrefixedProperty(obj, name, pre);\n  }\n\n  function checkLabel(ele, prefix) {\n    var _p = ele._private;\n    var th = labelThreshold;\n    var prefixDash;\n\n    if (prefix) {\n      prefixDash = prefix + '-';\n    } else {\n      prefixDash = '';\n    }\n\n    ele.boundingBox();\n    var bb = _p.labelBounds[prefix || 'main'];\n    var text = ele.pstyle(prefixDash + 'label').value;\n    var eventsEnabled = ele.pstyle('text-events').strValue === 'yes';\n\n    if (!eventsEnabled || !text) {\n      return;\n    }\n\n    var rstyle = _p.rstyle;\n    var lx = preprop(rstyle, 'labelX', prefix);\n    var ly = preprop(rstyle, 'labelY', prefix);\n    var theta = preprop(_p.rscratch, 'labelAngle', prefix);\n    var lx1 = bb.x1 - th;\n    var lx2 = bb.x2 + th;\n    var ly1 = bb.y1 - th;\n    var ly2 = bb.y2 + th;\n\n    if (theta) {\n      var cos = Math.cos(theta);\n      var sin = Math.sin(theta);\n\n      var rotate = function rotate(x, y) {\n        x = x - lx;\n        y = y - ly;\n        return {\n          x: x * cos - y * sin + lx,\n          y: x * sin + y * cos + ly\n        };\n      };\n\n      var px1y1 = rotate(lx1, ly1);\n      var px1y2 = rotate(lx1, ly2);\n      var px2y1 = rotate(lx2, ly1);\n      var px2y2 = rotate(lx2, ly2);\n      var points = [px1y1.x, px1y1.y, px2y1.x, px2y1.y, px2y2.x, px2y2.y, px1y2.x, px1y2.y];\n\n      if (pointInsidePolygonPoints(x, y, points)) {\n        addEle(ele);\n        return true;\n      }\n    } else {\n      // do a cheaper bb check\n      if (inBoundingBox(bb, x, y)) {\n        addEle(ele);\n        return true;\n      }\n    }\n  }\n\n  for (var i = eles.length - 1; i >= 0; i--) {\n    // reverse order for precedence\n    var ele = eles[i];\n\n    if (ele.isNode()) {\n      checkNode(ele) || checkLabel(ele);\n    } else {\n      // then edge\n      checkEdge(ele) || checkLabel(ele) || checkLabel(ele, 'source') || checkLabel(ele, 'target');\n    }\n  }\n\n  return near;\n}; // 'Give me everything from this box'\n\n\nBRp$1.getAllInBox = function (x1, y1, x2, y2) {\n  var eles = this.getCachedZSortedEles().interactive;\n  var box = [];\n  var x1c = Math.min(x1, x2);\n  var x2c = Math.max(x1, x2);\n  var y1c = Math.min(y1, y2);\n  var y2c = Math.max(y1, y2);\n  x1 = x1c;\n  x2 = x2c;\n  y1 = y1c;\n  y2 = y2c;\n  var boxBb = makeBoundingBox({\n    x1: x1,\n    y1: y1,\n    x2: x2,\n    y2: y2\n  });\n\n  for (var e = 0; e < eles.length; e++) {\n    var ele = eles[e];\n\n    if (ele.isNode()) {\n      var node = ele;\n      var nodeBb = node.boundingBox({\n        includeNodes: true,\n        includeEdges: false,\n        includeLabels: false\n      });\n\n      if (boundingBoxesIntersect(boxBb, nodeBb) && !boundingBoxInBoundingBox(nodeBb, boxBb)) {\n        box.push(node);\n      }\n    } else {\n      var edge = ele;\n      var _p = edge._private;\n      var rs = _p.rscratch;\n\n      if (rs.startX != null && rs.startY != null && !inBoundingBox(boxBb, rs.startX, rs.startY)) {\n        continue;\n      }\n\n      if (rs.endX != null && rs.endY != null && !inBoundingBox(boxBb, rs.endX, rs.endY)) {\n        continue;\n      }\n\n      if (rs.edgeType === 'bezier' || rs.edgeType === 'multibezier' || rs.edgeType === 'self' || rs.edgeType === 'compound' || rs.edgeType === 'segments' || rs.edgeType === 'haystack') {\n        var pts = _p.rstyle.bezierPts || _p.rstyle.linePts || _p.rstyle.haystackPts;\n        var allInside = true;\n\n        for (var i = 0; i < pts.length; i++) {\n          if (!pointInBoundingBox(boxBb, pts[i])) {\n            allInside = false;\n            break;\n          }\n        }\n\n        if (allInside) {\n          box.push(edge);\n        }\n      } else if (rs.edgeType === 'haystack' || rs.edgeType === 'straight') {\n        box.push(edge);\n      }\n    }\n  }\n\n  return box;\n};\n\nvar BRp$2 = {};\n\nBRp$2.calculateArrowAngles = function (edge) {\n  var rs = edge._private.rscratch;\n  var isHaystack = rs.edgeType === 'haystack';\n  var isBezier = rs.edgeType === 'bezier';\n  var isMultibezier = rs.edgeType === 'multibezier';\n  var isSegments = rs.edgeType === 'segments';\n  var isCompound = rs.edgeType === 'compound';\n  var isSelf = rs.edgeType === 'self'; // Displacement gives direction for arrowhead orientation\n\n  var dispX, dispY;\n  var startX, startY, endX, endY, midX, midY;\n\n  if (isHaystack) {\n    startX = rs.haystackPts[0];\n    startY = rs.haystackPts[1];\n    endX = rs.haystackPts[2];\n    endY = rs.haystackPts[3];\n  } else {\n    startX = rs.arrowStartX;\n    startY = rs.arrowStartY;\n    endX = rs.arrowEndX;\n    endY = rs.arrowEndY;\n  }\n\n  midX = rs.midX;\n  midY = rs.midY; // source\n  //\n\n  if (isSegments) {\n    dispX = startX - rs.segpts[0];\n    dispY = startY - rs.segpts[1];\n  } else if (isMultibezier || isCompound || isSelf || isBezier) {\n    var pts = rs.allpts;\n    var bX = qbezierAt(pts[0], pts[2], pts[4], 0.1);\n    var bY = qbezierAt(pts[1], pts[3], pts[5], 0.1);\n    dispX = startX - bX;\n    dispY = startY - bY;\n  } else {\n    dispX = startX - midX;\n    dispY = startY - midY;\n  }\n\n  rs.srcArrowAngle = getAngleFromDisp(dispX, dispY); // mid target\n  //\n\n  var midX = rs.midX;\n  var midY = rs.midY;\n\n  if (isHaystack) {\n    midX = (startX + endX) / 2;\n    midY = (startY + endY) / 2;\n  }\n\n  dispX = endX - startX;\n  dispY = endY - startY;\n\n  if (isSegments) {\n    var pts = rs.allpts;\n\n    if (pts.length / 2 % 2 === 0) {\n      var i2 = pts.length / 2;\n      var i1 = i2 - 2;\n      dispX = pts[i2] - pts[i1];\n      dispY = pts[i2 + 1] - pts[i1 + 1];\n    } else {\n      var i2 = pts.length / 2 - 1;\n      var i1 = i2 - 2;\n      var i3 = i2 + 2;\n      dispX = pts[i2] - pts[i1];\n      dispY = pts[i2 + 1] - pts[i1 + 1];\n    }\n  } else if (isMultibezier || isCompound || isSelf) {\n    var pts = rs.allpts;\n    var cpts = rs.ctrlpts;\n    var bp0x, bp0y;\n    var bp1x, bp1y;\n\n    if (cpts.length / 2 % 2 === 0) {\n      var p0 = pts.length / 2 - 1; // startpt\n\n      var ic = p0 + 2;\n      var p1 = ic + 2;\n      bp0x = qbezierAt(pts[p0], pts[ic], pts[p1], 0.0);\n      bp0y = qbezierAt(pts[p0 + 1], pts[ic + 1], pts[p1 + 1], 0.0);\n      bp1x = qbezierAt(pts[p0], pts[ic], pts[p1], 0.0001);\n      bp1y = qbezierAt(pts[p0 + 1], pts[ic + 1], pts[p1 + 1], 0.0001);\n    } else {\n      var ic = pts.length / 2 - 1; // ctrpt\n\n      var p0 = ic - 2; // startpt\n\n      var p1 = ic + 2; // endpt\n\n      bp0x = qbezierAt(pts[p0], pts[ic], pts[p1], 0.4999);\n      bp0y = qbezierAt(pts[p0 + 1], pts[ic + 1], pts[p1 + 1], 0.4999);\n      bp1x = qbezierAt(pts[p0], pts[ic], pts[p1], 0.5);\n      bp1y = qbezierAt(pts[p0 + 1], pts[ic + 1], pts[p1 + 1], 0.5);\n    }\n\n    dispX = bp1x - bp0x;\n    dispY = bp1y - bp0y;\n  }\n\n  rs.midtgtArrowAngle = getAngleFromDisp(dispX, dispY);\n  rs.midDispX = dispX;\n  rs.midDispY = dispY; // mid source\n  //\n\n  dispX *= -1;\n  dispY *= -1;\n\n  if (isSegments) {\n    var pts = rs.allpts;\n\n    if (pts.length / 2 % 2 === 0) ; else {\n      var i2 = pts.length / 2 - 1;\n      var i3 = i2 + 2;\n      dispX = -(pts[i3] - pts[i2]);\n      dispY = -(pts[i3 + 1] - pts[i2 + 1]);\n    }\n  }\n\n  rs.midsrcArrowAngle = getAngleFromDisp(dispX, dispY); // target\n  //\n\n  if (isSegments) {\n    dispX = endX - rs.segpts[rs.segpts.length - 2];\n    dispY = endY - rs.segpts[rs.segpts.length - 1];\n  } else if (isMultibezier || isCompound || isSelf || isBezier) {\n    var pts = rs.allpts;\n    var l = pts.length;\n    var bX = qbezierAt(pts[l - 6], pts[l - 4], pts[l - 2], 0.9);\n    var bY = qbezierAt(pts[l - 5], pts[l - 3], pts[l - 1], 0.9);\n    dispX = endX - bX;\n    dispY = endY - bY;\n  } else {\n    dispX = endX - midX;\n    dispY = endY - midY;\n  }\n\n  rs.tgtArrowAngle = getAngleFromDisp(dispX, dispY);\n};\n\nBRp$2.getArrowWidth = BRp$2.getArrowHeight = function (edgeWidth, scale) {\n  var cache = this.arrowWidthCache = this.arrowWidthCache || {};\n  var cachedVal = cache[edgeWidth + ', ' + scale];\n\n  if (cachedVal) {\n    return cachedVal;\n  }\n\n  cachedVal = Math.max(Math.pow(edgeWidth * 13.37, 0.9), 29) * scale;\n  cache[edgeWidth + ', ' + scale] = cachedVal;\n  return cachedVal;\n};\n\nvar BRp$3 = {};\n\nBRp$3.findHaystackPoints = function (edges) {\n  for (var i = 0; i < edges.length; i++) {\n    var edge = edges[i];\n    var _p = edge._private;\n    var rs = _p.rscratch;\n\n    if (!rs.haystack) {\n      var angle = Math.random() * 2 * Math.PI;\n      rs.source = {\n        x: Math.cos(angle),\n        y: Math.sin(angle)\n      };\n      angle = Math.random() * 2 * Math.PI;\n      rs.target = {\n        x: Math.cos(angle),\n        y: Math.sin(angle)\n      };\n    }\n\n    var src = _p.source;\n    var tgt = _p.target;\n    var srcPos = src.position();\n    var tgtPos = tgt.position();\n    var srcW = src.width();\n    var tgtW = tgt.width();\n    var srcH = src.height();\n    var tgtH = tgt.height();\n    var radius = edge.pstyle('haystack-radius').value;\n    var halfRadius = radius / 2; // b/c have to half width/height\n\n    rs.haystackPts = rs.allpts = [rs.source.x * srcW * halfRadius + srcPos.x, rs.source.y * srcH * halfRadius + srcPos.y, rs.target.x * tgtW * halfRadius + tgtPos.x, rs.target.y * tgtH * halfRadius + tgtPos.y];\n    rs.midX = (rs.allpts[0] + rs.allpts[2]) / 2;\n    rs.midY = (rs.allpts[1] + rs.allpts[3]) / 2; // always override as haystack in case set to different type previously\n\n    rs.edgeType = 'haystack';\n    rs.haystack = true;\n    this.storeEdgeProjections(edge);\n    this.calculateArrowAngles(edge);\n    this.recalculateEdgeLabelProjections(edge);\n    this.calculateLabelAngles(edge);\n  }\n};\n\nBRp$3.findSegmentsPoints = function (edge, pairInfo) {\n  // Segments (multiple straight lines)\n  var rs = edge._private.rscratch;\n  var posPts = pairInfo.posPts,\n      intersectionPts = pairInfo.intersectionPts,\n      vectorNormInverse = pairInfo.vectorNormInverse;\n  var edgeDistances = edge.pstyle('edge-distances').value;\n  var segmentWs = edge.pstyle('segment-weights');\n  var segmentDs = edge.pstyle('segment-distances');\n  var segmentsN = Math.min(segmentWs.pfValue.length, segmentDs.pfValue.length);\n  rs.edgeType = 'segments';\n  rs.segpts = [];\n\n  for (var s = 0; s < segmentsN; s++) {\n    var w = segmentWs.pfValue[s];\n    var d = segmentDs.pfValue[s];\n    var w1 = 1 - w;\n    var w2 = w;\n    var midptPts = edgeDistances === 'node-position' ? posPts : intersectionPts;\n    var adjustedMidpt = {\n      x: midptPts.x1 * w1 + midptPts.x2 * w2,\n      y: midptPts.y1 * w1 + midptPts.y2 * w2\n    };\n    rs.segpts.push(adjustedMidpt.x + vectorNormInverse.x * d, adjustedMidpt.y + vectorNormInverse.y * d);\n  }\n};\n\nBRp$3.findLoopPoints = function (edge, pairInfo, i, edgeIsUnbundled) {\n  // Self-edge\n  var rs = edge._private.rscratch;\n  var dirCounts = pairInfo.dirCounts,\n      srcPos = pairInfo.srcPos;\n  var ctrlptDists = edge.pstyle('control-point-distances');\n  var ctrlptDist = ctrlptDists ? ctrlptDists.pfValue[0] : undefined;\n  var loopDir = edge.pstyle('loop-direction').pfValue;\n  var loopSwp = edge.pstyle('loop-sweep').pfValue;\n  var stepSize = edge.pstyle('control-point-step-size').pfValue;\n  rs.edgeType = 'self';\n  var j = i;\n  var loopDist = stepSize;\n\n  if (edgeIsUnbundled) {\n    j = 0;\n    loopDist = ctrlptDist;\n  }\n\n  var loopAngle = loopDir - Math.PI / 2;\n  var outAngle = loopAngle - loopSwp / 2;\n  var inAngle = loopAngle + loopSwp / 2; // increase by step size for overlapping loops, keyed on direction and sweep values\n\n  var dc = String(loopDir + '_' + loopSwp);\n  j = dirCounts[dc] === undefined ? dirCounts[dc] = 0 : ++dirCounts[dc];\n  rs.ctrlpts = [srcPos.x + Math.cos(outAngle) * 1.4 * loopDist * (j / 3 + 1), srcPos.y + Math.sin(outAngle) * 1.4 * loopDist * (j / 3 + 1), srcPos.x + Math.cos(inAngle) * 1.4 * loopDist * (j / 3 + 1), srcPos.y + Math.sin(inAngle) * 1.4 * loopDist * (j / 3 + 1)];\n};\n\nBRp$3.findCompoundLoopPoints = function (edge, pairInfo, i, edgeIsUnbundled) {\n  // Compound edge\n  var rs = edge._private.rscratch;\n  rs.edgeType = 'compound';\n  var srcPos = pairInfo.srcPos,\n      tgtPos = pairInfo.tgtPos,\n      srcW = pairInfo.srcW,\n      srcH = pairInfo.srcH,\n      tgtW = pairInfo.tgtW,\n      tgtH = pairInfo.tgtH;\n  var stepSize = edge.pstyle('control-point-step-size').pfValue;\n  var ctrlptDists = edge.pstyle('control-point-distances');\n  var ctrlptDist = ctrlptDists ? ctrlptDists.pfValue[0] : undefined;\n  var j = i;\n  var loopDist = stepSize;\n\n  if (edgeIsUnbundled) {\n    j = 0;\n    loopDist = ctrlptDist;\n  }\n\n  var loopW = 50;\n  var loopaPos = {\n    x: srcPos.x - srcW / 2,\n    y: srcPos.y - srcH / 2\n  };\n  var loopbPos = {\n    x: tgtPos.x - tgtW / 2,\n    y: tgtPos.y - tgtH / 2\n  };\n  var loopPos = {\n    x: Math.min(loopaPos.x, loopbPos.x),\n    y: Math.min(loopaPos.y, loopbPos.y)\n  }; // avoids cases with impossible beziers\n\n  var minCompoundStretch = 0.5;\n  var compoundStretchA = Math.max(minCompoundStretch, Math.log(srcW * 0.01));\n  var compoundStretchB = Math.max(minCompoundStretch, Math.log(tgtW * 0.01));\n  rs.ctrlpts = [loopPos.x, loopPos.y - (1 + Math.pow(loopW, 1.12) / 100) * loopDist * (j / 3 + 1) * compoundStretchA, loopPos.x - (1 + Math.pow(loopW, 1.12) / 100) * loopDist * (j / 3 + 1) * compoundStretchB, loopPos.y];\n};\n\nBRp$3.findStraightEdgePoints = function (edge) {\n  // Straight edge within bundle\n  edge._private.rscratch.edgeType = 'straight';\n};\n\nBRp$3.findBezierPoints = function (edge, pairInfo, i, edgeIsUnbundled, edgeIsSwapped) {\n  var rs = edge._private.rscratch;\n  var vectorNormInverse = pairInfo.vectorNormInverse,\n      posPts = pairInfo.posPts,\n      intersectionPts = pairInfo.intersectionPts;\n  var edgeDistances = edge.pstyle('edge-distances').value;\n  var stepSize = edge.pstyle('control-point-step-size').pfValue;\n  var ctrlptDists = edge.pstyle('control-point-distances');\n  var ctrlptWs = edge.pstyle('control-point-weights');\n  var bezierN = ctrlptDists && ctrlptWs ? Math.min(ctrlptDists.value.length, ctrlptWs.value.length) : 1;\n  var ctrlptDist = ctrlptDists ? ctrlptDists.pfValue[0] : undefined;\n  var ctrlptWeight = ctrlptWs.value[0]; // (Multi)bezier\n\n  var multi = edgeIsUnbundled;\n  rs.edgeType = multi ? 'multibezier' : 'bezier';\n  rs.ctrlpts = [];\n\n  for (var b = 0; b < bezierN; b++) {\n    var normctrlptDist = (0.5 - pairInfo.eles.length / 2 + i) * stepSize * (edgeIsSwapped ? -1 : 1);\n    var manctrlptDist = void 0;\n    var sign = signum(normctrlptDist);\n\n    if (multi) {\n      ctrlptDist = ctrlptDists ? ctrlptDists.pfValue[b] : stepSize; // fall back on step size\n\n      ctrlptWeight = ctrlptWs.value[b];\n    }\n\n    if (edgeIsUnbundled) {\n      // multi or single unbundled\n      manctrlptDist = ctrlptDist;\n    } else {\n      manctrlptDist = ctrlptDist !== undefined ? sign * ctrlptDist : undefined;\n    }\n\n    var distanceFromMidpoint = manctrlptDist !== undefined ? manctrlptDist : normctrlptDist;\n    var w1 = 1 - ctrlptWeight;\n    var w2 = ctrlptWeight;\n    var midptPts = edgeDistances === 'node-position' ? posPts : intersectionPts;\n    var adjustedMidpt = {\n      x: midptPts.x1 * w1 + midptPts.x2 * w2,\n      y: midptPts.y1 * w1 + midptPts.y2 * w2\n    };\n    rs.ctrlpts.push(adjustedMidpt.x + vectorNormInverse.x * distanceFromMidpoint, adjustedMidpt.y + vectorNormInverse.y * distanceFromMidpoint);\n  }\n};\n\nBRp$3.findTaxiPoints = function (edge, pairInfo) {\n  // Taxicab geometry with two turns maximum\n  var rs = edge._private.rscratch;\n  rs.edgeType = 'segments';\n  var VERTICAL = 'vertical';\n  var HORIZONTAL = 'horizontal';\n  var LEFTWARD = 'leftward';\n  var RIGHTWARD = 'rightward';\n  var DOWNWARD = 'downward';\n  var UPWARD = 'upward';\n  var AUTO = 'auto';\n  var posPts = pairInfo.posPts,\n      srcW = pairInfo.srcW,\n      srcH = pairInfo.srcH,\n      tgtW = pairInfo.tgtW,\n      tgtH = pairInfo.tgtH;\n  var edgeDistances = edge.pstyle('edge-distances').value;\n  var dIncludesNodeBody = edgeDistances !== 'node-position';\n  var taxiDir = edge.pstyle('taxi-direction').value;\n  var rawTaxiDir = taxiDir; // unprocessed value\n\n  var taxiTurn = edge.pstyle('taxi-turn');\n  var taxiTurnPfVal = taxiTurn.pfValue;\n  var minD = edge.pstyle('taxi-turn-min-distance').pfValue;\n  var turnIsPercent = taxiTurn.units === '%';\n  var dw = dIncludesNodeBody ? (srcW + tgtW) / 2 : 0;\n  var dh = dIncludesNodeBody ? (srcH + tgtH) / 2 : 0;\n  var pdx = posPts.x2 - posPts.x1;\n  var pdy = posPts.y2 - posPts.y1; // take away the effective w/h from the magnitude of the delta value\n\n  var subDWH = function subDWH(dxy, dwh) {\n    if (dxy > 0) {\n      return Math.max(dxy - dwh, 0);\n    } else {\n      return Math.min(dxy + dwh, 0);\n    }\n  };\n\n  var dx = subDWH(pdx, dw);\n  var dy = subDWH(pdy, dh);\n  var isExplicitDir = false;\n\n  if (taxiDir === AUTO) {\n    taxiDir = Math.abs(dx) > Math.abs(dy) ? HORIZONTAL : VERTICAL;\n  } else if (taxiDir === UPWARD || taxiDir === DOWNWARD) {\n    taxiDir = VERTICAL;\n    isExplicitDir = true;\n  } else if (taxiDir === LEFTWARD || taxiDir === RIGHTWARD) {\n    taxiDir = HORIZONTAL;\n    isExplicitDir = true;\n  }\n\n  var isVert = taxiDir === VERTICAL;\n  var l = isVert ? dy : dx;\n  var pl = isVert ? pdy : pdx;\n  var sgnL = signum(pl);\n  var forcedDir = false;\n\n  if (!(isExplicitDir && turnIsPercent) // forcing in this case would cause weird growing in the opposite direction\n  && (rawTaxiDir === DOWNWARD && pl < 0 || rawTaxiDir === UPWARD && pl > 0 || rawTaxiDir === LEFTWARD && pl > 0 || rawTaxiDir === RIGHTWARD && pl < 0)) {\n    sgnL *= -1;\n    l = sgnL * Math.abs(l);\n    forcedDir = true;\n  }\n\n  var d = turnIsPercent ? taxiTurnPfVal * l : taxiTurnPfVal * sgnL;\n\n  var getIsTooClose = function getIsTooClose(d) {\n    return Math.abs(d) < minD || Math.abs(d) >= Math.abs(l);\n  };\n\n  var isTooCloseSrc = getIsTooClose(d);\n  var isTooCloseTgt = getIsTooClose(l - d);\n  var isTooClose = isTooCloseSrc || isTooCloseTgt;\n\n  if (isTooClose && !forcedDir) {\n    // non-ideal routing\n    if (isVert) {\n      // vertical fallbacks\n      var lShapeInsideSrc = Math.abs(pl) <= srcH / 2;\n      var lShapeInsideTgt = Math.abs(pdx) <= tgtW / 2;\n\n      if (lShapeInsideSrc) {\n        // horizontal Z-shape (direction not respected)\n        var x = (posPts.x1 + posPts.x2) / 2;\n        var y1 = posPts.y1,\n            y2 = posPts.y2;\n        rs.segpts = [x, y1, x, y2];\n      } else if (lShapeInsideTgt) {\n        // vertical Z-shape (distance not respected)\n        var y = (posPts.y1 + posPts.y2) / 2;\n        var x1 = posPts.x1,\n            x2 = posPts.x2;\n        rs.segpts = [x1, y, x2, y];\n      } else {\n        // L-shape fallback (turn distance not respected, but works well with tree siblings)\n        rs.segpts = [posPts.x1, posPts.y2];\n      }\n    } else {\n      // horizontal fallbacks\n      var _lShapeInsideSrc = Math.abs(pl) <= srcW / 2;\n\n      var _lShapeInsideTgt = Math.abs(pdy) <= tgtH / 2;\n\n      if (_lShapeInsideSrc) {\n        // vertical Z-shape (direction not respected)\n        var _y = (posPts.y1 + posPts.y2) / 2;\n\n        var _x = posPts.x1,\n            _x2 = posPts.x2;\n        rs.segpts = [_x, _y, _x2, _y];\n      } else if (_lShapeInsideTgt) {\n        // horizontal Z-shape (turn distance not respected)\n        var _x3 = (posPts.x1 + posPts.x2) / 2;\n\n        var _y2 = posPts.y1,\n            _y3 = posPts.y2;\n        rs.segpts = [_x3, _y2, _x3, _y3];\n      } else {\n        // L-shape (turn distance not respected, but works well for tree siblings)\n        rs.segpts = [posPts.x2, posPts.y1];\n      }\n    }\n  } else {\n    // ideal routing\n    if (isVert) {\n      var _y4 = posPts.y1 + d + (dIncludesNodeBody ? srcH / 2 * sgnL : 0);\n\n      var _x4 = posPts.x1,\n          _x5 = posPts.x2;\n      rs.segpts = [_x4, _y4, _x5, _y4];\n    } else {\n      // horizontal\n      var _x6 = posPts.x1 + d + (dIncludesNodeBody ? srcW / 2 * sgnL : 0);\n\n      var _y5 = posPts.y1,\n          _y6 = posPts.y2;\n      rs.segpts = [_x6, _y5, _x6, _y6];\n    }\n  }\n};\n\nBRp$3.tryToCorrectInvalidPoints = function (edge, pairInfo) {\n  var rs = edge._private.rscratch; // can only correct beziers for now...\n\n  if (rs.edgeType === 'bezier') {\n    var srcPos = pairInfo.srcPos,\n        tgtPos = pairInfo.tgtPos,\n        srcW = pairInfo.srcW,\n        srcH = pairInfo.srcH,\n        tgtW = pairInfo.tgtW,\n        tgtH = pairInfo.tgtH,\n        srcShape = pairInfo.srcShape,\n        tgtShape = pairInfo.tgtShape;\n    var badStart = !number(rs.startX) || !number(rs.startY);\n    var badAStart = !number(rs.arrowStartX) || !number(rs.arrowStartY);\n    var badEnd = !number(rs.endX) || !number(rs.endY);\n    var badAEnd = !number(rs.arrowEndX) || !number(rs.arrowEndY);\n    var minCpADistFactor = 3;\n    var arrowW = this.getArrowWidth(edge.pstyle('width').pfValue, edge.pstyle('arrow-scale').value) * this.arrowShapeWidth;\n    var minCpADist = minCpADistFactor * arrowW;\n    var startACpDist = dist({\n      x: rs.ctrlpts[0],\n      y: rs.ctrlpts[1]\n    }, {\n      x: rs.startX,\n      y: rs.startY\n    });\n    var closeStartACp = startACpDist < minCpADist;\n    var endACpDist = dist({\n      x: rs.ctrlpts[0],\n      y: rs.ctrlpts[1]\n    }, {\n      x: rs.endX,\n      y: rs.endY\n    });\n    var closeEndACp = endACpDist < minCpADist;\n    var overlapping = false;\n\n    if (badStart || badAStart || closeStartACp) {\n      overlapping = true; // project control point along line from src centre to outside the src shape\n      // (otherwise intersection will yield nothing)\n\n      var cpD = {\n        // delta\n        x: rs.ctrlpts[0] - srcPos.x,\n        y: rs.ctrlpts[1] - srcPos.y\n      };\n      var cpL = Math.sqrt(cpD.x * cpD.x + cpD.y * cpD.y); // length of line\n\n      var cpM = {\n        // normalised delta\n        x: cpD.x / cpL,\n        y: cpD.y / cpL\n      };\n      var radius = Math.max(srcW, srcH);\n      var cpProj = {\n        // *2 radius guarantees outside shape\n        x: rs.ctrlpts[0] + cpM.x * 2 * radius,\n        y: rs.ctrlpts[1] + cpM.y * 2 * radius\n      };\n      var srcCtrlPtIntn = srcShape.intersectLine(srcPos.x, srcPos.y, srcW, srcH, cpProj.x, cpProj.y, 0);\n\n      if (closeStartACp) {\n        rs.ctrlpts[0] = rs.ctrlpts[0] + cpM.x * (minCpADist - startACpDist);\n        rs.ctrlpts[1] = rs.ctrlpts[1] + cpM.y * (minCpADist - startACpDist);\n      } else {\n        rs.ctrlpts[0] = srcCtrlPtIntn[0] + cpM.x * minCpADist;\n        rs.ctrlpts[1] = srcCtrlPtIntn[1] + cpM.y * minCpADist;\n      }\n    }\n\n    if (badEnd || badAEnd || closeEndACp) {\n      overlapping = true; // project control point along line from tgt centre to outside the tgt shape\n      // (otherwise intersection will yield nothing)\n\n      var _cpD = {\n        // delta\n        x: rs.ctrlpts[0] - tgtPos.x,\n        y: rs.ctrlpts[1] - tgtPos.y\n      };\n\n      var _cpL = Math.sqrt(_cpD.x * _cpD.x + _cpD.y * _cpD.y); // length of line\n\n\n      var _cpM = {\n        // normalised delta\n        x: _cpD.x / _cpL,\n        y: _cpD.y / _cpL\n      };\n\n      var _radius = Math.max(srcW, srcH);\n\n      var _cpProj = {\n        // *2 radius guarantees outside shape\n        x: rs.ctrlpts[0] + _cpM.x * 2 * _radius,\n        y: rs.ctrlpts[1] + _cpM.y * 2 * _radius\n      };\n      var tgtCtrlPtIntn = tgtShape.intersectLine(tgtPos.x, tgtPos.y, tgtW, tgtH, _cpProj.x, _cpProj.y, 0);\n\n      if (closeEndACp) {\n        rs.ctrlpts[0] = rs.ctrlpts[0] + _cpM.x * (minCpADist - endACpDist);\n        rs.ctrlpts[1] = rs.ctrlpts[1] + _cpM.y * (minCpADist - endACpDist);\n      } else {\n        rs.ctrlpts[0] = tgtCtrlPtIntn[0] + _cpM.x * minCpADist;\n        rs.ctrlpts[1] = tgtCtrlPtIntn[1] + _cpM.y * minCpADist;\n      }\n    }\n\n    if (overlapping) {\n      // recalc endpts\n      this.findEndpoints(edge);\n    }\n  }\n};\n\nBRp$3.storeAllpts = function (edge) {\n  var rs = edge._private.rscratch;\n\n  if (rs.edgeType === 'multibezier' || rs.edgeType === 'bezier' || rs.edgeType === 'self' || rs.edgeType === 'compound') {\n    rs.allpts = [];\n    rs.allpts.push(rs.startX, rs.startY);\n\n    for (var b = 0; b + 1 < rs.ctrlpts.length; b += 2) {\n      // ctrl pt itself\n      rs.allpts.push(rs.ctrlpts[b], rs.ctrlpts[b + 1]); // the midpt between ctrlpts as intermediate destination pts\n\n      if (b + 3 < rs.ctrlpts.length) {\n        rs.allpts.push((rs.ctrlpts[b] + rs.ctrlpts[b + 2]) / 2, (rs.ctrlpts[b + 1] + rs.ctrlpts[b + 3]) / 2);\n      }\n    }\n\n    rs.allpts.push(rs.endX, rs.endY);\n    var m, mt;\n\n    if (rs.ctrlpts.length / 2 % 2 === 0) {\n      m = rs.allpts.length / 2 - 1;\n      rs.midX = rs.allpts[m];\n      rs.midY = rs.allpts[m + 1];\n    } else {\n      m = rs.allpts.length / 2 - 3;\n      mt = 0.5;\n      rs.midX = qbezierAt(rs.allpts[m], rs.allpts[m + 2], rs.allpts[m + 4], mt);\n      rs.midY = qbezierAt(rs.allpts[m + 1], rs.allpts[m + 3], rs.allpts[m + 5], mt);\n    }\n  } else if (rs.edgeType === 'straight') {\n    // need to calc these after endpts\n    rs.allpts = [rs.startX, rs.startY, rs.endX, rs.endY]; // default midpt for labels etc\n\n    rs.midX = (rs.startX + rs.endX + rs.arrowStartX + rs.arrowEndX) / 4;\n    rs.midY = (rs.startY + rs.endY + rs.arrowStartY + rs.arrowEndY) / 4;\n  } else if (rs.edgeType === 'segments') {\n    rs.allpts = [];\n    rs.allpts.push(rs.startX, rs.startY);\n    rs.allpts.push.apply(rs.allpts, rs.segpts);\n    rs.allpts.push(rs.endX, rs.endY);\n\n    if (rs.segpts.length % 4 === 0) {\n      var i2 = rs.segpts.length / 2;\n      var i1 = i2 - 2;\n      rs.midX = (rs.segpts[i1] + rs.segpts[i2]) / 2;\n      rs.midY = (rs.segpts[i1 + 1] + rs.segpts[i2 + 1]) / 2;\n    } else {\n      var _i = rs.segpts.length / 2 - 1;\n\n      rs.midX = rs.segpts[_i];\n      rs.midY = rs.segpts[_i + 1];\n    }\n  }\n};\n\nBRp$3.checkForInvalidEdgeWarning = function (edge) {\n  var rs = edge[0]._private.rscratch;\n\n  if (rs.nodesOverlap || number(rs.startX) && number(rs.startY) && number(rs.endX) && number(rs.endY)) {\n    rs.loggedErr = false;\n  } else {\n    if (!rs.loggedErr) {\n      rs.loggedErr = true;\n      warn('Edge `' + edge.id() + '` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap.');\n    }\n  }\n};\n\nBRp$3.findEdgeControlPoints = function (edges) {\n  var _this = this;\n\n  if (!edges || edges.length === 0) {\n    return;\n  }\n\n  var r = this;\n  var cy = r.cy;\n  var hasCompounds = cy.hasCompoundNodes();\n  var hashTable = {\n    map: new Map$1(),\n    get: function get(pairId) {\n      var map2 = this.map.get(pairId[0]);\n\n      if (map2 != null) {\n        return map2.get(pairId[1]);\n      } else {\n        return null;\n      }\n    },\n    set: function set(pairId, val) {\n      var map2 = this.map.get(pairId[0]);\n\n      if (map2 == null) {\n        map2 = new Map$1();\n        this.map.set(pairId[0], map2);\n      }\n\n      map2.set(pairId[1], val);\n    }\n  };\n  var pairIds = [];\n  var haystackEdges = []; // create a table of edge (src, tgt) => list of edges between them\n\n  for (var i = 0; i < edges.length; i++) {\n    var edge = edges[i];\n    var _p = edge._private;\n    var curveStyle = edge.pstyle('curve-style').value; // ignore edges who are not to be displayed\n    // they shouldn't take up space\n\n    if (edge.removed() || !edge.takesUpSpace()) {\n      continue;\n    }\n\n    if (curveStyle === 'haystack') {\n      haystackEdges.push(edge);\n      continue;\n    }\n\n    var edgeIsUnbundled = curveStyle === 'unbundled-bezier' || curveStyle === 'segments' || curveStyle === 'straight' || curveStyle === 'taxi';\n    var edgeIsBezier = curveStyle === 'unbundled-bezier' || curveStyle === 'bezier';\n    var src = _p.source;\n    var tgt = _p.target;\n    var srcIndex = src.poolIndex();\n    var tgtIndex = tgt.poolIndex();\n    var pairId = [srcIndex, tgtIndex].sort();\n    var tableEntry = hashTable.get(pairId);\n\n    if (tableEntry == null) {\n      tableEntry = {\n        eles: []\n      };\n      hashTable.set(pairId, tableEntry);\n      pairIds.push(pairId);\n    }\n\n    tableEntry.eles.push(edge);\n\n    if (edgeIsUnbundled) {\n      tableEntry.hasUnbundled = true;\n    }\n\n    if (edgeIsBezier) {\n      tableEntry.hasBezier = true;\n    }\n  } // for each pair (src, tgt), create the ctrl pts\n  // Nested for loop is OK; total number of iterations for both loops = edgeCount\n\n\n  var _loop = function _loop(p) {\n    var pairId = pairIds[p];\n    var pairInfo = hashTable.get(pairId);\n    var swappedpairInfo = void 0;\n\n    if (!pairInfo.hasUnbundled) {\n      var pllEdges = pairInfo.eles[0].parallelEdges().filter(function (e) {\n        return e.isBundledBezier();\n      });\n      clearArray(pairInfo.eles);\n      pllEdges.forEach(function (edge) {\n        return pairInfo.eles.push(edge);\n      }); // for each pair id, the edges should be sorted by index\n\n      pairInfo.eles.sort(function (edge1, edge2) {\n        return edge1.poolIndex() - edge2.poolIndex();\n      });\n    }\n\n    var firstEdge = pairInfo.eles[0];\n    var src = firstEdge.source();\n    var tgt = firstEdge.target(); // make sure src/tgt distinction is consistent w.r.t. pairId\n\n    if (src.poolIndex() > tgt.poolIndex()) {\n      var temp = src;\n      src = tgt;\n      tgt = temp;\n    }\n\n    var srcPos = pairInfo.srcPos = src.position();\n    var tgtPos = pairInfo.tgtPos = tgt.position();\n    var srcW = pairInfo.srcW = src.outerWidth();\n    var srcH = pairInfo.srcH = src.outerHeight();\n    var tgtW = pairInfo.tgtW = tgt.outerWidth();\n    var tgtH = pairInfo.tgtH = tgt.outerHeight();\n\n    var srcShape = pairInfo.srcShape = r.nodeShapes[_this.getNodeShape(src)];\n\n    var tgtShape = pairInfo.tgtShape = r.nodeShapes[_this.getNodeShape(tgt)];\n\n    pairInfo.dirCounts = {\n      'north': 0,\n      'west': 0,\n      'south': 0,\n      'east': 0,\n      'northwest': 0,\n      'southwest': 0,\n      'northeast': 0,\n      'southeast': 0\n    };\n\n    for (var _i2 = 0; _i2 < pairInfo.eles.length; _i2++) {\n      var _edge = pairInfo.eles[_i2];\n      var rs = _edge[0]._private.rscratch;\n\n      var _curveStyle = _edge.pstyle('curve-style').value;\n\n      var _edgeIsUnbundled = _curveStyle === 'unbundled-bezier' || _curveStyle === 'segments' || _curveStyle === 'taxi'; // whether the normalised pair order is the reverse of the edge's src-tgt order\n\n\n      var edgeIsSwapped = !src.same(_edge.source());\n\n      if (!pairInfo.calculatedIntersection && src !== tgt && (pairInfo.hasBezier || pairInfo.hasUnbundled)) {\n        pairInfo.calculatedIntersection = true; // pt outside src shape to calc distance/displacement from src to tgt\n\n        var srcOutside = srcShape.intersectLine(srcPos.x, srcPos.y, srcW, srcH, tgtPos.x, tgtPos.y, 0);\n        var srcIntn = pairInfo.srcIntn = srcOutside; // pt outside tgt shape to calc distance/displacement from src to tgt\n\n        var tgtOutside = tgtShape.intersectLine(tgtPos.x, tgtPos.y, tgtW, tgtH, srcPos.x, srcPos.y, 0);\n        var tgtIntn = pairInfo.tgtIntn = tgtOutside;\n        var intersectionPts = pairInfo.intersectionPts = {\n          x1: srcOutside[0],\n          x2: tgtOutside[0],\n          y1: srcOutside[1],\n          y2: tgtOutside[1]\n        };\n        var posPts = pairInfo.posPts = {\n          x1: srcPos.x,\n          x2: tgtPos.x,\n          y1: srcPos.y,\n          y2: tgtPos.y\n        };\n        var dy = tgtOutside[1] - srcOutside[1];\n        var dx = tgtOutside[0] - srcOutside[0];\n        var l = Math.sqrt(dx * dx + dy * dy);\n        var vector = pairInfo.vector = {\n          x: dx,\n          y: dy\n        };\n        var vectorNorm = pairInfo.vectorNorm = {\n          x: vector.x / l,\n          y: vector.y / l\n        };\n        var vectorNormInverse = {\n          x: -vectorNorm.y,\n          y: vectorNorm.x\n        }; // if node shapes overlap, then no ctrl pts to draw\n\n        pairInfo.nodesOverlap = !number(l) || tgtShape.checkPoint(srcOutside[0], srcOutside[1], 0, tgtW, tgtH, tgtPos.x, tgtPos.y) || srcShape.checkPoint(tgtOutside[0], tgtOutside[1], 0, srcW, srcH, srcPos.x, srcPos.y);\n        pairInfo.vectorNormInverse = vectorNormInverse;\n        swappedpairInfo = {\n          nodesOverlap: pairInfo.nodesOverlap,\n          dirCounts: pairInfo.dirCounts,\n          calculatedIntersection: true,\n          hasBezier: pairInfo.hasBezier,\n          hasUnbundled: pairInfo.hasUnbundled,\n          eles: pairInfo.eles,\n          srcPos: tgtPos,\n          tgtPos: srcPos,\n          srcW: tgtW,\n          srcH: tgtH,\n          tgtW: srcW,\n          tgtH: srcH,\n          srcIntn: tgtIntn,\n          tgtIntn: srcIntn,\n          srcShape: tgtShape,\n          tgtShape: srcShape,\n          posPts: {\n            x1: posPts.x2,\n            y1: posPts.y2,\n            x2: posPts.x1,\n            y2: posPts.y1\n          },\n          intersectionPts: {\n            x1: intersectionPts.x2,\n            y1: intersectionPts.y2,\n            x2: intersectionPts.x1,\n            y2: intersectionPts.y1\n          },\n          vector: {\n            x: -vector.x,\n            y: -vector.y\n          },\n          vectorNorm: {\n            x: -vectorNorm.x,\n            y: -vectorNorm.y\n          },\n          vectorNormInverse: {\n            x: -vectorNormInverse.x,\n            y: -vectorNormInverse.y\n          }\n        };\n      }\n\n      var passedPairInfo = edgeIsSwapped ? swappedpairInfo : pairInfo;\n      rs.nodesOverlap = passedPairInfo.nodesOverlap;\n      rs.srcIntn = passedPairInfo.srcIntn;\n      rs.tgtIntn = passedPairInfo.tgtIntn;\n\n      if (hasCompounds && (src.isParent() || src.isChild() || tgt.isParent() || tgt.isChild()) && (src.parents().anySame(tgt) || tgt.parents().anySame(src) || src.same(tgt) && src.isParent())) {\n        _this.findCompoundLoopPoints(_edge, passedPairInfo, _i2, _edgeIsUnbundled);\n      } else if (src === tgt) {\n        _this.findLoopPoints(_edge, passedPairInfo, _i2, _edgeIsUnbundled);\n      } else if (_curveStyle === 'segments') {\n        _this.findSegmentsPoints(_edge, passedPairInfo);\n      } else if (_curveStyle === 'taxi') {\n        _this.findTaxiPoints(_edge, passedPairInfo);\n      } else if (_curveStyle === 'straight' || !_edgeIsUnbundled && pairInfo.eles.length % 2 === 1 && _i2 === Math.floor(pairInfo.eles.length / 2)) {\n        _this.findStraightEdgePoints(_edge);\n      } else {\n        _this.findBezierPoints(_edge, passedPairInfo, _i2, _edgeIsUnbundled, edgeIsSwapped);\n      }\n\n      _this.findEndpoints(_edge);\n\n      _this.tryToCorrectInvalidPoints(_edge, passedPairInfo);\n\n      _this.checkForInvalidEdgeWarning(_edge);\n\n      _this.storeAllpts(_edge);\n\n      _this.storeEdgeProjections(_edge);\n\n      _this.calculateArrowAngles(_edge);\n\n      _this.recalculateEdgeLabelProjections(_edge);\n\n      _this.calculateLabelAngles(_edge);\n    } // for pair edges\n\n  };\n\n  for (var p = 0; p < pairIds.length; p++) {\n    _loop(p);\n  } // for pair ids\n  // haystacks avoid the expense of pairInfo stuff (intersections etc.)\n\n\n  this.findHaystackPoints(haystackEdges);\n};\n\nfunction getPts(pts) {\n  var retPts = [];\n\n  if (pts == null) {\n    return;\n  }\n\n  for (var i = 0; i < pts.length; i += 2) {\n    var x = pts[i];\n    var y = pts[i + 1];\n    retPts.push({\n      x: x,\n      y: y\n    });\n  }\n\n  return retPts;\n}\n\nBRp$3.getSegmentPoints = function (edge) {\n  var rs = edge[0]._private.rscratch;\n  var type = rs.edgeType;\n\n  if (type === 'segments') {\n    this.recalculateRenderedStyle(edge);\n    return getPts(rs.segpts);\n  }\n};\n\nBRp$3.getControlPoints = function (edge) {\n  var rs = edge[0]._private.rscratch;\n  var type = rs.edgeType;\n\n  if (type === 'bezier' || type === 'multibezier' || type === 'self' || type === 'compound') {\n    this.recalculateRenderedStyle(edge);\n    return getPts(rs.ctrlpts);\n  }\n};\n\nBRp$3.getEdgeMidpoint = function (edge) {\n  var rs = edge[0]._private.rscratch;\n  this.recalculateRenderedStyle(edge);\n  return {\n    x: rs.midX,\n    y: rs.midY\n  };\n};\n\nvar BRp$4 = {};\n\nBRp$4.manualEndptToPx = function (node, prop) {\n  var r = this;\n  var npos = node.position();\n  var w = node.outerWidth();\n  var h = node.outerHeight();\n\n  if (prop.value.length === 2) {\n    var p = [prop.pfValue[0], prop.pfValue[1]];\n\n    if (prop.units[0] === '%') {\n      p[0] = p[0] * w;\n    }\n\n    if (prop.units[1] === '%') {\n      p[1] = p[1] * h;\n    }\n\n    p[0] += npos.x;\n    p[1] += npos.y;\n    return p;\n  } else {\n    var angle = prop.pfValue[0];\n    angle = -Math.PI / 2 + angle; // start at 12 o'clock\n\n    var l = 2 * Math.max(w, h);\n    var _p = [npos.x + Math.cos(angle) * l, npos.y + Math.sin(angle) * l];\n    return r.nodeShapes[this.getNodeShape(node)].intersectLine(npos.x, npos.y, w, h, _p[0], _p[1], 0);\n  }\n};\n\nBRp$4.findEndpoints = function (edge) {\n  var r = this;\n  var intersect;\n  var source = edge.source()[0];\n  var target = edge.target()[0];\n  var srcPos = source.position();\n  var tgtPos = target.position();\n  var tgtArShape = edge.pstyle('target-arrow-shape').value;\n  var srcArShape = edge.pstyle('source-arrow-shape').value;\n  var tgtDist = edge.pstyle('target-distance-from-node').pfValue;\n  var srcDist = edge.pstyle('source-distance-from-node').pfValue;\n  var curveStyle = edge.pstyle('curve-style').value;\n  var rs = edge._private.rscratch;\n  var et = rs.edgeType;\n  var taxi = curveStyle === 'taxi';\n  var self = et === 'self' || et === 'compound';\n  var bezier = et === 'bezier' || et === 'multibezier' || self;\n  var multi = et !== 'bezier';\n  var lines = et === 'straight' || et === 'segments';\n  var segments = et === 'segments';\n  var hasEndpts = bezier || multi || lines;\n  var overrideEndpts = self || taxi;\n  var srcManEndpt = edge.pstyle('source-endpoint');\n  var srcManEndptVal = overrideEndpts ? 'outside-to-node' : srcManEndpt.value;\n  var tgtManEndpt = edge.pstyle('target-endpoint');\n  var tgtManEndptVal = overrideEndpts ? 'outside-to-node' : tgtManEndpt.value;\n  rs.srcManEndpt = srcManEndpt;\n  rs.tgtManEndpt = tgtManEndpt;\n  var p1; // last known point of edge on target side\n\n  var p2; // last known point of edge on source side\n\n  var p1_i; // point to intersect with target shape\n\n  var p2_i; // point to intersect with source shape\n\n  if (bezier) {\n    var cpStart = [rs.ctrlpts[0], rs.ctrlpts[1]];\n    var cpEnd = multi ? [rs.ctrlpts[rs.ctrlpts.length - 2], rs.ctrlpts[rs.ctrlpts.length - 1]] : cpStart;\n    p1 = cpEnd;\n    p2 = cpStart;\n  } else if (lines) {\n    var srcArrowFromPt = !segments ? [tgtPos.x, tgtPos.y] : rs.segpts.slice(0, 2);\n    var tgtArrowFromPt = !segments ? [srcPos.x, srcPos.y] : rs.segpts.slice(rs.segpts.length - 2);\n    p1 = tgtArrowFromPt;\n    p2 = srcArrowFromPt;\n  }\n\n  if (tgtManEndptVal === 'inside-to-node') {\n    intersect = [tgtPos.x, tgtPos.y];\n  } else if (tgtManEndpt.units) {\n    intersect = this.manualEndptToPx(target, tgtManEndpt);\n  } else if (tgtManEndptVal === 'outside-to-line') {\n    intersect = rs.tgtIntn; // use cached value from ctrlpt calc\n  } else {\n    if (tgtManEndptVal === 'outside-to-node' || tgtManEndptVal === 'outside-to-node-or-label') {\n      p1_i = p1;\n    } else if (tgtManEndptVal === 'outside-to-line' || tgtManEndptVal === 'outside-to-line-or-label') {\n      p1_i = [srcPos.x, srcPos.y];\n    }\n\n    intersect = r.nodeShapes[this.getNodeShape(target)].intersectLine(tgtPos.x, tgtPos.y, target.outerWidth(), target.outerHeight(), p1_i[0], p1_i[1], 0);\n\n    if (tgtManEndptVal === 'outside-to-node-or-label' || tgtManEndptVal === 'outside-to-line-or-label') {\n      var trs = target._private.rscratch;\n      var lw = trs.labelWidth;\n      var lh = trs.labelHeight;\n      var lx = trs.labelX;\n      var ly = trs.labelY;\n      var va = target.pstyle('text-valign').value;\n\n      if (va === 'top') {\n        ly -= lh / 2;\n      } else if (va === 'bottom') {\n        ly += lh / 2;\n      }\n\n      var ha = target.pstyle('text-halign').value;\n\n      if (ha === 'left') {\n        lx -= lw / 2;\n      } else if (ha === 'right') {\n        lx += lw / 2;\n      }\n\n      var labelIntersect = r.nodeShapes['rectangle'].intersectLine(lx, ly, lw, lh, p1_i[0], p1_i[1], 0);\n      var refPt = srcPos;\n      var intSqdist = sqdist(refPt, array2point(intersect));\n      var labIntSqdist = sqdist(refPt, array2point(labelIntersect));\n\n      if (labIntSqdist < intSqdist) {\n        intersect = labelIntersect;\n      }\n    }\n  }\n\n  var arrowEnd = shortenIntersection(intersect, p1, r.arrowShapes[tgtArShape].spacing(edge) + tgtDist);\n  var edgeEnd = shortenIntersection(intersect, p1, r.arrowShapes[tgtArShape].gap(edge) + tgtDist);\n  rs.endX = edgeEnd[0];\n  rs.endY = edgeEnd[1];\n  rs.arrowEndX = arrowEnd[0];\n  rs.arrowEndY = arrowEnd[1];\n\n  if (srcManEndptVal === 'inside-to-node') {\n    intersect = [srcPos.x, srcPos.y];\n  } else if (srcManEndpt.units) {\n    intersect = this.manualEndptToPx(source, srcManEndpt);\n  } else if (srcManEndptVal === 'outside-to-line') {\n    intersect = rs.srcIntn; // use cached value from ctrlpt calc\n  } else {\n    if (srcManEndptVal === 'outside-to-node' || srcManEndptVal === 'outside-to-node-or-label') {\n      p2_i = p2;\n    } else if (srcManEndptVal === 'outside-to-line' || srcManEndptVal === 'outside-to-line-or-label') {\n      p2_i = [tgtPos.x, tgtPos.y];\n    }\n\n    intersect = r.nodeShapes[this.getNodeShape(source)].intersectLine(srcPos.x, srcPos.y, source.outerWidth(), source.outerHeight(), p2_i[0], p2_i[1], 0);\n\n    if (srcManEndptVal === 'outside-to-node-or-label' || srcManEndptVal === 'outside-to-line-or-label') {\n      var srs = source._private.rscratch;\n      var _lw = srs.labelWidth;\n      var _lh = srs.labelHeight;\n      var _lx = srs.labelX;\n      var _ly = srs.labelY;\n      var _va = source.pstyle('text-valign').value;\n\n      if (_va === 'top') {\n        _ly -= _lh / 2;\n      } else if (_va === 'bottom') {\n        _ly += _lh / 2;\n      }\n\n      var _ha = source.pstyle('text-halign').value;\n\n      if (_ha === 'left') {\n        _lx -= _lw / 2;\n      } else if (_ha === 'right') {\n        _lx += _lw / 2;\n      }\n\n      var _labelIntersect = r.nodeShapes['rectangle'].intersectLine(_lx, _ly, _lw, _lh, p2_i[0], p2_i[1], 0);\n\n      var _refPt = tgtPos;\n\n      var _intSqdist = sqdist(_refPt, array2point(intersect));\n\n      var _labIntSqdist = sqdist(_refPt, array2point(_labelIntersect));\n\n      if (_labIntSqdist < _intSqdist) {\n        intersect = _labelIntersect;\n      }\n    }\n  }\n\n  var arrowStart = shortenIntersection(intersect, p2, r.arrowShapes[srcArShape].spacing(edge) + srcDist);\n  var edgeStart = shortenIntersection(intersect, p2, r.arrowShapes[srcArShape].gap(edge) + srcDist);\n  rs.startX = edgeStart[0];\n  rs.startY = edgeStart[1];\n  rs.arrowStartX = arrowStart[0];\n  rs.arrowStartY = arrowStart[1];\n\n  if (hasEndpts) {\n    if (!number(rs.startX) || !number(rs.startY) || !number(rs.endX) || !number(rs.endY)) {\n      rs.badLine = true;\n    } else {\n      rs.badLine = false;\n    }\n  }\n};\n\nBRp$4.getSourceEndpoint = function (edge) {\n  var rs = edge[0]._private.rscratch;\n  this.recalculateRenderedStyle(edge);\n\n  switch (rs.edgeType) {\n    case 'haystack':\n      return {\n        x: rs.haystackPts[0],\n        y: rs.haystackPts[1]\n      };\n\n    default:\n      return {\n        x: rs.arrowStartX,\n        y: rs.arrowStartY\n      };\n  }\n};\n\nBRp$4.getTargetEndpoint = function (edge) {\n  var rs = edge[0]._private.rscratch;\n  this.recalculateRenderedStyle(edge);\n\n  switch (rs.edgeType) {\n    case 'haystack':\n      return {\n        x: rs.haystackPts[2],\n        y: rs.haystackPts[3]\n      };\n\n    default:\n      return {\n        x: rs.arrowEndX,\n        y: rs.arrowEndY\n      };\n  }\n};\n\nvar BRp$5 = {};\n\nfunction pushBezierPts(r, edge, pts) {\n  var qbezierAt$1 = function qbezierAt$1(p1, p2, p3, t) {\n    return qbezierAt(p1, p2, p3, t);\n  };\n\n  var _p = edge._private;\n  var bpts = _p.rstyle.bezierPts;\n\n  for (var i = 0; i < r.bezierProjPcts.length; i++) {\n    var p = r.bezierProjPcts[i];\n    bpts.push({\n      x: qbezierAt$1(pts[0], pts[2], pts[4], p),\n      y: qbezierAt$1(pts[1], pts[3], pts[5], p)\n    });\n  }\n}\n\nBRp$5.storeEdgeProjections = function (edge) {\n  var _p = edge._private;\n  var rs = _p.rscratch;\n  var et = rs.edgeType; // clear the cached points state\n\n  _p.rstyle.bezierPts = null;\n  _p.rstyle.linePts = null;\n  _p.rstyle.haystackPts = null;\n\n  if (et === 'multibezier' || et === 'bezier' || et === 'self' || et === 'compound') {\n    _p.rstyle.bezierPts = [];\n\n    for (var i = 0; i + 5 < rs.allpts.length; i += 4) {\n      pushBezierPts(this, edge, rs.allpts.slice(i, i + 6));\n    }\n  } else if (et === 'segments') {\n    var lpts = _p.rstyle.linePts = [];\n\n    for (var i = 0; i + 1 < rs.allpts.length; i += 2) {\n      lpts.push({\n        x: rs.allpts[i],\n        y: rs.allpts[i + 1]\n      });\n    }\n  } else if (et === 'haystack') {\n    var hpts = rs.haystackPts;\n    _p.rstyle.haystackPts = [{\n      x: hpts[0],\n      y: hpts[1]\n    }, {\n      x: hpts[2],\n      y: hpts[3]\n    }];\n  }\n\n  _p.rstyle.arrowWidth = this.getArrowWidth(edge.pstyle('width').pfValue, edge.pstyle('arrow-scale').value) * this.arrowShapeWidth;\n};\n\nBRp$5.recalculateEdgeProjections = function (edges) {\n  this.findEdgeControlPoints(edges);\n};\n\nvar BRp$6 = {};\n\nBRp$6.recalculateNodeLabelProjection = function (node) {\n  var content = node.pstyle('label').strValue;\n\n  if (emptyString(content)) {\n    return;\n  }\n\n  var textX, textY;\n  var _p = node._private;\n  var nodeWidth = node.width();\n  var nodeHeight = node.height();\n  var padding = node.padding();\n  var nodePos = node.position();\n  var textHalign = node.pstyle('text-halign').strValue;\n  var textValign = node.pstyle('text-valign').strValue;\n  var rs = _p.rscratch;\n  var rstyle = _p.rstyle;\n\n  switch (textHalign) {\n    case 'left':\n      textX = nodePos.x - nodeWidth / 2 - padding;\n      break;\n\n    case 'right':\n      textX = nodePos.x + nodeWidth / 2 + padding;\n      break;\n\n    default:\n      // e.g. center\n      textX = nodePos.x;\n  }\n\n  switch (textValign) {\n    case 'top':\n      textY = nodePos.y - nodeHeight / 2 - padding;\n      break;\n\n    case 'bottom':\n      textY = nodePos.y + nodeHeight / 2 + padding;\n      break;\n\n    default:\n      // e.g. middle\n      textY = nodePos.y;\n  }\n\n  rs.labelX = textX;\n  rs.labelY = textY;\n  rstyle.labelX = textX;\n  rstyle.labelY = textY;\n  this.applyLabelDimensions(node);\n};\n\nvar lineAngleFromDelta = function lineAngleFromDelta(dx, dy) {\n  var angle = Math.atan(dy / dx);\n\n  if (dx === 0 && angle < 0) {\n    angle = angle * -1;\n  }\n\n  return angle;\n};\n\nvar lineAngle = function lineAngle(p0, p1) {\n  var dx = p1.x - p0.x;\n  var dy = p1.y - p0.y;\n  return lineAngleFromDelta(dx, dy);\n};\n\nvar bezierAngle = function bezierAngle(p0, p1, p2, t) {\n  var t0 = bound(0, t - 0.001, 1);\n  var t1 = bound(0, t + 0.001, 1);\n  var lp0 = qbezierPtAt(p0, p1, p2, t0);\n  var lp1 = qbezierPtAt(p0, p1, p2, t1);\n  return lineAngle(lp0, lp1);\n};\n\nBRp$6.recalculateEdgeLabelProjections = function (edge) {\n  var p;\n  var _p = edge._private;\n  var rs = _p.rscratch;\n  var r = this;\n  var content = {\n    mid: edge.pstyle('label').strValue,\n    source: edge.pstyle('source-label').strValue,\n    target: edge.pstyle('target-label').strValue\n  };\n\n  if (content.mid || content.source || content.target) ; else {\n      return; // no labels => no calcs\n    } // add center point to style so bounding box calculations can use it\n  //\n\n\n  p = {\n    x: rs.midX,\n    y: rs.midY\n  };\n\n  var setRs = function setRs(propName, prefix, value) {\n    setPrefixedProperty(_p.rscratch, propName, prefix, value);\n    setPrefixedProperty(_p.rstyle, propName, prefix, value);\n  };\n\n  setRs('labelX', null, p.x);\n  setRs('labelY', null, p.y);\n  var midAngle = lineAngleFromDelta(rs.midDispX, rs.midDispY);\n  setRs('labelAutoAngle', null, midAngle);\n\n  var createControlPointInfo = function createControlPointInfo() {\n    if (createControlPointInfo.cache) {\n      return createControlPointInfo.cache;\n    } // use cache so only 1x per edge\n\n\n    var ctrlpts = []; // store each ctrlpt info init\n\n    for (var i = 0; i + 5 < rs.allpts.length; i += 4) {\n      var p0 = {\n        x: rs.allpts[i],\n        y: rs.allpts[i + 1]\n      };\n      var p1 = {\n        x: rs.allpts[i + 2],\n        y: rs.allpts[i + 3]\n      }; // ctrlpt\n\n      var p2 = {\n        x: rs.allpts[i + 4],\n        y: rs.allpts[i + 5]\n      };\n      ctrlpts.push({\n        p0: p0,\n        p1: p1,\n        p2: p2,\n        startDist: 0,\n        length: 0,\n        segments: []\n      });\n    }\n\n    var bpts = _p.rstyle.bezierPts;\n    var nProjs = r.bezierProjPcts.length;\n\n    function addSegment(cp, p0, p1, t0, t1) {\n      var length = dist(p0, p1);\n      var prevSegment = cp.segments[cp.segments.length - 1];\n      var segment = {\n        p0: p0,\n        p1: p1,\n        t0: t0,\n        t1: t1,\n        startDist: prevSegment ? prevSegment.startDist + prevSegment.length : 0,\n        length: length\n      };\n      cp.segments.push(segment);\n      cp.length += length;\n    } // update each ctrlpt with segment info\n\n\n    for (var _i = 0; _i < ctrlpts.length; _i++) {\n      var cp = ctrlpts[_i];\n      var prevCp = ctrlpts[_i - 1];\n\n      if (prevCp) {\n        cp.startDist = prevCp.startDist + prevCp.length;\n      }\n\n      addSegment(cp, cp.p0, bpts[_i * nProjs], 0, r.bezierProjPcts[0]); // first\n\n      for (var j = 0; j < nProjs - 1; j++) {\n        addSegment(cp, bpts[_i * nProjs + j], bpts[_i * nProjs + j + 1], r.bezierProjPcts[j], r.bezierProjPcts[j + 1]);\n      }\n\n      addSegment(cp, bpts[_i * nProjs + nProjs - 1], cp.p2, r.bezierProjPcts[nProjs - 1], 1); // last\n    }\n\n    return createControlPointInfo.cache = ctrlpts;\n  };\n\n  var calculateEndProjection = function calculateEndProjection(prefix) {\n    var angle;\n    var isSrc = prefix === 'source';\n\n    if (!content[prefix]) {\n      return;\n    }\n\n    var offset = edge.pstyle(prefix + '-text-offset').pfValue;\n\n    switch (rs.edgeType) {\n      case 'self':\n      case 'compound':\n      case 'bezier':\n      case 'multibezier':\n        {\n          var cps = createControlPointInfo();\n          var selected;\n          var startDist = 0;\n          var totalDist = 0; // find the segment we're on\n\n          for (var i = 0; i < cps.length; i++) {\n            var _cp = cps[isSrc ? i : cps.length - 1 - i];\n\n            for (var j = 0; j < _cp.segments.length; j++) {\n              var _seg = _cp.segments[isSrc ? j : _cp.segments.length - 1 - j];\n              var lastSeg = i === cps.length - 1 && j === _cp.segments.length - 1;\n              startDist = totalDist;\n              totalDist += _seg.length;\n\n              if (totalDist >= offset || lastSeg) {\n                selected = {\n                  cp: _cp,\n                  segment: _seg\n                };\n                break;\n              }\n            }\n\n            if (selected) {\n              break;\n            }\n          }\n\n          var cp = selected.cp;\n          var seg = selected.segment;\n          var tSegment = (offset - startDist) / seg.length;\n          var segDt = seg.t1 - seg.t0;\n          var t = isSrc ? seg.t0 + segDt * tSegment : seg.t1 - segDt * tSegment;\n          t = bound(0, t, 1);\n          p = qbezierPtAt(cp.p0, cp.p1, cp.p2, t);\n          angle = bezierAngle(cp.p0, cp.p1, cp.p2, t);\n          break;\n        }\n\n      case 'straight':\n      case 'segments':\n      case 'haystack':\n        {\n          var d = 0,\n              di,\n              d0;\n          var p0, p1;\n          var l = rs.allpts.length;\n\n          for (var _i2 = 0; _i2 + 3 < l; _i2 += 2) {\n            if (isSrc) {\n              p0 = {\n                x: rs.allpts[_i2],\n                y: rs.allpts[_i2 + 1]\n              };\n              p1 = {\n                x: rs.allpts[_i2 + 2],\n                y: rs.allpts[_i2 + 3]\n              };\n            } else {\n              p0 = {\n                x: rs.allpts[l - 2 - _i2],\n                y: rs.allpts[l - 1 - _i2]\n              };\n              p1 = {\n                x: rs.allpts[l - 4 - _i2],\n                y: rs.allpts[l - 3 - _i2]\n              };\n            }\n\n            di = dist(p0, p1);\n            d0 = d;\n            d += di;\n\n            if (d >= offset) {\n              break;\n            }\n          }\n\n          var pD = offset - d0;\n\n          var _t = pD / di;\n\n          _t = bound(0, _t, 1);\n          p = lineAt(p0, p1, _t);\n          angle = lineAngle(p0, p1);\n          break;\n        }\n    }\n\n    setRs('labelX', prefix, p.x);\n    setRs('labelY', prefix, p.y);\n    setRs('labelAutoAngle', prefix, angle);\n  };\n\n  calculateEndProjection('source');\n  calculateEndProjection('target');\n  this.applyLabelDimensions(edge);\n};\n\nBRp$6.applyLabelDimensions = function (ele) {\n  this.applyPrefixedLabelDimensions(ele);\n\n  if (ele.isEdge()) {\n    this.applyPrefixedLabelDimensions(ele, 'source');\n    this.applyPrefixedLabelDimensions(ele, 'target');\n  }\n};\n\nBRp$6.applyPrefixedLabelDimensions = function (ele, prefix) {\n  var _p = ele._private;\n  var text = this.getLabelText(ele, prefix);\n  var labelDims = this.calculateLabelDimensions(ele, text);\n  var lineHeight = ele.pstyle('line-height').pfValue;\n  var textWrap = ele.pstyle('text-wrap').strValue;\n  var lines = getPrefixedProperty(_p.rscratch, 'labelWrapCachedLines', prefix) || [];\n  var numLines = textWrap !== 'wrap' ? 1 : Math.max(lines.length, 1);\n  var normPerLineHeight = labelDims.height / numLines;\n  var labelLineHeight = normPerLineHeight * lineHeight;\n  var width = labelDims.width;\n  var height = labelDims.height + (numLines - 1) * (lineHeight - 1) * normPerLineHeight;\n  setPrefixedProperty(_p.rstyle, 'labelWidth', prefix, width);\n  setPrefixedProperty(_p.rscratch, 'labelWidth', prefix, width);\n  setPrefixedProperty(_p.rstyle, 'labelHeight', prefix, height);\n  setPrefixedProperty(_p.rscratch, 'labelHeight', prefix, height);\n  setPrefixedProperty(_p.rscratch, 'labelLineHeight', prefix, labelLineHeight);\n};\n\nBRp$6.getLabelText = function (ele, prefix) {\n  var _p = ele._private;\n  var pfd = prefix ? prefix + '-' : '';\n  var text = ele.pstyle(pfd + 'label').strValue;\n  var textTransform = ele.pstyle('text-transform').value;\n\n  var rscratch = function rscratch(propName, value) {\n    if (value) {\n      setPrefixedProperty(_p.rscratch, propName, prefix, value);\n      return value;\n    } else {\n      return getPrefixedProperty(_p.rscratch, propName, prefix);\n    }\n  }; // for empty text, skip all processing\n\n\n  if (!text) {\n    return '';\n  }\n\n  if (textTransform == 'none') ; else if (textTransform == 'uppercase') {\n    text = text.toUpperCase();\n  } else if (textTransform == 'lowercase') {\n    text = text.toLowerCase();\n  }\n\n  var wrapStyle = ele.pstyle('text-wrap').value;\n\n  if (wrapStyle === 'wrap') {\n    var labelKey = rscratch('labelKey'); // save recalc if the label is the same as before\n\n    if (labelKey != null && rscratch('labelWrapKey') === labelKey) {\n      return rscratch('labelWrapCachedText');\n    }\n\n    var zwsp = \"\\u200B\";\n    var lines = text.split('\\n');\n    var maxW = ele.pstyle('text-max-width').pfValue;\n    var overflow = ele.pstyle('text-overflow-wrap').value;\n    var overflowAny = overflow === 'anywhere';\n    var wrappedLines = [];\n    var wordsRegex = /[\\s\\u200b]+/;\n    var wordSeparator = overflowAny ? '' : ' ';\n\n    for (var l = 0; l < lines.length; l++) {\n      var line = lines[l];\n      var lineDims = this.calculateLabelDimensions(ele, line);\n      var lineW = lineDims.width;\n\n      if (overflowAny) {\n        var processedLine = line.split('').join(zwsp);\n        line = processedLine;\n      }\n\n      if (lineW > maxW) {\n        // line is too long\n        var words = line.split(wordsRegex);\n        var subline = '';\n\n        for (var w = 0; w < words.length; w++) {\n          var word = words[w];\n          var testLine = subline.length === 0 ? word : subline + wordSeparator + word;\n          var testDims = this.calculateLabelDimensions(ele, testLine);\n          var testW = testDims.width;\n\n          if (testW <= maxW) {\n            // word fits on current line\n            subline += word + wordSeparator;\n          } else {\n            // word starts new line\n            if (subline) {\n              wrappedLines.push(subline);\n            }\n\n            subline = word + wordSeparator;\n          }\n        } // if there's remaining text, put it in a wrapped line\n\n\n        if (!subline.match(/^[\\s\\u200b]+$/)) {\n          wrappedLines.push(subline);\n        }\n      } else {\n        // line is already short enough\n        wrappedLines.push(line);\n      }\n    } // for\n\n\n    rscratch('labelWrapCachedLines', wrappedLines);\n    text = rscratch('labelWrapCachedText', wrappedLines.join('\\n'));\n    rscratch('labelWrapKey', labelKey);\n  } else if (wrapStyle === 'ellipsis') {\n    var _maxW = ele.pstyle('text-max-width').pfValue;\n    var ellipsized = '';\n    var ellipsis = \"\\u2026\";\n    var incLastCh = false;\n\n    for (var i = 0; i < text.length; i++) {\n      var widthWithNextCh = this.calculateLabelDimensions(ele, ellipsized + text[i] + ellipsis).width;\n\n      if (widthWithNextCh > _maxW) {\n        break;\n      }\n\n      ellipsized += text[i];\n\n      if (i === text.length - 1) {\n        incLastCh = true;\n      }\n    }\n\n    if (!incLastCh) {\n      ellipsized += ellipsis;\n    }\n\n    return ellipsized;\n  } // if ellipsize\n\n\n  return text;\n};\n\nBRp$6.getLabelJustification = function (ele) {\n  var justification = ele.pstyle('text-justification').strValue;\n  var textHalign = ele.pstyle('text-halign').strValue;\n\n  if (justification === 'auto') {\n    if (ele.isNode()) {\n      switch (textHalign) {\n        case 'left':\n          return 'right';\n\n        case 'right':\n          return 'left';\n\n        default:\n          return 'center';\n      }\n    } else {\n      return 'center';\n    }\n  } else {\n    return justification;\n  }\n};\n\nBRp$6.calculateLabelDimensions = function (ele, text) {\n  var r = this;\n  var cacheKey = hashString(text, ele._private.labelDimsKey);\n  var cache = r.labelDimCache || (r.labelDimCache = []);\n  var existingVal = cache[cacheKey];\n\n  if (existingVal != null) {\n    return existingVal;\n  }\n\n  var sizeMult = 1; // increase the scale to increase accuracy w.r.t. zoomed text\n\n  var fStyle = ele.pstyle('font-style').strValue;\n  var size = sizeMult * ele.pstyle('font-size').pfValue + 'px';\n  var family = ele.pstyle('font-family').strValue;\n  var weight = ele.pstyle('font-weight').strValue;\n  var div = this.labelCalcDiv;\n\n  if (!div) {\n    div = this.labelCalcDiv = document.createElement('div'); // eslint-disable-line no-undef\n\n    document.body.appendChild(div); // eslint-disable-line no-undef\n  }\n\n  var ds = div.style; // from ele style\n\n  ds.fontFamily = family;\n  ds.fontStyle = fStyle;\n  ds.fontSize = size;\n  ds.fontWeight = weight; // forced style\n\n  ds.position = 'absolute';\n  ds.left = '-9999px';\n  ds.top = '-9999px';\n  ds.zIndex = '-1';\n  ds.visibility = 'hidden';\n  ds.pointerEvents = 'none';\n  ds.padding = '0';\n  ds.lineHeight = '1';\n\n  if (ele.pstyle('text-wrap').value === 'wrap') {\n    ds.whiteSpace = 'pre'; // so newlines are taken into account\n  } else {\n    ds.whiteSpace = 'normal';\n  } // put label content in div\n\n\n  div.textContent = text;\n  return cache[cacheKey] = {\n    width: Math.ceil(div.clientWidth / sizeMult),\n    height: Math.ceil(div.clientHeight / sizeMult)\n  };\n};\n\nBRp$6.calculateLabelAngle = function (ele, prefix) {\n  var _p = ele._private;\n  var rs = _p.rscratch;\n  var isEdge = ele.isEdge();\n  var prefixDash = prefix ? prefix + '-' : '';\n  var rot = ele.pstyle(prefixDash + 'text-rotation');\n  var rotStr = rot.strValue;\n\n  if (rotStr === 'none') {\n    return 0;\n  } else if (isEdge && rotStr === 'autorotate') {\n    return rs.labelAutoAngle;\n  } else if (rotStr === 'autorotate') {\n    return 0;\n  } else {\n    return rot.pfValue;\n  }\n};\n\nBRp$6.calculateLabelAngles = function (ele) {\n  var r = this;\n  var isEdge = ele.isEdge();\n  var _p = ele._private;\n  var rs = _p.rscratch;\n  rs.labelAngle = r.calculateLabelAngle(ele);\n\n  if (isEdge) {\n    rs.sourceLabelAngle = r.calculateLabelAngle(ele, 'source');\n    rs.targetLabelAngle = r.calculateLabelAngle(ele, 'target');\n  }\n};\n\nvar BRp$7 = {};\nvar TOO_SMALL_CUT_RECT = 28;\nvar warnedCutRect = false;\n\nBRp$7.getNodeShape = function (node) {\n  var r = this;\n  var shape = node.pstyle('shape').value;\n\n  if (shape === 'cutrectangle' && (node.width() < TOO_SMALL_CUT_RECT || node.height() < TOO_SMALL_CUT_RECT)) {\n    if (!warnedCutRect) {\n      warn('The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead');\n      warnedCutRect = true;\n    }\n\n    return 'rectangle';\n  }\n\n  if (node.isParent()) {\n    if (shape === 'rectangle' || shape === 'roundrectangle' || shape === 'cutrectangle' || shape === 'barrel') {\n      return shape;\n    } else {\n      return 'rectangle';\n    }\n  }\n\n  if (shape === 'polygon') {\n    var points = node.pstyle('shape-polygon-points').value;\n    return r.nodeShapes.makePolygon(points).name;\n  }\n\n  return shape;\n};\n\nvar BRp$8 = {};\n\nBRp$8.registerCalculationListeners = function () {\n  var cy = this.cy;\n  var elesToUpdate = cy.collection();\n  var r = this;\n\n  var enqueue = function enqueue(eles) {\n    var dirtyStyleCaches = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    elesToUpdate.merge(eles);\n\n    if (dirtyStyleCaches) {\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        var _p = ele._private;\n        var rstyle = _p.rstyle;\n        rstyle.clean = false;\n        rstyle.cleanConnected = false;\n      }\n    }\n  };\n\n  r.binder(cy).on('bounds.* dirty.*', function onDirtyBounds(e) {\n    var ele = e.target;\n    enqueue(ele);\n  }).on('style.* background.*', function onDirtyStyle(e) {\n    var ele = e.target;\n    enqueue(ele, false);\n  });\n\n  var updateEleCalcs = function updateEleCalcs(willDraw) {\n    if (willDraw) {\n      var fns = r.onUpdateEleCalcsFns;\n\n      for (var i = 0; i < elesToUpdate.length; i++) {\n        var ele = elesToUpdate[i];\n        var rstyle = ele._private.rstyle;\n\n        if (ele.isNode() && !rstyle.cleanConnected) {\n          enqueue(ele.connectedEdges());\n          rstyle.cleanConnected = true;\n        }\n      }\n\n      if (fns) {\n        for (var i = 0; i < fns.length; i++) {\n          var fn = fns[i];\n          fn(willDraw, elesToUpdate);\n        }\n      }\n\n      r.recalculateRenderedStyle(elesToUpdate);\n      elesToUpdate = cy.collection();\n    }\n  };\n\n  r.flushRenderedStyleQueue = function () {\n    updateEleCalcs(true);\n  };\n\n  r.beforeRender(updateEleCalcs, r.beforeRenderPriorities.eleCalcs);\n};\n\nBRp$8.onUpdateEleCalcs = function (fn) {\n  var fns = this.onUpdateEleCalcsFns = this.onUpdateEleCalcsFns || [];\n  fns.push(fn);\n};\n\nBRp$8.recalculateRenderedStyle = function (eles, useCache) {\n  var edges = [];\n  var nodes = []; // the renderer can't be used for calcs when destroyed, e.g. ele.boundingBox()\n\n  if (this.destroyed) {\n    return;\n  } // use cache by default for perf\n\n\n  if (useCache === undefined) {\n    useCache = true;\n  }\n\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    var _p = ele._private;\n    var rstyle = _p.rstyle; // only update if dirty and in graph\n\n    if (useCache && rstyle.clean || ele.removed()) {\n      continue;\n    } // only update if not display: none\n\n\n    if (ele.pstyle('display').value === 'none') {\n      continue;\n    }\n\n    if (_p.group === 'nodes') {\n      nodes.push(ele);\n    } else {\n      // edges\n      edges.push(ele);\n    }\n\n    rstyle.clean = true;\n  } // update node data from projections\n\n\n  for (var i = 0; i < nodes.length; i++) {\n    var ele = nodes[i];\n    var _p = ele._private;\n    var rstyle = _p.rstyle;\n    var pos = ele.position();\n    this.recalculateNodeLabelProjection(ele);\n    rstyle.nodeX = pos.x;\n    rstyle.nodeY = pos.y;\n    rstyle.nodeW = ele.pstyle('width').pfValue;\n    rstyle.nodeH = ele.pstyle('height').pfValue;\n  }\n\n  this.recalculateEdgeProjections(edges); // update edge data from projections\n\n  for (var i = 0; i < edges.length; i++) {\n    var ele = edges[i];\n    var _p = ele._private;\n    var rstyle = _p.rstyle;\n    var rs = _p.rscratch; // update rstyle positions\n\n    rstyle.srcX = rs.arrowStartX;\n    rstyle.srcY = rs.arrowStartY;\n    rstyle.tgtX = rs.arrowEndX;\n    rstyle.tgtY = rs.arrowEndY;\n    rstyle.midX = rs.midX;\n    rstyle.midY = rs.midY;\n    rstyle.labelAngle = rs.labelAngle;\n    rstyle.sourceLabelAngle = rs.sourceLabelAngle;\n    rstyle.targetLabelAngle = rs.targetLabelAngle;\n  }\n};\n\nvar BRp$9 = {};\n\nBRp$9.updateCachedGrabbedEles = function () {\n  var eles = this.cachedZSortedEles;\n\n  if (!eles) {\n    // just let this be recalculated on the next z sort tick\n    return;\n  }\n\n  eles.drag = [];\n  eles.nondrag = [];\n  var grabTargets = [];\n\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    var rs = ele._private.rscratch;\n\n    if (ele.grabbed() && !ele.isParent()) {\n      grabTargets.push(ele);\n    } else if (rs.inDragLayer) {\n      eles.drag.push(ele);\n    } else {\n      eles.nondrag.push(ele);\n    }\n  } // put the grab target nodes last so it's on top of its neighbourhood\n\n\n  for (var i = 0; i < grabTargets.length; i++) {\n    var ele = grabTargets[i];\n    eles.drag.push(ele);\n  }\n};\n\nBRp$9.invalidateCachedZSortedEles = function () {\n  this.cachedZSortedEles = null;\n};\n\nBRp$9.getCachedZSortedEles = function (forceRecalc) {\n  if (forceRecalc || !this.cachedZSortedEles) {\n    var eles = this.cy.mutableElements().toArray();\n    eles.sort(zIndexSort);\n    eles.interactive = eles.filter(function (ele) {\n      return ele.interactive();\n    });\n    this.cachedZSortedEles = eles;\n    this.updateCachedGrabbedEles();\n  } else {\n    eles = this.cachedZSortedEles;\n  }\n\n  return eles;\n};\n\nvar BRp$a = {};\n[BRp$1, BRp$2, BRp$3, BRp$4, BRp$5, BRp$6, BRp$7, BRp$8, BRp$9].forEach(function (props) {\n  extend(BRp$a, props);\n});\n\nvar BRp$b = {};\n\nBRp$b.getCachedImage = function (url, crossOrigin, onLoad) {\n  var r = this;\n  var imageCache = r.imageCache = r.imageCache || {};\n  var cache = imageCache[url];\n\n  if (cache) {\n    if (!cache.image.complete) {\n      cache.image.addEventListener('load', onLoad);\n    }\n\n    return cache.image;\n  } else {\n    cache = imageCache[url] = imageCache[url] || {};\n    var image = cache.image = new Image(); // eslint-disable-line no-undef\n\n    image.addEventListener('load', onLoad);\n    image.addEventListener('error', function () {\n      image.error = true;\n    }); // #1582 safari doesn't load data uris with crossOrigin properly\n    // https://bugs.webkit.org/show_bug.cgi?id=123978\n\n    var dataUriPrefix = 'data:';\n    var isDataUri = url.substring(0, dataUriPrefix.length).toLowerCase() === dataUriPrefix;\n\n    if (!isDataUri) {\n      image.crossOrigin = crossOrigin; // prevent tainted canvas\n    }\n\n    image.src = url;\n    return image;\n  }\n};\n\nvar BRp$c = {};\n/* global document, window, ResizeObserver, MutationObserver */\n\nBRp$c.registerBinding = function (target, event, handler, useCapture) {\n  // eslint-disable-line no-unused-vars\n  var args = Array.prototype.slice.apply(arguments, [1]); // copy\n\n  var b = this.binder(target);\n  return b.on.apply(b, args);\n};\n\nBRp$c.binder = function (tgt) {\n  var r = this;\n  var tgtIsDom = tgt === window || tgt === document || tgt === document.body || domElement(tgt);\n\n  if (r.supportsPassiveEvents == null) {\n    // from https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\n    var supportsPassive = false;\n\n    try {\n      var opts = Object.defineProperty({}, 'passive', {\n        get: function get() {\n          supportsPassive = true;\n          return true;\n        }\n      });\n      window.addEventListener('test', null, opts);\n    } catch (err) {// not supported\n    }\n\n    r.supportsPassiveEvents = supportsPassive;\n  }\n\n  var on = function on(event, handler, useCapture) {\n    var args = Array.prototype.slice.call(arguments);\n\n    if (tgtIsDom && r.supportsPassiveEvents) {\n      // replace useCapture w/ opts obj\n      args[2] = {\n        capture: useCapture != null ? useCapture : false,\n        passive: false,\n        once: false\n      };\n    }\n\n    r.bindings.push({\n      target: tgt,\n      args: args\n    });\n    (tgt.addEventListener || tgt.on).apply(tgt, args);\n    return this;\n  };\n\n  return {\n    on: on,\n    addEventListener: on,\n    addListener: on,\n    bind: on\n  };\n};\n\nBRp$c.nodeIsDraggable = function (node) {\n  return node && node.isNode() && !node.locked() && node.grabbable();\n};\n\nBRp$c.nodeIsGrabbable = function (node) {\n  return this.nodeIsDraggable(node) && node.interactive();\n};\n\nBRp$c.load = function () {\n  var r = this;\n\n  var isSelected = function isSelected(ele) {\n    return ele.selected();\n  };\n\n  var triggerEvents = function triggerEvents(target, names, e, position) {\n    if (target == null) {\n      target = r.cy;\n    }\n\n    for (var i = 0; i < names.length; i++) {\n      var name = names[i];\n      target.emit({\n        originalEvent: e,\n        type: name,\n        position: position\n      });\n    }\n  };\n\n  var isMultSelKeyDown = function isMultSelKeyDown(e) {\n    return e.shiftKey || e.metaKey || e.ctrlKey; // maybe e.altKey\n  };\n\n  var allowPanningPassthrough = function allowPanningPassthrough(down, downs) {\n    var allowPassthrough = true;\n\n    if (r.cy.hasCompoundNodes() && down && down.pannable()) {\n      // a grabbable compound node below the ele => no passthrough panning\n      for (var i = 0; downs && i < downs.length; i++) {\n        var down = downs[i];\n\n        if (down.isNode() && down.isParent()) {\n          allowPassthrough = false;\n          break;\n        }\n      }\n    } else {\n      allowPassthrough = true;\n    }\n\n    return allowPassthrough;\n  };\n\n  var setGrabbed = function setGrabbed(ele) {\n    ele[0]._private.grabbed = true;\n  };\n\n  var setFreed = function setFreed(ele) {\n    ele[0]._private.grabbed = false;\n  };\n\n  var setInDragLayer = function setInDragLayer(ele) {\n    ele[0]._private.rscratch.inDragLayer = true;\n  };\n\n  var setOutDragLayer = function setOutDragLayer(ele) {\n    ele[0]._private.rscratch.inDragLayer = false;\n  };\n\n  var setGrabTarget = function setGrabTarget(ele) {\n    ele[0]._private.rscratch.isGrabTarget = true;\n  };\n\n  var removeGrabTarget = function removeGrabTarget(ele) {\n    ele[0]._private.rscratch.isGrabTarget = false;\n  };\n\n  var addToDragList = function addToDragList(ele, opts) {\n    var list = opts.addToList;\n    var listHasEle = list.has(ele);\n\n    if (!listHasEle) {\n      list.merge(ele);\n      setGrabbed(ele);\n    }\n  }; // helper function to determine which child nodes and inner edges\n  // of a compound node to be dragged as well as the grabbed and selected nodes\n\n\n  var addDescendantsToDrag = function addDescendantsToDrag(node, opts) {\n    if (!node.cy().hasCompoundNodes()) {\n      return;\n    }\n\n    if (opts.inDragLayer == null && opts.addToList == null) {\n      return;\n    } // nothing to do\n\n\n    var innerNodes = node.descendants();\n\n    if (opts.inDragLayer) {\n      innerNodes.forEach(setInDragLayer);\n      innerNodes.connectedEdges().forEach(setInDragLayer);\n    }\n\n    if (opts.addToList) {\n      opts.addToList.unmerge(innerNodes);\n    }\n  }; // adds the given nodes and its neighbourhood to the drag layer\n\n\n  var addNodesToDrag = function addNodesToDrag(nodes, opts) {\n    opts = opts || {};\n    var hasCompoundNodes = nodes.cy().hasCompoundNodes();\n\n    if (opts.inDragLayer) {\n      nodes.forEach(setInDragLayer);\n      nodes.neighborhood().stdFilter(function (ele) {\n        return !hasCompoundNodes || ele.isEdge();\n      }).forEach(setInDragLayer);\n    }\n\n    if (opts.addToList) {\n      nodes.forEach(function (ele) {\n        addToDragList(ele, opts);\n      });\n    }\n\n    addDescendantsToDrag(nodes, opts); // always add to drag\n    // also add nodes and edges related to the topmost ancestor\n\n    updateAncestorsInDragLayer(nodes, {\n      inDragLayer: opts.inDragLayer\n    });\n    r.updateCachedGrabbedEles();\n  };\n\n  var addNodeToDrag = addNodesToDrag;\n\n  var freeDraggedElements = function freeDraggedElements(grabbedEles) {\n    if (!grabbedEles) {\n      return;\n    } // just go over all elements rather than doing a bunch of (possibly expensive) traversals\n\n\n    r.getCachedZSortedEles().forEach(function (ele) {\n      setFreed(ele);\n      setOutDragLayer(ele);\n      removeGrabTarget(ele);\n    });\n    r.updateCachedGrabbedEles();\n  }; // helper function to determine which ancestor nodes and edges should go\n  // to the drag layer (or should be removed from drag layer).\n\n\n  var updateAncestorsInDragLayer = function updateAncestorsInDragLayer(node, opts) {\n    if (opts.inDragLayer == null && opts.addToList == null) {\n      return;\n    } // nothing to do\n\n\n    if (!node.cy().hasCompoundNodes()) {\n      return;\n    } // find top-level parent\n\n\n    var parent = node.ancestors().orphans(); // no parent node: no nodes to add to the drag layer\n\n    if (parent.same(node)) {\n      return;\n    }\n\n    var nodes = parent.descendants().spawnSelf().merge(parent).unmerge(node).unmerge(node.descendants());\n    var edges = nodes.connectedEdges();\n\n    if (opts.inDragLayer) {\n      edges.forEach(setInDragLayer);\n      nodes.forEach(setInDragLayer);\n    }\n\n    if (opts.addToList) {\n      nodes.forEach(function (ele) {\n        addToDragList(ele, opts);\n      });\n    }\n  };\n\n  var blurActiveDomElement = function blurActiveDomElement() {\n    if (document.activeElement != null && document.activeElement.blur != null) {\n      document.activeElement.blur();\n    }\n  };\n\n  var haveMutationsApi = typeof MutationObserver !== 'undefined';\n  var haveResizeObserverApi = typeof ResizeObserver !== 'undefined'; // watch for when the cy container is removed from the dom\n\n  if (haveMutationsApi) {\n    r.removeObserver = new MutationObserver(function (mutns) {\n      // eslint-disable-line no-undef\n      for (var i = 0; i < mutns.length; i++) {\n        var mutn = mutns[i];\n        var rNodes = mutn.removedNodes;\n\n        if (rNodes) {\n          for (var j = 0; j < rNodes.length; j++) {\n            var rNode = rNodes[j];\n\n            if (rNode === r.container) {\n              r.destroy();\n              break;\n            }\n          }\n        }\n      }\n    });\n\n    if (r.container.parentNode) {\n      r.removeObserver.observe(r.container.parentNode, {\n        childList: true\n      });\n    }\n  } else {\n    r.registerBinding(r.container, 'DOMNodeRemoved', function (e) {\n      // eslint-disable-line no-unused-vars\n      r.destroy();\n    });\n  }\n\n  var onResize = util(function () {\n    r.cy.resize();\n  }, 100);\n\n  if (haveMutationsApi) {\n    r.styleObserver = new MutationObserver(onResize); // eslint-disable-line no-undef\n\n    r.styleObserver.observe(r.container, {\n      attributes: true\n    });\n  } // auto resize\n\n\n  r.registerBinding(window, 'resize', onResize); // eslint-disable-line no-undef\n\n  if (haveResizeObserverApi) {\n    r.resizeObserver = new ResizeObserver(onResize); // eslint-disable-line no-undef\n\n    r.resizeObserver.observe(r.container);\n  }\n\n  var forEachUp = function forEachUp(domEle, fn) {\n    while (domEle != null) {\n      fn(domEle);\n      domEle = domEle.parentNode;\n    }\n  };\n\n  var invalidateCoords = function invalidateCoords() {\n    r.invalidateContainerClientCoordsCache();\n  };\n\n  forEachUp(r.container, function (domEle) {\n    r.registerBinding(domEle, 'transitionend', invalidateCoords);\n    r.registerBinding(domEle, 'animationend', invalidateCoords);\n    r.registerBinding(domEle, 'scroll', invalidateCoords);\n  }); // stop right click menu from appearing on cy\n\n  r.registerBinding(r.container, 'contextmenu', function (e) {\n    e.preventDefault();\n  });\n\n  var inBoxSelection = function inBoxSelection() {\n    return r.selection[4] !== 0;\n  };\n\n  var eventInContainer = function eventInContainer(e) {\n    // save cycles if mouse events aren't to be captured\n    var containerPageCoords = r.findContainerClientCoords();\n    var x = containerPageCoords[0];\n    var y = containerPageCoords[1];\n    var width = containerPageCoords[2];\n    var height = containerPageCoords[3];\n    var positions = e.touches ? e.touches : [e];\n    var atLeastOnePosInside = false;\n\n    for (var i = 0; i < positions.length; i++) {\n      var p = positions[i];\n\n      if (x <= p.clientX && p.clientX <= x + width && y <= p.clientY && p.clientY <= y + height) {\n        atLeastOnePosInside = true;\n        break;\n      }\n    }\n\n    if (!atLeastOnePosInside) {\n      return false;\n    }\n\n    var container = r.container;\n    var target = e.target;\n    var tParent = target.parentNode;\n    var containerIsTarget = false;\n\n    while (tParent) {\n      if (tParent === container) {\n        containerIsTarget = true;\n        break;\n      }\n\n      tParent = tParent.parentNode;\n    }\n\n    if (!containerIsTarget) {\n      return false;\n    } // if target is outisde cy container, then this event is not for us\n\n\n    return true;\n  }; // Primary key\n\n\n  r.registerBinding(r.container, 'mousedown', function mousedownHandler(e) {\n    if (!eventInContainer(e)) {\n      return;\n    }\n\n    e.preventDefault();\n    blurActiveDomElement();\n    r.hoverData.capture = true;\n    r.hoverData.which = e.which;\n    var cy = r.cy;\n    var gpos = [e.clientX, e.clientY];\n    var pos = r.projectIntoViewport(gpos[0], gpos[1]);\n    var select = r.selection;\n    var nears = r.findNearestElements(pos[0], pos[1], true, false);\n    var near = nears[0];\n    var draggedElements = r.dragData.possibleDragElements;\n    r.hoverData.mdownPos = pos;\n    r.hoverData.mdownGPos = gpos;\n\n    var checkForTaphold = function checkForTaphold() {\n      r.hoverData.tapholdCancelled = false;\n      clearTimeout(r.hoverData.tapholdTimeout);\n      r.hoverData.tapholdTimeout = setTimeout(function () {\n        if (r.hoverData.tapholdCancelled) {\n          return;\n        } else {\n          var ele = r.hoverData.down;\n\n          if (ele) {\n            ele.emit({\n              originalEvent: e,\n              type: 'taphold',\n              position: {\n                x: pos[0],\n                y: pos[1]\n              }\n            });\n          } else {\n            cy.emit({\n              originalEvent: e,\n              type: 'taphold',\n              position: {\n                x: pos[0],\n                y: pos[1]\n              }\n            });\n          }\n        }\n      }, r.tapholdDuration);\n    }; // Right click button\n\n\n    if (e.which == 3) {\n      r.hoverData.cxtStarted = true;\n      var cxtEvt = {\n        originalEvent: e,\n        type: 'cxttapstart',\n        position: {\n          x: pos[0],\n          y: pos[1]\n        }\n      };\n\n      if (near) {\n        near.activate();\n        near.emit(cxtEvt);\n        r.hoverData.down = near;\n      } else {\n        cy.emit(cxtEvt);\n      }\n\n      r.hoverData.downTime = new Date().getTime();\n      r.hoverData.cxtDragged = false; // Primary button\n    } else if (e.which == 1) {\n      if (near) {\n        near.activate();\n      } // Element dragging\n\n\n      {\n        // If something is under the cursor and it is draggable, prepare to grab it\n        if (near != null) {\n          if (r.nodeIsGrabbable(near)) {\n            var makeEvent = function makeEvent(type) {\n              return {\n                originalEvent: e,\n                type: type,\n                position: {\n                  x: pos[0],\n                  y: pos[1]\n                }\n              };\n            };\n\n            var triggerGrab = function triggerGrab(ele) {\n              ele.emit(makeEvent('grab'));\n            };\n\n            setGrabTarget(near);\n\n            if (!near.selected()) {\n              draggedElements = r.dragData.possibleDragElements = cy.collection();\n              addNodeToDrag(near, {\n                addToList: draggedElements\n              });\n              near.emit(makeEvent('grabon')).emit(makeEvent('grab'));\n            } else {\n              draggedElements = r.dragData.possibleDragElements = cy.collection();\n              var selectedNodes = cy.$(function (ele) {\n                return ele.isNode() && ele.selected() && r.nodeIsGrabbable(ele);\n              });\n              addNodesToDrag(selectedNodes, {\n                addToList: draggedElements\n              });\n              near.emit(makeEvent('grabon'));\n              selectedNodes.forEach(triggerGrab);\n            }\n\n            r.redrawHint('eles', true);\n            r.redrawHint('drag', true);\n          }\n        }\n\n        r.hoverData.down = near;\n        r.hoverData.downs = nears;\n        r.hoverData.downTime = new Date().getTime();\n      }\n      triggerEvents(near, ['mousedown', 'tapstart', 'vmousedown'], e, {\n        x: pos[0],\n        y: pos[1]\n      });\n\n      if (near == null) {\n        select[4] = 1;\n        r.data.bgActivePosistion = {\n          x: pos[0],\n          y: pos[1]\n        };\n        r.redrawHint('select', true);\n        r.redraw();\n      } else if (near.pannable()) {\n        select[4] = 1; // for future pan\n      }\n\n      checkForTaphold();\n    } // Initialize selection box coordinates\n\n\n    select[0] = select[2] = pos[0];\n    select[1] = select[3] = pos[1];\n  }, false);\n  r.registerBinding(window, 'mousemove', function mousemoveHandler(e) {\n    // eslint-disable-line no-undef\n    var capture = r.hoverData.capture;\n\n    if (!capture && !eventInContainer(e)) {\n      return;\n    }\n\n    var preventDefault = false;\n    var cy = r.cy;\n    var zoom = cy.zoom();\n    var gpos = [e.clientX, e.clientY];\n    var pos = r.projectIntoViewport(gpos[0], gpos[1]);\n    var mdownPos = r.hoverData.mdownPos;\n    var mdownGPos = r.hoverData.mdownGPos;\n    var select = r.selection;\n    var near = null;\n\n    if (!r.hoverData.draggingEles && !r.hoverData.dragging && !r.hoverData.selecting) {\n      near = r.findNearestElement(pos[0], pos[1], true, false);\n    }\n\n    var last = r.hoverData.last;\n    var down = r.hoverData.down;\n    var disp = [pos[0] - select[2], pos[1] - select[3]];\n    var draggedElements = r.dragData.possibleDragElements;\n    var isOverThresholdDrag;\n\n    if (mdownGPos) {\n      var dx = gpos[0] - mdownGPos[0];\n      var dx2 = dx * dx;\n      var dy = gpos[1] - mdownGPos[1];\n      var dy2 = dy * dy;\n      var dist2 = dx2 + dy2;\n      r.hoverData.isOverThresholdDrag = isOverThresholdDrag = dist2 >= r.desktopTapThreshold2;\n    }\n\n    var multSelKeyDown = isMultSelKeyDown(e);\n\n    if (isOverThresholdDrag) {\n      r.hoverData.tapholdCancelled = true;\n    }\n\n    var updateDragDelta = function updateDragDelta() {\n      var dragDelta = r.hoverData.dragDelta = r.hoverData.dragDelta || [];\n\n      if (dragDelta.length === 0) {\n        dragDelta.push(disp[0]);\n        dragDelta.push(disp[1]);\n      } else {\n        dragDelta[0] += disp[0];\n        dragDelta[1] += disp[1];\n      }\n    };\n\n    preventDefault = true;\n    triggerEvents(near, ['mousemove', 'vmousemove', 'tapdrag'], e, {\n      x: pos[0],\n      y: pos[1]\n    });\n\n    var goIntoBoxMode = function goIntoBoxMode() {\n      r.data.bgActivePosistion = undefined;\n\n      if (!r.hoverData.selecting) {\n        cy.emit({\n          originalEvent: e,\n          type: 'boxstart',\n          position: {\n            x: pos[0],\n            y: pos[1]\n          }\n        });\n      }\n\n      select[4] = 1;\n      r.hoverData.selecting = true;\n      r.redrawHint('select', true);\n      r.redraw();\n    }; // trigger context drag if rmouse down\n\n\n    if (r.hoverData.which === 3) {\n      // but only if over threshold\n      if (isOverThresholdDrag) {\n        var cxtEvt = {\n          originalEvent: e,\n          type: 'cxtdrag',\n          position: {\n            x: pos[0],\n            y: pos[1]\n          }\n        };\n\n        if (down) {\n          down.emit(cxtEvt);\n        } else {\n          cy.emit(cxtEvt);\n        }\n\n        r.hoverData.cxtDragged = true;\n\n        if (!r.hoverData.cxtOver || near !== r.hoverData.cxtOver) {\n          if (r.hoverData.cxtOver) {\n            r.hoverData.cxtOver.emit({\n              originalEvent: e,\n              type: 'cxtdragout',\n              position: {\n                x: pos[0],\n                y: pos[1]\n              }\n            });\n          }\n\n          r.hoverData.cxtOver = near;\n\n          if (near) {\n            near.emit({\n              originalEvent: e,\n              type: 'cxtdragover',\n              position: {\n                x: pos[0],\n                y: pos[1]\n              }\n            });\n          }\n        }\n      } // Check if we are drag panning the entire graph\n\n    } else if (r.hoverData.dragging) {\n      preventDefault = true;\n\n      if (cy.panningEnabled() && cy.userPanningEnabled()) {\n        var deltaP;\n\n        if (r.hoverData.justStartedPan) {\n          var mdPos = r.hoverData.mdownPos;\n          deltaP = {\n            x: (pos[0] - mdPos[0]) * zoom,\n            y: (pos[1] - mdPos[1]) * zoom\n          };\n          r.hoverData.justStartedPan = false;\n        } else {\n          deltaP = {\n            x: disp[0] * zoom,\n            y: disp[1] * zoom\n          };\n        }\n\n        cy.panBy(deltaP);\n        r.hoverData.dragged = true;\n      } // Needs reproject due to pan changing viewport\n\n\n      pos = r.projectIntoViewport(e.clientX, e.clientY); // Checks primary button down & out of time & mouse not moved much\n    } else if (select[4] == 1 && (down == null || down.pannable())) {\n      if (isOverThresholdDrag) {\n        if (!r.hoverData.dragging && cy.boxSelectionEnabled() && (multSelKeyDown || !cy.panningEnabled() || !cy.userPanningEnabled())) {\n          goIntoBoxMode();\n        } else if (!r.hoverData.selecting && cy.panningEnabled() && cy.userPanningEnabled()) {\n          var allowPassthrough = allowPanningPassthrough(down, r.hoverData.downs);\n\n          if (allowPassthrough) {\n            r.hoverData.dragging = true;\n            r.hoverData.justStartedPan = true;\n            select[4] = 0;\n            r.data.bgActivePosistion = array2point(mdownPos);\n            r.redrawHint('select', true);\n            r.redraw();\n          }\n        }\n\n        if (down && down.pannable() && down.active()) {\n          down.unactivate();\n        }\n      }\n    } else {\n      if (down && down.pannable() && down.active()) {\n        down.unactivate();\n      }\n\n      if ((!down || !down.grabbed()) && near != last) {\n        if (last) {\n          triggerEvents(last, ['mouseout', 'tapdragout'], e, {\n            x: pos[0],\n            y: pos[1]\n          });\n        }\n\n        if (near) {\n          triggerEvents(near, ['mouseover', 'tapdragover'], e, {\n            x: pos[0],\n            y: pos[1]\n          });\n        }\n\n        r.hoverData.last = near;\n      }\n\n      if (down) {\n        if (isOverThresholdDrag) {\n          // then we can take action\n          if (cy.boxSelectionEnabled() && multSelKeyDown) {\n            // then selection overrides\n            if (down && down.grabbed()) {\n              freeDraggedElements(draggedElements);\n              down.emit('freeon');\n              draggedElements.emit('free');\n\n              if (r.dragData.didDrag) {\n                down.emit('dragfreeon');\n                draggedElements.emit('dragfree');\n              }\n            }\n\n            goIntoBoxMode();\n          } else if (down && down.grabbed() && r.nodeIsDraggable(down)) {\n            // drag node\n            var justStartedDrag = !r.dragData.didDrag;\n\n            if (justStartedDrag) {\n              r.redrawHint('eles', true);\n            }\n\n            r.dragData.didDrag = true; // indicate that we actually did drag the node\n\n            var toTrigger = cy.collection(); // now, add the elements to the drag layer if not done already\n\n            if (!r.hoverData.draggingEles) {\n              addNodesToDrag(draggedElements, {\n                inDragLayer: true\n              });\n            }\n\n            var totalShift = {\n              x: 0,\n              y: 0\n            };\n\n            if (number(disp[0]) && number(disp[1])) {\n              totalShift.x += disp[0];\n              totalShift.y += disp[1];\n\n              if (justStartedDrag) {\n                var dragDelta = r.hoverData.dragDelta;\n\n                if (dragDelta && number(dragDelta[0]) && number(dragDelta[1])) {\n                  totalShift.x += dragDelta[0];\n                  totalShift.y += dragDelta[1];\n                }\n              }\n            }\n\n            for (var i = 0; i < draggedElements.length; i++) {\n              var dEle = draggedElements[i];\n\n              if (r.nodeIsDraggable(dEle) && dEle.grabbed()) {\n                toTrigger.merge(dEle);\n              }\n            }\n\n            r.hoverData.draggingEles = true;\n            toTrigger.silentShift(totalShift).emit('position drag');\n            r.redrawHint('drag', true);\n            r.redraw();\n          }\n        } else {\n          // otherwise save drag delta for when we actually start dragging so the relative grab pos is constant\n          updateDragDelta();\n        }\n      } // prevent the dragging from triggering text selection on the page\n\n\n      preventDefault = true;\n    }\n\n    select[2] = pos[0];\n    select[3] = pos[1];\n\n    if (preventDefault) {\n      if (e.stopPropagation) e.stopPropagation();\n      if (e.preventDefault) e.preventDefault();\n      return false;\n    }\n  }, false);\n  r.registerBinding(window, 'mouseup', function mouseupHandler(e) {\n    // eslint-disable-line no-undef\n    var capture = r.hoverData.capture;\n\n    if (!capture) {\n      return;\n    }\n\n    r.hoverData.capture = false;\n    var cy = r.cy;\n    var pos = r.projectIntoViewport(e.clientX, e.clientY);\n    var select = r.selection;\n    var near = r.findNearestElement(pos[0], pos[1], true, false);\n    var draggedElements = r.dragData.possibleDragElements;\n    var down = r.hoverData.down;\n    var multSelKeyDown = isMultSelKeyDown(e);\n\n    if (r.data.bgActivePosistion) {\n      r.redrawHint('select', true);\n      r.redraw();\n    }\n\n    r.hoverData.tapholdCancelled = true;\n    r.data.bgActivePosistion = undefined; // not active bg now\n\n    if (down) {\n      down.unactivate();\n    }\n\n    if (r.hoverData.which === 3) {\n      var cxtEvt = {\n        originalEvent: e,\n        type: 'cxttapend',\n        position: {\n          x: pos[0],\n          y: pos[1]\n        }\n      };\n\n      if (down) {\n        down.emit(cxtEvt);\n      } else {\n        cy.emit(cxtEvt);\n      }\n\n      if (!r.hoverData.cxtDragged) {\n        var cxtTap = {\n          originalEvent: e,\n          type: 'cxttap',\n          position: {\n            x: pos[0],\n            y: pos[1]\n          }\n        };\n\n        if (down) {\n          down.emit(cxtTap);\n        } else {\n          cy.emit(cxtTap);\n        }\n      }\n\n      r.hoverData.cxtDragged = false;\n      r.hoverData.which = null;\n    } else if (r.hoverData.which === 1) {\n      triggerEvents(near, ['mouseup', 'tapend', 'vmouseup'], e, {\n        x: pos[0],\n        y: pos[1]\n      });\n\n      if (!r.dragData.didDrag // didn't move a node around\n      && !r.hoverData.dragged // didn't pan\n      && !r.hoverData.selecting // not box selection\n      && !r.hoverData.isOverThresholdDrag // didn't move too much\n      ) {\n          triggerEvents(down, ['click', 'tap', 'vclick'], e, {\n            x: pos[0],\n            y: pos[1]\n          });\n        } // Deselect all elements if nothing is currently under the mouse cursor and we aren't dragging something\n\n\n      if (down == null && // not mousedown on node\n      !r.dragData.didDrag // didn't move the node around\n      && !r.hoverData.selecting // not box selection\n      && !r.hoverData.dragged // didn't pan\n      && !isMultSelKeyDown(e)) {\n        cy.$(isSelected).unselect(['tapunselect']);\n\n        if (draggedElements.length > 0) {\n          r.redrawHint('eles', true);\n        }\n\n        r.dragData.possibleDragElements = draggedElements = cy.collection();\n      } // Single selection\n\n\n      if (near == down && !r.dragData.didDrag && !r.hoverData.selecting) {\n        if (near != null && near._private.selectable) {\n          if (r.hoverData.dragging) ; else if (cy.selectionType() === 'additive' || multSelKeyDown) {\n            if (near.selected()) {\n              near.unselect(['tapunselect']);\n            } else {\n              near.select(['tapselect']);\n            }\n          } else {\n            if (!multSelKeyDown) {\n              cy.$(isSelected).unmerge(near).unselect(['tapunselect']);\n              near.select(['tapselect']);\n            }\n          }\n\n          r.redrawHint('eles', true);\n        }\n      }\n\n      if (r.hoverData.selecting) {\n        var box = cy.collection(r.getAllInBox(select[0], select[1], select[2], select[3]));\n        r.redrawHint('select', true);\n\n        if (box.length > 0) {\n          r.redrawHint('eles', true);\n        }\n\n        cy.emit({\n          type: 'boxend',\n          originalEvent: e,\n          position: {\n            x: pos[0],\n            y: pos[1]\n          }\n        });\n\n        var eleWouldBeSelected = function eleWouldBeSelected(ele) {\n          return ele.selectable() && !ele.selected();\n        };\n\n        if (cy.selectionType() === 'additive') {\n          box.emit('box').stdFilter(eleWouldBeSelected).select().emit('boxselect');\n        } else {\n          if (!multSelKeyDown) {\n            cy.$(isSelected).unmerge(box).unselect();\n          }\n\n          box.emit('box').stdFilter(eleWouldBeSelected).select().emit('boxselect');\n        } // always need redraw in case eles unselectable\n\n\n        r.redraw();\n      } // Cancel drag pan\n\n\n      if (r.hoverData.dragging) {\n        r.hoverData.dragging = false;\n        r.redrawHint('select', true);\n        r.redrawHint('eles', true);\n        r.redraw();\n      }\n\n      if (!select[4]) {\n        r.redrawHint('drag', true);\n        r.redrawHint('eles', true);\n        var downWasGrabbed = down && down.grabbed();\n        freeDraggedElements(draggedElements);\n\n        if (downWasGrabbed) {\n          down.emit('freeon');\n          draggedElements.emit('free');\n\n          if (r.dragData.didDrag) {\n            down.emit('dragfreeon');\n            draggedElements.emit('dragfree');\n          }\n        }\n      }\n    } // else not right mouse\n\n\n    select[4] = 0;\n    r.hoverData.down = null;\n    r.hoverData.cxtStarted = false;\n    r.hoverData.draggingEles = false;\n    r.hoverData.selecting = false;\n    r.hoverData.isOverThresholdDrag = false;\n    r.dragData.didDrag = false;\n    r.hoverData.dragged = false;\n    r.hoverData.dragDelta = [];\n    r.hoverData.mdownPos = null;\n    r.hoverData.mdownGPos = null;\n  }, false);\n\n  var wheelHandler = function wheelHandler(e) {\n    if (r.scrollingPage) {\n      return;\n    } // while scrolling, ignore wheel-to-zoom\n\n\n    var cy = r.cy;\n    var pos = r.projectIntoViewport(e.clientX, e.clientY);\n    var rpos = [pos[0] * cy.zoom() + cy.pan().x, pos[1] * cy.zoom() + cy.pan().y];\n\n    if (r.hoverData.draggingEles || r.hoverData.dragging || r.hoverData.cxtStarted || inBoxSelection()) {\n      // if pan dragging or cxt dragging, wheel movements make no zoom\n      e.preventDefault();\n      return;\n    }\n\n    if (cy.panningEnabled() && cy.userPanningEnabled() && cy.zoomingEnabled() && cy.userZoomingEnabled()) {\n      e.preventDefault();\n      r.data.wheelZooming = true;\n      clearTimeout(r.data.wheelTimeout);\n      r.data.wheelTimeout = setTimeout(function () {\n        r.data.wheelZooming = false;\n        r.redrawHint('eles', true);\n        r.redraw();\n      }, 150);\n      var diff;\n\n      if (e.deltaY != null) {\n        diff = e.deltaY / -250;\n      } else if (e.wheelDeltaY != null) {\n        diff = e.wheelDeltaY / 1000;\n      } else {\n        diff = e.wheelDelta / 1000;\n      }\n\n      diff = diff * r.wheelSensitivity;\n      var needsWheelFix = e.deltaMode === 1;\n\n      if (needsWheelFix) {\n        // fixes slow wheel events on ff/linux and ff/windows\n        diff *= 33;\n      }\n\n      cy.zoom({\n        level: cy.zoom() * Math.pow(10, diff),\n        renderedPosition: {\n          x: rpos[0],\n          y: rpos[1]\n        }\n      });\n    }\n  }; // Functions to help with whether mouse wheel should trigger zooming\n  // --\n\n\n  r.registerBinding(r.container, 'wheel', wheelHandler, true); // disable nonstandard wheel events\n  // r.registerBinding(r.container, 'mousewheel', wheelHandler, true);\n  // r.registerBinding(r.container, 'DOMMouseScroll', wheelHandler, true);\n  // r.registerBinding(r.container, 'MozMousePixelScroll', wheelHandler, true); // older firefox\n\n  r.registerBinding(window, 'scroll', function scrollHandler(e) {\n    // eslint-disable-line no-unused-vars\n    r.scrollingPage = true;\n    clearTimeout(r.scrollingPageTimeout);\n    r.scrollingPageTimeout = setTimeout(function () {\n      r.scrollingPage = false;\n    }, 250);\n  }, true); // Functions to help with handling mouseout/mouseover on the Cytoscape container\n  // Handle mouseout on Cytoscape container\n\n  r.registerBinding(r.container, 'mouseout', function mouseOutHandler(e) {\n    var pos = r.projectIntoViewport(e.clientX, e.clientY);\n    r.cy.emit({\n      originalEvent: e,\n      type: 'mouseout',\n      position: {\n        x: pos[0],\n        y: pos[1]\n      }\n    });\n  }, false);\n  r.registerBinding(r.container, 'mouseover', function mouseOverHandler(e) {\n    var pos = r.projectIntoViewport(e.clientX, e.clientY);\n    r.cy.emit({\n      originalEvent: e,\n      type: 'mouseover',\n      position: {\n        x: pos[0],\n        y: pos[1]\n      }\n    });\n  }, false);\n  var f1x1, f1y1, f2x1, f2y1; // starting points for pinch-to-zoom\n\n  var distance1, distance1Sq; // initial distance between finger 1 and finger 2 for pinch-to-zoom\n\n  var center1, modelCenter1; // center point on start pinch to zoom\n\n  var offsetLeft, offsetTop;\n  var containerWidth, containerHeight;\n  var twoFingersStartInside;\n\n  var distance = function distance(x1, y1, x2, y2) {\n    return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n  };\n\n  var distanceSq = function distanceSq(x1, y1, x2, y2) {\n    return (x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1);\n  };\n\n  var touchstartHandler;\n  r.registerBinding(r.container, 'touchstart', touchstartHandler = function touchstartHandler(e) {\n    if (!eventInContainer(e)) {\n      return;\n    }\n\n    blurActiveDomElement();\n    r.touchData.capture = true;\n    r.data.bgActivePosistion = undefined;\n    var cy = r.cy;\n    var now = r.touchData.now;\n    var earlier = r.touchData.earlier;\n\n    if (e.touches[0]) {\n      var pos = r.projectIntoViewport(e.touches[0].clientX, e.touches[0].clientY);\n      now[0] = pos[0];\n      now[1] = pos[1];\n    }\n\n    if (e.touches[1]) {\n      var pos = r.projectIntoViewport(e.touches[1].clientX, e.touches[1].clientY);\n      now[2] = pos[0];\n      now[3] = pos[1];\n    }\n\n    if (e.touches[2]) {\n      var pos = r.projectIntoViewport(e.touches[2].clientX, e.touches[2].clientY);\n      now[4] = pos[0];\n      now[5] = pos[1];\n    } // record starting points for pinch-to-zoom\n\n\n    if (e.touches[1]) {\n      r.touchData.singleTouchMoved = true;\n      freeDraggedElements(r.dragData.touchDragEles);\n      var offsets = r.findContainerClientCoords();\n      offsetLeft = offsets[0];\n      offsetTop = offsets[1];\n      containerWidth = offsets[2];\n      containerHeight = offsets[3];\n      f1x1 = e.touches[0].clientX - offsetLeft;\n      f1y1 = e.touches[0].clientY - offsetTop;\n      f2x1 = e.touches[1].clientX - offsetLeft;\n      f2y1 = e.touches[1].clientY - offsetTop;\n      twoFingersStartInside = 0 <= f1x1 && f1x1 <= containerWidth && 0 <= f2x1 && f2x1 <= containerWidth && 0 <= f1y1 && f1y1 <= containerHeight && 0 <= f2y1 && f2y1 <= containerHeight;\n      var pan = cy.pan();\n      var zoom = cy.zoom();\n      distance1 = distance(f1x1, f1y1, f2x1, f2y1);\n      distance1Sq = distanceSq(f1x1, f1y1, f2x1, f2y1);\n      center1 = [(f1x1 + f2x1) / 2, (f1y1 + f2y1) / 2];\n      modelCenter1 = [(center1[0] - pan.x) / zoom, (center1[1] - pan.y) / zoom]; // consider context tap\n\n      var cxtDistThreshold = 200;\n      var cxtDistThresholdSq = cxtDistThreshold * cxtDistThreshold;\n\n      if (distance1Sq < cxtDistThresholdSq && !e.touches[2]) {\n        var near1 = r.findNearestElement(now[0], now[1], true, true);\n        var near2 = r.findNearestElement(now[2], now[3], true, true);\n\n        if (near1 && near1.isNode()) {\n          near1.activate().emit({\n            originalEvent: e,\n            type: 'cxttapstart',\n            position: {\n              x: now[0],\n              y: now[1]\n            }\n          });\n          r.touchData.start = near1;\n        } else if (near2 && near2.isNode()) {\n          near2.activate().emit({\n            originalEvent: e,\n            type: 'cxttapstart',\n            position: {\n              x: now[0],\n              y: now[1]\n            }\n          });\n          r.touchData.start = near2;\n        } else {\n          cy.emit({\n            originalEvent: e,\n            type: 'cxttapstart',\n            position: {\n              x: now[0],\n              y: now[1]\n            }\n          });\n        }\n\n        if (r.touchData.start) {\n          r.touchData.start._private.grabbed = false;\n        }\n\n        r.touchData.cxt = true;\n        r.touchData.cxtDragged = false;\n        r.data.bgActivePosistion = undefined;\n        r.redraw();\n        return;\n      }\n    }\n\n    if (e.touches[2]) {\n      // ignore\n      // safari on ios pans the page otherwise (normally you should be able to preventdefault on touchmove...)\n      if (cy.boxSelectionEnabled()) {\n        e.preventDefault();\n      }\n    } else if (e.touches[1]) ; else if (e.touches[0]) {\n      var nears = r.findNearestElements(now[0], now[1], true, true);\n      var near = nears[0];\n\n      if (near != null) {\n        near.activate();\n        r.touchData.start = near;\n        r.touchData.starts = nears;\n\n        if (r.nodeIsGrabbable(near)) {\n          var draggedEles = r.dragData.touchDragEles = cy.collection();\n          var selectedNodes = null;\n          r.redrawHint('eles', true);\n          r.redrawHint('drag', true);\n\n          if (near.selected()) {\n            // reset drag elements, since near will be added again\n            selectedNodes = cy.$(function (ele) {\n              return ele.selected() && r.nodeIsGrabbable(ele);\n            });\n            addNodesToDrag(selectedNodes, {\n              addToList: draggedEles\n            });\n          } else {\n            addNodeToDrag(near, {\n              addToList: draggedEles\n            });\n          }\n\n          setGrabTarget(near);\n\n          var makeEvent = function makeEvent(type) {\n            return {\n              originalEvent: e,\n              type: type,\n              position: {\n                x: now[0],\n                y: now[1]\n              }\n            };\n          };\n\n          near.emit(makeEvent('grabon'));\n\n          if (selectedNodes) {\n            selectedNodes.forEach(function (n) {\n              n.emit(makeEvent('grab'));\n            });\n          } else {\n            near.emit(makeEvent('grab'));\n          }\n        }\n      }\n\n      triggerEvents(near, ['touchstart', 'tapstart', 'vmousedown'], e, {\n        x: now[0],\n        y: now[1]\n      });\n\n      if (near == null) {\n        r.data.bgActivePosistion = {\n          x: pos[0],\n          y: pos[1]\n        };\n        r.redrawHint('select', true);\n        r.redraw();\n      } // Tap, taphold\n      // -----\n\n\n      r.touchData.singleTouchMoved = false;\n      r.touchData.singleTouchStartTime = +new Date();\n      clearTimeout(r.touchData.tapholdTimeout);\n      r.touchData.tapholdTimeout = setTimeout(function () {\n        if (r.touchData.singleTouchMoved === false && !r.pinching // if pinching, then taphold unselect shouldn't take effect\n        && !r.touchData.selecting // box selection shouldn't allow taphold through\n        ) {\n            triggerEvents(r.touchData.start, ['taphold'], e, {\n              x: now[0],\n              y: now[1]\n            });\n          }\n      }, r.tapholdDuration);\n    }\n\n    if (e.touches.length >= 1) {\n      var sPos = r.touchData.startPosition = [];\n\n      for (var i = 0; i < now.length; i++) {\n        sPos[i] = earlier[i] = now[i];\n      }\n\n      var touch0 = e.touches[0];\n      r.touchData.startGPosition = [touch0.clientX, touch0.clientY];\n    }\n  }, false);\n  var touchmoveHandler;\n  r.registerBinding(window, 'touchmove', touchmoveHandler = function touchmoveHandler(e) {\n    // eslint-disable-line no-undef\n    var capture = r.touchData.capture;\n\n    if (!capture && !eventInContainer(e)) {\n      return;\n    }\n\n    var select = r.selection;\n    var cy = r.cy;\n    var now = r.touchData.now;\n    var earlier = r.touchData.earlier;\n    var zoom = cy.zoom();\n\n    if (e.touches[0]) {\n      var pos = r.projectIntoViewport(e.touches[0].clientX, e.touches[0].clientY);\n      now[0] = pos[0];\n      now[1] = pos[1];\n    }\n\n    if (e.touches[1]) {\n      var pos = r.projectIntoViewport(e.touches[1].clientX, e.touches[1].clientY);\n      now[2] = pos[0];\n      now[3] = pos[1];\n    }\n\n    if (e.touches[2]) {\n      var pos = r.projectIntoViewport(e.touches[2].clientX, e.touches[2].clientY);\n      now[4] = pos[0];\n      now[5] = pos[1];\n    }\n\n    var startGPos = r.touchData.startGPosition;\n    var isOverThresholdDrag;\n\n    if (capture && e.touches[0] && startGPos) {\n      var disp = [];\n\n      for (var j = 0; j < now.length; j++) {\n        disp[j] = now[j] - earlier[j];\n      }\n\n      var dx = e.touches[0].clientX - startGPos[0];\n      var dx2 = dx * dx;\n      var dy = e.touches[0].clientY - startGPos[1];\n      var dy2 = dy * dy;\n      var dist2 = dx2 + dy2;\n      isOverThresholdDrag = dist2 >= r.touchTapThreshold2;\n    } // context swipe cancelling\n\n\n    if (capture && r.touchData.cxt) {\n      e.preventDefault();\n      var f1x2 = e.touches[0].clientX - offsetLeft,\n          f1y2 = e.touches[0].clientY - offsetTop;\n      var f2x2 = e.touches[1].clientX - offsetLeft,\n          f2y2 = e.touches[1].clientY - offsetTop; // var distance2 = distance( f1x2, f1y2, f2x2, f2y2 );\n\n      var distance2Sq = distanceSq(f1x2, f1y2, f2x2, f2y2);\n      var factorSq = distance2Sq / distance1Sq;\n      var distThreshold = 150;\n      var distThresholdSq = distThreshold * distThreshold;\n      var factorThreshold = 1.5;\n      var factorThresholdSq = factorThreshold * factorThreshold; // cancel ctx gestures if the distance b/t the fingers increases\n\n      if (factorSq >= factorThresholdSq || distance2Sq >= distThresholdSq) {\n        r.touchData.cxt = false;\n        r.data.bgActivePosistion = undefined;\n        r.redrawHint('select', true);\n        var cxtEvt = {\n          originalEvent: e,\n          type: 'cxttapend',\n          position: {\n            x: now[0],\n            y: now[1]\n          }\n        };\n\n        if (r.touchData.start) {\n          r.touchData.start.unactivate().emit(cxtEvt);\n          r.touchData.start = null;\n        } else {\n          cy.emit(cxtEvt);\n        }\n      }\n    } // context swipe\n\n\n    if (capture && r.touchData.cxt) {\n      var cxtEvt = {\n        originalEvent: e,\n        type: 'cxtdrag',\n        position: {\n          x: now[0],\n          y: now[1]\n        }\n      };\n      r.data.bgActivePosistion = undefined;\n      r.redrawHint('select', true);\n\n      if (r.touchData.start) {\n        r.touchData.start.emit(cxtEvt);\n      } else {\n        cy.emit(cxtEvt);\n      }\n\n      if (r.touchData.start) {\n        r.touchData.start._private.grabbed = false;\n      }\n\n      r.touchData.cxtDragged = true;\n      var near = r.findNearestElement(now[0], now[1], true, true);\n\n      if (!r.touchData.cxtOver || near !== r.touchData.cxtOver) {\n        if (r.touchData.cxtOver) {\n          r.touchData.cxtOver.emit({\n            originalEvent: e,\n            type: 'cxtdragout',\n            position: {\n              x: now[0],\n              y: now[1]\n            }\n          });\n        }\n\n        r.touchData.cxtOver = near;\n\n        if (near) {\n          near.emit({\n            originalEvent: e,\n            type: 'cxtdragover',\n            position: {\n              x: now[0],\n              y: now[1]\n            }\n          });\n        }\n      } // box selection\n\n    } else if (capture && e.touches[2] && cy.boxSelectionEnabled()) {\n      e.preventDefault();\n      r.data.bgActivePosistion = undefined;\n      this.lastThreeTouch = +new Date();\n\n      if (!r.touchData.selecting) {\n        cy.emit({\n          originalEvent: e,\n          type: 'boxstart',\n          position: {\n            x: now[0],\n            y: now[1]\n          }\n        });\n      }\n\n      r.touchData.selecting = true;\n      r.touchData.didSelect = true;\n      select[4] = 1;\n\n      if (!select || select.length === 0 || select[0] === undefined) {\n        select[0] = (now[0] + now[2] + now[4]) / 3;\n        select[1] = (now[1] + now[3] + now[5]) / 3;\n        select[2] = (now[0] + now[2] + now[4]) / 3 + 1;\n        select[3] = (now[1] + now[3] + now[5]) / 3 + 1;\n      } else {\n        select[2] = (now[0] + now[2] + now[4]) / 3;\n        select[3] = (now[1] + now[3] + now[5]) / 3;\n      }\n\n      r.redrawHint('select', true);\n      r.redraw(); // pinch to zoom\n    } else if (capture && e.touches[1] && !r.touchData.didSelect // don't allow box selection to degrade to pinch-to-zoom\n    && cy.zoomingEnabled() && cy.panningEnabled() && cy.userZoomingEnabled() && cy.userPanningEnabled()) {\n      // two fingers => pinch to zoom\n      e.preventDefault();\n      r.data.bgActivePosistion = undefined;\n      r.redrawHint('select', true);\n      var draggedEles = r.dragData.touchDragEles;\n\n      if (draggedEles) {\n        r.redrawHint('drag', true);\n\n        for (var i = 0; i < draggedEles.length; i++) {\n          var de_p = draggedEles[i]._private;\n          de_p.grabbed = false;\n          de_p.rscratch.inDragLayer = false;\n        }\n      }\n\n      var _start = r.touchData.start; // (x2, y2) for fingers 1 and 2\n\n      var f1x2 = e.touches[0].clientX - offsetLeft,\n          f1y2 = e.touches[0].clientY - offsetTop;\n      var f2x2 = e.touches[1].clientX - offsetLeft,\n          f2y2 = e.touches[1].clientY - offsetTop;\n      var distance2 = distance(f1x2, f1y2, f2x2, f2y2); // var distance2Sq = distanceSq( f1x2, f1y2, f2x2, f2y2 );\n      // var factor = Math.sqrt( distance2Sq ) / Math.sqrt( distance1Sq );\n\n      var factor = distance2 / distance1;\n\n      if (twoFingersStartInside) {\n        // delta finger1\n        var df1x = f1x2 - f1x1;\n        var df1y = f1y2 - f1y1; // delta finger 2\n\n        var df2x = f2x2 - f2x1;\n        var df2y = f2y2 - f2y1; // translation is the normalised vector of the two fingers movement\n        // i.e. so pinching cancels out and moving together pans\n\n        var tx = (df1x + df2x) / 2;\n        var ty = (df1y + df2y) / 2; // now calculate the zoom\n\n        var zoom1 = cy.zoom();\n        var zoom2 = zoom1 * factor;\n        var pan1 = cy.pan(); // the model center point converted to the current rendered pos\n\n        var ctrx = modelCenter1[0] * zoom1 + pan1.x;\n        var ctry = modelCenter1[1] * zoom1 + pan1.y;\n        var pan2 = {\n          x: -zoom2 / zoom1 * (ctrx - pan1.x - tx) + ctrx,\n          y: -zoom2 / zoom1 * (ctry - pan1.y - ty) + ctry\n        }; // remove dragged eles\n\n        if (_start && _start.active()) {\n          var draggedEles = r.dragData.touchDragEles;\n          freeDraggedElements(draggedEles);\n          r.redrawHint('drag', true);\n          r.redrawHint('eles', true);\n\n          _start.unactivate().emit('freeon');\n\n          draggedEles.emit('free');\n\n          if (r.dragData.didDrag) {\n            _start.emit('dragfreeon');\n\n            draggedEles.emit('dragfree');\n          }\n        }\n\n        cy.viewport({\n          zoom: zoom2,\n          pan: pan2,\n          cancelOnFailedZoom: true\n        });\n        distance1 = distance2;\n        f1x1 = f1x2;\n        f1y1 = f1y2;\n        f2x1 = f2x2;\n        f2y1 = f2y2;\n        r.pinching = true;\n      } // Re-project\n\n\n      if (e.touches[0]) {\n        var pos = r.projectIntoViewport(e.touches[0].clientX, e.touches[0].clientY);\n        now[0] = pos[0];\n        now[1] = pos[1];\n      }\n\n      if (e.touches[1]) {\n        var pos = r.projectIntoViewport(e.touches[1].clientX, e.touches[1].clientY);\n        now[2] = pos[0];\n        now[3] = pos[1];\n      }\n\n      if (e.touches[2]) {\n        var pos = r.projectIntoViewport(e.touches[2].clientX, e.touches[2].clientY);\n        now[4] = pos[0];\n        now[5] = pos[1];\n      }\n    } else if (e.touches[0] && !r.touchData.didSelect // don't allow box selection to degrade to single finger events like panning\n    ) {\n        var start = r.touchData.start;\n        var last = r.touchData.last;\n        var near;\n\n        if (!r.hoverData.draggingEles && !r.swipePanning) {\n          near = r.findNearestElement(now[0], now[1], true, true);\n        }\n\n        if (capture && start != null) {\n          e.preventDefault();\n        } // dragging nodes\n\n\n        if (capture && start != null && r.nodeIsDraggable(start)) {\n          if (isOverThresholdDrag) {\n            // then dragging can happen\n            var draggedEles = r.dragData.touchDragEles;\n            var justStartedDrag = !r.dragData.didDrag;\n\n            if (justStartedDrag) {\n              addNodesToDrag(draggedEles, {\n                inDragLayer: true\n              });\n            }\n\n            r.dragData.didDrag = true;\n            var totalShift = {\n              x: 0,\n              y: 0\n            };\n\n            if (number(disp[0]) && number(disp[1])) {\n              totalShift.x += disp[0];\n              totalShift.y += disp[1];\n\n              if (justStartedDrag) {\n                r.redrawHint('eles', true);\n                var dragDelta = r.touchData.dragDelta;\n\n                if (dragDelta && number(dragDelta[0]) && number(dragDelta[1])) {\n                  totalShift.x += dragDelta[0];\n                  totalShift.y += dragDelta[1];\n                }\n              }\n            }\n\n            r.hoverData.draggingEles = true;\n            draggedEles.silentShift(totalShift).emit('position drag');\n            r.redrawHint('drag', true);\n\n            if (r.touchData.startPosition[0] == earlier[0] && r.touchData.startPosition[1] == earlier[1]) {\n              r.redrawHint('eles', true);\n            }\n\n            r.redraw();\n          } else {\n            // otherise keep track of drag delta for later\n            var dragDelta = r.touchData.dragDelta = r.touchData.dragDelta || [];\n\n            if (dragDelta.length === 0) {\n              dragDelta.push(disp[0]);\n              dragDelta.push(disp[1]);\n            } else {\n              dragDelta[0] += disp[0];\n              dragDelta[1] += disp[1];\n            }\n          }\n        } // touchmove\n\n\n        {\n          triggerEvents(start || near, ['touchmove', 'tapdrag', 'vmousemove'], e, {\n            x: now[0],\n            y: now[1]\n          });\n\n          if ((!start || !start.grabbed()) && near != last) {\n            if (last) {\n              last.emit({\n                originalEvent: e,\n                type: 'tapdragout',\n                position: {\n                  x: now[0],\n                  y: now[1]\n                }\n              });\n            }\n\n            if (near) {\n              near.emit({\n                originalEvent: e,\n                type: 'tapdragover',\n                position: {\n                  x: now[0],\n                  y: now[1]\n                }\n              });\n            }\n          }\n\n          r.touchData.last = near;\n        } // check to cancel taphold\n\n        if (capture) {\n          for (var i = 0; i < now.length; i++) {\n            if (now[i] && r.touchData.startPosition[i] && isOverThresholdDrag) {\n              r.touchData.singleTouchMoved = true;\n            }\n          }\n        } // panning\n\n\n        if (capture && (start == null || start.pannable()) && cy.panningEnabled() && cy.userPanningEnabled()) {\n          var allowPassthrough = allowPanningPassthrough(start, r.touchData.starts);\n\n          if (allowPassthrough) {\n            e.preventDefault();\n\n            if (!r.data.bgActivePosistion) {\n              r.data.bgActivePosistion = array2point(r.touchData.startPosition);\n            }\n\n            if (r.swipePanning) {\n              cy.panBy({\n                x: disp[0] * zoom,\n                y: disp[1] * zoom\n              });\n            } else if (isOverThresholdDrag) {\n              r.swipePanning = true;\n              cy.panBy({\n                x: dx * zoom,\n                y: dy * zoom\n              });\n\n              if (start) {\n                start.unactivate();\n                r.redrawHint('select', true);\n                r.touchData.start = null;\n              }\n            }\n          } // Re-project\n\n\n          var pos = r.projectIntoViewport(e.touches[0].clientX, e.touches[0].clientY);\n          now[0] = pos[0];\n          now[1] = pos[1];\n        }\n      }\n\n    for (var j = 0; j < now.length; j++) {\n      earlier[j] = now[j];\n    } // the active bg indicator should be removed when making a swipe that is neither for dragging nodes or panning\n\n\n    if (capture && e.touches.length > 0 && !r.hoverData.draggingEles && !r.swipePanning && r.data.bgActivePosistion != null) {\n      r.data.bgActivePosistion = undefined;\n      r.redrawHint('select', true);\n      r.redraw();\n    }\n  }, false);\n  var touchcancelHandler;\n  r.registerBinding(window, 'touchcancel', touchcancelHandler = function touchcancelHandler(e) {\n    // eslint-disable-line no-unused-vars\n    var start = r.touchData.start;\n    r.touchData.capture = false;\n\n    if (start) {\n      start.unactivate();\n    }\n  });\n  var touchendHandler;\n  r.registerBinding(window, 'touchend', touchendHandler = function touchendHandler(e) {\n    // eslint-disable-line no-unused-vars\n    var start = r.touchData.start;\n    var capture = r.touchData.capture;\n\n    if (capture) {\n      if (e.touches.length === 0) {\n        r.touchData.capture = false;\n      }\n\n      e.preventDefault();\n    } else {\n      return;\n    }\n\n    var select = r.selection;\n    r.swipePanning = false;\n    r.hoverData.draggingEles = false;\n    var cy = r.cy;\n    var zoom = cy.zoom();\n    var now = r.touchData.now;\n    var earlier = r.touchData.earlier;\n\n    if (e.touches[0]) {\n      var pos = r.projectIntoViewport(e.touches[0].clientX, e.touches[0].clientY);\n      now[0] = pos[0];\n      now[1] = pos[1];\n    }\n\n    if (e.touches[1]) {\n      var pos = r.projectIntoViewport(e.touches[1].clientX, e.touches[1].clientY);\n      now[2] = pos[0];\n      now[3] = pos[1];\n    }\n\n    if (e.touches[2]) {\n      var pos = r.projectIntoViewport(e.touches[2].clientX, e.touches[2].clientY);\n      now[4] = pos[0];\n      now[5] = pos[1];\n    }\n\n    if (start) {\n      start.unactivate();\n    }\n\n    var ctxTapend;\n\n    if (r.touchData.cxt) {\n      ctxTapend = {\n        originalEvent: e,\n        type: 'cxttapend',\n        position: {\n          x: now[0],\n          y: now[1]\n        }\n      };\n\n      if (start) {\n        start.emit(ctxTapend);\n      } else {\n        cy.emit(ctxTapend);\n      }\n\n      if (!r.touchData.cxtDragged) {\n        var ctxTap = {\n          originalEvent: e,\n          type: 'cxttap',\n          position: {\n            x: now[0],\n            y: now[1]\n          }\n        };\n\n        if (start) {\n          start.emit(ctxTap);\n        } else {\n          cy.emit(ctxTap);\n        }\n      }\n\n      if (r.touchData.start) {\n        r.touchData.start._private.grabbed = false;\n      }\n\n      r.touchData.cxt = false;\n      r.touchData.start = null;\n      r.redraw();\n      return;\n    } // no more box selection if we don't have three fingers\n\n\n    if (!e.touches[2] && cy.boxSelectionEnabled() && r.touchData.selecting) {\n      r.touchData.selecting = false;\n      var box = cy.collection(r.getAllInBox(select[0], select[1], select[2], select[3]));\n      select[0] = undefined;\n      select[1] = undefined;\n      select[2] = undefined;\n      select[3] = undefined;\n      select[4] = 0;\n      r.redrawHint('select', true);\n      cy.emit({\n        type: 'boxend',\n        originalEvent: e,\n        position: {\n          x: now[0],\n          y: now[1]\n        }\n      });\n\n      var eleWouldBeSelected = function eleWouldBeSelected(ele) {\n        return ele.selectable() && !ele.selected();\n      };\n\n      box.emit('box').stdFilter(eleWouldBeSelected).select().emit('boxselect');\n\n      if (box.nonempty()) {\n        r.redrawHint('eles', true);\n      }\n\n      r.redraw();\n    }\n\n    if (start != null) {\n      start.unactivate();\n    }\n\n    if (e.touches[2]) {\n      r.data.bgActivePosistion = undefined;\n      r.redrawHint('select', true);\n    } else if (e.touches[1]) ; else if (e.touches[0]) ; else if (!e.touches[0]) {\n      r.data.bgActivePosistion = undefined;\n      r.redrawHint('select', true);\n      var draggedEles = r.dragData.touchDragEles;\n\n      if (start != null) {\n        var startWasGrabbed = start._private.grabbed;\n        freeDraggedElements(draggedEles);\n        r.redrawHint('drag', true);\n        r.redrawHint('eles', true);\n\n        if (startWasGrabbed) {\n          start.emit('freeon');\n          draggedEles.emit('free');\n\n          if (r.dragData.didDrag) {\n            start.emit('dragfreeon');\n            draggedEles.emit('dragfree');\n          }\n        }\n\n        triggerEvents(start, ['touchend', 'tapend', 'vmouseup', 'tapdragout'], e, {\n          x: now[0],\n          y: now[1]\n        });\n        start.unactivate();\n        r.touchData.start = null;\n      } else {\n        var near = r.findNearestElement(now[0], now[1], true, true);\n        triggerEvents(near, ['touchend', 'tapend', 'vmouseup', 'tapdragout'], e, {\n          x: now[0],\n          y: now[1]\n        });\n      }\n\n      var dx = r.touchData.startPosition[0] - now[0];\n      var dx2 = dx * dx;\n      var dy = r.touchData.startPosition[1] - now[1];\n      var dy2 = dy * dy;\n      var dist2 = dx2 + dy2;\n      var rdist2 = dist2 * zoom * zoom; // Tap event, roughly same as mouse click event for touch\n\n      if (!r.touchData.singleTouchMoved) {\n        if (!start) {\n          cy.$(':selected').unselect(['tapunselect']);\n        }\n\n        triggerEvents(start, ['tap', 'vclick'], e, {\n          x: now[0],\n          y: now[1]\n        });\n      } // Prepare to select the currently touched node, only if it hasn't been dragged past a certain distance\n\n\n      if (start != null && !r.dragData.didDrag // didn't drag nodes around\n      && start._private.selectable && rdist2 < r.touchTapThreshold2 && !r.pinching // pinch to zoom should not affect selection\n      ) {\n          if (cy.selectionType() === 'single') {\n            cy.$(isSelected).unmerge(start).unselect(['tapunselect']);\n            start.select(['tapselect']);\n          } else {\n            if (start.selected()) {\n              start.unselect(['tapunselect']);\n            } else {\n              start.select(['tapselect']);\n            }\n          }\n\n          r.redrawHint('eles', true);\n        }\n\n      r.touchData.singleTouchMoved = true;\n    }\n\n    for (var j = 0; j < now.length; j++) {\n      earlier[j] = now[j];\n    }\n\n    r.dragData.didDrag = false; // reset for next touchstart\n\n    if (e.touches.length === 0) {\n      r.touchData.dragDelta = [];\n      r.touchData.startPosition = null;\n      r.touchData.startGPosition = null;\n      r.touchData.didSelect = false;\n    }\n\n    if (e.touches.length < 2) {\n      if (e.touches.length === 1) {\n        // the old start global pos'n may not be the same finger that remains\n        r.touchData.startGPosition = [e.touches[0].clientX, e.touches[0].clientY];\n      }\n\n      r.pinching = false;\n      r.redrawHint('eles', true);\n      r.redraw();\n    } //r.redraw();\n\n  }, false); // fallback compatibility layer for ms pointer events\n\n  if (typeof TouchEvent === 'undefined') {\n    var pointers = [];\n\n    var makeTouch = function makeTouch(e) {\n      return {\n        clientX: e.clientX,\n        clientY: e.clientY,\n        force: 1,\n        identifier: e.pointerId,\n        pageX: e.pageX,\n        pageY: e.pageY,\n        radiusX: e.width / 2,\n        radiusY: e.height / 2,\n        screenX: e.screenX,\n        screenY: e.screenY,\n        target: e.target\n      };\n    };\n\n    var makePointer = function makePointer(e) {\n      return {\n        event: e,\n        touch: makeTouch(e)\n      };\n    };\n\n    var addPointer = function addPointer(e) {\n      pointers.push(makePointer(e));\n    };\n\n    var removePointer = function removePointer(e) {\n      for (var i = 0; i < pointers.length; i++) {\n        var p = pointers[i];\n\n        if (p.event.pointerId === e.pointerId) {\n          pointers.splice(i, 1);\n          return;\n        }\n      }\n    };\n\n    var updatePointer = function updatePointer(e) {\n      var p = pointers.filter(function (p) {\n        return p.event.pointerId === e.pointerId;\n      })[0];\n      p.event = e;\n      p.touch = makeTouch(e);\n    };\n\n    var addTouchesToEvent = function addTouchesToEvent(e) {\n      e.touches = pointers.map(function (p) {\n        return p.touch;\n      });\n    };\n\n    var pointerIsMouse = function pointerIsMouse(e) {\n      return e.pointerType === 'mouse' || e.pointerType === 4;\n    };\n\n    r.registerBinding(r.container, 'pointerdown', function (e) {\n      if (pointerIsMouse(e)) {\n        return;\n      } // mouse already handled\n\n\n      e.preventDefault();\n      addPointer(e);\n      addTouchesToEvent(e);\n      touchstartHandler(e);\n    });\n    r.registerBinding(r.container, 'pointerup', function (e) {\n      if (pointerIsMouse(e)) {\n        return;\n      } // mouse already handled\n\n\n      removePointer(e);\n      addTouchesToEvent(e);\n      touchendHandler(e);\n    });\n    r.registerBinding(r.container, 'pointercancel', function (e) {\n      if (pointerIsMouse(e)) {\n        return;\n      } // mouse already handled\n\n\n      removePointer(e);\n      addTouchesToEvent(e);\n      touchcancelHandler(e);\n    });\n    r.registerBinding(r.container, 'pointermove', function (e) {\n      if (pointerIsMouse(e)) {\n        return;\n      } // mouse already handled\n\n\n      e.preventDefault();\n      updatePointer(e);\n      addTouchesToEvent(e);\n      touchmoveHandler(e);\n    });\n  }\n};\n\nvar BRp$d = {};\n\nBRp$d.generatePolygon = function (name, points) {\n  return this.nodeShapes[name] = {\n    renderer: this,\n    name: name,\n    points: points,\n    draw: function draw(context, centerX, centerY, width, height) {\n      this.renderer.nodeShapeImpl('polygon', context, centerX, centerY, width, height, this.points);\n    },\n    intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding) {\n      return polygonIntersectLine(x, y, this.points, nodeX, nodeY, width / 2, height / 2, padding);\n    },\n    checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY) {\n      return pointInsidePolygon(x, y, this.points, centerX, centerY, width, height, [0, -1], padding);\n    }\n  };\n};\n\nBRp$d.generateEllipse = function () {\n  return this.nodeShapes['ellipse'] = {\n    renderer: this,\n    name: 'ellipse',\n    draw: function draw(context, centerX, centerY, width, height) {\n      this.renderer.nodeShapeImpl(this.name, context, centerX, centerY, width, height);\n    },\n    intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding) {\n      return intersectLineEllipse(x, y, nodeX, nodeY, width / 2 + padding, height / 2 + padding);\n    },\n    checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY) {\n      return checkInEllipse(x, y, width, height, centerX, centerY, padding);\n    }\n  };\n};\n\nBRp$d.generateRoundPolygon = function (name, points) {\n  // Pre-compute control points\n  // Since these points depend on the radius length (which in turns depend on the width/height of the node) we will only pre-compute\n  // the unit vectors.\n  // For simplicity the layout will be:\n  // [ p0, UnitVectorP0P1, p1, UniVectorP1P2, ..., pn, UnitVectorPnP0 ]\n  var allPoints = new Array(points.length * 2);\n\n  for (var i = 0; i < points.length / 2; i++) {\n    var sourceIndex = i * 2;\n    var destIndex = void 0;\n\n    if (i < points.length / 2 - 1) {\n      destIndex = (i + 1) * 2;\n    } else {\n      destIndex = 0;\n    }\n\n    allPoints[i * 4] = points[sourceIndex];\n    allPoints[i * 4 + 1] = points[sourceIndex + 1];\n    var xDest = points[destIndex] - points[sourceIndex];\n    var yDest = points[destIndex + 1] - points[sourceIndex + 1];\n    var norm = Math.sqrt(xDest * xDest + yDest * yDest);\n    allPoints[i * 4 + 2] = xDest / norm;\n    allPoints[i * 4 + 3] = yDest / norm;\n  }\n\n  return this.nodeShapes[name] = {\n    renderer: this,\n    name: name,\n    points: allPoints,\n    draw: function draw(context, centerX, centerY, width, height) {\n      this.renderer.nodeShapeImpl('round-polygon', context, centerX, centerY, width, height, this.points);\n    },\n    intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding) {\n      return roundPolygonIntersectLine(x, y, this.points, nodeX, nodeY, width, height);\n    },\n    checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY) {\n      return pointInsideRoundPolygon(x, y, this.points, centerX, centerY, width, height);\n    }\n  };\n};\n\nBRp$d.generateRoundRectangle = function () {\n  return this.nodeShapes['round-rectangle'] = this.nodeShapes['roundrectangle'] = {\n    renderer: this,\n    name: 'round-rectangle',\n    points: generateUnitNgonPointsFitToSquare(4, 0),\n    draw: function draw(context, centerX, centerY, width, height) {\n      this.renderer.nodeShapeImpl(this.name, context, centerX, centerY, width, height);\n    },\n    intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding) {\n      return roundRectangleIntersectLine(x, y, nodeX, nodeY, width, height, padding);\n    },\n    checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY) {\n      var cornerRadius = getRoundRectangleRadius(width, height);\n      var diam = cornerRadius * 2; // Check hBox\n\n      if (pointInsidePolygon(x, y, this.points, centerX, centerY, width, height - diam, [0, -1], padding)) {\n        return true;\n      } // Check vBox\n\n\n      if (pointInsidePolygon(x, y, this.points, centerX, centerY, width - diam, height, [0, -1], padding)) {\n        return true;\n      } // Check top left quarter circle\n\n\n      if (checkInEllipse(x, y, diam, diam, centerX - width / 2 + cornerRadius, centerY - height / 2 + cornerRadius, padding)) {\n        return true;\n      } // Check top right quarter circle\n\n\n      if (checkInEllipse(x, y, diam, diam, centerX + width / 2 - cornerRadius, centerY - height / 2 + cornerRadius, padding)) {\n        return true;\n      } // Check bottom right quarter circle\n\n\n      if (checkInEllipse(x, y, diam, diam, centerX + width / 2 - cornerRadius, centerY + height / 2 - cornerRadius, padding)) {\n        return true;\n      } // Check bottom left quarter circle\n\n\n      if (checkInEllipse(x, y, diam, diam, centerX - width / 2 + cornerRadius, centerY + height / 2 - cornerRadius, padding)) {\n        return true;\n      }\n\n      return false;\n    }\n  };\n};\n\nBRp$d.generateCutRectangle = function () {\n  return this.nodeShapes['cut-rectangle'] = this.nodeShapes['cutrectangle'] = {\n    renderer: this,\n    name: 'cut-rectangle',\n    cornerLength: getCutRectangleCornerLength(),\n    points: generateUnitNgonPointsFitToSquare(4, 0),\n    draw: function draw(context, centerX, centerY, width, height) {\n      this.renderer.nodeShapeImpl(this.name, context, centerX, centerY, width, height);\n    },\n    generateCutTrianglePts: function generateCutTrianglePts(width, height, centerX, centerY) {\n      var cl = this.cornerLength;\n      var hh = height / 2;\n      var hw = width / 2;\n      var xBegin = centerX - hw;\n      var xEnd = centerX + hw;\n      var yBegin = centerY - hh;\n      var yEnd = centerY + hh; // points are in clockwise order, inner (imaginary) triangle pt on [4, 5]\n\n      return {\n        topLeft: [xBegin, yBegin + cl, xBegin + cl, yBegin, xBegin + cl, yBegin + cl],\n        topRight: [xEnd - cl, yBegin, xEnd, yBegin + cl, xEnd - cl, yBegin + cl],\n        bottomRight: [xEnd, yEnd - cl, xEnd - cl, yEnd, xEnd - cl, yEnd - cl],\n        bottomLeft: [xBegin + cl, yEnd, xBegin, yEnd - cl, xBegin + cl, yEnd - cl]\n      };\n    },\n    intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding) {\n      var cPts = this.generateCutTrianglePts(width + 2 * padding, height + 2 * padding, nodeX, nodeY);\n      var pts = [].concat.apply([], [cPts.topLeft.splice(0, 4), cPts.topRight.splice(0, 4), cPts.bottomRight.splice(0, 4), cPts.bottomLeft.splice(0, 4)]);\n      return polygonIntersectLine(x, y, pts, nodeX, nodeY);\n    },\n    checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY) {\n      // Check hBox\n      if (pointInsidePolygon(x, y, this.points, centerX, centerY, width, height - 2 * this.cornerLength, [0, -1], padding)) {\n        return true;\n      } // Check vBox\n\n\n      if (pointInsidePolygon(x, y, this.points, centerX, centerY, width - 2 * this.cornerLength, height, [0, -1], padding)) {\n        return true;\n      }\n\n      var cutTrianglePts = this.generateCutTrianglePts(width, height, centerX, centerY);\n      return pointInsidePolygonPoints(x, y, cutTrianglePts.topLeft) || pointInsidePolygonPoints(x, y, cutTrianglePts.topRight) || pointInsidePolygonPoints(x, y, cutTrianglePts.bottomRight) || pointInsidePolygonPoints(x, y, cutTrianglePts.bottomLeft);\n    }\n  };\n};\n\nBRp$d.generateBarrel = function () {\n  return this.nodeShapes['barrel'] = {\n    renderer: this,\n    name: 'barrel',\n    points: generateUnitNgonPointsFitToSquare(4, 0),\n    draw: function draw(context, centerX, centerY, width, height) {\n      this.renderer.nodeShapeImpl(this.name, context, centerX, centerY, width, height);\n    },\n    intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding) {\n      // use two fixed t values for the bezier curve approximation\n      var t0 = 0.15;\n      var t1 = 0.5;\n      var t2 = 0.85;\n      var bPts = this.generateBarrelBezierPts(width + 2 * padding, height + 2 * padding, nodeX, nodeY);\n\n      var approximateBarrelCurvePts = function approximateBarrelCurvePts(pts) {\n        // approximate curve pts based on the two t values\n        var m0 = qbezierPtAt({\n          x: pts[0],\n          y: pts[1]\n        }, {\n          x: pts[2],\n          y: pts[3]\n        }, {\n          x: pts[4],\n          y: pts[5]\n        }, t0);\n        var m1 = qbezierPtAt({\n          x: pts[0],\n          y: pts[1]\n        }, {\n          x: pts[2],\n          y: pts[3]\n        }, {\n          x: pts[4],\n          y: pts[5]\n        }, t1);\n        var m2 = qbezierPtAt({\n          x: pts[0],\n          y: pts[1]\n        }, {\n          x: pts[2],\n          y: pts[3]\n        }, {\n          x: pts[4],\n          y: pts[5]\n        }, t2);\n        return [pts[0], pts[1], m0.x, m0.y, m1.x, m1.y, m2.x, m2.y, pts[4], pts[5]];\n      };\n\n      var pts = [].concat(approximateBarrelCurvePts(bPts.topLeft), approximateBarrelCurvePts(bPts.topRight), approximateBarrelCurvePts(bPts.bottomRight), approximateBarrelCurvePts(bPts.bottomLeft));\n      return polygonIntersectLine(x, y, pts, nodeX, nodeY);\n    },\n    generateBarrelBezierPts: function generateBarrelBezierPts(width, height, centerX, centerY) {\n      var hh = height / 2;\n      var hw = width / 2;\n      var xBegin = centerX - hw;\n      var xEnd = centerX + hw;\n      var yBegin = centerY - hh;\n      var yEnd = centerY + hh;\n      var curveConstants = getBarrelCurveConstants(width, height);\n      var hOffset = curveConstants.heightOffset;\n      var wOffset = curveConstants.widthOffset;\n      var ctrlPtXOffset = curveConstants.ctrlPtOffsetPct * width; // points are in clockwise order, inner (imaginary) control pt on [4, 5]\n\n      var pts = {\n        topLeft: [xBegin, yBegin + hOffset, xBegin + ctrlPtXOffset, yBegin, xBegin + wOffset, yBegin],\n        topRight: [xEnd - wOffset, yBegin, xEnd - ctrlPtXOffset, yBegin, xEnd, yBegin + hOffset],\n        bottomRight: [xEnd, yEnd - hOffset, xEnd - ctrlPtXOffset, yEnd, xEnd - wOffset, yEnd],\n        bottomLeft: [xBegin + wOffset, yEnd, xBegin + ctrlPtXOffset, yEnd, xBegin, yEnd - hOffset]\n      };\n      pts.topLeft.isTop = true;\n      pts.topRight.isTop = true;\n      pts.bottomLeft.isBottom = true;\n      pts.bottomRight.isBottom = true;\n      return pts;\n    },\n    checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY) {\n      var curveConstants = getBarrelCurveConstants(width, height);\n      var hOffset = curveConstants.heightOffset;\n      var wOffset = curveConstants.widthOffset; // Check hBox\n\n      if (pointInsidePolygon(x, y, this.points, centerX, centerY, width, height - 2 * hOffset, [0, -1], padding)) {\n        return true;\n      } // Check vBox\n\n\n      if (pointInsidePolygon(x, y, this.points, centerX, centerY, width - 2 * wOffset, height, [0, -1], padding)) {\n        return true;\n      }\n\n      var barrelCurvePts = this.generateBarrelBezierPts(width, height, centerX, centerY);\n\n      var getCurveT = function getCurveT(x, y, curvePts) {\n        var x0 = curvePts[4];\n        var x1 = curvePts[2];\n        var x2 = curvePts[0];\n        var y0 = curvePts[5]; // var y1 = curvePts[ 3 ];\n\n        var y2 = curvePts[1];\n        var xMin = Math.min(x0, x2);\n        var xMax = Math.max(x0, x2);\n        var yMin = Math.min(y0, y2);\n        var yMax = Math.max(y0, y2);\n\n        if (xMin <= x && x <= xMax && yMin <= y && y <= yMax) {\n          var coeff = bezierPtsToQuadCoeff(x0, x1, x2);\n          var roots = solveQuadratic(coeff[0], coeff[1], coeff[2], x);\n          var validRoots = roots.filter(function (r) {\n            return 0 <= r && r <= 1;\n          });\n\n          if (validRoots.length > 0) {\n            return validRoots[0];\n          }\n        }\n\n        return null;\n      };\n\n      var curveRegions = Object.keys(barrelCurvePts);\n\n      for (var i = 0; i < curveRegions.length; i++) {\n        var corner = curveRegions[i];\n        var cornerPts = barrelCurvePts[corner];\n        var t = getCurveT(x, y, cornerPts);\n\n        if (t == null) {\n          continue;\n        }\n\n        var y0 = cornerPts[5];\n        var y1 = cornerPts[3];\n        var y2 = cornerPts[1];\n        var bezY = qbezierAt(y0, y1, y2, t);\n\n        if (cornerPts.isTop && bezY <= y) {\n          return true;\n        }\n\n        if (cornerPts.isBottom && y <= bezY) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  };\n};\n\nBRp$d.generateBottomRoundrectangle = function () {\n  return this.nodeShapes['bottom-round-rectangle'] = this.nodeShapes['bottomroundrectangle'] = {\n    renderer: this,\n    name: 'bottom-round-rectangle',\n    points: generateUnitNgonPointsFitToSquare(4, 0),\n    draw: function draw(context, centerX, centerY, width, height) {\n      this.renderer.nodeShapeImpl(this.name, context, centerX, centerY, width, height);\n    },\n    intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding) {\n      var topStartX = nodeX - (width / 2 + padding);\n      var topStartY = nodeY - (height / 2 + padding);\n      var topEndY = topStartY;\n      var topEndX = nodeX + (width / 2 + padding);\n      var topIntersections = finiteLinesIntersect(x, y, nodeX, nodeY, topStartX, topStartY, topEndX, topEndY, false);\n\n      if (topIntersections.length > 0) {\n        return topIntersections;\n      }\n\n      return roundRectangleIntersectLine(x, y, nodeX, nodeY, width, height, padding);\n    },\n    checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY) {\n      var cornerRadius = getRoundRectangleRadius(width, height);\n      var diam = 2 * cornerRadius; // Check hBox\n\n      if (pointInsidePolygon(x, y, this.points, centerX, centerY, width, height - diam, [0, -1], padding)) {\n        return true;\n      } // Check vBox\n\n\n      if (pointInsidePolygon(x, y, this.points, centerX, centerY, width - diam, height, [0, -1], padding)) {\n        return true;\n      } // check non-rounded top side\n\n\n      var outerWidth = width / 2 + 2 * padding;\n      var outerHeight = height / 2 + 2 * padding;\n      var points = [centerX - outerWidth, centerY - outerHeight, centerX - outerWidth, centerY, centerX + outerWidth, centerY, centerX + outerWidth, centerY - outerHeight];\n\n      if (pointInsidePolygonPoints(x, y, points)) {\n        return true;\n      } // Check bottom right quarter circle\n\n\n      if (checkInEllipse(x, y, diam, diam, centerX + width / 2 - cornerRadius, centerY + height / 2 - cornerRadius, padding)) {\n        return true;\n      } // Check bottom left quarter circle\n\n\n      if (checkInEllipse(x, y, diam, diam, centerX - width / 2 + cornerRadius, centerY + height / 2 - cornerRadius, padding)) {\n        return true;\n      }\n\n      return false;\n    }\n  };\n};\n\nBRp$d.registerNodeShapes = function () {\n  var nodeShapes = this.nodeShapes = {};\n  var renderer = this;\n  this.generateEllipse();\n  this.generatePolygon('triangle', generateUnitNgonPointsFitToSquare(3, 0));\n  this.generateRoundPolygon('round-triangle', generateUnitNgonPointsFitToSquare(3, 0));\n  this.generatePolygon('rectangle', generateUnitNgonPointsFitToSquare(4, 0));\n  nodeShapes['square'] = nodeShapes['rectangle'];\n  this.generateRoundRectangle();\n  this.generateCutRectangle();\n  this.generateBarrel();\n  this.generateBottomRoundrectangle();\n  {\n    var diamondPoints = [0, 1, 1, 0, 0, -1, -1, 0];\n    this.generatePolygon('diamond', diamondPoints);\n    this.generateRoundPolygon('round-diamond', diamondPoints);\n  }\n  this.generatePolygon('pentagon', generateUnitNgonPointsFitToSquare(5, 0));\n  this.generateRoundPolygon('round-pentagon', generateUnitNgonPointsFitToSquare(5, 0));\n  this.generatePolygon('hexagon', generateUnitNgonPointsFitToSquare(6, 0));\n  this.generateRoundPolygon('round-hexagon', generateUnitNgonPointsFitToSquare(6, 0));\n  this.generatePolygon('heptagon', generateUnitNgonPointsFitToSquare(7, 0));\n  this.generateRoundPolygon('round-heptagon', generateUnitNgonPointsFitToSquare(7, 0));\n  this.generatePolygon('octagon', generateUnitNgonPointsFitToSquare(8, 0));\n  this.generateRoundPolygon('round-octagon', generateUnitNgonPointsFitToSquare(8, 0));\n  var star5Points = new Array(20);\n  {\n    var outerPoints = generateUnitNgonPoints(5, 0);\n    var innerPoints = generateUnitNgonPoints(5, Math.PI / 5); // Outer radius is 1; inner radius of star is smaller\n\n    var innerRadius = 0.5 * (3 - Math.sqrt(5));\n    innerRadius *= 1.57;\n\n    for (var i = 0; i < innerPoints.length / 2; i++) {\n      innerPoints[i * 2] *= innerRadius;\n      innerPoints[i * 2 + 1] *= innerRadius;\n    }\n\n    for (var i = 0; i < 20 / 4; i++) {\n      star5Points[i * 4] = outerPoints[i * 2];\n      star5Points[i * 4 + 1] = outerPoints[i * 2 + 1];\n      star5Points[i * 4 + 2] = innerPoints[i * 2];\n      star5Points[i * 4 + 3] = innerPoints[i * 2 + 1];\n    }\n  }\n  star5Points = fitPolygonToSquare(star5Points);\n  this.generatePolygon('star', star5Points);\n  this.generatePolygon('vee', [-1, -1, 0, -0.333, 1, -1, 0, 1]);\n  this.generatePolygon('rhomboid', [-1, -1, 0.333, -1, 1, 1, -0.333, 1]);\n  this.nodeShapes['concavehexagon'] = this.generatePolygon('concave-hexagon', [-1, -0.95, -0.75, 0, -1, 0.95, 1, 0.95, 0.75, 0, 1, -0.95]);\n  {\n    var tagPoints = [-1, -1, 0.25, -1, 1, 0, 0.25, 1, -1, 1];\n    this.generatePolygon('tag', tagPoints);\n    this.generateRoundPolygon('round-tag', tagPoints);\n  }\n\n  nodeShapes.makePolygon = function (points) {\n    // use caching on user-specified polygons so they are as fast as native shapes\n    var key = points.join('$');\n    var name = 'polygon-' + key;\n    var shape;\n\n    if (shape = this[name]) {\n      // got cached shape\n      return shape;\n    } // create and cache new shape\n\n\n    return renderer.generatePolygon(name, points);\n  };\n};\n\nvar BRp$e = {};\n\nBRp$e.timeToRender = function () {\n  return this.redrawTotalTime / this.redrawCount;\n};\n\nBRp$e.redraw = function (options) {\n  options = options || staticEmptyObject();\n  var r = this;\n\n  if (r.averageRedrawTime === undefined) {\n    r.averageRedrawTime = 0;\n  }\n\n  if (r.lastRedrawTime === undefined) {\n    r.lastRedrawTime = 0;\n  }\n\n  if (r.lastDrawTime === undefined) {\n    r.lastDrawTime = 0;\n  }\n\n  r.requestedFrame = true;\n  r.renderOptions = options;\n};\n\nBRp$e.beforeRender = function (fn, priority) {\n  // the renderer can't add tick callbacks when destroyed\n  if (this.destroyed) {\n    return;\n  }\n\n  if (priority == null) {\n    error('Priority is not optional for beforeRender');\n  }\n\n  var cbs = this.beforeRenderCallbacks;\n  cbs.push({\n    fn: fn,\n    priority: priority\n  }); // higher priority callbacks executed first\n\n  cbs.sort(function (a, b) {\n    return b.priority - a.priority;\n  });\n};\n\nvar beforeRenderCallbacks = function beforeRenderCallbacks(r, willDraw, startTime) {\n  var cbs = r.beforeRenderCallbacks;\n\n  for (var i = 0; i < cbs.length; i++) {\n    cbs[i].fn(willDraw, startTime);\n  }\n};\n\nBRp$e.startRenderLoop = function () {\n  var r = this;\n  var cy = r.cy;\n\n  if (r.renderLoopStarted) {\n    return;\n  } else {\n    r.renderLoopStarted = true;\n  }\n\n  var renderFn = function renderFn(requestTime) {\n    if (r.destroyed) {\n      return;\n    }\n\n    if (cy.batching()) ; else if (r.requestedFrame && !r.skipFrame) {\n      beforeRenderCallbacks(r, true, requestTime);\n      var startTime = performanceNow();\n      r.render(r.renderOptions);\n      var endTime = r.lastDrawTime = performanceNow();\n\n      if (r.averageRedrawTime === undefined) {\n        r.averageRedrawTime = endTime - startTime;\n      }\n\n      if (r.redrawCount === undefined) {\n        r.redrawCount = 0;\n      }\n\n      r.redrawCount++;\n\n      if (r.redrawTotalTime === undefined) {\n        r.redrawTotalTime = 0;\n      }\n\n      var duration = endTime - startTime;\n      r.redrawTotalTime += duration;\n      r.lastRedrawTime = duration; // use a weighted average with a bias from the previous average so we don't spike so easily\n\n      r.averageRedrawTime = r.averageRedrawTime / 2 + duration / 2;\n      r.requestedFrame = false;\n    } else {\n      beforeRenderCallbacks(r, false, requestTime);\n    }\n\n    r.skipFrame = false;\n    requestAnimationFrame(renderFn);\n  };\n\n  requestAnimationFrame(renderFn);\n};\n\nvar BaseRenderer = function BaseRenderer(options) {\n  this.init(options);\n};\n\nvar BR = BaseRenderer;\nvar BRp$f = BR.prototype;\nBRp$f.clientFunctions = ['redrawHint', 'render', 'renderTo', 'matchCanvasSize', 'nodeShapeImpl', 'arrowShapeImpl'];\n\nBRp$f.init = function (options) {\n  var r = this;\n  r.options = options;\n  r.cy = options.cy;\n  var ctr = r.container = options.cy.container(); // prepend a stylesheet in the head such that\n\n  if (window$1) {\n    var document = window$1.document;\n    var head = document.head;\n    var stylesheetId = '__________cytoscape_stylesheet';\n    var className = '__________cytoscape_container';\n    var stylesheetAlreadyExists = document.getElementById(stylesheetId) != null;\n\n    if (ctr.className.indexOf(className) < 0) {\n      ctr.className = (ctr.className || '') + ' ' + className;\n    }\n\n    if (!stylesheetAlreadyExists) {\n      var stylesheet = document.createElement('style');\n      stylesheet.id = stylesheetId;\n      stylesheet.innerHTML = '.' + className + ' { position: relative; }';\n      head.insertBefore(stylesheet, head.children[0]); // first so lowest priority\n    }\n\n    var computedStyle = window$1.getComputedStyle(ctr);\n    var position = computedStyle.getPropertyValue('position');\n\n    if (position === 'static') {\n      warn('A Cytoscape container has style position:static and so can not use UI extensions properly');\n    }\n  }\n\n  r.selection = [undefined, undefined, undefined, undefined, 0]; // Coordinates for selection box, plus enabled flag\n\n  r.bezierProjPcts = [0.05, 0.225, 0.4, 0.5, 0.6, 0.775, 0.95]; //--Pointer-related data\n\n  r.hoverData = {\n    down: null,\n    last: null,\n    downTime: null,\n    triggerMode: null,\n    dragging: false,\n    initialPan: [null, null],\n    capture: false\n  };\n  r.dragData = {\n    possibleDragElements: []\n  };\n  r.touchData = {\n    start: null,\n    capture: false,\n    // These 3 fields related to tap, taphold events\n    startPosition: [null, null, null, null, null, null],\n    singleTouchStartTime: null,\n    singleTouchMoved: true,\n    now: [null, null, null, null, null, null],\n    earlier: [null, null, null, null, null, null]\n  };\n  r.redraws = 0;\n  r.showFps = options.showFps;\n  r.debug = options.debug;\n  r.hideEdgesOnViewport = options.hideEdgesOnViewport;\n  r.textureOnViewport = options.textureOnViewport;\n  r.wheelSensitivity = options.wheelSensitivity;\n  r.motionBlurEnabled = options.motionBlur; // on by default\n\n  r.forcedPixelRatio = number(options.pixelRatio) ? options.pixelRatio : null;\n  r.motionBlur = options.motionBlur; // for initial kick off\n\n  r.motionBlurOpacity = options.motionBlurOpacity;\n  r.motionBlurTransparency = 1 - r.motionBlurOpacity;\n  r.motionBlurPxRatio = 1;\n  r.mbPxRBlurry = 1; //0.8;\n\n  r.minMbLowQualFrames = 4;\n  r.fullQualityMb = false;\n  r.clearedForMotionBlur = [];\n  r.desktopTapThreshold = options.desktopTapThreshold;\n  r.desktopTapThreshold2 = options.desktopTapThreshold * options.desktopTapThreshold;\n  r.touchTapThreshold = options.touchTapThreshold;\n  r.touchTapThreshold2 = options.touchTapThreshold * options.touchTapThreshold;\n  r.tapholdDuration = 500;\n  r.bindings = [];\n  r.beforeRenderCallbacks = [];\n  r.beforeRenderPriorities = {\n    // higher priority execs before lower one\n    animations: 400,\n    eleCalcs: 300,\n    eleTxrDeq: 200,\n    lyrTxrDeq: 150,\n    lyrTxrSkip: 100\n  };\n  r.registerNodeShapes();\n  r.registerArrowShapes();\n  r.registerCalculationListeners();\n};\n\nBRp$f.notify = function (eventName, eles) {\n  var r = this;\n  var cy = r.cy; // the renderer can't be notified after it's destroyed\n\n  if (this.destroyed) {\n    return;\n  }\n\n  if (eventName === 'init') {\n    r.load();\n    return;\n  }\n\n  if (eventName === 'destroy') {\n    r.destroy();\n    return;\n  }\n\n  if (eventName === 'add' || eventName === 'remove' || eventName === 'move' && cy.hasCompoundNodes() || eventName === 'load' || eventName === 'zorder' || eventName === 'mount') {\n    r.invalidateCachedZSortedEles();\n  }\n\n  if (eventName === 'viewport') {\n    r.redrawHint('select', true);\n  }\n\n  if (eventName === 'load' || eventName === 'resize' || eventName === 'mount') {\n    r.invalidateContainerClientCoordsCache();\n    r.matchCanvasSize(r.container);\n  }\n\n  r.redrawHint('eles', true);\n  r.redrawHint('drag', true);\n  this.startRenderLoop();\n  this.redraw();\n};\n\nBRp$f.destroy = function () {\n  var r = this;\n  r.destroyed = true;\n  r.cy.stopAnimationLoop();\n\n  for (var i = 0; i < r.bindings.length; i++) {\n    var binding = r.bindings[i];\n    var b = binding;\n    var tgt = b.target;\n    (tgt.off || tgt.removeEventListener).apply(tgt, b.args);\n  }\n\n  r.bindings = [];\n  r.beforeRenderCallbacks = [];\n  r.onUpdateEleCalcsFns = [];\n\n  if (r.removeObserver) {\n    r.removeObserver.disconnect();\n  }\n\n  if (r.styleObserver) {\n    r.styleObserver.disconnect();\n  }\n\n  if (r.resizeObserver) {\n    r.resizeObserver.disconnect();\n  }\n\n  if (r.labelCalcDiv) {\n    try {\n      document.body.removeChild(r.labelCalcDiv); // eslint-disable-line no-undef\n    } catch (e) {// ie10 issue #1014\n    }\n  }\n};\n\nBRp$f.isHeadless = function () {\n  return false;\n};\n\n[BRp, BRp$a, BRp$b, BRp$c, BRp$d, BRp$e].forEach(function (props) {\n  extend(BRp$f, props);\n});\n\nvar fullFpsTime = 1000 / 60; // assume 60 frames per second\n\nvar defs = {\n  setupDequeueing: function setupDequeueing(opts) {\n    return function setupDequeueingImpl() {\n      var self = this;\n      var r = this.renderer;\n\n      if (self.dequeueingSetup) {\n        return;\n      } else {\n        self.dequeueingSetup = true;\n      }\n\n      var queueRedraw = util(function () {\n        r.redrawHint('eles', true);\n        r.redrawHint('drag', true);\n        r.redraw();\n      }, opts.deqRedrawThreshold);\n\n      var dequeue = function dequeue(willDraw, frameStartTime) {\n        var startTime = performanceNow();\n        var avgRenderTime = r.averageRedrawTime;\n        var renderTime = r.lastRedrawTime;\n        var deqd = [];\n        var extent = r.cy.extent();\n        var pixelRatio = r.getPixelRatio(); // if we aren't in a tick that causes a draw, then the rendered style\n        // queue won't automatically be flushed before dequeueing starts\n\n        if (!willDraw) {\n          r.flushRenderedStyleQueue();\n        }\n\n        while (true) {\n          // eslint-disable-line no-constant-condition\n          var now = performanceNow();\n          var duration = now - startTime;\n          var frameDuration = now - frameStartTime;\n\n          if (renderTime < fullFpsTime) {\n            // if we're rendering faster than the ideal fps, then do dequeueing\n            // during all of the remaining frame time\n            var timeAvailable = fullFpsTime - (willDraw ? avgRenderTime : 0);\n\n            if (frameDuration >= opts.deqFastCost * timeAvailable) {\n              break;\n            }\n          } else {\n            if (willDraw) {\n              if (duration >= opts.deqCost * renderTime || duration >= opts.deqAvgCost * avgRenderTime) {\n                break;\n              }\n            } else if (frameDuration >= opts.deqNoDrawCost * fullFpsTime) {\n              break;\n            }\n          }\n\n          var thisDeqd = opts.deq(self, pixelRatio, extent);\n\n          if (thisDeqd.length > 0) {\n            for (var i = 0; i < thisDeqd.length; i++) {\n              deqd.push(thisDeqd[i]);\n            }\n          } else {\n            break;\n          }\n        } // callbacks on dequeue\n\n\n        if (deqd.length > 0) {\n          opts.onDeqd(self, deqd);\n\n          if (!willDraw && opts.shouldRedraw(self, deqd, pixelRatio, extent)) {\n            queueRedraw();\n          }\n        }\n      };\n\n      var priority = opts.priority || noop;\n      r.beforeRender(dequeue, priority(self));\n    };\n  }\n};\n\n// Uses keys so elements may share the same cache.\n\nvar ElementTextureCacheLookup =\n/*#__PURE__*/\nfunction () {\n  function ElementTextureCacheLookup(getKey) {\n    var doesEleInvalidateKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : falsify;\n\n    _classCallCheck(this, ElementTextureCacheLookup);\n\n    this.idsByKey = new Map$1();\n    this.keyForId = new Map$1();\n    this.cachesByLvl = new Map$1();\n    this.lvls = [];\n    this.getKey = getKey;\n    this.doesEleInvalidateKey = doesEleInvalidateKey;\n  }\n\n  _createClass(ElementTextureCacheLookup, [{\n    key: \"getIdsFor\",\n    value: function getIdsFor(key) {\n      if (key == null) {\n        error(\"Can not get id list for null key\");\n      }\n\n      var idsByKey = this.idsByKey;\n      var ids = this.idsByKey.get(key);\n\n      if (!ids) {\n        ids = new Set$1();\n        idsByKey.set(key, ids);\n      }\n\n      return ids;\n    }\n  }, {\n    key: \"addIdForKey\",\n    value: function addIdForKey(key, id) {\n      if (key != null) {\n        this.getIdsFor(key).add(id);\n      }\n    }\n  }, {\n    key: \"deleteIdForKey\",\n    value: function deleteIdForKey(key, id) {\n      if (key != null) {\n        this.getIdsFor(key)[\"delete\"](id);\n      }\n    }\n  }, {\n    key: \"getNumberOfIdsForKey\",\n    value: function getNumberOfIdsForKey(key) {\n      if (key == null) {\n        return 0;\n      } else {\n        return this.getIdsFor(key).size;\n      }\n    }\n  }, {\n    key: \"updateKeyMappingFor\",\n    value: function updateKeyMappingFor(ele) {\n      var id = ele.id();\n      var prevKey = this.keyForId.get(id);\n      var currKey = this.getKey(ele);\n      this.deleteIdForKey(prevKey, id);\n      this.addIdForKey(currKey, id);\n      this.keyForId.set(id, currKey);\n    }\n  }, {\n    key: \"deleteKeyMappingFor\",\n    value: function deleteKeyMappingFor(ele) {\n      var id = ele.id();\n      var prevKey = this.keyForId.get(id);\n      this.deleteIdForKey(prevKey, id);\n      this.keyForId[\"delete\"](id);\n    }\n  }, {\n    key: \"keyHasChangedFor\",\n    value: function keyHasChangedFor(ele) {\n      var id = ele.id();\n      var prevKey = this.keyForId.get(id);\n      var newKey = this.getKey(ele);\n      return prevKey !== newKey;\n    }\n  }, {\n    key: \"isInvalid\",\n    value: function isInvalid(ele) {\n      return this.keyHasChangedFor(ele) || this.doesEleInvalidateKey(ele);\n    }\n  }, {\n    key: \"getCachesAt\",\n    value: function getCachesAt(lvl) {\n      var cachesByLvl = this.cachesByLvl,\n          lvls = this.lvls;\n      var caches = cachesByLvl.get(lvl);\n\n      if (!caches) {\n        caches = new Map$1();\n        cachesByLvl.set(lvl, caches);\n        lvls.push(lvl);\n      }\n\n      return caches;\n    }\n  }, {\n    key: \"getCache\",\n    value: function getCache(key, lvl) {\n      return this.getCachesAt(lvl).get(key);\n    }\n  }, {\n    key: \"get\",\n    value: function get(ele, lvl) {\n      var key = this.getKey(ele);\n      var cache = this.getCache(key, lvl); // getting for an element may need to add to the id list b/c eles can share keys\n\n      if (cache != null) {\n        this.updateKeyMappingFor(ele);\n      }\n\n      return cache;\n    }\n  }, {\n    key: \"getForCachedKey\",\n    value: function getForCachedKey(ele, lvl) {\n      var key = this.keyForId.get(ele.id()); // n.b. use cached key, not newly computed key\n\n      var cache = this.getCache(key, lvl);\n      return cache;\n    }\n  }, {\n    key: \"hasCache\",\n    value: function hasCache(key, lvl) {\n      return this.getCachesAt(lvl).has(key);\n    }\n  }, {\n    key: \"has\",\n    value: function has(ele, lvl) {\n      var key = this.getKey(ele);\n      return this.hasCache(key, lvl);\n    }\n  }, {\n    key: \"setCache\",\n    value: function setCache(key, lvl, cache) {\n      cache.key = key;\n      this.getCachesAt(lvl).set(key, cache);\n    }\n  }, {\n    key: \"set\",\n    value: function set(ele, lvl, cache) {\n      var key = this.getKey(ele);\n      this.setCache(key, lvl, cache);\n      this.updateKeyMappingFor(ele);\n    }\n  }, {\n    key: \"deleteCache\",\n    value: function deleteCache(key, lvl) {\n      this.getCachesAt(lvl)[\"delete\"](key);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(ele, lvl) {\n      var key = this.getKey(ele);\n      this.deleteCache(key, lvl);\n    }\n  }, {\n    key: \"invalidateKey\",\n    value: function invalidateKey(key) {\n      var _this = this;\n\n      this.lvls.forEach(function (lvl) {\n        return _this.deleteCache(key, lvl);\n      });\n    } // returns true if no other eles reference the invalidated cache (n.b. other eles may need the cache with the same key)\n\n  }, {\n    key: \"invalidate\",\n    value: function invalidate(ele) {\n      var id = ele.id();\n      var key = this.keyForId.get(id); // n.b. use stored key rather than current (potential key)\n\n      this.deleteKeyMappingFor(ele);\n      var entireKeyInvalidated = this.doesEleInvalidateKey(ele);\n\n      if (entireKeyInvalidated) {\n        // clear mapping for current key\n        this.invalidateKey(key);\n      }\n\n      return entireKeyInvalidated || this.getNumberOfIdsForKey(key) === 0;\n    }\n  }]);\n\n  return ElementTextureCacheLookup;\n}();\n\nvar minTxrH = 25; // the size of the texture cache for small height eles (special case)\n\nvar txrStepH = 50; // the min size of the regular cache, and the size it increases with each step up\n\nvar minLvl = -4; // when scaling smaller than that we don't need to re-render\n\nvar maxLvl = 3; // when larger than this scale just render directly (caching is not helpful)\n\nvar maxZoom = 7.99; // beyond this zoom level, layered textures are not used\n\nvar eleTxrSpacing = 8; // spacing between elements on textures to avoid blitting overlaps\n\nvar defTxrWidth = 1024; // default/minimum texture width\n\nvar maxTxrW = 1024; // the maximum width of a texture\n\nvar maxTxrH = 1024; // the maximum height of a texture\n\nvar minUtility = 0.2; // if usage of texture is less than this, it is retired\n\nvar maxFullness = 0.8; // fullness of texture after which queue removal is checked\n\nvar maxFullnessChecks = 10; // dequeued after this many checks\n\nvar deqCost = 0.15; // % of add'l rendering cost allowed for dequeuing ele caches each frame\n\nvar deqAvgCost = 0.1; // % of add'l rendering cost compared to average overall redraw time\n\nvar deqNoDrawCost = 0.9; // % of avg frame time that can be used for dequeueing when not drawing\n\nvar deqFastCost = 0.9; // % of frame time to be used when >60fps\n\nvar deqRedrawThreshold = 100; // time to batch redraws together from dequeueing to allow more dequeueing calcs to happen in the meanwhile\n\nvar maxDeqSize = 1; // number of eles to dequeue and render at higher texture in each batch\n\nvar getTxrReasons = {\n  dequeue: 'dequeue',\n  downscale: 'downscale',\n  highQuality: 'highQuality'\n};\nvar initDefaults = defaults({\n  getKey: null,\n  doesEleInvalidateKey: falsify,\n  drawElement: null,\n  getBoundingBox: null,\n  getRotationPoint: null,\n  getRotationOffset: null,\n  isVisible: trueify,\n  allowEdgeTxrCaching: true,\n  allowParentTxrCaching: true\n});\n\nvar ElementTextureCache = function ElementTextureCache(renderer, initOptions) {\n  var self = this;\n  self.renderer = renderer;\n  self.onDequeues = [];\n  var opts = initDefaults(initOptions);\n  extend(self, opts);\n  self.lookup = new ElementTextureCacheLookup(opts.getKey, opts.doesEleInvalidateKey);\n  self.setupDequeueing();\n};\n\nvar ETCp = ElementTextureCache.prototype;\nETCp.reasons = getTxrReasons; // the list of textures in which new subtextures for elements can be placed\n\nETCp.getTextureQueue = function (txrH) {\n  var self = this;\n  self.eleImgCaches = self.eleImgCaches || {};\n  return self.eleImgCaches[txrH] = self.eleImgCaches[txrH] || [];\n}; // the list of usused textures which can be recycled (in use in texture queue)\n\n\nETCp.getRetiredTextureQueue = function (txrH) {\n  var self = this;\n  var rtxtrQs = self.eleImgCaches.retired = self.eleImgCaches.retired || {};\n  var rtxtrQ = rtxtrQs[txrH] = rtxtrQs[txrH] || [];\n  return rtxtrQ;\n}; // queue of element draw requests at different scale levels\n\n\nETCp.getElementQueue = function () {\n  var self = this;\n  var q = self.eleCacheQueue = self.eleCacheQueue || new Heap(function (a, b) {\n    return b.reqs - a.reqs;\n  });\n  return q;\n}; // queue of element draw requests at different scale levels (element id lookup)\n\n\nETCp.getElementKeyToQueue = function () {\n  var self = this;\n  var k2q = self.eleKeyToCacheQueue = self.eleKeyToCacheQueue || {};\n  return k2q;\n};\n\nETCp.getElement = function (ele, bb, pxRatio, lvl, reason) {\n  var self = this;\n  var r = this.renderer;\n  var zoom = r.cy.zoom();\n  var lookup = this.lookup;\n\n  if (bb.w === 0 || bb.h === 0 || isNaN(bb.w) || isNaN(bb.h) || !ele.visible()) {\n    return null;\n  }\n\n  if (!self.allowEdgeTxrCaching && ele.isEdge() || !self.allowParentTxrCaching && ele.isParent()) {\n    return null;\n  }\n\n  if (lvl == null) {\n    lvl = Math.ceil(log2(zoom * pxRatio));\n  }\n\n  if (lvl < minLvl) {\n    lvl = minLvl;\n  } else if (zoom >= maxZoom || lvl > maxLvl) {\n    return null;\n  }\n\n  var scale = Math.pow(2, lvl);\n  var eleScaledH = bb.h * scale;\n  var eleScaledW = bb.w * scale;\n  var scaledLabelShown = r.eleTextBiggerThanMin(ele, scale);\n\n  if (!this.isVisible(ele, scaledLabelShown)) {\n    return null;\n  }\n\n  var eleCache = lookup.get(ele, lvl); // if this get was on an unused/invalidated cache, then restore the texture usage metric\n\n  if (eleCache && eleCache.invalidated) {\n    eleCache.invalidated = false;\n    eleCache.texture.invalidatedWidth -= eleCache.width;\n  }\n\n  if (eleCache) {\n    return eleCache;\n  }\n\n  var txrH; // which texture height this ele belongs to\n\n  if (eleScaledH <= minTxrH) {\n    txrH = minTxrH;\n  } else if (eleScaledH <= txrStepH) {\n    txrH = txrStepH;\n  } else {\n    txrH = Math.ceil(eleScaledH / txrStepH) * txrStepH;\n  }\n\n  if (eleScaledH > maxTxrH || eleScaledW > maxTxrW) {\n    return null; // caching large elements is not efficient\n  }\n\n  var txrQ = self.getTextureQueue(txrH); // first try the second last one in case it has space at the end\n\n  var txr = txrQ[txrQ.length - 2];\n\n  var addNewTxr = function addNewTxr() {\n    return self.recycleTexture(txrH, eleScaledW) || self.addTexture(txrH, eleScaledW);\n  }; // try the last one if there is no second last one\n\n\n  if (!txr) {\n    txr = txrQ[txrQ.length - 1];\n  } // if the last one doesn't exist, we need a first one\n\n\n  if (!txr) {\n    txr = addNewTxr();\n  } // if there's no room in the current texture, we need a new one\n\n\n  if (txr.width - txr.usedWidth < eleScaledW) {\n    txr = addNewTxr();\n  }\n\n  var scalableFrom = function scalableFrom(otherCache) {\n    return otherCache && otherCache.scaledLabelShown === scaledLabelShown;\n  };\n\n  var deqing = reason && reason === getTxrReasons.dequeue;\n  var highQualityReq = reason && reason === getTxrReasons.highQuality;\n  var downscaleReq = reason && reason === getTxrReasons.downscale;\n  var higherCache; // the nearest cache with a higher level\n\n  for (var l = lvl + 1; l <= maxLvl; l++) {\n    var c = lookup.get(ele, l);\n\n    if (c) {\n      higherCache = c;\n      break;\n    }\n  }\n\n  var oneUpCache = higherCache && higherCache.level === lvl + 1 ? higherCache : null;\n\n  var downscale = function downscale() {\n    txr.context.drawImage(oneUpCache.texture.canvas, oneUpCache.x, 0, oneUpCache.width, oneUpCache.height, txr.usedWidth, 0, eleScaledW, eleScaledH);\n  }; // reset ele area in texture\n\n\n  txr.context.setTransform(1, 0, 0, 1, 0, 0);\n  txr.context.clearRect(txr.usedWidth, 0, eleScaledW, txrH);\n\n  if (scalableFrom(oneUpCache)) {\n    // then we can relatively cheaply rescale the existing image w/o rerendering\n    downscale();\n  } else if (scalableFrom(higherCache)) {\n    // then use the higher cache for now and queue the next level down\n    // to cheaply scale towards the smaller level\n    if (highQualityReq) {\n      for (var _l = higherCache.level; _l > lvl; _l--) {\n        oneUpCache = self.getElement(ele, bb, pxRatio, _l, getTxrReasons.downscale);\n      }\n\n      downscale();\n    } else {\n      self.queueElement(ele, higherCache.level - 1);\n      return higherCache;\n    }\n  } else {\n    var lowerCache; // the nearest cache with a lower level\n\n    if (!deqing && !highQualityReq && !downscaleReq) {\n      for (var _l2 = lvl - 1; _l2 >= minLvl; _l2--) {\n        var _c = lookup.get(ele, _l2);\n\n        if (_c) {\n          lowerCache = _c;\n          break;\n        }\n      }\n    }\n\n    if (scalableFrom(lowerCache)) {\n      // then use the lower quality cache for now and queue the better one for later\n      self.queueElement(ele, lvl);\n      return lowerCache;\n    }\n\n    txr.context.translate(txr.usedWidth, 0);\n    txr.context.scale(scale, scale);\n    this.drawElement(txr.context, ele, bb, scaledLabelShown, false);\n    txr.context.scale(1 / scale, 1 / scale);\n    txr.context.translate(-txr.usedWidth, 0);\n  }\n\n  eleCache = {\n    x: txr.usedWidth,\n    texture: txr,\n    level: lvl,\n    scale: scale,\n    width: eleScaledW,\n    height: eleScaledH,\n    scaledLabelShown: scaledLabelShown\n  };\n  txr.usedWidth += Math.ceil(eleScaledW + eleTxrSpacing);\n  txr.eleCaches.push(eleCache);\n  lookup.set(ele, lvl, eleCache);\n  self.checkTextureFullness(txr);\n  return eleCache;\n};\n\nETCp.invalidateElements = function (eles) {\n  for (var i = 0; i < eles.length; i++) {\n    this.invalidateElement(eles[i]);\n  }\n};\n\nETCp.invalidateElement = function (ele) {\n  var self = this;\n  var lookup = self.lookup;\n  var caches = [];\n  var invalid = lookup.isInvalid(ele);\n\n  if (!invalid) {\n    return; // override the invalidation request if the element key has not changed\n  }\n\n  for (var lvl = minLvl; lvl <= maxLvl; lvl++) {\n    var cache = lookup.getForCachedKey(ele, lvl);\n\n    if (cache) {\n      caches.push(cache);\n    }\n  }\n\n  var noOtherElesUseCache = lookup.invalidate(ele);\n\n  if (noOtherElesUseCache) {\n    for (var i = 0; i < caches.length; i++) {\n      var _cache = caches[i];\n      var txr = _cache.texture; // remove space from the texture it belongs to\n\n      txr.invalidatedWidth += _cache.width; // mark the cache as invalidated\n\n      _cache.invalidated = true; // retire the texture if its utility is low\n\n      self.checkTextureUtility(txr);\n    }\n  } // remove from queue since the old req was for the old state\n\n\n  self.removeFromQueue(ele);\n};\n\nETCp.checkTextureUtility = function (txr) {\n  // invalidate all entries in the cache if the cache size is small\n  if (txr.invalidatedWidth >= minUtility * txr.width) {\n    this.retireTexture(txr);\n  }\n};\n\nETCp.checkTextureFullness = function (txr) {\n  // if texture has been mostly filled and passed over several times, remove\n  // it from the queue so we don't need to waste time looking at it to put new things\n  var self = this;\n  var txrQ = self.getTextureQueue(txr.height);\n\n  if (txr.usedWidth / txr.width > maxFullness && txr.fullnessChecks >= maxFullnessChecks) {\n    removeFromArray(txrQ, txr);\n  } else {\n    txr.fullnessChecks++;\n  }\n};\n\nETCp.retireTexture = function (txr) {\n  var self = this;\n  var txrH = txr.height;\n  var txrQ = self.getTextureQueue(txrH);\n  var lookup = this.lookup; // retire the texture from the active / searchable queue:\n\n  removeFromArray(txrQ, txr);\n  txr.retired = true; // remove the refs from the eles to the caches:\n\n  var eleCaches = txr.eleCaches;\n\n  for (var i = 0; i < eleCaches.length; i++) {\n    var eleCache = eleCaches[i];\n    lookup.deleteCache(eleCache.key, eleCache.level);\n  }\n\n  clearArray(eleCaches); // add the texture to a retired queue so it can be recycled in future:\n\n  var rtxtrQ = self.getRetiredTextureQueue(txrH);\n  rtxtrQ.push(txr);\n};\n\nETCp.addTexture = function (txrH, minW) {\n  var self = this;\n  var txrQ = self.getTextureQueue(txrH);\n  var txr = {};\n  txrQ.push(txr);\n  txr.eleCaches = [];\n  txr.height = txrH;\n  txr.width = Math.max(defTxrWidth, minW);\n  txr.usedWidth = 0;\n  txr.invalidatedWidth = 0;\n  txr.fullnessChecks = 0;\n  txr.canvas = self.renderer.makeOffscreenCanvas(txr.width, txr.height);\n  txr.context = txr.canvas.getContext('2d');\n  return txr;\n};\n\nETCp.recycleTexture = function (txrH, minW) {\n  var self = this;\n  var txrQ = self.getTextureQueue(txrH);\n  var rtxtrQ = self.getRetiredTextureQueue(txrH);\n\n  for (var i = 0; i < rtxtrQ.length; i++) {\n    var txr = rtxtrQ[i];\n\n    if (txr.width >= minW) {\n      txr.retired = false;\n      txr.usedWidth = 0;\n      txr.invalidatedWidth = 0;\n      txr.fullnessChecks = 0;\n      clearArray(txr.eleCaches);\n      txr.context.setTransform(1, 0, 0, 1, 0, 0);\n      txr.context.clearRect(0, 0, txr.width, txr.height);\n      removeFromArray(rtxtrQ, txr);\n      txrQ.push(txr);\n      return txr;\n    }\n  }\n};\n\nETCp.queueElement = function (ele, lvl) {\n  var self = this;\n  var q = self.getElementQueue();\n  var k2q = self.getElementKeyToQueue();\n  var key = this.getKey(ele);\n  var existingReq = k2q[key];\n\n  if (existingReq) {\n    // use the max lvl b/c in between lvls are cheap to make\n    existingReq.level = Math.max(existingReq.level, lvl);\n    existingReq.eles.merge(ele);\n    existingReq.reqs++;\n    q.updateItem(existingReq);\n  } else {\n    var req = {\n      eles: ele.spawn().merge(ele),\n      level: lvl,\n      reqs: 1,\n      key: key\n    };\n    q.push(req);\n    k2q[key] = req;\n  }\n};\n\nETCp.dequeue = function (pxRatio\n/*, extent*/\n) {\n  var self = this;\n  var q = self.getElementQueue();\n  var k2q = self.getElementKeyToQueue();\n  var dequeued = [];\n  var lookup = self.lookup;\n\n  for (var i = 0; i < maxDeqSize; i++) {\n    if (q.size() > 0) {\n      var req = q.pop();\n      var key = req.key;\n      var ele = req.eles[0]; // all eles have the same key\n\n      var cacheExists = lookup.hasCache(ele, req.level); // clear out the key to req lookup\n\n      k2q[key] = null; // dequeueing isn't necessary with an existing cache\n\n      if (cacheExists) {\n        continue;\n      }\n\n      dequeued.push(req);\n      var bb = self.getBoundingBox(ele);\n      self.getElement(ele, bb, pxRatio, req.level, getTxrReasons.dequeue);\n    } else {\n      break;\n    }\n  }\n\n  return dequeued;\n};\n\nETCp.removeFromQueue = function (ele) {\n  var self = this;\n  var q = self.getElementQueue();\n  var k2q = self.getElementKeyToQueue();\n  var key = this.getKey(ele);\n  var req = k2q[key];\n\n  if (req != null) {\n    if (req.eles.length === 1) {\n      // remove if last ele in the req\n      // bring to front of queue\n      req.reqs = MAX_INT;\n      q.updateItem(req);\n      q.pop(); // remove from queue\n\n      k2q[key] = null; // remove from lookup map\n    } else {\n      // otherwise just remove ele from req\n      req.eles.unmerge(ele);\n    }\n  }\n};\n\nETCp.onDequeue = function (fn) {\n  this.onDequeues.push(fn);\n};\n\nETCp.offDequeue = function (fn) {\n  removeFromArray(this.onDequeues, fn);\n};\n\nETCp.setupDequeueing = defs.setupDequeueing({\n  deqRedrawThreshold: deqRedrawThreshold,\n  deqCost: deqCost,\n  deqAvgCost: deqAvgCost,\n  deqNoDrawCost: deqNoDrawCost,\n  deqFastCost: deqFastCost,\n  deq: function deq(self, pxRatio, extent) {\n    return self.dequeue(pxRatio, extent);\n  },\n  onDeqd: function onDeqd(self, deqd) {\n    for (var i = 0; i < self.onDequeues.length; i++) {\n      var fn = self.onDequeues[i];\n      fn(deqd);\n    }\n  },\n  shouldRedraw: function shouldRedraw(self, deqd, pxRatio, extent) {\n    for (var i = 0; i < deqd.length; i++) {\n      var eles = deqd[i].eles;\n\n      for (var j = 0; j < eles.length; j++) {\n        var bb = eles[j].boundingBox();\n\n        if (boundingBoxesIntersect(bb, extent)) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  },\n  priority: function priority(self) {\n    return self.renderer.beforeRenderPriorities.eleTxrDeq;\n  }\n});\n\nvar defNumLayers = 1; // default number of layers to use\n\nvar minLvl$1 = -4; // when scaling smaller than that we don't need to re-render\n\nvar maxLvl$1 = 2; // when larger than this scale just render directly (caching is not helpful)\n\nvar maxZoom$1 = 3.99; // beyond this zoom level, layered textures are not used\n\nvar deqRedrawThreshold$1 = 50; // time to batch redraws together from dequeueing to allow more dequeueing calcs to happen in the meanwhile\n\nvar refineEleDebounceTime = 50; // time to debounce sharper ele texture updates\n\nvar deqCost$1 = 0.15; // % of add'l rendering cost allowed for dequeuing ele caches each frame\n\nvar deqAvgCost$1 = 0.1; // % of add'l rendering cost compared to average overall redraw time\n\nvar deqNoDrawCost$1 = 0.9; // % of avg frame time that can be used for dequeueing when not drawing\n\nvar deqFastCost$1 = 0.9; // % of frame time to be used when >60fps\n\nvar maxDeqSize$1 = 1; // number of eles to dequeue and render at higher texture in each batch\n\nvar invalidThreshold = 250; // time threshold for disabling b/c of invalidations\n\nvar maxLayerArea = 4000 * 4000; // layers can't be bigger than this\n\nvar useHighQualityEleTxrReqs = true; // whether to use high quality ele txr requests (generally faster and cheaper in the longterm)\n// var log = function(){ console.log.apply( console, arguments ); };\n\nvar LayeredTextureCache = function LayeredTextureCache(renderer) {\n  var self = this;\n  var r = self.renderer = renderer;\n  var cy = r.cy;\n  self.layersByLevel = {}; // e.g. 2 => [ layer1, layer2, ..., layerN ]\n\n  self.firstGet = true;\n  self.lastInvalidationTime = performanceNow() - 2 * invalidThreshold;\n  self.skipping = false;\n  self.eleTxrDeqs = cy.collection();\n  self.scheduleElementRefinement = util(function () {\n    self.refineElementTextures(self.eleTxrDeqs);\n    self.eleTxrDeqs.unmerge(self.eleTxrDeqs);\n  }, refineEleDebounceTime);\n  r.beforeRender(function (willDraw, now) {\n    if (now - self.lastInvalidationTime <= invalidThreshold) {\n      self.skipping = true;\n    } else {\n      self.skipping = false;\n    }\n  }, r.beforeRenderPriorities.lyrTxrSkip);\n\n  var qSort = function qSort(a, b) {\n    return b.reqs - a.reqs;\n  };\n\n  self.layersQueue = new Heap(qSort);\n  self.setupDequeueing();\n};\n\nvar LTCp = LayeredTextureCache.prototype;\nvar layerIdPool = 0;\nvar MAX_INT$1 = Math.pow(2, 53) - 1;\n\nLTCp.makeLayer = function (bb, lvl) {\n  var scale = Math.pow(2, lvl);\n  var w = Math.ceil(bb.w * scale);\n  var h = Math.ceil(bb.h * scale);\n  var canvas = this.renderer.makeOffscreenCanvas(w, h);\n  var layer = {\n    id: layerIdPool = ++layerIdPool % MAX_INT$1,\n    bb: bb,\n    level: lvl,\n    width: w,\n    height: h,\n    canvas: canvas,\n    context: canvas.getContext('2d'),\n    eles: [],\n    elesQueue: [],\n    reqs: 0\n  }; // log('make layer %s with w %s and h %s and lvl %s', layer.id, layer.width, layer.height, layer.level);\n\n  var cxt = layer.context;\n  var dx = -layer.bb.x1;\n  var dy = -layer.bb.y1; // do the transform on creation to save cycles (it's the same for all eles)\n\n  cxt.scale(scale, scale);\n  cxt.translate(dx, dy);\n  return layer;\n};\n\nLTCp.getLayers = function (eles, pxRatio, lvl) {\n  var self = this;\n  var r = self.renderer;\n  var cy = r.cy;\n  var zoom = cy.zoom();\n  var firstGet = self.firstGet;\n  self.firstGet = false; // log('--\\nget layers with %s eles', eles.length);\n  //log eles.map(function(ele){ return ele.id() }) );\n\n  if (lvl == null) {\n    lvl = Math.ceil(log2(zoom * pxRatio));\n\n    if (lvl < minLvl$1) {\n      lvl = minLvl$1;\n    } else if (zoom >= maxZoom$1 || lvl > maxLvl$1) {\n      return null;\n    }\n  }\n\n  self.validateLayersElesOrdering(lvl, eles);\n  var layersByLvl = self.layersByLevel;\n  var scale = Math.pow(2, lvl);\n  var layers = layersByLvl[lvl] = layersByLvl[lvl] || [];\n  var bb;\n  var lvlComplete = self.levelIsComplete(lvl, eles);\n  var tmpLayers;\n\n  var checkTempLevels = function checkTempLevels() {\n    var canUseAsTmpLvl = function canUseAsTmpLvl(l) {\n      self.validateLayersElesOrdering(l, eles);\n\n      if (self.levelIsComplete(l, eles)) {\n        tmpLayers = layersByLvl[l];\n        return true;\n      }\n    };\n\n    var checkLvls = function checkLvls(dir) {\n      if (tmpLayers) {\n        return;\n      }\n\n      for (var l = lvl + dir; minLvl$1 <= l && l <= maxLvl$1; l += dir) {\n        if (canUseAsTmpLvl(l)) {\n          break;\n        }\n      }\n    };\n\n    checkLvls(+1);\n    checkLvls(-1); // remove the invalid layers; they will be replaced as needed later in this function\n\n    for (var i = layers.length - 1; i >= 0; i--) {\n      var layer = layers[i];\n\n      if (layer.invalid) {\n        removeFromArray(layers, layer);\n      }\n    }\n  };\n\n  if (!lvlComplete) {\n    // if the current level is incomplete, then use the closest, best quality layerset temporarily\n    // and later queue the current layerset so we can get the proper quality level soon\n    checkTempLevels();\n  } else {\n    // log('level complete, using existing layers\\n--');\n    return layers;\n  }\n\n  var getBb = function getBb() {\n    if (!bb) {\n      bb = makeBoundingBox();\n\n      for (var i = 0; i < eles.length; i++) {\n        updateBoundingBox(bb, eles[i].boundingBox());\n      }\n    }\n\n    return bb;\n  };\n\n  var makeLayer = function makeLayer(opts) {\n    opts = opts || {};\n    var after = opts.after;\n    getBb();\n    var area = bb.w * scale * (bb.h * scale);\n\n    if (area > maxLayerArea) {\n      return null;\n    }\n\n    var layer = self.makeLayer(bb, lvl);\n\n    if (after != null) {\n      var index = layers.indexOf(after) + 1;\n      layers.splice(index, 0, layer);\n    } else if (opts.insert === undefined || opts.insert) {\n      // no after specified => first layer made so put at start\n      layers.unshift(layer);\n    } // if( tmpLayers ){\n    //self.queueLayer( layer );\n    // }\n\n\n    return layer;\n  };\n\n  if (self.skipping && !firstGet) {\n    // log('skip layers');\n    return null;\n  } // log('do layers');\n\n\n  var layer = null;\n  var maxElesPerLayer = eles.length / defNumLayers;\n  var allowLazyQueueing =  !firstGet;\n\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    var rs = ele._private.rscratch;\n    var caches = rs.imgLayerCaches = rs.imgLayerCaches || {}; // log('look at ele', ele.id());\n\n    var existingLayer = caches[lvl];\n\n    if (existingLayer) {\n      // reuse layer for later eles\n      // log('reuse layer for', ele.id());\n      layer = existingLayer;\n      continue;\n    }\n\n    if (!layer || layer.eles.length >= maxElesPerLayer || !boundingBoxInBoundingBox(layer.bb, ele.boundingBox())) {\n      // log('make new layer for ele %s', ele.id());\n      layer = makeLayer({\n        insert: true,\n        after: layer\n      }); // if now layer can be built then we can't use layers at this level\n\n      if (!layer) {\n        return null;\n      } // log('new layer with id %s', layer.id);\n\n    }\n\n    if (tmpLayers || allowLazyQueueing) {\n      // log('queue ele %s in layer %s', ele.id(), layer.id);\n      self.queueLayer(layer, ele);\n    } else {\n      // log('draw ele %s in layer %s', ele.id(), layer.id);\n      self.drawEleInLayer(layer, ele, lvl, pxRatio);\n    }\n\n    layer.eles.push(ele);\n    caches[lvl] = layer;\n  } // log('--');\n\n\n  if (tmpLayers) {\n    // then we only queued the current layerset and can't draw it yet\n    return tmpLayers;\n  }\n\n  if (allowLazyQueueing) {\n    // log('lazy queue level', lvl);\n    return null;\n  }\n\n  return layers;\n}; // a layer may want to use an ele cache of a higher level to avoid blurriness\n// so the layer level might not equal the ele level\n\n\nLTCp.getEleLevelForLayerLevel = function (lvl, pxRatio) {\n  return lvl;\n};\n\nLTCp.drawEleInLayer = function (layer, ele, lvl, pxRatio) {\n  var self = this;\n  var r = this.renderer;\n  var context = layer.context;\n  var bb = ele.boundingBox();\n\n  if (bb.w === 0 || bb.h === 0 || !ele.visible()) {\n    return;\n  }\n\n  lvl = self.getEleLevelForLayerLevel(lvl, pxRatio);\n\n  {\n    r.setImgSmoothing(context, false);\n  }\n\n  {\n    r.drawCachedElement(context, ele, null, null, lvl, useHighQualityEleTxrReqs);\n  }\n\n  {\n    r.setImgSmoothing(context, true);\n  }\n};\n\nLTCp.levelIsComplete = function (lvl, eles) {\n  var self = this;\n  var layers = self.layersByLevel[lvl];\n\n  if (!layers || layers.length === 0) {\n    return false;\n  }\n\n  var numElesInLayers = 0;\n\n  for (var i = 0; i < layers.length; i++) {\n    var layer = layers[i]; // if there are any eles needed to be drawn yet, the level is not complete\n\n    if (layer.reqs > 0) {\n      return false;\n    } // if the layer is invalid, the level is not complete\n\n\n    if (layer.invalid) {\n      return false;\n    }\n\n    numElesInLayers += layer.eles.length;\n  } // we should have exactly the number of eles passed in to be complete\n\n\n  if (numElesInLayers !== eles.length) {\n    return false;\n  }\n\n  return true;\n};\n\nLTCp.validateLayersElesOrdering = function (lvl, eles) {\n  var layers = this.layersByLevel[lvl];\n\n  if (!layers) {\n    return;\n  } // if in a layer the eles are not in the same order, then the layer is invalid\n  // (i.e. there is an ele in between the eles in the layer)\n\n\n  for (var i = 0; i < layers.length; i++) {\n    var layer = layers[i];\n    var offset = -1; // find the offset\n\n    for (var j = 0; j < eles.length; j++) {\n      if (layer.eles[0] === eles[j]) {\n        offset = j;\n        break;\n      }\n    }\n\n    if (offset < 0) {\n      // then the layer has nonexistant elements and is invalid\n      this.invalidateLayer(layer);\n      continue;\n    } // the eles in the layer must be in the same continuous order, else the layer is invalid\n\n\n    var o = offset;\n\n    for (var j = 0; j < layer.eles.length; j++) {\n      if (layer.eles[j] !== eles[o + j]) {\n        // log('invalidate based on ordering', layer.id);\n        this.invalidateLayer(layer);\n        break;\n      }\n    }\n  }\n};\n\nLTCp.updateElementsInLayers = function (eles, update) {\n  var self = this;\n  var isEles = element(eles[0]); // collect udpated elements (cascaded from the layers) and update each\n  // layer itself along the way\n\n  for (var i = 0; i < eles.length; i++) {\n    var req = isEles ? null : eles[i];\n    var ele = isEles ? eles[i] : eles[i].ele;\n    var rs = ele._private.rscratch;\n    var caches = rs.imgLayerCaches = rs.imgLayerCaches || {};\n\n    for (var l = minLvl$1; l <= maxLvl$1; l++) {\n      var layer = caches[l];\n\n      if (!layer) {\n        continue;\n      } // if update is a request from the ele cache, then it affects only\n      // the matching level\n\n\n      if (req && self.getEleLevelForLayerLevel(layer.level) !== req.level) {\n        continue;\n      }\n\n      update(layer, ele, req);\n    }\n  }\n};\n\nLTCp.haveLayers = function () {\n  var self = this;\n  var haveLayers = false;\n\n  for (var l = minLvl$1; l <= maxLvl$1; l++) {\n    var layers = self.layersByLevel[l];\n\n    if (layers && layers.length > 0) {\n      haveLayers = true;\n      break;\n    }\n  }\n\n  return haveLayers;\n};\n\nLTCp.invalidateElements = function (eles) {\n  var self = this;\n\n  if (eles.length === 0) {\n    return;\n  }\n\n  self.lastInvalidationTime = performanceNow(); // log('update invalidate layer time from eles');\n\n  if (eles.length === 0 || !self.haveLayers()) {\n    return;\n  }\n\n  self.updateElementsInLayers(eles, function invalAssocLayers(layer, ele, req) {\n    self.invalidateLayer(layer);\n  });\n};\n\nLTCp.invalidateLayer = function (layer) {\n  // log('update invalidate layer time');\n  this.lastInvalidationTime = performanceNow();\n\n  if (layer.invalid) {\n    return;\n  } // save cycles\n\n\n  var lvl = layer.level;\n  var eles = layer.eles;\n  var layers = this.layersByLevel[lvl]; // log('invalidate layer', layer.id );\n\n  removeFromArray(layers, layer); // layer.eles = [];\n\n  layer.elesQueue = [];\n  layer.invalid = true;\n\n  if (layer.replacement) {\n    layer.replacement.invalid = true;\n  }\n\n  for (var i = 0; i < eles.length; i++) {\n    var caches = eles[i]._private.rscratch.imgLayerCaches;\n\n    if (caches) {\n      caches[lvl] = null;\n    }\n  }\n};\n\nLTCp.refineElementTextures = function (eles) {\n  var self = this; // log('refine', eles.length);\n\n  self.updateElementsInLayers(eles, function refineEachEle(layer, ele, req) {\n    var rLyr = layer.replacement;\n\n    if (!rLyr) {\n      rLyr = layer.replacement = self.makeLayer(layer.bb, layer.level);\n      rLyr.replaces = layer;\n      rLyr.eles = layer.eles; // log('make replacement layer %s for %s with level %s', rLyr.id, layer.id, rLyr.level);\n    }\n\n    if (!rLyr.reqs) {\n      for (var i = 0; i < rLyr.eles.length; i++) {\n        self.queueLayer(rLyr, rLyr.eles[i]);\n      } // log('queue replacement layer refinement', rLyr.id);\n\n    }\n  });\n};\n\nLTCp.enqueueElementRefinement = function (ele) {\n\n  this.eleTxrDeqs.merge(ele);\n  this.scheduleElementRefinement();\n};\n\nLTCp.queueLayer = function (layer, ele) {\n  var self = this;\n  var q = self.layersQueue;\n  var elesQ = layer.elesQueue;\n  var hasId = elesQ.hasId = elesQ.hasId || {}; // if a layer is going to be replaced, queuing is a waste of time\n\n  if (layer.replacement) {\n    return;\n  }\n\n  if (ele) {\n    if (hasId[ele.id()]) {\n      return;\n    }\n\n    elesQ.push(ele);\n    hasId[ele.id()] = true;\n  }\n\n  if (layer.reqs) {\n    layer.reqs++;\n    q.updateItem(layer);\n  } else {\n    layer.reqs = 1;\n    q.push(layer);\n  }\n};\n\nLTCp.dequeue = function (pxRatio) {\n  var self = this;\n  var q = self.layersQueue;\n  var deqd = [];\n  var eleDeqs = 0;\n\n  while (eleDeqs < maxDeqSize$1) {\n    if (q.size() === 0) {\n      break;\n    }\n\n    var layer = q.peek(); // if a layer has been or will be replaced, then don't waste time with it\n\n    if (layer.replacement) {\n      // log('layer %s in queue skipped b/c it already has a replacement', layer.id);\n      q.pop();\n      continue;\n    } // if this is a replacement layer that has been superceded, then forget it\n\n\n    if (layer.replaces && layer !== layer.replaces.replacement) {\n      // log('layer is no longer the most uptodate replacement; dequeued', layer.id)\n      q.pop();\n      continue;\n    }\n\n    if (layer.invalid) {\n      // log('replacement layer %s is invalid; dequeued', layer.id);\n      q.pop();\n      continue;\n    }\n\n    var ele = layer.elesQueue.shift();\n\n    if (ele) {\n      // log('dequeue layer %s', layer.id);\n      self.drawEleInLayer(layer, ele, layer.level, pxRatio);\n      eleDeqs++;\n    }\n\n    if (deqd.length === 0) {\n      // we need only one entry in deqd to queue redrawing etc\n      deqd.push(true);\n    } // if the layer has all its eles done, then remove from the queue\n\n\n    if (layer.elesQueue.length === 0) {\n      q.pop();\n      layer.reqs = 0; // log('dequeue of layer %s complete', layer.id);\n      // when a replacement layer is dequeued, it replaces the old layer in the level\n\n      if (layer.replaces) {\n        self.applyLayerReplacement(layer);\n      }\n\n      self.requestRedraw();\n    }\n  }\n\n  return deqd;\n};\n\nLTCp.applyLayerReplacement = function (layer) {\n  var self = this;\n  var layersInLevel = self.layersByLevel[layer.level];\n  var replaced = layer.replaces;\n  var index = layersInLevel.indexOf(replaced); // if the replaced layer is not in the active list for the level, then replacing\n  // refs would be a mistake (i.e. overwriting the true active layer)\n\n  if (index < 0 || replaced.invalid) {\n    // log('replacement layer would have no effect', layer.id);\n    return;\n  }\n\n  layersInLevel[index] = layer; // replace level ref\n  // replace refs in eles\n\n  for (var i = 0; i < layer.eles.length; i++) {\n    var _p = layer.eles[i]._private;\n    var cache = _p.imgLayerCaches = _p.imgLayerCaches || {};\n\n    if (cache) {\n      cache[layer.level] = layer;\n    }\n  } // log('apply replacement layer %s over %s', layer.id, replaced.id);\n\n\n  self.requestRedraw();\n};\n\nLTCp.requestRedraw = util(function () {\n  var r = this.renderer;\n  r.redrawHint('eles', true);\n  r.redrawHint('drag', true);\n  r.redraw();\n}, 100);\nLTCp.setupDequeueing = defs.setupDequeueing({\n  deqRedrawThreshold: deqRedrawThreshold$1,\n  deqCost: deqCost$1,\n  deqAvgCost: deqAvgCost$1,\n  deqNoDrawCost: deqNoDrawCost$1,\n  deqFastCost: deqFastCost$1,\n  deq: function deq(self, pxRatio) {\n    return self.dequeue(pxRatio);\n  },\n  onDeqd: noop,\n  shouldRedraw: trueify,\n  priority: function priority(self) {\n    return self.renderer.beforeRenderPriorities.lyrTxrDeq;\n  }\n});\n\nvar CRp = {};\nvar impl;\n\nfunction polygon(context, points) {\n  for (var i = 0; i < points.length; i++) {\n    var pt = points[i];\n    context.lineTo(pt.x, pt.y);\n  }\n}\n\nfunction triangleBackcurve(context, points, controlPoint) {\n  var firstPt;\n\n  for (var i = 0; i < points.length; i++) {\n    var pt = points[i];\n\n    if (i === 0) {\n      firstPt = pt;\n    }\n\n    context.lineTo(pt.x, pt.y);\n  }\n\n  context.quadraticCurveTo(controlPoint.x, controlPoint.y, firstPt.x, firstPt.y);\n}\n\nfunction triangleTee(context, trianglePoints, teePoints) {\n  if (context.beginPath) {\n    context.beginPath();\n  }\n\n  var triPts = trianglePoints;\n\n  for (var i = 0; i < triPts.length; i++) {\n    var pt = triPts[i];\n    context.lineTo(pt.x, pt.y);\n  }\n\n  var teePts = teePoints;\n  var firstTeePt = teePoints[0];\n  context.moveTo(firstTeePt.x, firstTeePt.y);\n\n  for (var i = 1; i < teePts.length; i++) {\n    var pt = teePts[i];\n    context.lineTo(pt.x, pt.y);\n  }\n\n  if (context.closePath) {\n    context.closePath();\n  }\n}\n\nfunction circle(context, rx, ry, r) {\n  context.arc(rx, ry, r, 0, Math.PI * 2, false);\n}\n\nCRp.arrowShapeImpl = function (name) {\n  return (impl || (impl = {\n    'polygon': polygon,\n    'triangle-backcurve': triangleBackcurve,\n    'triangle-tee': triangleTee,\n    'triangle-cross': triangleTee,\n    'circle': circle\n  }))[name];\n};\n\nvar CRp$1 = {};\n\nCRp$1.drawElement = function (context, ele, shiftToOriginWithBb, showLabel, showOverlay, showOpacity) {\n  var r = this;\n\n  if (ele.isNode()) {\n    r.drawNode(context, ele, shiftToOriginWithBb, showLabel, showOverlay, showOpacity);\n  } else {\n    r.drawEdge(context, ele, shiftToOriginWithBb, showLabel, showOverlay, showOpacity);\n  }\n};\n\nCRp$1.drawElementOverlay = function (context, ele) {\n  var r = this;\n\n  if (ele.isNode()) {\n    r.drawNodeOverlay(context, ele);\n  } else {\n    r.drawEdgeOverlay(context, ele);\n  }\n};\n\nCRp$1.drawCachedElementPortion = function (context, ele, eleTxrCache, pxRatio, lvl, reason, getRotation, getOpacity) {\n  var r = this;\n  var bb = eleTxrCache.getBoundingBox(ele);\n\n  if (bb.w === 0 || bb.h === 0) {\n    return;\n  } // ignore zero size case\n\n\n  var eleCache = eleTxrCache.getElement(ele, bb, pxRatio, lvl, reason);\n\n  if (eleCache != null) {\n    var opacity = getOpacity(r, ele);\n\n    if (opacity === 0) {\n      return;\n    }\n\n    var theta = getRotation(r, ele);\n    var x1 = bb.x1,\n        y1 = bb.y1,\n        w = bb.w,\n        h = bb.h;\n    var x, y, sx, sy, smooth;\n\n    if (theta !== 0) {\n      var rotPt = eleTxrCache.getRotationPoint(ele);\n      sx = rotPt.x;\n      sy = rotPt.y;\n      context.translate(sx, sy);\n      context.rotate(theta);\n      smooth = r.getImgSmoothing(context);\n\n      if (!smooth) {\n        r.setImgSmoothing(context, true);\n      }\n\n      var off = eleTxrCache.getRotationOffset(ele);\n      x = off.x;\n      y = off.y;\n    } else {\n      x = x1;\n      y = y1;\n    }\n\n    var oldGlobalAlpha;\n\n    if (opacity !== 1) {\n      oldGlobalAlpha = context.globalAlpha;\n      context.globalAlpha = oldGlobalAlpha * opacity;\n    }\n\n    context.drawImage(eleCache.texture.canvas, eleCache.x, 0, eleCache.width, eleCache.height, x, y, w, h);\n\n    if (opacity !== 1) {\n      context.globalAlpha = oldGlobalAlpha;\n    }\n\n    if (theta !== 0) {\n      context.rotate(-theta);\n      context.translate(-sx, -sy);\n\n      if (!smooth) {\n        r.setImgSmoothing(context, false);\n      }\n    }\n  } else {\n    eleTxrCache.drawElement(context, ele); // direct draw fallback\n  }\n};\n\nvar getZeroRotation = function getZeroRotation() {\n  return 0;\n};\n\nvar getLabelRotation = function getLabelRotation(r, ele) {\n  return r.getTextAngle(ele, null);\n};\n\nvar getSourceLabelRotation = function getSourceLabelRotation(r, ele) {\n  return r.getTextAngle(ele, 'source');\n};\n\nvar getTargetLabelRotation = function getTargetLabelRotation(r, ele) {\n  return r.getTextAngle(ele, 'target');\n};\n\nvar getOpacity = function getOpacity(r, ele) {\n  return ele.effectiveOpacity();\n};\n\nvar getTextOpacity = function getTextOpacity(e, ele) {\n  return ele.pstyle('text-opacity').pfValue * ele.effectiveOpacity();\n};\n\nCRp$1.drawCachedElement = function (context, ele, pxRatio, extent, lvl, requestHighQuality) {\n  var r = this;\n  var _r$data = r.data,\n      eleTxrCache = _r$data.eleTxrCache,\n      lblTxrCache = _r$data.lblTxrCache,\n      slbTxrCache = _r$data.slbTxrCache,\n      tlbTxrCache = _r$data.tlbTxrCache;\n  var bb = ele.boundingBox();\n  var reason = requestHighQuality === true ? eleTxrCache.reasons.highQuality : null;\n\n  if (bb.w === 0 || bb.h === 0 || !ele.visible()) {\n    return;\n  }\n\n  if (!extent || boundingBoxesIntersect(bb, extent)) {\n    var isEdge = ele.isEdge();\n\n    var badLine = ele.element()._private.rscratch.badLine;\n\n    r.drawCachedElementPortion(context, ele, eleTxrCache, pxRatio, lvl, reason, getZeroRotation, getOpacity);\n\n    if (!isEdge || !badLine) {\n      r.drawCachedElementPortion(context, ele, lblTxrCache, pxRatio, lvl, reason, getLabelRotation, getTextOpacity);\n    }\n\n    if (isEdge && !badLine) {\n      r.drawCachedElementPortion(context, ele, slbTxrCache, pxRatio, lvl, reason, getSourceLabelRotation, getTextOpacity);\n      r.drawCachedElementPortion(context, ele, tlbTxrCache, pxRatio, lvl, reason, getTargetLabelRotation, getTextOpacity);\n    }\n\n    r.drawElementOverlay(context, ele);\n  }\n};\n\nCRp$1.drawElements = function (context, eles) {\n  var r = this;\n\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    r.drawElement(context, ele);\n  }\n};\n\nCRp$1.drawCachedElements = function (context, eles, pxRatio, extent) {\n  var r = this;\n\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    r.drawCachedElement(context, ele, pxRatio, extent);\n  }\n};\n\nCRp$1.drawCachedNodes = function (context, eles, pxRatio, extent) {\n  var r = this;\n\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n\n    if (!ele.isNode()) {\n      continue;\n    }\n\n    r.drawCachedElement(context, ele, pxRatio, extent);\n  }\n};\n\nCRp$1.drawLayeredElements = function (context, eles, pxRatio, extent) {\n  var r = this;\n  var layers = r.data.lyrTxrCache.getLayers(eles, pxRatio);\n\n  if (layers) {\n    for (var i = 0; i < layers.length; i++) {\n      var layer = layers[i];\n      var bb = layer.bb;\n\n      if (bb.w === 0 || bb.h === 0) {\n        continue;\n      }\n\n      context.drawImage(layer.canvas, bb.x1, bb.y1, bb.w, bb.h);\n    }\n  } else {\n    // fall back on plain caching if no layers\n    r.drawCachedElements(context, eles, pxRatio, extent);\n  }\n};\n\n/* global Path2D */\nvar CRp$2 = {};\n\nCRp$2.drawEdge = function (context, edge, shiftToOriginWithBb) {\n  var drawLabel = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var shouldDrawOverlay = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  var shouldDrawOpacity = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n  var r = this;\n  var rs = edge._private.rscratch;\n\n  if (shouldDrawOpacity && !edge.visible()) {\n    return;\n  } // if bezier ctrl pts can not be calculated, then die\n\n\n  if (rs.badLine || rs.allpts == null || isNaN(rs.allpts[0])) {\n    // isNaN in case edge is impossible and browser bugs (e.g. safari)\n    return;\n  }\n\n  var bb;\n\n  if (shiftToOriginWithBb) {\n    bb = shiftToOriginWithBb;\n    context.translate(-bb.x1, -bb.y1);\n  }\n\n  var opacity = shouldDrawOpacity ? edge.pstyle('opacity').value : 1;\n  var lineStyle = edge.pstyle('line-style').value;\n  var edgeWidth = edge.pstyle('width').pfValue;\n  var lineCap = edge.pstyle('line-cap').value;\n\n  var drawLine = function drawLine() {\n    var strokeOpacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : opacity;\n    context.lineWidth = edgeWidth;\n    context.lineCap = lineCap;\n    r.eleStrokeStyle(context, edge, strokeOpacity);\n    r.drawEdgePath(edge, context, rs.allpts, lineStyle);\n    context.lineCap = 'butt'; // reset for other drawing functions\n  };\n\n  var drawOverlay = function drawOverlay() {\n    if (!shouldDrawOverlay) {\n      return;\n    }\n\n    r.drawEdgeOverlay(context, edge);\n  };\n\n  var drawArrows = function drawArrows() {\n    var arrowOpacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : opacity;\n    r.drawArrowheads(context, edge, arrowOpacity);\n  };\n\n  var drawText = function drawText() {\n    r.drawElementText(context, edge, null, drawLabel);\n  };\n\n  context.lineJoin = 'round';\n  var ghost = edge.pstyle('ghost').value === 'yes';\n\n  if (ghost) {\n    var gx = edge.pstyle('ghost-offset-x').pfValue;\n    var gy = edge.pstyle('ghost-offset-y').pfValue;\n    var ghostOpacity = edge.pstyle('ghost-opacity').value;\n    var effectiveGhostOpacity = opacity * ghostOpacity;\n    context.translate(gx, gy);\n    drawLine(effectiveGhostOpacity);\n    drawArrows(effectiveGhostOpacity);\n    context.translate(-gx, -gy);\n  }\n\n  drawLine();\n  drawArrows();\n  drawOverlay();\n  drawText();\n\n  if (shiftToOriginWithBb) {\n    context.translate(bb.x1, bb.y1);\n  }\n};\n\nCRp$2.drawEdgeOverlay = function (context, edge) {\n  if (!edge.visible()) {\n    return;\n  }\n\n  var overlayOpacity = edge.pstyle('overlay-opacity').value;\n\n  if (overlayOpacity === 0) {\n    return;\n  }\n\n  var r = this;\n  var usePaths = r.usePaths();\n  var rs = edge._private.rscratch;\n  var overlayPadding = edge.pstyle('overlay-padding').pfValue;\n  var overlayWidth = 2 * overlayPadding;\n  var overlayColor = edge.pstyle('overlay-color').value;\n  context.lineWidth = overlayWidth;\n\n  if (rs.edgeType === 'self' && !usePaths) {\n    context.lineCap = 'butt';\n  } else {\n    context.lineCap = 'round';\n  }\n\n  r.colorStrokeStyle(context, overlayColor[0], overlayColor[1], overlayColor[2], overlayOpacity);\n  r.drawEdgePath(edge, context, rs.allpts, 'solid');\n};\n\nCRp$2.drawEdgePath = function (edge, context, pts, type) {\n  var rs = edge._private.rscratch;\n  var canvasCxt = context;\n  var path;\n  var pathCacheHit = false;\n  var usePaths = this.usePaths();\n  var lineDashPattern = edge.pstyle('line-dash-pattern').pfValue;\n  var lineDashOffset = edge.pstyle('line-dash-offset').pfValue;\n\n  if (usePaths) {\n    var pathCacheKey = pts.join('$');\n    var keyMatches = rs.pathCacheKey && rs.pathCacheKey === pathCacheKey;\n\n    if (keyMatches) {\n      path = context = rs.pathCache;\n      pathCacheHit = true;\n    } else {\n      path = context = new Path2D();\n      rs.pathCacheKey = pathCacheKey;\n      rs.pathCache = path;\n    }\n  }\n\n  if (canvasCxt.setLineDash) {\n    // for very outofdate browsers\n    switch (type) {\n      case 'dotted':\n        canvasCxt.setLineDash([1, 1]);\n        break;\n\n      case 'dashed':\n        canvasCxt.setLineDash(lineDashPattern);\n        canvasCxt.lineDashOffset = lineDashOffset;\n        break;\n\n      case 'solid':\n        canvasCxt.setLineDash([]);\n        break;\n    }\n  }\n\n  if (!pathCacheHit && !rs.badLine) {\n    if (context.beginPath) {\n      context.beginPath();\n    }\n\n    context.moveTo(pts[0], pts[1]);\n\n    switch (rs.edgeType) {\n      case 'bezier':\n      case 'self':\n      case 'compound':\n      case 'multibezier':\n        for (var i = 2; i + 3 < pts.length; i += 4) {\n          context.quadraticCurveTo(pts[i], pts[i + 1], pts[i + 2], pts[i + 3]);\n        }\n\n        break;\n\n      case 'straight':\n      case 'segments':\n      case 'haystack':\n        for (var _i = 2; _i + 1 < pts.length; _i += 2) {\n          context.lineTo(pts[_i], pts[_i + 1]);\n        }\n\n        break;\n    }\n  }\n\n  context = canvasCxt;\n\n  if (usePaths) {\n    context.stroke(path);\n  } else {\n    context.stroke();\n  } // reset any line dashes\n\n\n  if (context.setLineDash) {\n    // for very outofdate browsers\n    context.setLineDash([]);\n  }\n};\n\nCRp$2.drawArrowheads = function (context, edge, opacity) {\n  var rs = edge._private.rscratch;\n  var isHaystack = rs.edgeType === 'haystack';\n\n  if (!isHaystack) {\n    this.drawArrowhead(context, edge, 'source', rs.arrowStartX, rs.arrowStartY, rs.srcArrowAngle, opacity);\n  }\n\n  this.drawArrowhead(context, edge, 'mid-target', rs.midX, rs.midY, rs.midtgtArrowAngle, opacity);\n  this.drawArrowhead(context, edge, 'mid-source', rs.midX, rs.midY, rs.midsrcArrowAngle, opacity);\n\n  if (!isHaystack) {\n    this.drawArrowhead(context, edge, 'target', rs.arrowEndX, rs.arrowEndY, rs.tgtArrowAngle, opacity);\n  }\n};\n\nCRp$2.drawArrowhead = function (context, edge, prefix, x, y, angle, opacity) {\n  if (isNaN(x) || x == null || isNaN(y) || y == null || isNaN(angle) || angle == null) {\n    return;\n  }\n\n  var self = this;\n  var arrowShape = edge.pstyle(prefix + '-arrow-shape').value;\n\n  if (arrowShape === 'none') {\n    return;\n  }\n\n  var arrowClearFill = edge.pstyle(prefix + '-arrow-fill').value === 'hollow' ? 'both' : 'filled';\n  var arrowFill = edge.pstyle(prefix + '-arrow-fill').value;\n  var edgeWidth = edge.pstyle('width').pfValue;\n  var edgeOpacity = edge.pstyle('opacity').value;\n\n  if (opacity === undefined) {\n    opacity = edgeOpacity;\n  }\n\n  var gco = context.globalCompositeOperation;\n\n  if (opacity !== 1 || arrowFill === 'hollow') {\n    // then extra clear is needed\n    context.globalCompositeOperation = 'destination-out';\n    self.colorFillStyle(context, 255, 255, 255, 1);\n    self.colorStrokeStyle(context, 255, 255, 255, 1);\n    self.drawArrowShape(edge, context, arrowClearFill, edgeWidth, arrowShape, x, y, angle);\n    context.globalCompositeOperation = gco;\n  } // otherwise, the opaque arrow clears it for free :)\n\n\n  var color = edge.pstyle(prefix + '-arrow-color').value;\n  self.colorFillStyle(context, color[0], color[1], color[2], opacity);\n  self.colorStrokeStyle(context, color[0], color[1], color[2], opacity);\n  self.drawArrowShape(edge, context, arrowFill, edgeWidth, arrowShape, x, y, angle);\n};\n\nCRp$2.drawArrowShape = function (edge, context, fill, edgeWidth, shape, x, y, angle) {\n  var r = this;\n  var usePaths = this.usePaths() && shape !== 'triangle-cross';\n  var pathCacheHit = false;\n  var path;\n  var canvasContext = context;\n  var translation = {\n    x: x,\n    y: y\n  };\n  var scale = edge.pstyle('arrow-scale').value;\n  var size = this.getArrowWidth(edgeWidth, scale);\n  var shapeImpl = r.arrowShapes[shape];\n\n  if (usePaths) {\n    var cache = r.arrowPathCache = r.arrowPathCache || [];\n    var key = hashString(shape);\n    var cachedPath = cache[key];\n\n    if (cachedPath != null) {\n      path = context = cachedPath;\n      pathCacheHit = true;\n    } else {\n      path = context = new Path2D();\n      cache[key] = path;\n    }\n  }\n\n  if (context.beginPath) {\n    context.beginPath();\n  }\n\n  if (!pathCacheHit) {\n    if (usePaths) {\n      // store in the path cache with values easily manipulated later\n      shapeImpl.draw(context, 1, 0, {\n        x: 0,\n        y: 0\n      }, 1);\n    } else {\n      shapeImpl.draw(context, size, angle, translation, edgeWidth);\n    }\n  }\n\n  if (context.closePath) {\n    context.closePath();\n  }\n\n  context = canvasContext;\n\n  if (usePaths) {\n    // set transform to arrow position/orientation\n    context.translate(x, y);\n    context.rotate(angle);\n    context.scale(size, size);\n  }\n\n  if (fill === 'filled' || fill === 'both') {\n    if (usePaths) {\n      context.fill(path);\n    } else {\n      context.fill();\n    }\n  }\n\n  if (fill === 'hollow' || fill === 'both') {\n    context.lineWidth = (shapeImpl.matchEdgeWidth ? edgeWidth : 1) / (usePaths ? size : 1);\n    context.lineJoin = 'miter';\n\n    if (usePaths) {\n      context.stroke(path);\n    } else {\n      context.stroke();\n    }\n  }\n\n  if (usePaths) {\n    // reset transform by applying inverse\n    context.scale(1 / size, 1 / size);\n    context.rotate(-angle);\n    context.translate(-x, -y);\n  }\n};\n\nvar CRp$3 = {};\n\nCRp$3.safeDrawImage = function (context, img, ix, iy, iw, ih, x, y, w, h) {\n  // detect problematic cases for old browsers with bad images (cheaper than try-catch)\n  if (iw <= 0 || ih <= 0 || w <= 0 || h <= 0) {\n    return;\n  }\n\n  context.drawImage(img, ix, iy, iw, ih, x, y, w, h);\n};\n\nCRp$3.drawInscribedImage = function (context, img, node, index, nodeOpacity) {\n  var r = this;\n  var pos = node.position();\n  var nodeX = pos.x;\n  var nodeY = pos.y;\n  var styleObj = node.cy().style();\n  var getIndexedStyle = styleObj.getIndexedStyle.bind(styleObj);\n  var fit = getIndexedStyle(node, 'background-fit', 'value', index);\n  var repeat = getIndexedStyle(node, 'background-repeat', 'value', index);\n  var nodeW = node.width();\n  var nodeH = node.height();\n  var paddingX2 = node.padding() * 2;\n  var nodeTW = nodeW + (getIndexedStyle(node, 'background-width-relative-to', 'value', index) === 'inner' ? 0 : paddingX2);\n  var nodeTH = nodeH + (getIndexedStyle(node, 'background-height-relative-to', 'value', index) === 'inner' ? 0 : paddingX2);\n  var rs = node._private.rscratch;\n  var clip = getIndexedStyle(node, 'background-clip', 'value', index);\n  var shouldClip = clip === 'node';\n  var imgOpacity = getIndexedStyle(node, 'background-image-opacity', 'value', index) * nodeOpacity;\n  var imgW = img.width || img.cachedW;\n  var imgH = img.height || img.cachedH; // workaround for broken browsers like ie\n\n  if (null == imgW || null == imgH) {\n    document.body.appendChild(img); // eslint-disable-line no-undef\n\n    imgW = img.cachedW = img.width || img.offsetWidth;\n    imgH = img.cachedH = img.height || img.offsetHeight;\n    document.body.removeChild(img); // eslint-disable-line no-undef\n  }\n\n  var w = imgW;\n  var h = imgH;\n\n  if (getIndexedStyle(node, 'background-width', 'value', index) !== 'auto') {\n    if (getIndexedStyle(node, 'background-width', 'units', index) === '%') {\n      w = getIndexedStyle(node, 'background-width', 'pfValue', index) * nodeTW;\n    } else {\n      w = getIndexedStyle(node, 'background-width', 'pfValue', index);\n    }\n  }\n\n  if (getIndexedStyle(node, 'background-height', 'value', index) !== 'auto') {\n    if (getIndexedStyle(node, 'background-height', 'units', index) === '%') {\n      h = getIndexedStyle(node, 'background-height', 'pfValue', index) * nodeTH;\n    } else {\n      h = getIndexedStyle(node, 'background-height', 'pfValue', index);\n    }\n  }\n\n  if (w === 0 || h === 0) {\n    return; // no point in drawing empty image (and chrome is broken in this case)\n  }\n\n  if (fit === 'contain') {\n    var scale = Math.min(nodeTW / w, nodeTH / h);\n    w *= scale;\n    h *= scale;\n  } else if (fit === 'cover') {\n    var scale = Math.max(nodeTW / w, nodeTH / h);\n    w *= scale;\n    h *= scale;\n  }\n\n  var x = nodeX - nodeTW / 2; // left\n\n  var posXUnits = getIndexedStyle(node, 'background-position-x', 'units', index);\n  var posXPfVal = getIndexedStyle(node, 'background-position-x', 'pfValue', index);\n\n  if (posXUnits === '%') {\n    x += (nodeTW - w) * posXPfVal;\n  } else {\n    x += posXPfVal;\n  }\n\n  var offXUnits = getIndexedStyle(node, 'background-offset-x', 'units', index);\n  var offXPfVal = getIndexedStyle(node, 'background-offset-x', 'pfValue', index);\n\n  if (offXUnits === '%') {\n    x += (nodeTW - w) * offXPfVal;\n  } else {\n    x += offXPfVal;\n  }\n\n  var y = nodeY - nodeTH / 2; // top\n\n  var posYUnits = getIndexedStyle(node, 'background-position-y', 'units', index);\n  var posYPfVal = getIndexedStyle(node, 'background-position-y', 'pfValue', index);\n\n  if (posYUnits === '%') {\n    y += (nodeTH - h) * posYPfVal;\n  } else {\n    y += posYPfVal;\n  }\n\n  var offYUnits = getIndexedStyle(node, 'background-offset-y', 'units', index);\n  var offYPfVal = getIndexedStyle(node, 'background-offset-y', 'pfValue', index);\n\n  if (offYUnits === '%') {\n    y += (nodeTH - h) * offYPfVal;\n  } else {\n    y += offYPfVal;\n  }\n\n  if (rs.pathCache) {\n    x -= nodeX;\n    y -= nodeY;\n    nodeX = 0;\n    nodeY = 0;\n  }\n\n  var gAlpha = context.globalAlpha;\n  context.globalAlpha = imgOpacity;\n\n  if (repeat === 'no-repeat') {\n    if (shouldClip) {\n      context.save();\n\n      if (rs.pathCache) {\n        context.clip(rs.pathCache);\n      } else {\n        r.nodeShapes[r.getNodeShape(node)].draw(context, nodeX, nodeY, nodeTW, nodeTH);\n        context.clip();\n      }\n    }\n\n    r.safeDrawImage(context, img, 0, 0, imgW, imgH, x, y, w, h);\n\n    if (shouldClip) {\n      context.restore();\n    }\n  } else {\n    var pattern = context.createPattern(img, repeat);\n    context.fillStyle = pattern;\n    r.nodeShapes[r.getNodeShape(node)].draw(context, nodeX, nodeY, nodeTW, nodeTH);\n    context.translate(x, y);\n    context.fill();\n    context.translate(-x, -y);\n  }\n\n  context.globalAlpha = gAlpha;\n};\n\nvar CRp$4 = {};\n\nCRp$4.eleTextBiggerThanMin = function (ele, scale) {\n  if (!scale) {\n    var zoom = ele.cy().zoom();\n    var pxRatio = this.getPixelRatio();\n    var lvl = Math.ceil(log2(zoom * pxRatio)); // the effective texture level\n\n    scale = Math.pow(2, lvl);\n  }\n\n  var computedSize = ele.pstyle('font-size').pfValue * scale;\n  var minSize = ele.pstyle('min-zoomed-font-size').pfValue;\n\n  if (computedSize < minSize) {\n    return false;\n  }\n\n  return true;\n};\n\nCRp$4.drawElementText = function (context, ele, shiftToOriginWithBb, force, prefix) {\n  var useEleOpacity = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n  var r = this;\n\n  if (force == null) {\n    if (useEleOpacity && !r.eleTextBiggerThanMin(ele)) {\n      return;\n    }\n  } else if (force === false) {\n    return;\n  }\n\n  if (ele.isNode()) {\n    var label = ele.pstyle('label');\n\n    if (!label || !label.value) {\n      return;\n    }\n\n    var justification = r.getLabelJustification(ele);\n    context.textAlign = justification;\n    context.textBaseline = 'bottom';\n  } else {\n    var badLine = ele.element()._private.rscratch.badLine;\n\n    var _label = ele.pstyle('label');\n\n    var srcLabel = ele.pstyle('source-label');\n    var tgtLabel = ele.pstyle('target-label');\n\n    if (badLine || (!_label || !_label.value) && (!srcLabel || !srcLabel.value) && (!tgtLabel || !tgtLabel.value)) {\n      return;\n    }\n\n    context.textAlign = 'center';\n    context.textBaseline = 'bottom';\n  }\n\n  var applyRotation = !shiftToOriginWithBb;\n  var bb;\n\n  if (shiftToOriginWithBb) {\n    bb = shiftToOriginWithBb;\n    context.translate(-bb.x1, -bb.y1);\n  }\n\n  if (prefix == null) {\n    r.drawText(context, ele, null, applyRotation, useEleOpacity);\n\n    if (ele.isEdge()) {\n      r.drawText(context, ele, 'source', applyRotation, useEleOpacity);\n      r.drawText(context, ele, 'target', applyRotation, useEleOpacity);\n    }\n  } else {\n    r.drawText(context, ele, prefix, applyRotation, useEleOpacity);\n  }\n\n  if (shiftToOriginWithBb) {\n    context.translate(bb.x1, bb.y1);\n  }\n};\n\nCRp$4.getFontCache = function (context) {\n  var cache;\n  this.fontCaches = this.fontCaches || [];\n\n  for (var i = 0; i < this.fontCaches.length; i++) {\n    cache = this.fontCaches[i];\n\n    if (cache.context === context) {\n      return cache;\n    }\n  }\n\n  cache = {\n    context: context\n  };\n  this.fontCaches.push(cache);\n  return cache;\n}; // set up canvas context with font\n// returns transformed text string\n\n\nCRp$4.setupTextStyle = function (context, ele) {\n  var useEleOpacity = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  // Font style\n  var labelStyle = ele.pstyle('font-style').strValue;\n  var labelSize = ele.pstyle('font-size').pfValue + 'px';\n  var labelFamily = ele.pstyle('font-family').strValue;\n  var labelWeight = ele.pstyle('font-weight').strValue;\n  var opacity = useEleOpacity ? ele.effectiveOpacity() * ele.pstyle('text-opacity').value : 1;\n  var outlineOpacity = ele.pstyle('text-outline-opacity').value * opacity;\n  var color = ele.pstyle('color').value;\n  var outlineColor = ele.pstyle('text-outline-color').value;\n  context.font = labelStyle + ' ' + labelWeight + ' ' + labelSize + ' ' + labelFamily;\n  context.lineJoin = 'round'; // so text outlines aren't jagged\n\n  this.colorFillStyle(context, color[0], color[1], color[2], opacity);\n  this.colorStrokeStyle(context, outlineColor[0], outlineColor[1], outlineColor[2], outlineOpacity);\n}; // TODO ensure re-used\n\n\nfunction roundRect(ctx, x, y, width, height) {\n  var radius = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 5;\n  ctx.beginPath();\n  ctx.moveTo(x + radius, y);\n  ctx.lineTo(x + width - radius, y);\n  ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n  ctx.lineTo(x + width, y + height - radius);\n  ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n  ctx.lineTo(x + radius, y + height);\n  ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n  ctx.lineTo(x, y + radius);\n  ctx.quadraticCurveTo(x, y, x + radius, y);\n  ctx.closePath();\n  ctx.fill();\n}\n\nCRp$4.getTextAngle = function (ele, prefix) {\n  var theta;\n  var _p = ele._private;\n  var rscratch = _p.rscratch;\n  var pdash = prefix ? prefix + '-' : '';\n  var rotation = ele.pstyle(pdash + 'text-rotation');\n  var textAngle = getPrefixedProperty(rscratch, 'labelAngle', prefix);\n\n  if (rotation.strValue === 'autorotate') {\n    theta = ele.isEdge() ? textAngle : 0;\n  } else if (rotation.strValue === 'none') {\n    theta = 0;\n  } else {\n    theta = rotation.pfValue;\n  }\n\n  return theta;\n};\n\nCRp$4.drawText = function (context, ele, prefix) {\n  var applyRotation = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var useEleOpacity = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  var _p = ele._private;\n  var rscratch = _p.rscratch;\n  var parentOpacity = useEleOpacity ? ele.effectiveOpacity() : 1;\n\n  if (useEleOpacity && (parentOpacity === 0 || ele.pstyle('text-opacity').value === 0)) {\n    return;\n  } // use 'main' as an alias for the main label (i.e. null prefix)\n\n\n  if (prefix === 'main') {\n    prefix = null;\n  }\n\n  var textX = getPrefixedProperty(rscratch, 'labelX', prefix);\n  var textY = getPrefixedProperty(rscratch, 'labelY', prefix);\n  var orgTextX, orgTextY; // used for rotation\n\n  var text = this.getLabelText(ele, prefix);\n\n  if (text != null && text !== '' && !isNaN(textX) && !isNaN(textY)) {\n    this.setupTextStyle(context, ele, useEleOpacity);\n    var pdash = prefix ? prefix + '-' : '';\n    var textW = getPrefixedProperty(rscratch, 'labelWidth', prefix);\n    var textH = getPrefixedProperty(rscratch, 'labelHeight', prefix);\n    var marginX = ele.pstyle(pdash + 'text-margin-x').pfValue;\n    var marginY = ele.pstyle(pdash + 'text-margin-y').pfValue;\n    var isEdge = ele.isEdge();\n    var halign = ele.pstyle('text-halign').value;\n    var valign = ele.pstyle('text-valign').value;\n\n    if (isEdge) {\n      halign = 'center';\n      valign = 'center';\n    }\n\n    textX += marginX;\n    textY += marginY;\n    var theta;\n\n    if (!applyRotation) {\n      theta = 0;\n    } else {\n      theta = this.getTextAngle(ele, prefix);\n    }\n\n    if (theta !== 0) {\n      orgTextX = textX;\n      orgTextY = textY;\n      context.translate(orgTextX, orgTextY);\n      context.rotate(theta);\n      textX = 0;\n      textY = 0;\n    }\n\n    switch (valign) {\n      case 'top':\n        break;\n\n      case 'center':\n        textY += textH / 2;\n        break;\n\n      case 'bottom':\n        textY += textH;\n        break;\n    }\n\n    var backgroundOpacity = ele.pstyle('text-background-opacity').value;\n    var borderOpacity = ele.pstyle('text-border-opacity').value;\n    var textBorderWidth = ele.pstyle('text-border-width').pfValue;\n    var backgroundPadding = ele.pstyle('text-background-padding').pfValue;\n\n    if (backgroundOpacity > 0 || textBorderWidth > 0 && borderOpacity > 0) {\n      var bgX = textX - backgroundPadding;\n\n      switch (halign) {\n        case 'left':\n          bgX -= textW;\n          break;\n\n        case 'center':\n          bgX -= textW / 2;\n          break;\n\n        case 'right':\n          break;\n      }\n\n      var bgY = textY - textH - backgroundPadding;\n      var bgW = textW + 2 * backgroundPadding;\n      var bgH = textH + 2 * backgroundPadding;\n\n      if (backgroundOpacity > 0) {\n        var textFill = context.fillStyle;\n        var textBackgroundColor = ele.pstyle('text-background-color').value;\n        context.fillStyle = 'rgba(' + textBackgroundColor[0] + ',' + textBackgroundColor[1] + ',' + textBackgroundColor[2] + ',' + backgroundOpacity * parentOpacity + ')';\n        var styleShape = ele.pstyle('text-background-shape').strValue;\n\n        if (styleShape.indexOf('round') === 0) {\n          roundRect(context, bgX, bgY, bgW, bgH, 2);\n        } else {\n          context.fillRect(bgX, bgY, bgW, bgH);\n        }\n\n        context.fillStyle = textFill;\n      }\n\n      if (textBorderWidth > 0 && borderOpacity > 0) {\n        var textStroke = context.strokeStyle;\n        var textLineWidth = context.lineWidth;\n        var textBorderColor = ele.pstyle('text-border-color').value;\n        var textBorderStyle = ele.pstyle('text-border-style').value;\n        context.strokeStyle = 'rgba(' + textBorderColor[0] + ',' + textBorderColor[1] + ',' + textBorderColor[2] + ',' + borderOpacity * parentOpacity + ')';\n        context.lineWidth = textBorderWidth;\n\n        if (context.setLineDash) {\n          // for very outofdate browsers\n          switch (textBorderStyle) {\n            case 'dotted':\n              context.setLineDash([1, 1]);\n              break;\n\n            case 'dashed':\n              context.setLineDash([4, 2]);\n              break;\n\n            case 'double':\n              context.lineWidth = textBorderWidth / 4; // 50% reserved for white between the two borders\n\n              context.setLineDash([]);\n              break;\n\n            case 'solid':\n              context.setLineDash([]);\n              break;\n          }\n        }\n\n        context.strokeRect(bgX, bgY, bgW, bgH);\n\n        if (textBorderStyle === 'double') {\n          var whiteWidth = textBorderWidth / 2;\n          context.strokeRect(bgX + whiteWidth, bgY + whiteWidth, bgW - whiteWidth * 2, bgH - whiteWidth * 2);\n        }\n\n        if (context.setLineDash) {\n          // for very outofdate browsers\n          context.setLineDash([]);\n        }\n\n        context.lineWidth = textLineWidth;\n        context.strokeStyle = textStroke;\n      }\n    }\n\n    var lineWidth = 2 * ele.pstyle('text-outline-width').pfValue; // *2 b/c the stroke is drawn centred on the middle\n\n    if (lineWidth > 0) {\n      context.lineWidth = lineWidth;\n    }\n\n    if (ele.pstyle('text-wrap').value === 'wrap') {\n      var lines = getPrefixedProperty(rscratch, 'labelWrapCachedLines', prefix);\n      var lineHeight = getPrefixedProperty(rscratch, 'labelLineHeight', prefix);\n      var halfTextW = textW / 2;\n      var justification = this.getLabelJustification(ele);\n\n      if (justification === 'auto') ; else if (halign === 'left') {\n        // auto justification : right\n        if (justification === 'left') {\n          textX += -textW;\n        } else if (justification === 'center') {\n          textX += -halfTextW;\n        } // else same as auto\n\n      } else if (halign === 'center') {\n        // auto justfication : center\n        if (justification === 'left') {\n          textX += -halfTextW;\n        } else if (justification === 'right') {\n          textX += halfTextW;\n        } // else same as auto\n\n      } else if (halign === 'right') {\n        // auto justification : left\n        if (justification === 'center') {\n          textX += halfTextW;\n        } else if (justification === 'right') {\n          textX += textW;\n        } // else same as auto\n\n      }\n\n      switch (valign) {\n        case 'top':\n          textY -= (lines.length - 1) * lineHeight;\n          break;\n\n        case 'center':\n        case 'bottom':\n          textY -= (lines.length - 1) * lineHeight;\n          break;\n      }\n\n      for (var l = 0; l < lines.length; l++) {\n        if (lineWidth > 0) {\n          context.strokeText(lines[l], textX, textY);\n        }\n\n        context.fillText(lines[l], textX, textY);\n        textY += lineHeight;\n      }\n    } else {\n      if (lineWidth > 0) {\n        context.strokeText(text, textX, textY);\n      }\n\n      context.fillText(text, textX, textY);\n    }\n\n    if (theta !== 0) {\n      context.rotate(-theta);\n      context.translate(-orgTextX, -orgTextY);\n    }\n  }\n};\n\n/* global Path2D */\nvar CRp$5 = {};\n\nCRp$5.drawNode = function (context, node, shiftToOriginWithBb) {\n  var drawLabel = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var shouldDrawOverlay = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  var shouldDrawOpacity = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n  var r = this;\n  var nodeWidth, nodeHeight;\n  var _p = node._private;\n  var rs = _p.rscratch;\n  var pos = node.position();\n\n  if (!number(pos.x) || !number(pos.y)) {\n    return; // can't draw node with undefined position\n  }\n\n  if (shouldDrawOpacity && !node.visible()) {\n    return;\n  }\n\n  var eleOpacity = shouldDrawOpacity ? node.effectiveOpacity() : 1;\n  var usePaths = r.usePaths();\n  var path;\n  var pathCacheHit = false;\n  var padding = node.padding();\n  nodeWidth = node.width() + 2 * padding;\n  nodeHeight = node.height() + 2 * padding; //\n  // setup shift\n\n  var bb;\n\n  if (shiftToOriginWithBb) {\n    bb = shiftToOriginWithBb;\n    context.translate(-bb.x1, -bb.y1);\n  } //\n  // load bg image\n\n\n  var bgImgProp = node.pstyle('background-image');\n  var urls = bgImgProp.value;\n  var urlDefined = new Array(urls.length);\n  var image = new Array(urls.length);\n  var numImages = 0;\n\n  for (var i = 0; i < urls.length; i++) {\n    var url = urls[i];\n    var defd = urlDefined[i] = url != null && url !== 'none';\n\n    if (defd) {\n      var bgImgCrossOrigin = node.cy().style().getIndexedStyle(node, 'background-image-crossorigin', 'value', i);\n      numImages++; // get image, and if not loaded then ask to redraw when later loaded\n\n      image[i] = r.getCachedImage(url, bgImgCrossOrigin, function () {\n        _p.backgroundTimestamp = Date.now();\n        node.emitAndNotify('background');\n      });\n    }\n  } //\n  // setup styles\n\n\n  var darkness = node.pstyle('background-blacken').value;\n  var borderWidth = node.pstyle('border-width').pfValue;\n  var bgOpacity = node.pstyle('background-opacity').value * eleOpacity;\n  var borderColor = node.pstyle('border-color').value;\n  var borderStyle = node.pstyle('border-style').value;\n  var borderOpacity = node.pstyle('border-opacity').value * eleOpacity;\n  context.lineJoin = 'miter'; // so borders are square with the node shape\n\n  var setupShapeColor = function setupShapeColor() {\n    var bgOpy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : bgOpacity;\n    r.eleFillStyle(context, node, bgOpy);\n  };\n\n  var setupBorderColor = function setupBorderColor() {\n    var bdrOpy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : borderOpacity;\n    r.colorStrokeStyle(context, borderColor[0], borderColor[1], borderColor[2], bdrOpy);\n  }; //\n  // setup shape\n\n\n  var styleShape = node.pstyle('shape').strValue;\n  var shapePts = node.pstyle('shape-polygon-points').pfValue;\n\n  if (usePaths) {\n    context.translate(pos.x, pos.y);\n    var pathCache = r.nodePathCache = r.nodePathCache || [];\n    var key = hashStrings(styleShape === 'polygon' ? styleShape + ',' + shapePts.join(',') : styleShape, '' + nodeHeight, '' + nodeWidth);\n    var cachedPath = pathCache[key];\n\n    if (cachedPath != null) {\n      path = cachedPath;\n      pathCacheHit = true;\n      rs.pathCache = path;\n    } else {\n      path = new Path2D();\n      pathCache[key] = rs.pathCache = path;\n    }\n  }\n\n  var drawShape = function drawShape() {\n    if (!pathCacheHit) {\n      var npos = pos;\n\n      if (usePaths) {\n        npos = {\n          x: 0,\n          y: 0\n        };\n      }\n\n      r.nodeShapes[r.getNodeShape(node)].draw(path || context, npos.x, npos.y, nodeWidth, nodeHeight);\n    }\n\n    if (usePaths) {\n      context.fill(path);\n    } else {\n      context.fill();\n    }\n  };\n\n  var drawImages = function drawImages() {\n    var nodeOpacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : eleOpacity;\n    var prevBging = _p.backgrounding;\n    var totalCompleted = 0;\n\n    for (var _i = 0; _i < image.length; _i++) {\n      if (urlDefined[_i] && image[_i].complete && !image[_i].error) {\n        totalCompleted++;\n        r.drawInscribedImage(context, image[_i], node, _i, nodeOpacity);\n      }\n    }\n\n    _p.backgrounding = !(totalCompleted === numImages);\n\n    if (prevBging !== _p.backgrounding) {\n      // update style b/c :backgrounding state changed\n      node.updateStyle(false);\n    }\n  };\n\n  var drawPie = function drawPie() {\n    var redrawShape = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var pieOpacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : eleOpacity;\n\n    if (r.hasPie(node)) {\n      r.drawPie(context, node, pieOpacity); // redraw/restore path if steps after pie need it\n\n      if (redrawShape) {\n        if (!usePaths) {\n          r.nodeShapes[r.getNodeShape(node)].draw(context, pos.x, pos.y, nodeWidth, nodeHeight);\n        }\n      }\n    }\n  };\n\n  var darken = function darken() {\n    var darkenOpacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : eleOpacity;\n    var opacity = (darkness > 0 ? darkness : -darkness) * darkenOpacity;\n    var c = darkness > 0 ? 0 : 255;\n\n    if (darkness !== 0) {\n      r.colorFillStyle(context, c, c, c, opacity);\n\n      if (usePaths) {\n        context.fill(path);\n      } else {\n        context.fill();\n      }\n    }\n  };\n\n  var drawBorder = function drawBorder() {\n    if (borderWidth > 0) {\n      context.lineWidth = borderWidth;\n      context.lineCap = 'butt';\n\n      if (context.setLineDash) {\n        // for very outofdate browsers\n        switch (borderStyle) {\n          case 'dotted':\n            context.setLineDash([1, 1]);\n            break;\n\n          case 'dashed':\n            context.setLineDash([4, 2]);\n            break;\n\n          case 'solid':\n          case 'double':\n            context.setLineDash([]);\n            break;\n        }\n      }\n\n      if (usePaths) {\n        context.stroke(path);\n      } else {\n        context.stroke();\n      }\n\n      if (borderStyle === 'double') {\n        context.lineWidth = borderWidth / 3;\n        var gco = context.globalCompositeOperation;\n        context.globalCompositeOperation = 'destination-out';\n\n        if (usePaths) {\n          context.stroke(path);\n        } else {\n          context.stroke();\n        }\n\n        context.globalCompositeOperation = gco;\n      } // reset in case we changed the border style\n\n\n      if (context.setLineDash) {\n        // for very outofdate browsers\n        context.setLineDash([]);\n      }\n    }\n  };\n\n  var drawOverlay = function drawOverlay() {\n    if (shouldDrawOverlay) {\n      r.drawNodeOverlay(context, node, pos, nodeWidth, nodeHeight);\n    }\n  };\n\n  var drawText = function drawText() {\n    r.drawElementText(context, node, null, drawLabel);\n  };\n\n  var ghost = node.pstyle('ghost').value === 'yes';\n\n  if (ghost) {\n    var gx = node.pstyle('ghost-offset-x').pfValue;\n    var gy = node.pstyle('ghost-offset-y').pfValue;\n    var ghostOpacity = node.pstyle('ghost-opacity').value;\n    var effGhostOpacity = ghostOpacity * eleOpacity;\n    context.translate(gx, gy);\n    setupShapeColor(ghostOpacity * bgOpacity);\n    drawShape();\n    drawImages(effGhostOpacity);\n    drawPie(darkness !== 0 || borderWidth !== 0);\n    darken(effGhostOpacity);\n    setupBorderColor(ghostOpacity * borderOpacity);\n    drawBorder();\n    context.translate(-gx, -gy);\n  }\n\n  setupShapeColor();\n  drawShape();\n  drawImages();\n  drawPie(darkness !== 0 || borderWidth !== 0);\n  darken();\n  setupBorderColor();\n  drawBorder();\n\n  if (usePaths) {\n    context.translate(-pos.x, -pos.y);\n  }\n\n  drawText();\n  drawOverlay(); //\n  // clean up shift\n\n  if (shiftToOriginWithBb) {\n    context.translate(bb.x1, bb.y1);\n  }\n};\n\nCRp$5.drawNodeOverlay = function (context, node, pos, nodeWidth, nodeHeight) {\n  var r = this;\n\n  if (!node.visible()) {\n    return;\n  }\n\n  var overlayPadding = node.pstyle('overlay-padding').pfValue;\n  var overlayOpacity = node.pstyle('overlay-opacity').value;\n  var overlayColor = node.pstyle('overlay-color').value;\n\n  if (overlayOpacity > 0) {\n    pos = pos || node.position();\n\n    if (nodeWidth == null || nodeHeight == null) {\n      var padding = node.padding();\n      nodeWidth = node.width() + 2 * padding;\n      nodeHeight = node.height() + 2 * padding;\n    }\n\n    r.colorFillStyle(context, overlayColor[0], overlayColor[1], overlayColor[2], overlayOpacity);\n    r.nodeShapes['roundrectangle'].draw(context, pos.x, pos.y, nodeWidth + overlayPadding * 2, nodeHeight + overlayPadding * 2);\n    context.fill();\n  }\n}; // does the node have at least one pie piece?\n\n\nCRp$5.hasPie = function (node) {\n  node = node[0]; // ensure ele ref\n\n  return node._private.hasPie;\n};\n\nCRp$5.drawPie = function (context, node, nodeOpacity, pos) {\n  node = node[0]; // ensure ele ref\n\n  pos = pos || node.position();\n  var cyStyle = node.cy().style();\n  var pieSize = node.pstyle('pie-size');\n  var x = pos.x;\n  var y = pos.y;\n  var nodeW = node.width();\n  var nodeH = node.height();\n  var radius = Math.min(nodeW, nodeH) / 2; // must fit in node\n\n  var lastPercent = 0; // what % to continue drawing pie slices from on [0, 1]\n\n  var usePaths = this.usePaths();\n\n  if (usePaths) {\n    x = 0;\n    y = 0;\n  }\n\n  if (pieSize.units === '%') {\n    radius = radius * pieSize.pfValue;\n  } else if (pieSize.pfValue !== undefined) {\n    radius = pieSize.pfValue / 2;\n  }\n\n  for (var i = 1; i <= cyStyle.pieBackgroundN; i++) {\n    // 1..N\n    var size = node.pstyle('pie-' + i + '-background-size').value;\n    var color = node.pstyle('pie-' + i + '-background-color').value;\n    var opacity = node.pstyle('pie-' + i + '-background-opacity').value * nodeOpacity;\n    var percent = size / 100; // map integer range [0, 100] to [0, 1]\n    // percent can't push beyond 1\n\n    if (percent + lastPercent > 1) {\n      percent = 1 - lastPercent;\n    }\n\n    var angleStart = 1.5 * Math.PI + 2 * Math.PI * lastPercent; // start at 12 o'clock and go clockwise\n\n    var angleDelta = 2 * Math.PI * percent;\n    var angleEnd = angleStart + angleDelta; // ignore if\n    // - zero size\n    // - we're already beyond the full circle\n    // - adding the current slice would go beyond the full circle\n\n    if (size === 0 || lastPercent >= 1 || lastPercent + percent > 1) {\n      continue;\n    }\n\n    context.beginPath();\n    context.moveTo(x, y);\n    context.arc(x, y, radius, angleStart, angleEnd);\n    context.closePath();\n    this.colorFillStyle(context, color[0], color[1], color[2], opacity);\n    context.fill();\n    lastPercent += percent;\n  }\n};\n\nvar CRp$6 = {};\nvar motionBlurDelay = 100; // var isFirefox = typeof InstallTrigger !== 'undefined';\n\nCRp$6.getPixelRatio = function () {\n  var context = this.data.contexts[0];\n\n  if (this.forcedPixelRatio != null) {\n    return this.forcedPixelRatio;\n  }\n\n  var backingStore = context.backingStorePixelRatio || context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || context.backingStorePixelRatio || 1;\n  return (window.devicePixelRatio || 1) / backingStore; // eslint-disable-line no-undef\n};\n\nCRp$6.paintCache = function (context) {\n  var caches = this.paintCaches = this.paintCaches || [];\n  var needToCreateCache = true;\n  var cache;\n\n  for (var i = 0; i < caches.length; i++) {\n    cache = caches[i];\n\n    if (cache.context === context) {\n      needToCreateCache = false;\n      break;\n    }\n  }\n\n  if (needToCreateCache) {\n    cache = {\n      context: context\n    };\n    caches.push(cache);\n  }\n\n  return cache;\n};\n\nCRp$6.createGradientStyleFor = function (context, shapeStyleName, ele, fill, opacity) {\n  var gradientStyle;\n  var usePaths = this.usePaths();\n  var colors = ele.pstyle(shapeStyleName + '-gradient-stop-colors').value,\n      positions = ele.pstyle(shapeStyleName + '-gradient-stop-positions').pfValue;\n\n  if (fill === 'radial-gradient') {\n    if (ele.isEdge()) {\n      var start = ele.sourceEndpoint(),\n          end = ele.targetEndpoint(),\n          mid = ele.midpoint();\n      var d1 = dist(start, mid);\n      var d2 = dist(end, mid);\n      gradientStyle = context.createRadialGradient(mid.x, mid.y, 0, mid.x, mid.y, Math.max(d1, d2));\n    } else {\n      var pos = usePaths ? {\n        x: 0,\n        y: 0\n      } : ele.position(),\n          width = ele.paddedWidth(),\n          height = ele.paddedHeight();\n      gradientStyle = context.createRadialGradient(pos.x, pos.y, 0, pos.x, pos.y, Math.max(width, height));\n    }\n  } else {\n    if (ele.isEdge()) {\n      var _start = ele.sourceEndpoint(),\n          _end = ele.targetEndpoint();\n\n      gradientStyle = context.createLinearGradient(_start.x, _start.y, _end.x, _end.y);\n    } else {\n      var _pos = usePaths ? {\n        x: 0,\n        y: 0\n      } : ele.position(),\n          _width = ele.paddedWidth(),\n          _height = ele.paddedHeight(),\n          halfWidth = _width / 2,\n          halfHeight = _height / 2;\n\n      var direction = ele.pstyle('background-gradient-direction').value;\n\n      switch (direction) {\n        case 'to-bottom':\n          gradientStyle = context.createLinearGradient(_pos.x, _pos.y - halfHeight, _pos.x, _pos.y + halfHeight);\n          break;\n\n        case 'to-top':\n          gradientStyle = context.createLinearGradient(_pos.x, _pos.y + halfHeight, _pos.x, _pos.y - halfHeight);\n          break;\n\n        case 'to-left':\n          gradientStyle = context.createLinearGradient(_pos.x + halfWidth, _pos.y, _pos.x - halfWidth, _pos.y);\n          break;\n\n        case 'to-right':\n          gradientStyle = context.createLinearGradient(_pos.x - halfWidth, _pos.y, _pos.x + halfWidth, _pos.y);\n          break;\n\n        case 'to-bottom-right':\n        case 'to-right-bottom':\n          gradientStyle = context.createLinearGradient(_pos.x - halfWidth, _pos.y - halfHeight, _pos.x + halfWidth, _pos.y + halfHeight);\n          break;\n\n        case 'to-top-right':\n        case 'to-right-top':\n          gradientStyle = context.createLinearGradient(_pos.x - halfWidth, _pos.y + halfHeight, _pos.x + halfWidth, _pos.y - halfHeight);\n          break;\n\n        case 'to-bottom-left':\n        case 'to-left-bottom':\n          gradientStyle = context.createLinearGradient(_pos.x + halfWidth, _pos.y - halfHeight, _pos.x - halfWidth, _pos.y + halfHeight);\n          break;\n\n        case 'to-top-left':\n        case 'to-left-top':\n          gradientStyle = context.createLinearGradient(_pos.x + halfWidth, _pos.y + halfHeight, _pos.x - halfWidth, _pos.y - halfHeight);\n          break;\n      }\n    }\n  }\n\n  if (!gradientStyle) return null; // invalid gradient style\n\n  var hasPositions = positions.length === colors.length;\n  var length = colors.length;\n\n  for (var i = 0; i < length; i++) {\n    gradientStyle.addColorStop(hasPositions ? positions[i] : i / (length - 1), 'rgba(' + colors[i][0] + ',' + colors[i][1] + ',' + colors[i][2] + ',' + opacity + ')');\n  }\n\n  return gradientStyle;\n};\n\nCRp$6.gradientFillStyle = function (context, ele, fill, opacity) {\n  var gradientStyle = this.createGradientStyleFor(context, 'background', ele, fill, opacity);\n  if (!gradientStyle) return null; // error\n\n  context.fillStyle = gradientStyle;\n};\n\nCRp$6.colorFillStyle = function (context, r, g, b, a) {\n  context.fillStyle = 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')'; // turn off for now, seems context does its own caching\n  // var cache = this.paintCache(context);\n  // var fillStyle = 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n  // if( cache.fillStyle !== fillStyle ){\n  //   context.fillStyle = cache.fillStyle = fillStyle;\n  // }\n};\n\nCRp$6.eleFillStyle = function (context, ele, opacity) {\n  var backgroundFill = ele.pstyle('background-fill').value;\n\n  if (backgroundFill === 'linear-gradient' || backgroundFill === 'radial-gradient') {\n    this.gradientFillStyle(context, ele, backgroundFill, opacity);\n  } else {\n    var backgroundColor = ele.pstyle('background-color').value;\n    this.colorFillStyle(context, backgroundColor[0], backgroundColor[1], backgroundColor[2], opacity);\n  }\n};\n\nCRp$6.gradientStrokeStyle = function (context, ele, fill, opacity) {\n  var gradientStyle = this.createGradientStyleFor(context, 'line', ele, fill, opacity);\n  if (!gradientStyle) return null; // error\n\n  context.strokeStyle = gradientStyle;\n};\n\nCRp$6.colorStrokeStyle = function (context, r, g, b, a) {\n  context.strokeStyle = 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')'; // turn off for now, seems context does its own caching\n  // var cache = this.paintCache(context);\n  // var strokeStyle = 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n  // if( cache.strokeStyle !== strokeStyle ){\n  //   context.strokeStyle = cache.strokeStyle = strokeStyle;\n  // }\n};\n\nCRp$6.eleStrokeStyle = function (context, ele, opacity) {\n  var lineFill = ele.pstyle('line-fill').value;\n\n  if (lineFill === 'linear-gradient' || lineFill === 'radial-gradient') {\n    this.gradientStrokeStyle(context, ele, lineFill, opacity);\n  } else {\n    var lineColor = ele.pstyle('line-color').value;\n    this.colorStrokeStyle(context, lineColor[0], lineColor[1], lineColor[2], opacity);\n  }\n}; // Resize canvas\n\n\nCRp$6.matchCanvasSize = function (container) {\n  var r = this;\n  var data = r.data;\n  var bb = r.findContainerClientCoords();\n  var width = bb[2];\n  var height = bb[3];\n  var pixelRatio = r.getPixelRatio();\n  var mbPxRatio = r.motionBlurPxRatio;\n\n  if (container === r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_NODE] || container === r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_DRAG]) {\n    pixelRatio = mbPxRatio;\n  }\n\n  var canvasWidth = width * pixelRatio;\n  var canvasHeight = height * pixelRatio;\n  var canvas;\n\n  if (canvasWidth === r.canvasWidth && canvasHeight === r.canvasHeight) {\n    return; // save cycles if same\n  }\n\n  r.fontCaches = null; // resizing resets the style\n\n  var canvasContainer = data.canvasContainer;\n  canvasContainer.style.width = width + 'px';\n  canvasContainer.style.height = height + 'px';\n\n  for (var i = 0; i < r.CANVAS_LAYERS; i++) {\n    canvas = data.canvases[i];\n    canvas.width = canvasWidth;\n    canvas.height = canvasHeight;\n    canvas.style.width = width + 'px';\n    canvas.style.height = height + 'px';\n  }\n\n  for (var i = 0; i < r.BUFFER_COUNT; i++) {\n    canvas = data.bufferCanvases[i];\n    canvas.width = canvasWidth;\n    canvas.height = canvasHeight;\n    canvas.style.width = width + 'px';\n    canvas.style.height = height + 'px';\n  }\n\n  r.textureMult = 1;\n\n  if (pixelRatio <= 1) {\n    canvas = data.bufferCanvases[r.TEXTURE_BUFFER];\n    r.textureMult = 2;\n    canvas.width = canvasWidth * r.textureMult;\n    canvas.height = canvasHeight * r.textureMult;\n  }\n\n  r.canvasWidth = canvasWidth;\n  r.canvasHeight = canvasHeight;\n};\n\nCRp$6.renderTo = function (cxt, zoom, pan, pxRatio) {\n  this.render({\n    forcedContext: cxt,\n    forcedZoom: zoom,\n    forcedPan: pan,\n    drawAllLayers: true,\n    forcedPxRatio: pxRatio\n  });\n};\n\nCRp$6.render = function (options) {\n  options = options || staticEmptyObject();\n  var forcedContext = options.forcedContext;\n  var drawAllLayers = options.drawAllLayers;\n  var drawOnlyNodeLayer = options.drawOnlyNodeLayer;\n  var forcedZoom = options.forcedZoom;\n  var forcedPan = options.forcedPan;\n  var r = this;\n  var pixelRatio = options.forcedPxRatio === undefined ? this.getPixelRatio() : options.forcedPxRatio;\n  var cy = r.cy;\n  var data = r.data;\n  var needDraw = data.canvasNeedsRedraw;\n  var textureDraw = r.textureOnViewport && !forcedContext && (r.pinching || r.hoverData.dragging || r.swipePanning || r.data.wheelZooming);\n  var motionBlur = options.motionBlur !== undefined ? options.motionBlur : r.motionBlur;\n  var mbPxRatio = r.motionBlurPxRatio;\n  var hasCompoundNodes = cy.hasCompoundNodes();\n  var inNodeDragGesture = r.hoverData.draggingEles;\n  var inBoxSelection = r.hoverData.selecting || r.touchData.selecting ? true : false;\n  motionBlur = motionBlur && !forcedContext && r.motionBlurEnabled && !inBoxSelection;\n  var motionBlurFadeEffect = motionBlur;\n\n  if (!forcedContext) {\n    if (r.prevPxRatio !== pixelRatio) {\n      r.invalidateContainerClientCoordsCache();\n      r.matchCanvasSize(r.container);\n      r.redrawHint('eles', true);\n      r.redrawHint('drag', true);\n    }\n\n    r.prevPxRatio = pixelRatio;\n  }\n\n  if (!forcedContext && r.motionBlurTimeout) {\n    clearTimeout(r.motionBlurTimeout);\n  }\n\n  if (motionBlur) {\n    if (r.mbFrames == null) {\n      r.mbFrames = 0;\n    }\n\n    r.mbFrames++;\n\n    if (r.mbFrames < 3) {\n      // need several frames before even high quality motionblur\n      motionBlurFadeEffect = false;\n    } // go to lower quality blurry frames when several m/b frames have been rendered (avoids flashing)\n\n\n    if (r.mbFrames > r.minMbLowQualFrames) {\n      //r.fullQualityMb = false;\n      r.motionBlurPxRatio = r.mbPxRBlurry;\n    }\n  }\n\n  if (r.clearingMotionBlur) {\n    r.motionBlurPxRatio = 1;\n  } // b/c drawToContext() may be async w.r.t. redraw(), keep track of last texture frame\n  // because a rogue async texture frame would clear needDraw\n\n\n  if (r.textureDrawLastFrame && !textureDraw) {\n    needDraw[r.NODE] = true;\n    needDraw[r.SELECT_BOX] = true;\n  }\n\n  var style = cy.style();\n  var zoom = cy.zoom();\n  var effectiveZoom = forcedZoom !== undefined ? forcedZoom : zoom;\n  var pan = cy.pan();\n  var effectivePan = {\n    x: pan.x,\n    y: pan.y\n  };\n  var vp = {\n    zoom: zoom,\n    pan: {\n      x: pan.x,\n      y: pan.y\n    }\n  };\n  var prevVp = r.prevViewport;\n  var viewportIsDiff = prevVp === undefined || vp.zoom !== prevVp.zoom || vp.pan.x !== prevVp.pan.x || vp.pan.y !== prevVp.pan.y; // we want the low quality motionblur only when the viewport is being manipulated etc (where it's not noticed)\n\n  if (!viewportIsDiff && !(inNodeDragGesture && !hasCompoundNodes)) {\n    r.motionBlurPxRatio = 1;\n  }\n\n  if (forcedPan) {\n    effectivePan = forcedPan;\n  } // apply pixel ratio\n\n\n  effectiveZoom *= pixelRatio;\n  effectivePan.x *= pixelRatio;\n  effectivePan.y *= pixelRatio;\n  var eles = r.getCachedZSortedEles();\n\n  function mbclear(context, x, y, w, h) {\n    var gco = context.globalCompositeOperation;\n    context.globalCompositeOperation = 'destination-out';\n    r.colorFillStyle(context, 255, 255, 255, r.motionBlurTransparency);\n    context.fillRect(x, y, w, h);\n    context.globalCompositeOperation = gco;\n  }\n\n  function setContextTransform(context, clear) {\n    var ePan, eZoom, w, h;\n\n    if (!r.clearingMotionBlur && (context === data.bufferContexts[r.MOTIONBLUR_BUFFER_NODE] || context === data.bufferContexts[r.MOTIONBLUR_BUFFER_DRAG])) {\n      ePan = {\n        x: pan.x * mbPxRatio,\n        y: pan.y * mbPxRatio\n      };\n      eZoom = zoom * mbPxRatio;\n      w = r.canvasWidth * mbPxRatio;\n      h = r.canvasHeight * mbPxRatio;\n    } else {\n      ePan = effectivePan;\n      eZoom = effectiveZoom;\n      w = r.canvasWidth;\n      h = r.canvasHeight;\n    }\n\n    context.setTransform(1, 0, 0, 1, 0, 0);\n\n    if (clear === 'motionBlur') {\n      mbclear(context, 0, 0, w, h);\n    } else if (!forcedContext && (clear === undefined || clear)) {\n      context.clearRect(0, 0, w, h);\n    }\n\n    if (!drawAllLayers) {\n      context.translate(ePan.x, ePan.y);\n      context.scale(eZoom, eZoom);\n    }\n\n    if (forcedPan) {\n      context.translate(forcedPan.x, forcedPan.y);\n    }\n\n    if (forcedZoom) {\n      context.scale(forcedZoom, forcedZoom);\n    }\n  }\n\n  if (!textureDraw) {\n    r.textureDrawLastFrame = false;\n  }\n\n  if (textureDraw) {\n    r.textureDrawLastFrame = true;\n\n    if (!r.textureCache) {\n      r.textureCache = {};\n      r.textureCache.bb = cy.mutableElements().boundingBox();\n      r.textureCache.texture = r.data.bufferCanvases[r.TEXTURE_BUFFER];\n      var cxt = r.data.bufferContexts[r.TEXTURE_BUFFER];\n      cxt.setTransform(1, 0, 0, 1, 0, 0);\n      cxt.clearRect(0, 0, r.canvasWidth * r.textureMult, r.canvasHeight * r.textureMult);\n      r.render({\n        forcedContext: cxt,\n        drawOnlyNodeLayer: true,\n        forcedPxRatio: pixelRatio * r.textureMult\n      });\n      var vp = r.textureCache.viewport = {\n        zoom: cy.zoom(),\n        pan: cy.pan(),\n        width: r.canvasWidth,\n        height: r.canvasHeight\n      };\n      vp.mpan = {\n        x: (0 - vp.pan.x) / vp.zoom,\n        y: (0 - vp.pan.y) / vp.zoom\n      };\n    }\n\n    needDraw[r.DRAG] = false;\n    needDraw[r.NODE] = false;\n    var context = data.contexts[r.NODE];\n    var texture = r.textureCache.texture;\n    var vp = r.textureCache.viewport;\n    context.setTransform(1, 0, 0, 1, 0, 0);\n\n    if (motionBlur) {\n      mbclear(context, 0, 0, vp.width, vp.height);\n    } else {\n      context.clearRect(0, 0, vp.width, vp.height);\n    }\n\n    var outsideBgColor = style.core('outside-texture-bg-color').value;\n    var outsideBgOpacity = style.core('outside-texture-bg-opacity').value;\n    r.colorFillStyle(context, outsideBgColor[0], outsideBgColor[1], outsideBgColor[2], outsideBgOpacity);\n    context.fillRect(0, 0, vp.width, vp.height);\n    var zoom = cy.zoom();\n    setContextTransform(context, false);\n    context.clearRect(vp.mpan.x, vp.mpan.y, vp.width / vp.zoom / pixelRatio, vp.height / vp.zoom / pixelRatio);\n    context.drawImage(texture, vp.mpan.x, vp.mpan.y, vp.width / vp.zoom / pixelRatio, vp.height / vp.zoom / pixelRatio);\n  } else if (r.textureOnViewport && !forcedContext) {\n    // clear the cache since we don't need it\n    r.textureCache = null;\n  }\n\n  var extent = cy.extent();\n  var vpManip = r.pinching || r.hoverData.dragging || r.swipePanning || r.data.wheelZooming || r.hoverData.draggingEles || r.cy.animated();\n  var hideEdges = r.hideEdgesOnViewport && vpManip;\n  var needMbClear = [];\n  needMbClear[r.NODE] = !needDraw[r.NODE] && motionBlur && !r.clearedForMotionBlur[r.NODE] || r.clearingMotionBlur;\n\n  if (needMbClear[r.NODE]) {\n    r.clearedForMotionBlur[r.NODE] = true;\n  }\n\n  needMbClear[r.DRAG] = !needDraw[r.DRAG] && motionBlur && !r.clearedForMotionBlur[r.DRAG] || r.clearingMotionBlur;\n\n  if (needMbClear[r.DRAG]) {\n    r.clearedForMotionBlur[r.DRAG] = true;\n  }\n\n  if (needDraw[r.NODE] || drawAllLayers || drawOnlyNodeLayer || needMbClear[r.NODE]) {\n    var useBuffer = motionBlur && !needMbClear[r.NODE] && mbPxRatio !== 1;\n    var context = forcedContext || (useBuffer ? r.data.bufferContexts[r.MOTIONBLUR_BUFFER_NODE] : data.contexts[r.NODE]);\n    var clear = motionBlur && !useBuffer ? 'motionBlur' : undefined;\n    setContextTransform(context, clear);\n\n    if (hideEdges) {\n      r.drawCachedNodes(context, eles.nondrag, pixelRatio, extent);\n    } else {\n      r.drawLayeredElements(context, eles.nondrag, pixelRatio, extent);\n    }\n\n    if (r.debug) {\n      r.drawDebugPoints(context, eles.nondrag);\n    }\n\n    if (!drawAllLayers && !motionBlur) {\n      needDraw[r.NODE] = false;\n    }\n  }\n\n  if (!drawOnlyNodeLayer && (needDraw[r.DRAG] || drawAllLayers || needMbClear[r.DRAG])) {\n    var useBuffer = motionBlur && !needMbClear[r.DRAG] && mbPxRatio !== 1;\n    var context = forcedContext || (useBuffer ? r.data.bufferContexts[r.MOTIONBLUR_BUFFER_DRAG] : data.contexts[r.DRAG]);\n    setContextTransform(context, motionBlur && !useBuffer ? 'motionBlur' : undefined);\n\n    if (hideEdges) {\n      r.drawCachedNodes(context, eles.drag, pixelRatio, extent);\n    } else {\n      r.drawCachedElements(context, eles.drag, pixelRatio, extent);\n    }\n\n    if (r.debug) {\n      r.drawDebugPoints(context, eles.drag);\n    }\n\n    if (!drawAllLayers && !motionBlur) {\n      needDraw[r.DRAG] = false;\n    }\n  }\n\n  if (r.showFps || !drawOnlyNodeLayer && needDraw[r.SELECT_BOX] && !drawAllLayers) {\n    var context = forcedContext || data.contexts[r.SELECT_BOX];\n    setContextTransform(context);\n\n    if (r.selection[4] == 1 && (r.hoverData.selecting || r.touchData.selecting)) {\n      var zoom = r.cy.zoom();\n      var borderWidth = style.core('selection-box-border-width').value / zoom;\n      context.lineWidth = borderWidth;\n      context.fillStyle = 'rgba(' + style.core('selection-box-color').value[0] + ',' + style.core('selection-box-color').value[1] + ',' + style.core('selection-box-color').value[2] + ',' + style.core('selection-box-opacity').value + ')';\n      context.fillRect(r.selection[0], r.selection[1], r.selection[2] - r.selection[0], r.selection[3] - r.selection[1]);\n\n      if (borderWidth > 0) {\n        context.strokeStyle = 'rgba(' + style.core('selection-box-border-color').value[0] + ',' + style.core('selection-box-border-color').value[1] + ',' + style.core('selection-box-border-color').value[2] + ',' + style.core('selection-box-opacity').value + ')';\n        context.strokeRect(r.selection[0], r.selection[1], r.selection[2] - r.selection[0], r.selection[3] - r.selection[1]);\n      }\n    }\n\n    if (data.bgActivePosistion && !r.hoverData.selecting) {\n      var zoom = r.cy.zoom();\n      var pos = data.bgActivePosistion;\n      context.fillStyle = 'rgba(' + style.core('active-bg-color').value[0] + ',' + style.core('active-bg-color').value[1] + ',' + style.core('active-bg-color').value[2] + ',' + style.core('active-bg-opacity').value + ')';\n      context.beginPath();\n      context.arc(pos.x, pos.y, style.core('active-bg-size').pfValue / zoom, 0, 2 * Math.PI);\n      context.fill();\n    }\n\n    var timeToRender = r.lastRedrawTime;\n\n    if (r.showFps && timeToRender) {\n      timeToRender = Math.round(timeToRender);\n      var fps = Math.round(1000 / timeToRender);\n      context.setTransform(1, 0, 0, 1, 0, 0);\n      context.fillStyle = 'rgba(255, 0, 0, 0.75)';\n      context.strokeStyle = 'rgba(255, 0, 0, 0.75)';\n      context.lineWidth = 1;\n      context.fillText('1 frame = ' + timeToRender + ' ms = ' + fps + ' fps', 0, 20);\n      var maxFps = 60;\n      context.strokeRect(0, 30, 250, 20);\n      context.fillRect(0, 30, 250 * Math.min(fps / maxFps, 1), 20);\n    }\n\n    if (!drawAllLayers) {\n      needDraw[r.SELECT_BOX] = false;\n    }\n  } // motionblur: blit rendered blurry frames\n\n\n  if (motionBlur && mbPxRatio !== 1) {\n    var cxtNode = data.contexts[r.NODE];\n    var txtNode = r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_NODE];\n    var cxtDrag = data.contexts[r.DRAG];\n    var txtDrag = r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_DRAG];\n\n    var drawMotionBlur = function drawMotionBlur(cxt, txt, needClear) {\n      cxt.setTransform(1, 0, 0, 1, 0, 0);\n\n      if (needClear || !motionBlurFadeEffect) {\n        cxt.clearRect(0, 0, r.canvasWidth, r.canvasHeight);\n      } else {\n        mbclear(cxt, 0, 0, r.canvasWidth, r.canvasHeight);\n      }\n\n      var pxr = mbPxRatio;\n      cxt.drawImage(txt, // img\n      0, 0, // sx, sy\n      r.canvasWidth * pxr, r.canvasHeight * pxr, // sw, sh\n      0, 0, // x, y\n      r.canvasWidth, r.canvasHeight // w, h\n      );\n    };\n\n    if (needDraw[r.NODE] || needMbClear[r.NODE]) {\n      drawMotionBlur(cxtNode, txtNode, needMbClear[r.NODE]);\n      needDraw[r.NODE] = false;\n    }\n\n    if (needDraw[r.DRAG] || needMbClear[r.DRAG]) {\n      drawMotionBlur(cxtDrag, txtDrag, needMbClear[r.DRAG]);\n      needDraw[r.DRAG] = false;\n    }\n  }\n\n  r.prevViewport = vp;\n\n  if (r.clearingMotionBlur) {\n    r.clearingMotionBlur = false;\n    r.motionBlurCleared = true;\n    r.motionBlur = true;\n  }\n\n  if (motionBlur) {\n    r.motionBlurTimeout = setTimeout(function () {\n      r.motionBlurTimeout = null;\n      r.clearedForMotionBlur[r.NODE] = false;\n      r.clearedForMotionBlur[r.DRAG] = false;\n      r.motionBlur = false;\n      r.clearingMotionBlur = !textureDraw;\n      r.mbFrames = 0;\n      needDraw[r.NODE] = true;\n      needDraw[r.DRAG] = true;\n      r.redraw();\n    }, motionBlurDelay);\n  }\n\n  if (!forcedContext) {\n    cy.emit('render');\n  }\n};\n\nvar CRp$7 = {}; // @O Polygon drawing\n\nCRp$7.drawPolygonPath = function (context, x, y, width, height, points) {\n  var halfW = width / 2;\n  var halfH = height / 2;\n\n  if (context.beginPath) {\n    context.beginPath();\n  }\n\n  context.moveTo(x + halfW * points[0], y + halfH * points[1]);\n\n  for (var i = 1; i < points.length / 2; i++) {\n    context.lineTo(x + halfW * points[i * 2], y + halfH * points[i * 2 + 1]);\n  }\n\n  context.closePath();\n};\n\nCRp$7.drawRoundPolygonPath = function (context, x, y, width, height, points) {\n  var halfW = width / 2;\n  var halfH = height / 2;\n  var cornerRadius = getRoundPolygonRadius(width, height);\n\n  if (context.beginPath) {\n    context.beginPath();\n  }\n\n  for (var _i = 0; _i < points.length / 4; _i++) {\n    var sourceUv = void 0,\n        destUv = void 0;\n\n    if (_i === 0) {\n      sourceUv = points.length - 2;\n    } else {\n      sourceUv = _i * 4 - 2;\n    }\n\n    destUv = _i * 4 + 2;\n    var px = x + halfW * points[_i * 4];\n    var py = y + halfH * points[_i * 4 + 1];\n    var cosTheta = -points[sourceUv] * points[destUv] - points[sourceUv + 1] * points[destUv + 1];\n    var offset = cornerRadius / Math.tan(Math.acos(cosTheta) / 2);\n    var cp0x = px - offset * points[sourceUv];\n    var cp0y = py - offset * points[sourceUv + 1];\n    var cp1x = px + offset * points[destUv];\n    var cp1y = py + offset * points[destUv + 1];\n\n    if (_i === 0) {\n      context.moveTo(cp0x, cp0y);\n    } else {\n      context.lineTo(cp0x, cp0y);\n    }\n\n    context.arcTo(px, py, cp1x, cp1y, cornerRadius);\n  }\n\n  context.closePath();\n}; // Round rectangle drawing\n\n\nCRp$7.drawRoundRectanglePath = function (context, x, y, width, height) {\n  var halfWidth = width / 2;\n  var halfHeight = height / 2;\n  var cornerRadius = getRoundRectangleRadius(width, height);\n\n  if (context.beginPath) {\n    context.beginPath();\n  } // Start at top middle\n\n\n  context.moveTo(x, y - halfHeight); // Arc from middle top to right side\n\n  context.arcTo(x + halfWidth, y - halfHeight, x + halfWidth, y, cornerRadius); // Arc from right side to bottom\n\n  context.arcTo(x + halfWidth, y + halfHeight, x, y + halfHeight, cornerRadius); // Arc from bottom to left side\n\n  context.arcTo(x - halfWidth, y + halfHeight, x - halfWidth, y, cornerRadius); // Arc from left side to topBorder\n\n  context.arcTo(x - halfWidth, y - halfHeight, x, y - halfHeight, cornerRadius); // Join line\n\n  context.lineTo(x, y - halfHeight);\n  context.closePath();\n};\n\nCRp$7.drawBottomRoundRectanglePath = function (context, x, y, width, height) {\n  var halfWidth = width / 2;\n  var halfHeight = height / 2;\n  var cornerRadius = getRoundRectangleRadius(width, height);\n\n  if (context.beginPath) {\n    context.beginPath();\n  } // Start at top middle\n\n\n  context.moveTo(x, y - halfHeight);\n  context.lineTo(x + halfWidth, y - halfHeight);\n  context.lineTo(x + halfWidth, y);\n  context.arcTo(x + halfWidth, y + halfHeight, x, y + halfHeight, cornerRadius);\n  context.arcTo(x - halfWidth, y + halfHeight, x - halfWidth, y, cornerRadius);\n  context.lineTo(x - halfWidth, y - halfHeight);\n  context.lineTo(x, y - halfHeight);\n  context.closePath();\n};\n\nCRp$7.drawCutRectanglePath = function (context, x, y, width, height) {\n  var halfWidth = width / 2;\n  var halfHeight = height / 2;\n  var cornerLength = getCutRectangleCornerLength();\n\n  if (context.beginPath) {\n    context.beginPath();\n  }\n\n  context.moveTo(x - halfWidth + cornerLength, y - halfHeight);\n  context.lineTo(x + halfWidth - cornerLength, y - halfHeight);\n  context.lineTo(x + halfWidth, y - halfHeight + cornerLength);\n  context.lineTo(x + halfWidth, y + halfHeight - cornerLength);\n  context.lineTo(x + halfWidth - cornerLength, y + halfHeight);\n  context.lineTo(x - halfWidth + cornerLength, y + halfHeight);\n  context.lineTo(x - halfWidth, y + halfHeight - cornerLength);\n  context.lineTo(x - halfWidth, y - halfHeight + cornerLength);\n  context.closePath();\n};\n\nCRp$7.drawBarrelPath = function (context, x, y, width, height) {\n  var halfWidth = width / 2;\n  var halfHeight = height / 2;\n  var xBegin = x - halfWidth;\n  var xEnd = x + halfWidth;\n  var yBegin = y - halfHeight;\n  var yEnd = y + halfHeight;\n  var barrelCurveConstants = getBarrelCurveConstants(width, height);\n  var wOffset = barrelCurveConstants.widthOffset;\n  var hOffset = barrelCurveConstants.heightOffset;\n  var ctrlPtXOffset = barrelCurveConstants.ctrlPtOffsetPct * wOffset;\n\n  if (context.beginPath) {\n    context.beginPath();\n  }\n\n  context.moveTo(xBegin, yBegin + hOffset);\n  context.lineTo(xBegin, yEnd - hOffset);\n  context.quadraticCurveTo(xBegin + ctrlPtXOffset, yEnd, xBegin + wOffset, yEnd);\n  context.lineTo(xEnd - wOffset, yEnd);\n  context.quadraticCurveTo(xEnd - ctrlPtXOffset, yEnd, xEnd, yEnd - hOffset);\n  context.lineTo(xEnd, yBegin + hOffset);\n  context.quadraticCurveTo(xEnd - ctrlPtXOffset, yBegin, xEnd - wOffset, yBegin);\n  context.lineTo(xBegin + wOffset, yBegin);\n  context.quadraticCurveTo(xBegin + ctrlPtXOffset, yBegin, xBegin, yBegin + hOffset);\n  context.closePath();\n};\n\nvar sin0 = Math.sin(0);\nvar cos0 = Math.cos(0);\nvar sin = {};\nvar cos = {};\nvar ellipseStepSize = Math.PI / 40;\n\nfor (var i = 0 * Math.PI; i < 2 * Math.PI; i += ellipseStepSize) {\n  sin[i] = Math.sin(i);\n  cos[i] = Math.cos(i);\n}\n\nCRp$7.drawEllipsePath = function (context, centerX, centerY, width, height) {\n  if (context.beginPath) {\n    context.beginPath();\n  }\n\n  if (context.ellipse) {\n    context.ellipse(centerX, centerY, width / 2, height / 2, 0, 0, 2 * Math.PI);\n  } else {\n    var xPos, yPos;\n    var rw = width / 2;\n    var rh = height / 2;\n\n    for (var i = 0 * Math.PI; i < 2 * Math.PI; i += ellipseStepSize) {\n      xPos = centerX - rw * sin[i] * sin0 + rw * cos[i] * cos0;\n      yPos = centerY + rh * cos[i] * sin0 + rh * sin[i] * cos0;\n\n      if (i === 0) {\n        context.moveTo(xPos, yPos);\n      } else {\n        context.lineTo(xPos, yPos);\n      }\n    }\n  }\n\n  context.closePath();\n};\n\n/* global atob, ArrayBuffer, Uint8Array, Blob */\nvar CRp$8 = {};\n\nCRp$8.createBuffer = function (w, h) {\n  var buffer = document.createElement('canvas'); // eslint-disable-line no-undef\n\n  buffer.width = w;\n  buffer.height = h;\n  return [buffer, buffer.getContext('2d')];\n};\n\nCRp$8.bufferCanvasImage = function (options) {\n  var cy = this.cy;\n  var eles = cy.mutableElements();\n  var bb = eles.boundingBox();\n  var ctrRect = this.findContainerClientCoords();\n  var width = options.full ? Math.ceil(bb.w) : ctrRect[2];\n  var height = options.full ? Math.ceil(bb.h) : ctrRect[3];\n  var specdMaxDims = number(options.maxWidth) || number(options.maxHeight);\n  var pxRatio = this.getPixelRatio();\n  var scale = 1;\n\n  if (options.scale !== undefined) {\n    width *= options.scale;\n    height *= options.scale;\n    scale = options.scale;\n  } else if (specdMaxDims) {\n    var maxScaleW = Infinity;\n    var maxScaleH = Infinity;\n\n    if (number(options.maxWidth)) {\n      maxScaleW = scale * options.maxWidth / width;\n    }\n\n    if (number(options.maxHeight)) {\n      maxScaleH = scale * options.maxHeight / height;\n    }\n\n    scale = Math.min(maxScaleW, maxScaleH);\n    width *= scale;\n    height *= scale;\n  }\n\n  if (!specdMaxDims) {\n    width *= pxRatio;\n    height *= pxRatio;\n    scale *= pxRatio;\n  }\n\n  var buffCanvas = document.createElement('canvas'); // eslint-disable-line no-undef\n\n  buffCanvas.width = width;\n  buffCanvas.height = height;\n  buffCanvas.style.width = width + 'px';\n  buffCanvas.style.height = height + 'px';\n  var buffCxt = buffCanvas.getContext('2d'); // Rasterize the layers, but only if container has nonzero size\n\n  if (width > 0 && height > 0) {\n    buffCxt.clearRect(0, 0, width, height);\n    buffCxt.globalCompositeOperation = 'source-over';\n    var zsortedEles = this.getCachedZSortedEles();\n\n    if (options.full) {\n      // draw the full bounds of the graph\n      buffCxt.translate(-bb.x1 * scale, -bb.y1 * scale);\n      buffCxt.scale(scale, scale);\n      this.drawElements(buffCxt, zsortedEles);\n      buffCxt.scale(1 / scale, 1 / scale);\n      buffCxt.translate(bb.x1 * scale, bb.y1 * scale);\n    } else {\n      // draw the current view\n      var pan = cy.pan();\n      var translation = {\n        x: pan.x * scale,\n        y: pan.y * scale\n      };\n      scale *= cy.zoom();\n      buffCxt.translate(translation.x, translation.y);\n      buffCxt.scale(scale, scale);\n      this.drawElements(buffCxt, zsortedEles);\n      buffCxt.scale(1 / scale, 1 / scale);\n      buffCxt.translate(-translation.x, -translation.y);\n    } // need to fill bg at end like this in order to fill cleared transparent pixels in jpgs\n\n\n    if (options.bg) {\n      buffCxt.globalCompositeOperation = 'destination-over';\n      buffCxt.fillStyle = options.bg;\n      buffCxt.rect(0, 0, width, height);\n      buffCxt.fill();\n    }\n  }\n\n  return buffCanvas;\n};\n\nfunction b64ToBlob(b64, mimeType) {\n  var bytes = atob(b64);\n  var buff = new ArrayBuffer(bytes.length);\n  var buffUint8 = new Uint8Array(buff);\n\n  for (var i = 0; i < bytes.length; i++) {\n    buffUint8[i] = bytes.charCodeAt(i);\n  }\n\n  return new Blob([buff], {\n    type: mimeType\n  });\n}\n\nfunction b64UriToB64(b64uri) {\n  var i = b64uri.indexOf(',');\n  return b64uri.substr(i + 1);\n}\n\nfunction output(options, canvas, mimeType) {\n  var getB64Uri = function getB64Uri() {\n    return canvas.toDataURL(mimeType, options.quality);\n  };\n\n  switch (options.output) {\n    case 'blob-promise':\n      return new Promise$1(function (resolve, reject) {\n        try {\n          canvas.toBlob(function (blob) {\n            if (blob != null) {\n              resolve(blob);\n            } else {\n              reject(new Error('`canvas.toBlob()` sent a null value in its callback'));\n            }\n          }, mimeType, options.quality);\n        } catch (err) {\n          reject(err);\n        }\n      });\n\n    case 'blob':\n      return b64ToBlob(b64UriToB64(getB64Uri()), mimeType);\n\n    case 'base64':\n      return b64UriToB64(getB64Uri());\n\n    case 'base64uri':\n    default:\n      return getB64Uri();\n  }\n}\n\nCRp$8.png = function (options) {\n  return output(options, this.bufferCanvasImage(options), 'image/png');\n};\n\nCRp$8.jpg = function (options) {\n  return output(options, this.bufferCanvasImage(options), 'image/jpeg');\n};\n\nvar CRp$9 = {};\n\nCRp$9.nodeShapeImpl = function (name, context, centerX, centerY, width, height, points) {\n  switch (name) {\n    case 'ellipse':\n      return this.drawEllipsePath(context, centerX, centerY, width, height);\n\n    case 'polygon':\n      return this.drawPolygonPath(context, centerX, centerY, width, height, points);\n\n    case 'round-polygon':\n      return this.drawRoundPolygonPath(context, centerX, centerY, width, height, points);\n\n    case 'roundrectangle':\n    case 'round-rectangle':\n      return this.drawRoundRectanglePath(context, centerX, centerY, width, height);\n\n    case 'cutrectangle':\n    case 'cut-rectangle':\n      return this.drawCutRectanglePath(context, centerX, centerY, width, height);\n\n    case 'bottomroundrectangle':\n    case 'bottom-round-rectangle':\n      return this.drawBottomRoundRectanglePath(context, centerX, centerY, width, height);\n\n    case 'barrel':\n      return this.drawBarrelPath(context, centerX, centerY, width, height);\n  }\n};\n\nvar CR = CanvasRenderer;\nvar CRp$a = CanvasRenderer.prototype;\nCRp$a.CANVAS_LAYERS = 3; //\n\nCRp$a.SELECT_BOX = 0;\nCRp$a.DRAG = 1;\nCRp$a.NODE = 2;\nCRp$a.BUFFER_COUNT = 3; //\n\nCRp$a.TEXTURE_BUFFER = 0;\nCRp$a.MOTIONBLUR_BUFFER_NODE = 1;\nCRp$a.MOTIONBLUR_BUFFER_DRAG = 2;\n\nfunction CanvasRenderer(options) {\n  var r = this;\n  r.data = {\n    canvases: new Array(CRp$a.CANVAS_LAYERS),\n    contexts: new Array(CRp$a.CANVAS_LAYERS),\n    canvasNeedsRedraw: new Array(CRp$a.CANVAS_LAYERS),\n    bufferCanvases: new Array(CRp$a.BUFFER_COUNT),\n    bufferContexts: new Array(CRp$a.CANVAS_LAYERS)\n  };\n  var tapHlOffAttr = '-webkit-tap-highlight-color';\n  var tapHlOffStyle = 'rgba(0,0,0,0)';\n  r.data.canvasContainer = document.createElement('div'); // eslint-disable-line no-undef\n\n  var containerStyle = r.data.canvasContainer.style;\n  r.data.canvasContainer.style[tapHlOffAttr] = tapHlOffStyle;\n  containerStyle.position = 'relative';\n  containerStyle.zIndex = '0';\n  containerStyle.overflow = 'hidden';\n  var container = options.cy.container();\n  container.appendChild(r.data.canvasContainer);\n  container.style[tapHlOffAttr] = tapHlOffStyle;\n  var styleMap = {\n    '-webkit-user-select': 'none',\n    '-moz-user-select': '-moz-none',\n    'user-select': 'none',\n    '-webkit-tap-highlight-color': 'rgba(0,0,0,0)',\n    'outline-style': 'none'\n  };\n\n  if (ms()) {\n    styleMap['-ms-touch-action'] = 'none';\n    styleMap['touch-action'] = 'none';\n  }\n\n  for (var i = 0; i < CRp$a.CANVAS_LAYERS; i++) {\n    var canvas = r.data.canvases[i] = document.createElement('canvas'); // eslint-disable-line no-undef\n\n    r.data.contexts[i] = canvas.getContext('2d');\n    Object.keys(styleMap).forEach(function (k) {\n      canvas.style[k] = styleMap[k];\n    });\n    canvas.style.position = 'absolute';\n    canvas.setAttribute('data-id', 'layer' + i);\n    canvas.style.zIndex = String(CRp$a.CANVAS_LAYERS - i);\n    r.data.canvasContainer.appendChild(canvas);\n    r.data.canvasNeedsRedraw[i] = false;\n  }\n\n  r.data.topCanvas = r.data.canvases[0];\n  r.data.canvases[CRp$a.NODE].setAttribute('data-id', 'layer' + CRp$a.NODE + '-node');\n  r.data.canvases[CRp$a.SELECT_BOX].setAttribute('data-id', 'layer' + CRp$a.SELECT_BOX + '-selectbox');\n  r.data.canvases[CRp$a.DRAG].setAttribute('data-id', 'layer' + CRp$a.DRAG + '-drag');\n\n  for (var i = 0; i < CRp$a.BUFFER_COUNT; i++) {\n    r.data.bufferCanvases[i] = document.createElement('canvas'); // eslint-disable-line no-undef\n\n    r.data.bufferContexts[i] = r.data.bufferCanvases[i].getContext('2d');\n    r.data.bufferCanvases[i].style.position = 'absolute';\n    r.data.bufferCanvases[i].setAttribute('data-id', 'buffer' + i);\n    r.data.bufferCanvases[i].style.zIndex = String(-i - 1);\n    r.data.bufferCanvases[i].style.visibility = 'hidden'; //r.data.canvasContainer.appendChild(r.data.bufferCanvases[i]);\n  }\n\n  r.pathsEnabled = true;\n  var emptyBb = makeBoundingBox();\n\n  var getBoxCenter = function getBoxCenter(bb) {\n    return {\n      x: (bb.x1 + bb.x2) / 2,\n      y: (bb.y1 + bb.y2) / 2\n    };\n  };\n\n  var getCenterOffset = function getCenterOffset(bb) {\n    return {\n      x: -bb.w / 2,\n      y: -bb.h / 2\n    };\n  };\n\n  var backgroundTimestampHasChanged = function backgroundTimestampHasChanged(ele) {\n    var _p = ele[0]._private;\n    var same = _p.oldBackgroundTimestamp === _p.backgroundTimestamp;\n    return !same;\n  };\n\n  var getStyleKey = function getStyleKey(ele) {\n    return ele[0]._private.nodeKey;\n  };\n\n  var getLabelKey = function getLabelKey(ele) {\n    return ele[0]._private.labelStyleKey;\n  };\n\n  var getSourceLabelKey = function getSourceLabelKey(ele) {\n    return ele[0]._private.sourceLabelStyleKey;\n  };\n\n  var getTargetLabelKey = function getTargetLabelKey(ele) {\n    return ele[0]._private.targetLabelStyleKey;\n  };\n\n  var drawElement = function drawElement(context, ele, bb, scaledLabelShown, useEleOpacity) {\n    return r.drawElement(context, ele, bb, false, false, useEleOpacity);\n  };\n\n  var drawLabel = function drawLabel(context, ele, bb, scaledLabelShown, useEleOpacity) {\n    return r.drawElementText(context, ele, bb, scaledLabelShown, 'main', useEleOpacity);\n  };\n\n  var drawSourceLabel = function drawSourceLabel(context, ele, bb, scaledLabelShown, useEleOpacity) {\n    return r.drawElementText(context, ele, bb, scaledLabelShown, 'source', useEleOpacity);\n  };\n\n  var drawTargetLabel = function drawTargetLabel(context, ele, bb, scaledLabelShown, useEleOpacity) {\n    return r.drawElementText(context, ele, bb, scaledLabelShown, 'target', useEleOpacity);\n  };\n\n  var getElementBox = function getElementBox(ele) {\n    ele.boundingBox();\n    return ele[0]._private.bodyBounds;\n  };\n\n  var getLabelBox = function getLabelBox(ele) {\n    ele.boundingBox();\n    return ele[0]._private.labelBounds.main || emptyBb;\n  };\n\n  var getSourceLabelBox = function getSourceLabelBox(ele) {\n    ele.boundingBox();\n    return ele[0]._private.labelBounds.source || emptyBb;\n  };\n\n  var getTargetLabelBox = function getTargetLabelBox(ele) {\n    ele.boundingBox();\n    return ele[0]._private.labelBounds.target || emptyBb;\n  };\n\n  var isLabelVisibleAtScale = function isLabelVisibleAtScale(ele, scaledLabelShown) {\n    return scaledLabelShown;\n  };\n\n  var getElementRotationPoint = function getElementRotationPoint(ele) {\n    return getBoxCenter(getElementBox(ele));\n  };\n\n  var addTextMargin = function addTextMargin(prefix, pt, ele) {\n    var pre = prefix ? prefix + '-' : '';\n    return {\n      x: pt.x + ele.pstyle(pre + 'text-margin-x').pfValue,\n      y: pt.y + ele.pstyle(pre + 'text-margin-y').pfValue\n    };\n  };\n\n  var getRsPt = function getRsPt(ele, x, y) {\n    var rs = ele[0]._private.rscratch;\n    return {\n      x: rs[x],\n      y: rs[y]\n    };\n  };\n\n  var getLabelRotationPoint = function getLabelRotationPoint(ele) {\n    return addTextMargin('', getRsPt(ele, 'labelX', 'labelY'), ele);\n  };\n\n  var getSourceLabelRotationPoint = function getSourceLabelRotationPoint(ele) {\n    return addTextMargin('source', getRsPt(ele, 'sourceLabelX', 'sourceLabelY'), ele);\n  };\n\n  var getTargetLabelRotationPoint = function getTargetLabelRotationPoint(ele) {\n    return addTextMargin('target', getRsPt(ele, 'targetLabelX', 'targetLabelY'), ele);\n  };\n\n  var getElementRotationOffset = function getElementRotationOffset(ele) {\n    return getCenterOffset(getElementBox(ele));\n  };\n\n  var getSourceLabelRotationOffset = function getSourceLabelRotationOffset(ele) {\n    return getCenterOffset(getSourceLabelBox(ele));\n  };\n\n  var getTargetLabelRotationOffset = function getTargetLabelRotationOffset(ele) {\n    return getCenterOffset(getTargetLabelBox(ele));\n  };\n\n  var getLabelRotationOffset = function getLabelRotationOffset(ele) {\n    var bb = getLabelBox(ele);\n    var p = getCenterOffset(getLabelBox(ele));\n\n    if (ele.isNode()) {\n      switch (ele.pstyle('text-halign').value) {\n        case 'left':\n          p.x = -bb.w;\n          break;\n\n        case 'right':\n          p.x = 0;\n          break;\n      }\n\n      switch (ele.pstyle('text-valign').value) {\n        case 'top':\n          p.y = -bb.h;\n          break;\n\n        case 'bottom':\n          p.y = 0;\n          break;\n      }\n    }\n\n    return p;\n  };\n\n  var eleTxrCache = r.data.eleTxrCache = new ElementTextureCache(r, {\n    getKey: getStyleKey,\n    doesEleInvalidateKey: backgroundTimestampHasChanged,\n    drawElement: drawElement,\n    getBoundingBox: getElementBox,\n    getRotationPoint: getElementRotationPoint,\n    getRotationOffset: getElementRotationOffset,\n    allowEdgeTxrCaching: false,\n    allowParentTxrCaching: false\n  });\n  var lblTxrCache = r.data.lblTxrCache = new ElementTextureCache(r, {\n    getKey: getLabelKey,\n    drawElement: drawLabel,\n    getBoundingBox: getLabelBox,\n    getRotationPoint: getLabelRotationPoint,\n    getRotationOffset: getLabelRotationOffset,\n    isVisible: isLabelVisibleAtScale\n  });\n  var slbTxrCache = r.data.slbTxrCache = new ElementTextureCache(r, {\n    getKey: getSourceLabelKey,\n    drawElement: drawSourceLabel,\n    getBoundingBox: getSourceLabelBox,\n    getRotationPoint: getSourceLabelRotationPoint,\n    getRotationOffset: getSourceLabelRotationOffset,\n    isVisible: isLabelVisibleAtScale\n  });\n  var tlbTxrCache = r.data.tlbTxrCache = new ElementTextureCache(r, {\n    getKey: getTargetLabelKey,\n    drawElement: drawTargetLabel,\n    getBoundingBox: getTargetLabelBox,\n    getRotationPoint: getTargetLabelRotationPoint,\n    getRotationOffset: getTargetLabelRotationOffset,\n    isVisible: isLabelVisibleAtScale\n  });\n  var lyrTxrCache = r.data.lyrTxrCache = new LayeredTextureCache(r);\n  r.onUpdateEleCalcs(function invalidateTextureCaches(willDraw, eles) {\n    // each cache should check for sub-key diff to see that the update affects that cache particularly\n    eleTxrCache.invalidateElements(eles);\n    lblTxrCache.invalidateElements(eles);\n    slbTxrCache.invalidateElements(eles);\n    tlbTxrCache.invalidateElements(eles); // any change invalidates the layers\n\n    lyrTxrCache.invalidateElements(eles); // update the old bg timestamp so diffs can be done in the ele txr caches\n\n    for (var _i = 0; _i < eles.length; _i++) {\n      var _p = eles[_i]._private;\n      _p.oldBackgroundTimestamp = _p.backgroundTimestamp;\n    }\n  });\n\n  var refineInLayers = function refineInLayers(reqs) {\n    for (var i = 0; i < reqs.length; i++) {\n      lyrTxrCache.enqueueElementRefinement(reqs[i].ele);\n    }\n  };\n\n  eleTxrCache.onDequeue(refineInLayers);\n  lblTxrCache.onDequeue(refineInLayers);\n  slbTxrCache.onDequeue(refineInLayers);\n  tlbTxrCache.onDequeue(refineInLayers);\n}\n\nCRp$a.redrawHint = function (group, bool) {\n  var r = this;\n\n  switch (group) {\n    case 'eles':\n      r.data.canvasNeedsRedraw[CRp$a.NODE] = bool;\n      break;\n\n    case 'drag':\n      r.data.canvasNeedsRedraw[CRp$a.DRAG] = bool;\n      break;\n\n    case 'select':\n      r.data.canvasNeedsRedraw[CRp$a.SELECT_BOX] = bool;\n      break;\n  }\n}; // whether to use Path2D caching for drawing\n\n\nvar pathsImpld = typeof Path2D !== 'undefined';\n\nCRp$a.path2dEnabled = function (on) {\n  if (on === undefined) {\n    return this.pathsEnabled;\n  }\n\n  this.pathsEnabled = on ? true : false;\n};\n\nCRp$a.usePaths = function () {\n  return pathsImpld && this.pathsEnabled;\n};\n\nCRp$a.setImgSmoothing = function (context, bool) {\n  if (context.imageSmoothingEnabled != null) {\n    context.imageSmoothingEnabled = bool;\n  } else {\n    context.webkitImageSmoothingEnabled = bool;\n    context.mozImageSmoothingEnabled = bool;\n    context.msImageSmoothingEnabled = bool;\n  }\n};\n\nCRp$a.getImgSmoothing = function (context) {\n  if (context.imageSmoothingEnabled != null) {\n    return context.imageSmoothingEnabled;\n  } else {\n    return context.webkitImageSmoothingEnabled || context.mozImageSmoothingEnabled || context.msImageSmoothingEnabled;\n  }\n};\n\nCRp$a.makeOffscreenCanvas = function (width, height) {\n  var canvas;\n\n  if ((typeof OffscreenCanvas === \"undefined\" ? \"undefined\" : _typeof(OffscreenCanvas)) !== ( \"undefined\" )) {\n    canvas = new OffscreenCanvas(width, height);\n  } else {\n    canvas = document.createElement('canvas'); // eslint-disable-line no-undef\n\n    canvas.width = width;\n    canvas.height = height;\n  }\n\n  return canvas;\n};\n\n[CRp, CRp$1, CRp$2, CRp$3, CRp$4, CRp$5, CRp$6, CRp$7, CRp$8, CRp$9].forEach(function (props) {\n  extend(CRp$a, props);\n});\n\nvar renderer = [{\n  name: 'null',\n  impl: NullRenderer\n}, {\n  name: 'base',\n  impl: BR\n}, {\n  name: 'canvas',\n  impl: CR\n}];\n\nvar incExts = [{\n  type: 'layout',\n  extensions: layout\n}, {\n  type: 'renderer',\n  extensions: renderer\n}];\n\nvar extensions = {}; // registered modules for extensions, indexed by name\n\nvar modules = {};\n\nfunction setExtension(type, name, registrant) {\n  var ext = registrant;\n\n  var overrideErr = function overrideErr(field) {\n    error('Can not register `' + name + '` for `' + type + '` since `' + field + '` already exists in the prototype and can not be overridden');\n  };\n\n  if (type === 'core') {\n    if (Core.prototype[name]) {\n      return overrideErr(name);\n    } else {\n      Core.prototype[name] = registrant;\n    }\n  } else if (type === 'collection') {\n    if (Collection.prototype[name]) {\n      return overrideErr(name);\n    } else {\n      Collection.prototype[name] = registrant;\n    }\n  } else if (type === 'layout') {\n    // fill in missing layout functions in the prototype\n    var Layout = function Layout(options) {\n      this.options = options;\n      registrant.call(this, options); // make sure layout has _private for use w/ std apis like .on()\n\n      if (!plainObject(this._private)) {\n        this._private = {};\n      }\n\n      this._private.cy = options.cy;\n      this._private.listeners = [];\n      this.createEmitter();\n    };\n\n    var layoutProto = Layout.prototype = Object.create(registrant.prototype);\n    var optLayoutFns = [];\n\n    for (var i = 0; i < optLayoutFns.length; i++) {\n      var fnName = optLayoutFns[i];\n\n      layoutProto[fnName] = layoutProto[fnName] || function () {\n        return this;\n      };\n    } // either .start() or .run() is defined, so autogen the other\n\n\n    if (layoutProto.start && !layoutProto.run) {\n      layoutProto.run = function () {\n        this.start();\n        return this;\n      };\n    } else if (!layoutProto.start && layoutProto.run) {\n      layoutProto.start = function () {\n        this.run();\n        return this;\n      };\n    }\n\n    var regStop = registrant.prototype.stop;\n\n    layoutProto.stop = function () {\n      var opts = this.options;\n\n      if (opts && opts.animate) {\n        var anis = this.animations;\n\n        if (anis) {\n          for (var _i = 0; _i < anis.length; _i++) {\n            anis[_i].stop();\n          }\n        }\n      }\n\n      if (regStop) {\n        regStop.call(this);\n      } else {\n        this.emit('layoutstop');\n      }\n\n      return this;\n    };\n\n    if (!layoutProto.destroy) {\n      layoutProto.destroy = function () {\n        return this;\n      };\n    }\n\n    layoutProto.cy = function () {\n      return this._private.cy;\n    };\n\n    var getCy = function getCy(layout) {\n      return layout._private.cy;\n    };\n\n    var emitterOpts = {\n      addEventFields: function addEventFields(layout, evt) {\n        evt.layout = layout;\n        evt.cy = getCy(layout);\n        evt.target = layout;\n      },\n      bubble: function bubble() {\n        return true;\n      },\n      parent: function parent(layout) {\n        return getCy(layout);\n      }\n    };\n    extend(layoutProto, {\n      createEmitter: function createEmitter() {\n        this._private.emitter = new Emitter(emitterOpts, this);\n        return this;\n      },\n      emitter: function emitter() {\n        return this._private.emitter;\n      },\n      on: function on(evt, cb) {\n        this.emitter().on(evt, cb);\n        return this;\n      },\n      one: function one(evt, cb) {\n        this.emitter().one(evt, cb);\n        return this;\n      },\n      once: function once(evt, cb) {\n        this.emitter().one(evt, cb);\n        return this;\n      },\n      removeListener: function removeListener(evt, cb) {\n        this.emitter().removeListener(evt, cb);\n        return this;\n      },\n      removeAllListeners: function removeAllListeners() {\n        this.emitter().removeAllListeners();\n        return this;\n      },\n      emit: function emit(evt, params) {\n        this.emitter().emit(evt, params);\n        return this;\n      }\n    });\n    define$3.eventAliasesOn(layoutProto);\n    ext = Layout; // replace with our wrapped layout\n  } else if (type === 'renderer' && name !== 'null' && name !== 'base') {\n    // user registered renderers inherit from base\n    var BaseRenderer = getExtension('renderer', 'base');\n    var bProto = BaseRenderer.prototype;\n    var RegistrantRenderer = registrant;\n    var rProto = registrant.prototype;\n\n    var Renderer = function Renderer() {\n      BaseRenderer.apply(this, arguments);\n      RegistrantRenderer.apply(this, arguments);\n    };\n\n    var proto = Renderer.prototype;\n\n    for (var pName in bProto) {\n      var pVal = bProto[pName];\n      var existsInR = rProto[pName] != null;\n\n      if (existsInR) {\n        return overrideErr(pName);\n      }\n\n      proto[pName] = pVal; // take impl from base\n    }\n\n    for (var _pName in rProto) {\n      proto[_pName] = rProto[_pName]; // take impl from registrant\n    }\n\n    bProto.clientFunctions.forEach(function (name) {\n      proto[name] = proto[name] || function () {\n        error('Renderer does not implement `renderer.' + name + '()` on its prototype');\n      };\n    });\n    ext = Renderer;\n  }\n\n  return setMap({\n    map: extensions,\n    keys: [type, name],\n    value: ext\n  });\n}\n\nfunction getExtension(type, name) {\n  return getMap({\n    map: extensions,\n    keys: [type, name]\n  });\n}\n\nfunction setModule(type, name, moduleType, moduleName, registrant) {\n  return setMap({\n    map: modules,\n    keys: [type, name, moduleType, moduleName],\n    value: registrant\n  });\n}\n\nfunction getModule(type, name, moduleType, moduleName) {\n  return getMap({\n    map: modules,\n    keys: [type, name, moduleType, moduleName]\n  });\n}\n\nvar extension = function extension() {\n  // e.g. extension('renderer', 'svg')\n  if (arguments.length === 2) {\n    return getExtension.apply(null, arguments);\n  } // e.g. extension('renderer', 'svg', { ... })\n  else if (arguments.length === 3) {\n      return setExtension.apply(null, arguments);\n    } // e.g. extension('renderer', 'svg', 'nodeShape', 'ellipse')\n    else if (arguments.length === 4) {\n        return getModule.apply(null, arguments);\n      } // e.g. extension('renderer', 'svg', 'nodeShape', 'ellipse', { ... })\n      else if (arguments.length === 5) {\n          return setModule.apply(null, arguments);\n        } else {\n          error('Invalid extension access syntax');\n        }\n}; // allows a core instance to access extensions internally\n\n\nCore.prototype.extension = extension; // included extensions\n\nincExts.forEach(function (group) {\n  group.extensions.forEach(function (ext) {\n    setExtension(group.type, ext.name, ext.impl);\n  });\n});\n\n// (useful for init)\n\nvar Stylesheet = function Stylesheet() {\n  if (!(this instanceof Stylesheet)) {\n    return new Stylesheet();\n  }\n\n  this.length = 0;\n};\n\nvar sheetfn = Stylesheet.prototype;\n\nsheetfn.instanceString = function () {\n  return 'stylesheet';\n}; // just store the selector to be parsed later\n\n\nsheetfn.selector = function (selector) {\n  var i = this.length++;\n  this[i] = {\n    selector: selector,\n    properties: []\n  };\n  return this; // chaining\n}; // just store the property to be parsed later\n\n\nsheetfn.css = function (name, value) {\n  var i = this.length - 1;\n\n  if (string(name)) {\n    this[i].properties.push({\n      name: name,\n      value: value\n    });\n  } else if (plainObject(name)) {\n    var map = name;\n    var propNames = Object.keys(map);\n\n    for (var j = 0; j < propNames.length; j++) {\n      var key = propNames[j];\n      var mapVal = map[key];\n\n      if (mapVal == null) {\n        continue;\n      }\n\n      var prop = Style.properties[key] || Style.properties[dash2camel(key)];\n\n      if (prop == null) {\n        continue;\n      }\n\n      var _name = prop.name;\n      var _value = mapVal;\n      this[i].properties.push({\n        name: _name,\n        value: _value\n      });\n    }\n  }\n\n  return this; // chaining\n};\n\nsheetfn.style = sheetfn.css; // generate a real style object from the dummy stylesheet\n\nsheetfn.generateStyle = function (cy) {\n  var style = new Style(cy);\n  return this.appendToStyle(style);\n}; // append a dummy stylesheet object on a real style object\n\n\nsheetfn.appendToStyle = function (style) {\n  for (var i = 0; i < this.length; i++) {\n    var context = this[i];\n    var selector = context.selector;\n    var props = context.properties;\n    style.selector(selector); // apply selector\n\n    for (var j = 0; j < props.length; j++) {\n      var prop = props[j];\n      style.css(prop.name, prop.value); // apply property\n    }\n  }\n\n  return style;\n};\n\nvar version = \"3.12.1\";\n\nvar cytoscape = function cytoscape(options) {\n  // if no options specified, use default\n  if (options === undefined) {\n    options = {};\n  } // create instance\n\n\n  if (plainObject(options)) {\n    return new Core(options);\n  } // allow for registration of extensions\n  else if (string(options)) {\n      return extension.apply(extension, arguments);\n    }\n}; // e.g. cytoscape.use( require('cytoscape-foo'), bar )\n\n\ncytoscape.use = function (ext) {\n  var args = Array.prototype.slice.call(arguments, 1); // args to pass to ext\n\n  args.unshift(cytoscape); // cytoscape is first arg to ext\n\n  ext.apply(null, args);\n  return this;\n};\n\ncytoscape.warnings = function (bool) {\n  return warnings(bool);\n}; // replaced by build system\n\n\ncytoscape.version = version; // expose public apis (mostly for extensions)\n\ncytoscape.stylesheet = cytoscape.Stylesheet = Stylesheet;\n\nmodule.exports = cytoscape;\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"layoutBase\"] = factory();\n\telse\n\t\troot[\"layoutBase\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 26);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction LayoutConstants() {}\n\n/**\r\n * Layout Quality: 0:draft, 1:default, 2:proof\r\n */\nLayoutConstants.QUALITY = 1;\n\n/**\r\n * Default parameters\r\n */\nLayoutConstants.DEFAULT_CREATE_BENDS_AS_NEEDED = false;\nLayoutConstants.DEFAULT_INCREMENTAL = false;\nLayoutConstants.DEFAULT_ANIMATION_ON_LAYOUT = true;\nLayoutConstants.DEFAULT_ANIMATION_DURING_LAYOUT = false;\nLayoutConstants.DEFAULT_ANIMATION_PERIOD = 50;\nLayoutConstants.DEFAULT_UNIFORM_LEAF_NODE_SIZES = false;\n\n// -----------------------------------------------------------------------------\n// Section: General other constants\n// -----------------------------------------------------------------------------\n/*\r\n * Margins of a graph to be applied on bouding rectangle of its contents. We\r\n * assume margins on all four sides to be uniform.\r\n */\nLayoutConstants.DEFAULT_GRAPH_MARGIN = 15;\n\n/*\r\n * Whether to consider labels in node dimensions or not\r\n */\nLayoutConstants.NODE_DIMENSIONS_INCLUDE_LABELS = false;\n\n/*\r\n * Default dimension of a non-compound node.\r\n */\nLayoutConstants.SIMPLE_NODE_SIZE = 40;\n\n/*\r\n * Default dimension of a non-compound node.\r\n */\nLayoutConstants.SIMPLE_NODE_HALF_SIZE = LayoutConstants.SIMPLE_NODE_SIZE / 2;\n\n/*\r\n * Empty compound node size. When a compound node is empty, its both\r\n * dimensions should be of this value.\r\n */\nLayoutConstants.EMPTY_COMPOUND_NODE_SIZE = 40;\n\n/*\r\n * Minimum length that an edge should take during layout\r\n */\nLayoutConstants.MIN_EDGE_LENGTH = 1;\n\n/*\r\n * World boundaries that layout operates on\r\n */\nLayoutConstants.WORLD_BOUNDARY = 1000000;\n\n/*\r\n * World boundaries that random positioning can be performed with\r\n */\nLayoutConstants.INITIAL_WORLD_BOUNDARY = LayoutConstants.WORLD_BOUNDARY / 1000;\n\n/*\r\n * Coordinates of the world center\r\n */\nLayoutConstants.WORLD_CENTER_X = 1200;\nLayoutConstants.WORLD_CENTER_Y = 900;\n\nmodule.exports = LayoutConstants;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LGraphObject = __webpack_require__(2);\nvar IGeometry = __webpack_require__(8);\nvar IMath = __webpack_require__(9);\n\nfunction LEdge(source, target, vEdge) {\n  LGraphObject.call(this, vEdge);\n\n  this.isOverlapingSourceAndTarget = false;\n  this.vGraphObject = vEdge;\n  this.bendpoints = [];\n  this.source = source;\n  this.target = target;\n}\n\nLEdge.prototype = Object.create(LGraphObject.prototype);\n\nfor (var prop in LGraphObject) {\n  LEdge[prop] = LGraphObject[prop];\n}\n\nLEdge.prototype.getSource = function () {\n  return this.source;\n};\n\nLEdge.prototype.getTarget = function () {\n  return this.target;\n};\n\nLEdge.prototype.isInterGraph = function () {\n  return this.isInterGraph;\n};\n\nLEdge.prototype.getLength = function () {\n  return this.length;\n};\n\nLEdge.prototype.isOverlapingSourceAndTarget = function () {\n  return this.isOverlapingSourceAndTarget;\n};\n\nLEdge.prototype.getBendpoints = function () {\n  return this.bendpoints;\n};\n\nLEdge.prototype.getLca = function () {\n  return this.lca;\n};\n\nLEdge.prototype.getSourceInLca = function () {\n  return this.sourceInLca;\n};\n\nLEdge.prototype.getTargetInLca = function () {\n  return this.targetInLca;\n};\n\nLEdge.prototype.getOtherEnd = function (node) {\n  if (this.source === node) {\n    return this.target;\n  } else if (this.target === node) {\n    return this.source;\n  } else {\n    throw \"Node is not incident with this edge\";\n  }\n};\n\nLEdge.prototype.getOtherEndInGraph = function (node, graph) {\n  var otherEnd = this.getOtherEnd(node);\n  var root = graph.getGraphManager().getRoot();\n\n  while (true) {\n    if (otherEnd.getOwner() == graph) {\n      return otherEnd;\n    }\n\n    if (otherEnd.getOwner() == root) {\n      break;\n    }\n\n    otherEnd = otherEnd.getOwner().getParent();\n  }\n\n  return null;\n};\n\nLEdge.prototype.updateLength = function () {\n  var clipPointCoordinates = new Array(4);\n\n  this.isOverlapingSourceAndTarget = IGeometry.getIntersection(this.target.getRect(), this.source.getRect(), clipPointCoordinates);\n\n  if (!this.isOverlapingSourceAndTarget) {\n    this.lengthX = clipPointCoordinates[0] - clipPointCoordinates[2];\n    this.lengthY = clipPointCoordinates[1] - clipPointCoordinates[3];\n\n    if (Math.abs(this.lengthX) < 1.0) {\n      this.lengthX = IMath.sign(this.lengthX);\n    }\n\n    if (Math.abs(this.lengthY) < 1.0) {\n      this.lengthY = IMath.sign(this.lengthY);\n    }\n\n    this.length = Math.sqrt(this.lengthX * this.lengthX + this.lengthY * this.lengthY);\n  }\n};\n\nLEdge.prototype.updateLengthSimple = function () {\n  this.lengthX = this.target.getCenterX() - this.source.getCenterX();\n  this.lengthY = this.target.getCenterY() - this.source.getCenterY();\n\n  if (Math.abs(this.lengthX) < 1.0) {\n    this.lengthX = IMath.sign(this.lengthX);\n  }\n\n  if (Math.abs(this.lengthY) < 1.0) {\n    this.lengthY = IMath.sign(this.lengthY);\n  }\n\n  this.length = Math.sqrt(this.lengthX * this.lengthX + this.lengthY * this.lengthY);\n};\n\nmodule.exports = LEdge;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction LGraphObject(vGraphObject) {\n  this.vGraphObject = vGraphObject;\n}\n\nmodule.exports = LGraphObject;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LGraphObject = __webpack_require__(2);\nvar Integer = __webpack_require__(10);\nvar RectangleD = __webpack_require__(13);\nvar LayoutConstants = __webpack_require__(0);\nvar RandomSeed = __webpack_require__(16);\nvar PointD = __webpack_require__(4);\n\nfunction LNode(gm, loc, size, vNode) {\n  //Alternative constructor 1 : LNode(LGraphManager gm, Point loc, Dimension size, Object vNode)\n  if (size == null && vNode == null) {\n    vNode = loc;\n  }\n\n  LGraphObject.call(this, vNode);\n\n  //Alternative constructor 2 : LNode(Layout layout, Object vNode)\n  if (gm.graphManager != null) gm = gm.graphManager;\n\n  this.estimatedSize = Integer.MIN_VALUE;\n  this.inclusionTreeDepth = Integer.MAX_VALUE;\n  this.vGraphObject = vNode;\n  this.edges = [];\n  this.graphManager = gm;\n\n  if (size != null && loc != null) this.rect = new RectangleD(loc.x, loc.y, size.width, size.height);else this.rect = new RectangleD();\n}\n\nLNode.prototype = Object.create(LGraphObject.prototype);\nfor (var prop in LGraphObject) {\n  LNode[prop] = LGraphObject[prop];\n}\n\nLNode.prototype.getEdges = function () {\n  return this.edges;\n};\n\nLNode.prototype.getChild = function () {\n  return this.child;\n};\n\nLNode.prototype.getOwner = function () {\n  //  if (this.owner != null) {\n  //    if (!(this.owner == null || this.owner.getNodes().indexOf(this) > -1)) {\n  //      throw \"assert failed\";\n  //    }\n  //  }\n\n  return this.owner;\n};\n\nLNode.prototype.getWidth = function () {\n  return this.rect.width;\n};\n\nLNode.prototype.setWidth = function (width) {\n  this.rect.width = width;\n};\n\nLNode.prototype.getHeight = function () {\n  return this.rect.height;\n};\n\nLNode.prototype.setHeight = function (height) {\n  this.rect.height = height;\n};\n\nLNode.prototype.getCenterX = function () {\n  return this.rect.x + this.rect.width / 2;\n};\n\nLNode.prototype.getCenterY = function () {\n  return this.rect.y + this.rect.height / 2;\n};\n\nLNode.prototype.getCenter = function () {\n  return new PointD(this.rect.x + this.rect.width / 2, this.rect.y + this.rect.height / 2);\n};\n\nLNode.prototype.getLocation = function () {\n  return new PointD(this.rect.x, this.rect.y);\n};\n\nLNode.prototype.getRect = function () {\n  return this.rect;\n};\n\nLNode.prototype.getDiagonal = function () {\n  return Math.sqrt(this.rect.width * this.rect.width + this.rect.height * this.rect.height);\n};\n\n/**\n * This method returns half the diagonal length of this node.\n */\nLNode.prototype.getHalfTheDiagonal = function () {\n  return Math.sqrt(this.rect.height * this.rect.height + this.rect.width * this.rect.width) / 2;\n};\n\nLNode.prototype.setRect = function (upperLeft, dimension) {\n  this.rect.x = upperLeft.x;\n  this.rect.y = upperLeft.y;\n  this.rect.width = dimension.width;\n  this.rect.height = dimension.height;\n};\n\nLNode.prototype.setCenter = function (cx, cy) {\n  this.rect.x = cx - this.rect.width / 2;\n  this.rect.y = cy - this.rect.height / 2;\n};\n\nLNode.prototype.setLocation = function (x, y) {\n  this.rect.x = x;\n  this.rect.y = y;\n};\n\nLNode.prototype.moveBy = function (dx, dy) {\n  this.rect.x += dx;\n  this.rect.y += dy;\n};\n\nLNode.prototype.getEdgeListToNode = function (to) {\n  var edgeList = [];\n  var edge;\n  var self = this;\n\n  self.edges.forEach(function (edge) {\n\n    if (edge.target == to) {\n      if (edge.source != self) throw \"Incorrect edge source!\";\n\n      edgeList.push(edge);\n    }\n  });\n\n  return edgeList;\n};\n\nLNode.prototype.getEdgesBetween = function (other) {\n  var edgeList = [];\n  var edge;\n\n  var self = this;\n  self.edges.forEach(function (edge) {\n\n    if (!(edge.source == self || edge.target == self)) throw \"Incorrect edge source and/or target\";\n\n    if (edge.target == other || edge.source == other) {\n      edgeList.push(edge);\n    }\n  });\n\n  return edgeList;\n};\n\nLNode.prototype.getNeighborsList = function () {\n  var neighbors = new Set();\n\n  var self = this;\n  self.edges.forEach(function (edge) {\n\n    if (edge.source == self) {\n      neighbors.add(edge.target);\n    } else {\n      if (edge.target != self) {\n        throw \"Incorrect incidency!\";\n      }\n\n      neighbors.add(edge.source);\n    }\n  });\n\n  return neighbors;\n};\n\nLNode.prototype.withChildren = function () {\n  var withNeighborsList = new Set();\n  var childNode;\n  var children;\n\n  withNeighborsList.add(this);\n\n  if (this.child != null) {\n    var nodes = this.child.getNodes();\n    for (var i = 0; i < nodes.length; i++) {\n      childNode = nodes[i];\n      children = childNode.withChildren();\n      children.forEach(function (node) {\n        withNeighborsList.add(node);\n      });\n    }\n  }\n\n  return withNeighborsList;\n};\n\nLNode.prototype.getNoOfChildren = function () {\n  var noOfChildren = 0;\n  var childNode;\n\n  if (this.child == null) {\n    noOfChildren = 1;\n  } else {\n    var nodes = this.child.getNodes();\n    for (var i = 0; i < nodes.length; i++) {\n      childNode = nodes[i];\n\n      noOfChildren += childNode.getNoOfChildren();\n    }\n  }\n\n  if (noOfChildren == 0) {\n    noOfChildren = 1;\n  }\n  return noOfChildren;\n};\n\nLNode.prototype.getEstimatedSize = function () {\n  if (this.estimatedSize == Integer.MIN_VALUE) {\n    throw \"assert failed\";\n  }\n  return this.estimatedSize;\n};\n\nLNode.prototype.calcEstimatedSize = function () {\n  if (this.child == null) {\n    return this.estimatedSize = (this.rect.width + this.rect.height) / 2;\n  } else {\n    this.estimatedSize = this.child.calcEstimatedSize();\n    this.rect.width = this.estimatedSize;\n    this.rect.height = this.estimatedSize;\n\n    return this.estimatedSize;\n  }\n};\n\nLNode.prototype.scatter = function () {\n  var randomCenterX;\n  var randomCenterY;\n\n  var minX = -LayoutConstants.INITIAL_WORLD_BOUNDARY;\n  var maxX = LayoutConstants.INITIAL_WORLD_BOUNDARY;\n  randomCenterX = LayoutConstants.WORLD_CENTER_X + RandomSeed.nextDouble() * (maxX - minX) + minX;\n\n  var minY = -LayoutConstants.INITIAL_WORLD_BOUNDARY;\n  var maxY = LayoutConstants.INITIAL_WORLD_BOUNDARY;\n  randomCenterY = LayoutConstants.WORLD_CENTER_Y + RandomSeed.nextDouble() * (maxY - minY) + minY;\n\n  this.rect.x = randomCenterX;\n  this.rect.y = randomCenterY;\n};\n\nLNode.prototype.updateBounds = function () {\n  if (this.getChild() == null) {\n    throw \"assert failed\";\n  }\n  if (this.getChild().getNodes().length != 0) {\n    // wrap the children nodes by re-arranging the boundaries\n    var childGraph = this.getChild();\n    childGraph.updateBounds(true);\n\n    this.rect.x = childGraph.getLeft();\n    this.rect.y = childGraph.getTop();\n\n    this.setWidth(childGraph.getRight() - childGraph.getLeft());\n    this.setHeight(childGraph.getBottom() - childGraph.getTop());\n\n    // Update compound bounds considering its label properties    \n    if (LayoutConstants.NODE_DIMENSIONS_INCLUDE_LABELS) {\n\n      var width = childGraph.getRight() - childGraph.getLeft();\n      var height = childGraph.getBottom() - childGraph.getTop();\n\n      if (this.labelWidth > width) {\n        this.rect.x -= (this.labelWidth - width) / 2;\n        this.setWidth(this.labelWidth);\n      }\n\n      if (this.labelHeight > height) {\n        if (this.labelPos == \"center\") {\n          this.rect.y -= (this.labelHeight - height) / 2;\n        } else if (this.labelPos == \"top\") {\n          this.rect.y -= this.labelHeight - height;\n        }\n        this.setHeight(this.labelHeight);\n      }\n    }\n  }\n};\n\nLNode.prototype.getInclusionTreeDepth = function () {\n  if (this.inclusionTreeDepth == Integer.MAX_VALUE) {\n    throw \"assert failed\";\n  }\n  return this.inclusionTreeDepth;\n};\n\nLNode.prototype.transform = function (trans) {\n  var left = this.rect.x;\n\n  if (left > LayoutConstants.WORLD_BOUNDARY) {\n    left = LayoutConstants.WORLD_BOUNDARY;\n  } else if (left < -LayoutConstants.WORLD_BOUNDARY) {\n    left = -LayoutConstants.WORLD_BOUNDARY;\n  }\n\n  var top = this.rect.y;\n\n  if (top > LayoutConstants.WORLD_BOUNDARY) {\n    top = LayoutConstants.WORLD_BOUNDARY;\n  } else if (top < -LayoutConstants.WORLD_BOUNDARY) {\n    top = -LayoutConstants.WORLD_BOUNDARY;\n  }\n\n  var leftTop = new PointD(left, top);\n  var vLeftTop = trans.inverseTransformPoint(leftTop);\n\n  this.setLocation(vLeftTop.x, vLeftTop.y);\n};\n\nLNode.prototype.getLeft = function () {\n  return this.rect.x;\n};\n\nLNode.prototype.getRight = function () {\n  return this.rect.x + this.rect.width;\n};\n\nLNode.prototype.getTop = function () {\n  return this.rect.y;\n};\n\nLNode.prototype.getBottom = function () {\n  return this.rect.y + this.rect.height;\n};\n\nLNode.prototype.getParent = function () {\n  if (this.owner == null) {\n    return null;\n  }\n\n  return this.owner.getParent();\n};\n\nmodule.exports = LNode;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction PointD(x, y) {\n  if (x == null && y == null) {\n    this.x = 0;\n    this.y = 0;\n  } else {\n    this.x = x;\n    this.y = y;\n  }\n}\n\nPointD.prototype.getX = function () {\n  return this.x;\n};\n\nPointD.prototype.getY = function () {\n  return this.y;\n};\n\nPointD.prototype.setX = function (x) {\n  this.x = x;\n};\n\nPointD.prototype.setY = function (y) {\n  this.y = y;\n};\n\nPointD.prototype.getDifference = function (pt) {\n  return new DimensionD(this.x - pt.x, this.y - pt.y);\n};\n\nPointD.prototype.getCopy = function () {\n  return new PointD(this.x, this.y);\n};\n\nPointD.prototype.translate = function (dim) {\n  this.x += dim.width;\n  this.y += dim.height;\n  return this;\n};\n\nmodule.exports = PointD;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LGraphObject = __webpack_require__(2);\nvar Integer = __webpack_require__(10);\nvar LayoutConstants = __webpack_require__(0);\nvar LGraphManager = __webpack_require__(6);\nvar LNode = __webpack_require__(3);\nvar LEdge = __webpack_require__(1);\nvar RectangleD = __webpack_require__(13);\nvar Point = __webpack_require__(12);\nvar LinkedList = __webpack_require__(11);\n\nfunction LGraph(parent, obj2, vGraph) {\n  LGraphObject.call(this, vGraph);\n  this.estimatedSize = Integer.MIN_VALUE;\n  this.margin = LayoutConstants.DEFAULT_GRAPH_MARGIN;\n  this.edges = [];\n  this.nodes = [];\n  this.isConnected = false;\n  this.parent = parent;\n\n  if (obj2 != null && obj2 instanceof LGraphManager) {\n    this.graphManager = obj2;\n  } else if (obj2 != null && obj2 instanceof Layout) {\n    this.graphManager = obj2.graphManager;\n  }\n}\n\nLGraph.prototype = Object.create(LGraphObject.prototype);\nfor (var prop in LGraphObject) {\n  LGraph[prop] = LGraphObject[prop];\n}\n\nLGraph.prototype.getNodes = function () {\n  return this.nodes;\n};\n\nLGraph.prototype.getEdges = function () {\n  return this.edges;\n};\n\nLGraph.prototype.getGraphManager = function () {\n  return this.graphManager;\n};\n\nLGraph.prototype.getParent = function () {\n  return this.parent;\n};\n\nLGraph.prototype.getLeft = function () {\n  return this.left;\n};\n\nLGraph.prototype.getRight = function () {\n  return this.right;\n};\n\nLGraph.prototype.getTop = function () {\n  return this.top;\n};\n\nLGraph.prototype.getBottom = function () {\n  return this.bottom;\n};\n\nLGraph.prototype.isConnected = function () {\n  return this.isConnected;\n};\n\nLGraph.prototype.add = function (obj1, sourceNode, targetNode) {\n  if (sourceNode == null && targetNode == null) {\n    var newNode = obj1;\n    if (this.graphManager == null) {\n      throw \"Graph has no graph mgr!\";\n    }\n    if (this.getNodes().indexOf(newNode) > -1) {\n      throw \"Node already in graph!\";\n    }\n    newNode.owner = this;\n    this.getNodes().push(newNode);\n\n    return newNode;\n  } else {\n    var newEdge = obj1;\n    if (!(this.getNodes().indexOf(sourceNode) > -1 && this.getNodes().indexOf(targetNode) > -1)) {\n      throw \"Source or target not in graph!\";\n    }\n\n    if (!(sourceNode.owner == targetNode.owner && sourceNode.owner == this)) {\n      throw \"Both owners must be this graph!\";\n    }\n\n    if (sourceNode.owner != targetNode.owner) {\n      return null;\n    }\n\n    // set source and target\n    newEdge.source = sourceNode;\n    newEdge.target = targetNode;\n\n    // set as intra-graph edge\n    newEdge.isInterGraph = false;\n\n    // add to graph edge list\n    this.getEdges().push(newEdge);\n\n    // add to incidency lists\n    sourceNode.edges.push(newEdge);\n\n    if (targetNode != sourceNode) {\n      targetNode.edges.push(newEdge);\n    }\n\n    return newEdge;\n  }\n};\n\nLGraph.prototype.remove = function (obj) {\n  var node = obj;\n  if (obj instanceof LNode) {\n    if (node == null) {\n      throw \"Node is null!\";\n    }\n    if (!(node.owner != null && node.owner == this)) {\n      throw \"Owner graph is invalid!\";\n    }\n    if (this.graphManager == null) {\n      throw \"Owner graph manager is invalid!\";\n    }\n    // remove incident edges first (make a copy to do it safely)\n    var edgesToBeRemoved = node.edges.slice();\n    var edge;\n    var s = edgesToBeRemoved.length;\n    for (var i = 0; i < s; i++) {\n      edge = edgesToBeRemoved[i];\n\n      if (edge.isInterGraph) {\n        this.graphManager.remove(edge);\n      } else {\n        edge.source.owner.remove(edge);\n      }\n    }\n\n    // now the node itself\n    var index = this.nodes.indexOf(node);\n    if (index == -1) {\n      throw \"Node not in owner node list!\";\n    }\n\n    this.nodes.splice(index, 1);\n  } else if (obj instanceof LEdge) {\n    var edge = obj;\n    if (edge == null) {\n      throw \"Edge is null!\";\n    }\n    if (!(edge.source != null && edge.target != null)) {\n      throw \"Source and/or target is null!\";\n    }\n    if (!(edge.source.owner != null && edge.target.owner != null && edge.source.owner == this && edge.target.owner == this)) {\n      throw \"Source and/or target owner is invalid!\";\n    }\n\n    var sourceIndex = edge.source.edges.indexOf(edge);\n    var targetIndex = edge.target.edges.indexOf(edge);\n    if (!(sourceIndex > -1 && targetIndex > -1)) {\n      throw \"Source and/or target doesn't know this edge!\";\n    }\n\n    edge.source.edges.splice(sourceIndex, 1);\n\n    if (edge.target != edge.source) {\n      edge.target.edges.splice(targetIndex, 1);\n    }\n\n    var index = edge.source.owner.getEdges().indexOf(edge);\n    if (index == -1) {\n      throw \"Not in owner's edge list!\";\n    }\n\n    edge.source.owner.getEdges().splice(index, 1);\n  }\n};\n\nLGraph.prototype.updateLeftTop = function () {\n  var top = Integer.MAX_VALUE;\n  var left = Integer.MAX_VALUE;\n  var nodeTop;\n  var nodeLeft;\n  var margin;\n\n  var nodes = this.getNodes();\n  var s = nodes.length;\n\n  for (var i = 0; i < s; i++) {\n    var lNode = nodes[i];\n    nodeTop = lNode.getTop();\n    nodeLeft = lNode.getLeft();\n\n    if (top > nodeTop) {\n      top = nodeTop;\n    }\n\n    if (left > nodeLeft) {\n      left = nodeLeft;\n    }\n  }\n\n  // Do we have any nodes in this graph?\n  if (top == Integer.MAX_VALUE) {\n    return null;\n  }\n\n  if (nodes[0].getParent().paddingLeft != undefined) {\n    margin = nodes[0].getParent().paddingLeft;\n  } else {\n    margin = this.margin;\n  }\n\n  this.left = left - margin;\n  this.top = top - margin;\n\n  // Apply the margins and return the result\n  return new Point(this.left, this.top);\n};\n\nLGraph.prototype.updateBounds = function (recursive) {\n  // calculate bounds\n  var left = Integer.MAX_VALUE;\n  var right = -Integer.MAX_VALUE;\n  var top = Integer.MAX_VALUE;\n  var bottom = -Integer.MAX_VALUE;\n  var nodeLeft;\n  var nodeRight;\n  var nodeTop;\n  var nodeBottom;\n  var margin;\n\n  var nodes = this.nodes;\n  var s = nodes.length;\n  for (var i = 0; i < s; i++) {\n    var lNode = nodes[i];\n\n    if (recursive && lNode.child != null) {\n      lNode.updateBounds();\n    }\n    nodeLeft = lNode.getLeft();\n    nodeRight = lNode.getRight();\n    nodeTop = lNode.getTop();\n    nodeBottom = lNode.getBottom();\n\n    if (left > nodeLeft) {\n      left = nodeLeft;\n    }\n\n    if (right < nodeRight) {\n      right = nodeRight;\n    }\n\n    if (top > nodeTop) {\n      top = nodeTop;\n    }\n\n    if (bottom < nodeBottom) {\n      bottom = nodeBottom;\n    }\n  }\n\n  var boundingRect = new RectangleD(left, top, right - left, bottom - top);\n  if (left == Integer.MAX_VALUE) {\n    this.left = this.parent.getLeft();\n    this.right = this.parent.getRight();\n    this.top = this.parent.getTop();\n    this.bottom = this.parent.getBottom();\n  }\n\n  if (nodes[0].getParent().paddingLeft != undefined) {\n    margin = nodes[0].getParent().paddingLeft;\n  } else {\n    margin = this.margin;\n  }\n\n  this.left = boundingRect.x - margin;\n  this.right = boundingRect.x + boundingRect.width + margin;\n  this.top = boundingRect.y - margin;\n  this.bottom = boundingRect.y + boundingRect.height + margin;\n};\n\nLGraph.calculateBounds = function (nodes) {\n  var left = Integer.MAX_VALUE;\n  var right = -Integer.MAX_VALUE;\n  var top = Integer.MAX_VALUE;\n  var bottom = -Integer.MAX_VALUE;\n  var nodeLeft;\n  var nodeRight;\n  var nodeTop;\n  var nodeBottom;\n\n  var s = nodes.length;\n\n  for (var i = 0; i < s; i++) {\n    var lNode = nodes[i];\n    nodeLeft = lNode.getLeft();\n    nodeRight = lNode.getRight();\n    nodeTop = lNode.getTop();\n    nodeBottom = lNode.getBottom();\n\n    if (left > nodeLeft) {\n      left = nodeLeft;\n    }\n\n    if (right < nodeRight) {\n      right = nodeRight;\n    }\n\n    if (top > nodeTop) {\n      top = nodeTop;\n    }\n\n    if (bottom < nodeBottom) {\n      bottom = nodeBottom;\n    }\n  }\n\n  var boundingRect = new RectangleD(left, top, right - left, bottom - top);\n\n  return boundingRect;\n};\n\nLGraph.prototype.getInclusionTreeDepth = function () {\n  if (this == this.graphManager.getRoot()) {\n    return 1;\n  } else {\n    return this.parent.getInclusionTreeDepth();\n  }\n};\n\nLGraph.prototype.getEstimatedSize = function () {\n  if (this.estimatedSize == Integer.MIN_VALUE) {\n    throw \"assert failed\";\n  }\n  return this.estimatedSize;\n};\n\nLGraph.prototype.calcEstimatedSize = function () {\n  var size = 0;\n  var nodes = this.nodes;\n  var s = nodes.length;\n\n  for (var i = 0; i < s; i++) {\n    var lNode = nodes[i];\n    size += lNode.calcEstimatedSize();\n  }\n\n  if (size == 0) {\n    this.estimatedSize = LayoutConstants.EMPTY_COMPOUND_NODE_SIZE;\n  } else {\n    this.estimatedSize = size / Math.sqrt(this.nodes.length);\n  }\n\n  return this.estimatedSize;\n};\n\nLGraph.prototype.updateConnected = function () {\n  var self = this;\n  if (this.nodes.length == 0) {\n    this.isConnected = true;\n    return;\n  }\n\n  var queue = new LinkedList();\n  var visited = new Set();\n  var currentNode = this.nodes[0];\n  var neighborEdges;\n  var currentNeighbor;\n  var childrenOfNode = currentNode.withChildren();\n  childrenOfNode.forEach(function (node) {\n    queue.push(node);\n    visited.add(node);\n  });\n\n  while (queue.length !== 0) {\n    currentNode = queue.shift();\n\n    // Traverse all neighbors of this node\n    neighborEdges = currentNode.getEdges();\n    var size = neighborEdges.length;\n    for (var i = 0; i < size; i++) {\n      var neighborEdge = neighborEdges[i];\n      currentNeighbor = neighborEdge.getOtherEndInGraph(currentNode, this);\n\n      // Add unvisited neighbors to the list to visit\n      if (currentNeighbor != null && !visited.has(currentNeighbor)) {\n        var childrenOfNeighbor = currentNeighbor.withChildren();\n\n        childrenOfNeighbor.forEach(function (node) {\n          queue.push(node);\n          visited.add(node);\n        });\n      }\n    }\n  }\n\n  this.isConnected = false;\n\n  if (visited.size >= this.nodes.length) {\n    var noOfVisitedInThisGraph = 0;\n\n    visited.forEach(function (visitedNode) {\n      if (visitedNode.owner == self) {\n        noOfVisitedInThisGraph++;\n      }\n    });\n\n    if (noOfVisitedInThisGraph == this.nodes.length) {\n      this.isConnected = true;\n    }\n  }\n};\n\nmodule.exports = LGraph;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LGraph;\nvar LEdge = __webpack_require__(1);\n\nfunction LGraphManager(layout) {\n  LGraph = __webpack_require__(5); // It may be better to initilize this out of this function but it gives an error (Right-hand side of 'instanceof' is not callable) now.\n  this.layout = layout;\n\n  this.graphs = [];\n  this.edges = [];\n}\n\nLGraphManager.prototype.addRoot = function () {\n  var ngraph = this.layout.newGraph();\n  var nnode = this.layout.newNode(null);\n  var root = this.add(ngraph, nnode);\n  this.setRootGraph(root);\n  return this.rootGraph;\n};\n\nLGraphManager.prototype.add = function (newGraph, parentNode, newEdge, sourceNode, targetNode) {\n  //there are just 2 parameters are passed then it adds an LGraph else it adds an LEdge\n  if (newEdge == null && sourceNode == null && targetNode == null) {\n    if (newGraph == null) {\n      throw \"Graph is null!\";\n    }\n    if (parentNode == null) {\n      throw \"Parent node is null!\";\n    }\n    if (this.graphs.indexOf(newGraph) > -1) {\n      throw \"Graph already in this graph mgr!\";\n    }\n\n    this.graphs.push(newGraph);\n\n    if (newGraph.parent != null) {\n      throw \"Already has a parent!\";\n    }\n    if (parentNode.child != null) {\n      throw \"Already has a child!\";\n    }\n\n    newGraph.parent = parentNode;\n    parentNode.child = newGraph;\n\n    return newGraph;\n  } else {\n    //change the order of the parameters\n    targetNode = newEdge;\n    sourceNode = parentNode;\n    newEdge = newGraph;\n    var sourceGraph = sourceNode.getOwner();\n    var targetGraph = targetNode.getOwner();\n\n    if (!(sourceGraph != null && sourceGraph.getGraphManager() == this)) {\n      throw \"Source not in this graph mgr!\";\n    }\n    if (!(targetGraph != null && targetGraph.getGraphManager() == this)) {\n      throw \"Target not in this graph mgr!\";\n    }\n\n    if (sourceGraph == targetGraph) {\n      newEdge.isInterGraph = false;\n      return sourceGraph.add(newEdge, sourceNode, targetNode);\n    } else {\n      newEdge.isInterGraph = true;\n\n      // set source and target\n      newEdge.source = sourceNode;\n      newEdge.target = targetNode;\n\n      // add edge to inter-graph edge list\n      if (this.edges.indexOf(newEdge) > -1) {\n        throw \"Edge already in inter-graph edge list!\";\n      }\n\n      this.edges.push(newEdge);\n\n      // add edge to source and target incidency lists\n      if (!(newEdge.source != null && newEdge.target != null)) {\n        throw \"Edge source and/or target is null!\";\n      }\n\n      if (!(newEdge.source.edges.indexOf(newEdge) == -1 && newEdge.target.edges.indexOf(newEdge) == -1)) {\n        throw \"Edge already in source and/or target incidency list!\";\n      }\n\n      newEdge.source.edges.push(newEdge);\n      newEdge.target.edges.push(newEdge);\n\n      return newEdge;\n    }\n  }\n};\n\nLGraphManager.prototype.remove = function (lObj) {\n  if (lObj instanceof LGraph) {\n    var graph = lObj;\n    if (graph.getGraphManager() != this) {\n      throw \"Graph not in this graph mgr\";\n    }\n    if (!(graph == this.rootGraph || graph.parent != null && graph.parent.graphManager == this)) {\n      throw \"Invalid parent node!\";\n    }\n\n    // first the edges (make a copy to do it safely)\n    var edgesToBeRemoved = [];\n\n    edgesToBeRemoved = edgesToBeRemoved.concat(graph.getEdges());\n\n    var edge;\n    var s = edgesToBeRemoved.length;\n    for (var i = 0; i < s; i++) {\n      edge = edgesToBeRemoved[i];\n      graph.remove(edge);\n    }\n\n    // then the nodes (make a copy to do it safely)\n    var nodesToBeRemoved = [];\n\n    nodesToBeRemoved = nodesToBeRemoved.concat(graph.getNodes());\n\n    var node;\n    s = nodesToBeRemoved.length;\n    for (var i = 0; i < s; i++) {\n      node = nodesToBeRemoved[i];\n      graph.remove(node);\n    }\n\n    // check if graph is the root\n    if (graph == this.rootGraph) {\n      this.setRootGraph(null);\n    }\n\n    // now remove the graph itself\n    var index = this.graphs.indexOf(graph);\n    this.graphs.splice(index, 1);\n\n    // also reset the parent of the graph\n    graph.parent = null;\n  } else if (lObj instanceof LEdge) {\n    edge = lObj;\n    if (edge == null) {\n      throw \"Edge is null!\";\n    }\n    if (!edge.isInterGraph) {\n      throw \"Not an inter-graph edge!\";\n    }\n    if (!(edge.source != null && edge.target != null)) {\n      throw \"Source and/or target is null!\";\n    }\n\n    // remove edge from source and target nodes' incidency lists\n\n    if (!(edge.source.edges.indexOf(edge) != -1 && edge.target.edges.indexOf(edge) != -1)) {\n      throw \"Source and/or target doesn't know this edge!\";\n    }\n\n    var index = edge.source.edges.indexOf(edge);\n    edge.source.edges.splice(index, 1);\n    index = edge.target.edges.indexOf(edge);\n    edge.target.edges.splice(index, 1);\n\n    // remove edge from owner graph manager's inter-graph edge list\n\n    if (!(edge.source.owner != null && edge.source.owner.getGraphManager() != null)) {\n      throw \"Edge owner graph or owner graph manager is null!\";\n    }\n    if (edge.source.owner.getGraphManager().edges.indexOf(edge) == -1) {\n      throw \"Not in owner graph manager's edge list!\";\n    }\n\n    var index = edge.source.owner.getGraphManager().edges.indexOf(edge);\n    edge.source.owner.getGraphManager().edges.splice(index, 1);\n  }\n};\n\nLGraphManager.prototype.updateBounds = function () {\n  this.rootGraph.updateBounds(true);\n};\n\nLGraphManager.prototype.getGraphs = function () {\n  return this.graphs;\n};\n\nLGraphManager.prototype.getAllNodes = function () {\n  if (this.allNodes == null) {\n    var nodeList = [];\n    var graphs = this.getGraphs();\n    var s = graphs.length;\n    for (var i = 0; i < s; i++) {\n      nodeList = nodeList.concat(graphs[i].getNodes());\n    }\n    this.allNodes = nodeList;\n  }\n  return this.allNodes;\n};\n\nLGraphManager.prototype.resetAllNodes = function () {\n  this.allNodes = null;\n};\n\nLGraphManager.prototype.resetAllEdges = function () {\n  this.allEdges = null;\n};\n\nLGraphManager.prototype.resetAllNodesToApplyGravitation = function () {\n  this.allNodesToApplyGravitation = null;\n};\n\nLGraphManager.prototype.getAllEdges = function () {\n  if (this.allEdges == null) {\n    var edgeList = [];\n    var graphs = this.getGraphs();\n    var s = graphs.length;\n    for (var i = 0; i < graphs.length; i++) {\n      edgeList = edgeList.concat(graphs[i].getEdges());\n    }\n\n    edgeList = edgeList.concat(this.edges);\n\n    this.allEdges = edgeList;\n  }\n  return this.allEdges;\n};\n\nLGraphManager.prototype.getAllNodesToApplyGravitation = function () {\n  return this.allNodesToApplyGravitation;\n};\n\nLGraphManager.prototype.setAllNodesToApplyGravitation = function (nodeList) {\n  if (this.allNodesToApplyGravitation != null) {\n    throw \"assert failed\";\n  }\n\n  this.allNodesToApplyGravitation = nodeList;\n};\n\nLGraphManager.prototype.getRoot = function () {\n  return this.rootGraph;\n};\n\nLGraphManager.prototype.setRootGraph = function (graph) {\n  if (graph.getGraphManager() != this) {\n    throw \"Root not in this graph mgr!\";\n  }\n\n  this.rootGraph = graph;\n  // root graph must have a root node associated with it for convenience\n  if (graph.parent == null) {\n    graph.parent = this.layout.newNode(\"Root node\");\n  }\n};\n\nLGraphManager.prototype.getLayout = function () {\n  return this.layout;\n};\n\nLGraphManager.prototype.isOneAncestorOfOther = function (firstNode, secondNode) {\n  if (!(firstNode != null && secondNode != null)) {\n    throw \"assert failed\";\n  }\n\n  if (firstNode == secondNode) {\n    return true;\n  }\n  // Is second node an ancestor of the first one?\n  var ownerGraph = firstNode.getOwner();\n  var parentNode;\n\n  do {\n    parentNode = ownerGraph.getParent();\n\n    if (parentNode == null) {\n      break;\n    }\n\n    if (parentNode == secondNode) {\n      return true;\n    }\n\n    ownerGraph = parentNode.getOwner();\n    if (ownerGraph == null) {\n      break;\n    }\n  } while (true);\n  // Is first node an ancestor of the second one?\n  ownerGraph = secondNode.getOwner();\n\n  do {\n    parentNode = ownerGraph.getParent();\n\n    if (parentNode == null) {\n      break;\n    }\n\n    if (parentNode == firstNode) {\n      return true;\n    }\n\n    ownerGraph = parentNode.getOwner();\n    if (ownerGraph == null) {\n      break;\n    }\n  } while (true);\n\n  return false;\n};\n\nLGraphManager.prototype.calcLowestCommonAncestors = function () {\n  var edge;\n  var sourceNode;\n  var targetNode;\n  var sourceAncestorGraph;\n  var targetAncestorGraph;\n\n  var edges = this.getAllEdges();\n  var s = edges.length;\n  for (var i = 0; i < s; i++) {\n    edge = edges[i];\n\n    sourceNode = edge.source;\n    targetNode = edge.target;\n    edge.lca = null;\n    edge.sourceInLca = sourceNode;\n    edge.targetInLca = targetNode;\n\n    if (sourceNode == targetNode) {\n      edge.lca = sourceNode.getOwner();\n      continue;\n    }\n\n    sourceAncestorGraph = sourceNode.getOwner();\n\n    while (edge.lca == null) {\n      edge.targetInLca = targetNode;\n      targetAncestorGraph = targetNode.getOwner();\n\n      while (edge.lca == null) {\n        if (targetAncestorGraph == sourceAncestorGraph) {\n          edge.lca = targetAncestorGraph;\n          break;\n        }\n\n        if (targetAncestorGraph == this.rootGraph) {\n          break;\n        }\n\n        if (edge.lca != null) {\n          throw \"assert failed\";\n        }\n        edge.targetInLca = targetAncestorGraph.getParent();\n        targetAncestorGraph = edge.targetInLca.getOwner();\n      }\n\n      if (sourceAncestorGraph == this.rootGraph) {\n        break;\n      }\n\n      if (edge.lca == null) {\n        edge.sourceInLca = sourceAncestorGraph.getParent();\n        sourceAncestorGraph = edge.sourceInLca.getOwner();\n      }\n    }\n\n    if (edge.lca == null) {\n      throw \"assert failed\";\n    }\n  }\n};\n\nLGraphManager.prototype.calcLowestCommonAncestor = function (firstNode, secondNode) {\n  if (firstNode == secondNode) {\n    return firstNode.getOwner();\n  }\n  var firstOwnerGraph = firstNode.getOwner();\n\n  do {\n    if (firstOwnerGraph == null) {\n      break;\n    }\n    var secondOwnerGraph = secondNode.getOwner();\n\n    do {\n      if (secondOwnerGraph == null) {\n        break;\n      }\n\n      if (secondOwnerGraph == firstOwnerGraph) {\n        return secondOwnerGraph;\n      }\n      secondOwnerGraph = secondOwnerGraph.getParent().getOwner();\n    } while (true);\n\n    firstOwnerGraph = firstOwnerGraph.getParent().getOwner();\n  } while (true);\n\n  return firstOwnerGraph;\n};\n\nLGraphManager.prototype.calcInclusionTreeDepths = function (graph, depth) {\n  if (graph == null && depth == null) {\n    graph = this.rootGraph;\n    depth = 1;\n  }\n  var node;\n\n  var nodes = graph.getNodes();\n  var s = nodes.length;\n  for (var i = 0; i < s; i++) {\n    node = nodes[i];\n    node.inclusionTreeDepth = depth;\n\n    if (node.child != null) {\n      this.calcInclusionTreeDepths(node.child, depth + 1);\n    }\n  }\n};\n\nLGraphManager.prototype.includesInvalidEdge = function () {\n  var edge;\n\n  var s = this.edges.length;\n  for (var i = 0; i < s; i++) {\n    edge = this.edges[i];\n\n    if (this.isOneAncestorOfOther(edge.source, edge.target)) {\n      return true;\n    }\n  }\n  return false;\n};\n\nmodule.exports = LGraphManager;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LayoutConstants = __webpack_require__(0);\n\nfunction FDLayoutConstants() {}\n\n//FDLayoutConstants inherits static props in LayoutConstants\nfor (var prop in LayoutConstants) {\n  FDLayoutConstants[prop] = LayoutConstants[prop];\n}\n\nFDLayoutConstants.MAX_ITERATIONS = 2500;\n\nFDLayoutConstants.DEFAULT_EDGE_LENGTH = 50;\nFDLayoutConstants.DEFAULT_SPRING_STRENGTH = 0.45;\nFDLayoutConstants.DEFAULT_REPULSION_STRENGTH = 4500.0;\nFDLayoutConstants.DEFAULT_GRAVITY_STRENGTH = 0.4;\nFDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_STRENGTH = 1.0;\nFDLayoutConstants.DEFAULT_GRAVITY_RANGE_FACTOR = 3.8;\nFDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR = 1.5;\nFDLayoutConstants.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION = true;\nFDLayoutConstants.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION = true;\nFDLayoutConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL = 0.3;\nFDLayoutConstants.COOLING_ADAPTATION_FACTOR = 0.33;\nFDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT = 1000;\nFDLayoutConstants.ADAPTATION_UPPER_NODE_LIMIT = 5000;\nFDLayoutConstants.MAX_NODE_DISPLACEMENT_INCREMENTAL = 100.0;\nFDLayoutConstants.MAX_NODE_DISPLACEMENT = FDLayoutConstants.MAX_NODE_DISPLACEMENT_INCREMENTAL * 3;\nFDLayoutConstants.MIN_REPULSION_DIST = FDLayoutConstants.DEFAULT_EDGE_LENGTH / 10.0;\nFDLayoutConstants.CONVERGENCE_CHECK_PERIOD = 100;\nFDLayoutConstants.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR = 0.1;\nFDLayoutConstants.MIN_EDGE_LENGTH = 1;\nFDLayoutConstants.GRID_CALCULATION_CHECK_PERIOD = 10;\n\nmodule.exports = FDLayoutConstants;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * This class maintains a list of static geometry related utility methods.\n *\n *\n * Copyright: i-Vis Research Group, Bilkent University, 2007 - present\n */\n\nvar Point = __webpack_require__(12);\n\nfunction IGeometry() {}\n\n/**\n * This method calculates *half* the amount in x and y directions of the two\n * input rectangles needed to separate them keeping their respective\n * positioning, and returns the result in the input array. An input\n * separation buffer added to the amount in both directions. We assume that\n * the two rectangles do intersect.\n */\nIGeometry.calcSeparationAmount = function (rectA, rectB, overlapAmount, separationBuffer) {\n  if (!rectA.intersects(rectB)) {\n    throw \"assert failed\";\n  }\n\n  var directions = new Array(2);\n\n  this.decideDirectionsForOverlappingNodes(rectA, rectB, directions);\n\n  overlapAmount[0] = Math.min(rectA.getRight(), rectB.getRight()) - Math.max(rectA.x, rectB.x);\n  overlapAmount[1] = Math.min(rectA.getBottom(), rectB.getBottom()) - Math.max(rectA.y, rectB.y);\n\n  // update the overlapping amounts for the following cases:\n  if (rectA.getX() <= rectB.getX() && rectA.getRight() >= rectB.getRight()) {\n    /* Case x.1:\n    *\n    * rectA\n    * \t|                       |\n    * \t|        _________      |\n    * \t|        |       |      |\n    * \t|________|_______|______|\n    * \t\t\t |       |\n    *           |       |\n    *        rectB\n    */\n    overlapAmount[0] += Math.min(rectB.getX() - rectA.getX(), rectA.getRight() - rectB.getRight());\n  } else if (rectB.getX() <= rectA.getX() && rectB.getRight() >= rectA.getRight()) {\n    /* Case x.2:\n    *\n    * rectB\n    * \t|                       |\n    * \t|        _________      |\n    * \t|        |       |      |\n    * \t|________|_______|______|\n    * \t\t\t |       |\n    *           |       |\n    *        rectA\n    */\n    overlapAmount[0] += Math.min(rectA.getX() - rectB.getX(), rectB.getRight() - rectA.getRight());\n  }\n  if (rectA.getY() <= rectB.getY() && rectA.getBottom() >= rectB.getBottom()) {\n    /* Case y.1:\n     *          ________ rectA\n     *         |\n     *         |\n     *   ______|____  rectB\n     *         |    |\n     *         |    |\n     *   ______|____|\n     *         |\n     *         |\n     *         |________\n     *\n     */\n    overlapAmount[1] += Math.min(rectB.getY() - rectA.getY(), rectA.getBottom() - rectB.getBottom());\n  } else if (rectB.getY() <= rectA.getY() && rectB.getBottom() >= rectA.getBottom()) {\n    /* Case y.2:\n    *          ________ rectB\n    *         |\n    *         |\n    *   ______|____  rectA\n    *         |    |\n    *         |    |\n    *   ______|____|\n    *         |\n    *         |\n    *         |________\n    *\n    */\n    overlapAmount[1] += Math.min(rectA.getY() - rectB.getY(), rectB.getBottom() - rectA.getBottom());\n  }\n\n  // find slope of the line passes two centers\n  var slope = Math.abs((rectB.getCenterY() - rectA.getCenterY()) / (rectB.getCenterX() - rectA.getCenterX()));\n  // if centers are overlapped\n  if (rectB.getCenterY() === rectA.getCenterY() && rectB.getCenterX() === rectA.getCenterX()) {\n    // assume the slope is 1 (45 degree)\n    slope = 1.0;\n  }\n\n  var moveByY = slope * overlapAmount[0];\n  var moveByX = overlapAmount[1] / slope;\n  if (overlapAmount[0] < moveByX) {\n    moveByX = overlapAmount[0];\n  } else {\n    moveByY = overlapAmount[1];\n  }\n  // return half the amount so that if each rectangle is moved by these\n  // amounts in opposite directions, overlap will be resolved\n  overlapAmount[0] = -1 * directions[0] * (moveByX / 2 + separationBuffer);\n  overlapAmount[1] = -1 * directions[1] * (moveByY / 2 + separationBuffer);\n};\n\n/**\n * This method decides the separation direction of overlapping nodes\n *\n * if directions[0] = -1, then rectA goes left\n * if directions[0] = 1,  then rectA goes right\n * if directions[1] = -1, then rectA goes up\n * if directions[1] = 1,  then rectA goes down\n */\nIGeometry.decideDirectionsForOverlappingNodes = function (rectA, rectB, directions) {\n  if (rectA.getCenterX() < rectB.getCenterX()) {\n    directions[0] = -1;\n  } else {\n    directions[0] = 1;\n  }\n\n  if (rectA.getCenterY() < rectB.getCenterY()) {\n    directions[1] = -1;\n  } else {\n    directions[1] = 1;\n  }\n};\n\n/**\n * This method calculates the intersection (clipping) points of the two\n * input rectangles with line segment defined by the centers of these two\n * rectangles. The clipping points are saved in the input double array and\n * whether or not the two rectangles overlap is returned.\n */\nIGeometry.getIntersection2 = function (rectA, rectB, result) {\n  //result[0-1] will contain clipPoint of rectA, result[2-3] will contain clipPoint of rectB\n  var p1x = rectA.getCenterX();\n  var p1y = rectA.getCenterY();\n  var p2x = rectB.getCenterX();\n  var p2y = rectB.getCenterY();\n\n  //if two rectangles intersect, then clipping points are centers\n  if (rectA.intersects(rectB)) {\n    result[0] = p1x;\n    result[1] = p1y;\n    result[2] = p2x;\n    result[3] = p2y;\n    return true;\n  }\n  //variables for rectA\n  var topLeftAx = rectA.getX();\n  var topLeftAy = rectA.getY();\n  var topRightAx = rectA.getRight();\n  var bottomLeftAx = rectA.getX();\n  var bottomLeftAy = rectA.getBottom();\n  var bottomRightAx = rectA.getRight();\n  var halfWidthA = rectA.getWidthHalf();\n  var halfHeightA = rectA.getHeightHalf();\n  //variables for rectB\n  var topLeftBx = rectB.getX();\n  var topLeftBy = rectB.getY();\n  var topRightBx = rectB.getRight();\n  var bottomLeftBx = rectB.getX();\n  var bottomLeftBy = rectB.getBottom();\n  var bottomRightBx = rectB.getRight();\n  var halfWidthB = rectB.getWidthHalf();\n  var halfHeightB = rectB.getHeightHalf();\n\n  //flag whether clipping points are found\n  var clipPointAFound = false;\n  var clipPointBFound = false;\n\n  // line is vertical\n  if (p1x === p2x) {\n    if (p1y > p2y) {\n      result[0] = p1x;\n      result[1] = topLeftAy;\n      result[2] = p2x;\n      result[3] = bottomLeftBy;\n      return false;\n    } else if (p1y < p2y) {\n      result[0] = p1x;\n      result[1] = bottomLeftAy;\n      result[2] = p2x;\n      result[3] = topLeftBy;\n      return false;\n    } else {\n      //not line, return null;\n    }\n  }\n  // line is horizontal\n  else if (p1y === p2y) {\n      if (p1x > p2x) {\n        result[0] = topLeftAx;\n        result[1] = p1y;\n        result[2] = topRightBx;\n        result[3] = p2y;\n        return false;\n      } else if (p1x < p2x) {\n        result[0] = topRightAx;\n        result[1] = p1y;\n        result[2] = topLeftBx;\n        result[3] = p2y;\n        return false;\n      } else {\n        //not valid line, return null;\n      }\n    } else {\n      //slopes of rectA's and rectB's diagonals\n      var slopeA = rectA.height / rectA.width;\n      var slopeB = rectB.height / rectB.width;\n\n      //slope of line between center of rectA and center of rectB\n      var slopePrime = (p2y - p1y) / (p2x - p1x);\n      var cardinalDirectionA = void 0;\n      var cardinalDirectionB = void 0;\n      var tempPointAx = void 0;\n      var tempPointAy = void 0;\n      var tempPointBx = void 0;\n      var tempPointBy = void 0;\n\n      //determine whether clipping point is the corner of nodeA\n      if (-slopeA === slopePrime) {\n        if (p1x > p2x) {\n          result[0] = bottomLeftAx;\n          result[1] = bottomLeftAy;\n          clipPointAFound = true;\n        } else {\n          result[0] = topRightAx;\n          result[1] = topLeftAy;\n          clipPointAFound = true;\n        }\n      } else if (slopeA === slopePrime) {\n        if (p1x > p2x) {\n          result[0] = topLeftAx;\n          result[1] = topLeftAy;\n          clipPointAFound = true;\n        } else {\n          result[0] = bottomRightAx;\n          result[1] = bottomLeftAy;\n          clipPointAFound = true;\n        }\n      }\n\n      //determine whether clipping point is the corner of nodeB\n      if (-slopeB === slopePrime) {\n        if (p2x > p1x) {\n          result[2] = bottomLeftBx;\n          result[3] = bottomLeftBy;\n          clipPointBFound = true;\n        } else {\n          result[2] = topRightBx;\n          result[3] = topLeftBy;\n          clipPointBFound = true;\n        }\n      } else if (slopeB === slopePrime) {\n        if (p2x > p1x) {\n          result[2] = topLeftBx;\n          result[3] = topLeftBy;\n          clipPointBFound = true;\n        } else {\n          result[2] = bottomRightBx;\n          result[3] = bottomLeftBy;\n          clipPointBFound = true;\n        }\n      }\n\n      //if both clipping points are corners\n      if (clipPointAFound && clipPointBFound) {\n        return false;\n      }\n\n      //determine Cardinal Direction of rectangles\n      if (p1x > p2x) {\n        if (p1y > p2y) {\n          cardinalDirectionA = this.getCardinalDirection(slopeA, slopePrime, 4);\n          cardinalDirectionB = this.getCardinalDirection(slopeB, slopePrime, 2);\n        } else {\n          cardinalDirectionA = this.getCardinalDirection(-slopeA, slopePrime, 3);\n          cardinalDirectionB = this.getCardinalDirection(-slopeB, slopePrime, 1);\n        }\n      } else {\n        if (p1y > p2y) {\n          cardinalDirectionA = this.getCardinalDirection(-slopeA, slopePrime, 1);\n          cardinalDirectionB = this.getCardinalDirection(-slopeB, slopePrime, 3);\n        } else {\n          cardinalDirectionA = this.getCardinalDirection(slopeA, slopePrime, 2);\n          cardinalDirectionB = this.getCardinalDirection(slopeB, slopePrime, 4);\n        }\n      }\n      //calculate clipping Point if it is not found before\n      if (!clipPointAFound) {\n        switch (cardinalDirectionA) {\n          case 1:\n            tempPointAy = topLeftAy;\n            tempPointAx = p1x + -halfHeightA / slopePrime;\n            result[0] = tempPointAx;\n            result[1] = tempPointAy;\n            break;\n          case 2:\n            tempPointAx = bottomRightAx;\n            tempPointAy = p1y + halfWidthA * slopePrime;\n            result[0] = tempPointAx;\n            result[1] = tempPointAy;\n            break;\n          case 3:\n            tempPointAy = bottomLeftAy;\n            tempPointAx = p1x + halfHeightA / slopePrime;\n            result[0] = tempPointAx;\n            result[1] = tempPointAy;\n            break;\n          case 4:\n            tempPointAx = bottomLeftAx;\n            tempPointAy = p1y + -halfWidthA * slopePrime;\n            result[0] = tempPointAx;\n            result[1] = tempPointAy;\n            break;\n        }\n      }\n      if (!clipPointBFound) {\n        switch (cardinalDirectionB) {\n          case 1:\n            tempPointBy = topLeftBy;\n            tempPointBx = p2x + -halfHeightB / slopePrime;\n            result[2] = tempPointBx;\n            result[3] = tempPointBy;\n            break;\n          case 2:\n            tempPointBx = bottomRightBx;\n            tempPointBy = p2y + halfWidthB * slopePrime;\n            result[2] = tempPointBx;\n            result[3] = tempPointBy;\n            break;\n          case 3:\n            tempPointBy = bottomLeftBy;\n            tempPointBx = p2x + halfHeightB / slopePrime;\n            result[2] = tempPointBx;\n            result[3] = tempPointBy;\n            break;\n          case 4:\n            tempPointBx = bottomLeftBx;\n            tempPointBy = p2y + -halfWidthB * slopePrime;\n            result[2] = tempPointBx;\n            result[3] = tempPointBy;\n            break;\n        }\n      }\n    }\n  return false;\n};\n\n/**\n * This method returns in which cardinal direction does input point stays\n * 1: North\n * 2: East\n * 3: South\n * 4: West\n */\nIGeometry.getCardinalDirection = function (slope, slopePrime, line) {\n  if (slope > slopePrime) {\n    return line;\n  } else {\n    return 1 + line % 4;\n  }\n};\n\n/**\n * This method calculates the intersection of the two lines defined by\n * point pairs (s1,s2) and (f1,f2).\n */\nIGeometry.getIntersection = function (s1, s2, f1, f2) {\n  if (f2 == null) {\n    return this.getIntersection2(s1, s2, f1);\n  }\n\n  var x1 = s1.x;\n  var y1 = s1.y;\n  var x2 = s2.x;\n  var y2 = s2.y;\n  var x3 = f1.x;\n  var y3 = f1.y;\n  var x4 = f2.x;\n  var y4 = f2.y;\n  var x = void 0,\n      y = void 0; // intersection point\n  var a1 = void 0,\n      a2 = void 0,\n      b1 = void 0,\n      b2 = void 0,\n      c1 = void 0,\n      c2 = void 0; // coefficients of line eqns.\n  var denom = void 0;\n\n  a1 = y2 - y1;\n  b1 = x1 - x2;\n  c1 = x2 * y1 - x1 * y2; // { a1*x + b1*y + c1 = 0 is line 1 }\n\n  a2 = y4 - y3;\n  b2 = x3 - x4;\n  c2 = x4 * y3 - x3 * y4; // { a2*x + b2*y + c2 = 0 is line 2 }\n\n  denom = a1 * b2 - a2 * b1;\n\n  if (denom === 0) {\n    return null;\n  }\n\n  x = (b1 * c2 - b2 * c1) / denom;\n  y = (a2 * c1 - a1 * c2) / denom;\n\n  return new Point(x, y);\n};\n\n/**\n * This method finds and returns the angle of the vector from the + x-axis\n * in clockwise direction (compatible w/ Java coordinate system!).\n */\nIGeometry.angleOfVector = function (Cx, Cy, Nx, Ny) {\n  var C_angle = void 0;\n\n  if (Cx !== Nx) {\n    C_angle = Math.atan((Ny - Cy) / (Nx - Cx));\n\n    if (Nx < Cx) {\n      C_angle += Math.PI;\n    } else if (Ny < Cy) {\n      C_angle += this.TWO_PI;\n    }\n  } else if (Ny < Cy) {\n    C_angle = this.ONE_AND_HALF_PI; // 270 degrees\n  } else {\n    C_angle = this.HALF_PI; // 90 degrees\n  }\n\n  return C_angle;\n};\n\n/**\n * This method checks whether the given two line segments (one with point\n * p1 and p2, the other with point p3 and p4) intersect at a point other\n * than these points.\n */\nIGeometry.doIntersect = function (p1, p2, p3, p4) {\n  var a = p1.x;\n  var b = p1.y;\n  var c = p2.x;\n  var d = p2.y;\n  var p = p3.x;\n  var q = p3.y;\n  var r = p4.x;\n  var s = p4.y;\n  var det = (c - a) * (s - q) - (r - p) * (d - b);\n\n  if (det === 0) {\n    return false;\n  } else {\n    var lambda = ((s - q) * (r - a) + (p - r) * (s - b)) / det;\n    var gamma = ((b - d) * (r - a) + (c - a) * (s - b)) / det;\n    return 0 < lambda && lambda < 1 && 0 < gamma && gamma < 1;\n  }\n};\n\n// -----------------------------------------------------------------------------\n// Section: Class Constants\n// -----------------------------------------------------------------------------\n/**\n * Some useful pre-calculated constants\n */\nIGeometry.HALF_PI = 0.5 * Math.PI;\nIGeometry.ONE_AND_HALF_PI = 1.5 * Math.PI;\nIGeometry.TWO_PI = 2.0 * Math.PI;\nIGeometry.THREE_PI = 3.0 * Math.PI;\n\nmodule.exports = IGeometry;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction IMath() {}\n\n/**\n * This method returns the sign of the input value.\n */\nIMath.sign = function (value) {\n  if (value > 0) {\n    return 1;\n  } else if (value < 0) {\n    return -1;\n  } else {\n    return 0;\n  }\n};\n\nIMath.floor = function (value) {\n  return value < 0 ? Math.ceil(value) : Math.floor(value);\n};\n\nIMath.ceil = function (value) {\n  return value < 0 ? Math.floor(value) : Math.ceil(value);\n};\n\nmodule.exports = IMath;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction Integer() {}\n\nInteger.MAX_VALUE = 2147483647;\nInteger.MIN_VALUE = -2147483648;\n\nmodule.exports = Integer;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar nodeFrom = function nodeFrom(value) {\n  return { value: value, next: null, prev: null };\n};\n\nvar add = function add(prev, node, next, list) {\n  if (prev !== null) {\n    prev.next = node;\n  } else {\n    list.head = node;\n  }\n\n  if (next !== null) {\n    next.prev = node;\n  } else {\n    list.tail = node;\n  }\n\n  node.prev = prev;\n  node.next = next;\n\n  list.length++;\n\n  return node;\n};\n\nvar _remove = function _remove(node, list) {\n  var prev = node.prev,\n      next = node.next;\n\n\n  if (prev !== null) {\n    prev.next = next;\n  } else {\n    list.head = next;\n  }\n\n  if (next !== null) {\n    next.prev = prev;\n  } else {\n    list.tail = prev;\n  }\n\n  node.prev = node.next = null;\n\n  list.length--;\n\n  return node;\n};\n\nvar LinkedList = function () {\n  function LinkedList(vals) {\n    var _this = this;\n\n    _classCallCheck(this, LinkedList);\n\n    this.length = 0;\n    this.head = null;\n    this.tail = null;\n\n    if (vals != null) {\n      vals.forEach(function (v) {\n        return _this.push(v);\n      });\n    }\n  }\n\n  _createClass(LinkedList, [{\n    key: \"size\",\n    value: function size() {\n      return this.length;\n    }\n  }, {\n    key: \"insertBefore\",\n    value: function insertBefore(val, otherNode) {\n      return add(otherNode.prev, nodeFrom(val), otherNode, this);\n    }\n  }, {\n    key: \"insertAfter\",\n    value: function insertAfter(val, otherNode) {\n      return add(otherNode, nodeFrom(val), otherNode.next, this);\n    }\n  }, {\n    key: \"insertNodeBefore\",\n    value: function insertNodeBefore(newNode, otherNode) {\n      return add(otherNode.prev, newNode, otherNode, this);\n    }\n  }, {\n    key: \"insertNodeAfter\",\n    value: function insertNodeAfter(newNode, otherNode) {\n      return add(otherNode, newNode, otherNode.next, this);\n    }\n  }, {\n    key: \"push\",\n    value: function push(val) {\n      return add(this.tail, nodeFrom(val), null, this);\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(val) {\n      return add(null, nodeFrom(val), this.head, this);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(node) {\n      return _remove(node, this);\n    }\n  }, {\n    key: \"pop\",\n    value: function pop() {\n      return _remove(this.tail, this).value;\n    }\n  }, {\n    key: \"popNode\",\n    value: function popNode() {\n      return _remove(this.tail, this);\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      return _remove(this.head, this).value;\n    }\n  }, {\n    key: \"shiftNode\",\n    value: function shiftNode() {\n      return _remove(this.head, this);\n    }\n  }, {\n    key: \"get_object_at\",\n    value: function get_object_at(index) {\n      if (index <= this.length()) {\n        var i = 1;\n        var current = this.head;\n        while (i < index) {\n          current = current.next;\n          i++;\n        }\n        return current.value;\n      }\n    }\n  }, {\n    key: \"set_object_at\",\n    value: function set_object_at(index, value) {\n      if (index <= this.length()) {\n        var i = 1;\n        var current = this.head;\n        while (i < index) {\n          current = current.next;\n          i++;\n        }\n        current.value = value;\n      }\n    }\n  }]);\n\n  return LinkedList;\n}();\n\nmodule.exports = LinkedList;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/*\r\n *This class is the javascript implementation of the Point.java class in jdk\r\n */\nfunction Point(x, y, p) {\n  this.x = null;\n  this.y = null;\n  if (x == null && y == null && p == null) {\n    this.x = 0;\n    this.y = 0;\n  } else if (typeof x == 'number' && typeof y == 'number' && p == null) {\n    this.x = x;\n    this.y = y;\n  } else if (x.constructor.name == 'Point' && y == null && p == null) {\n    p = x;\n    this.x = p.x;\n    this.y = p.y;\n  }\n}\n\nPoint.prototype.getX = function () {\n  return this.x;\n};\n\nPoint.prototype.getY = function () {\n  return this.y;\n};\n\nPoint.prototype.getLocation = function () {\n  return new Point(this.x, this.y);\n};\n\nPoint.prototype.setLocation = function (x, y, p) {\n  if (x.constructor.name == 'Point' && y == null && p == null) {\n    p = x;\n    this.setLocation(p.x, p.y);\n  } else if (typeof x == 'number' && typeof y == 'number' && p == null) {\n    //if both parameters are integer just move (x,y) location\n    if (parseInt(x) == x && parseInt(y) == y) {\n      this.move(x, y);\n    } else {\n      this.x = Math.floor(x + 0.5);\n      this.y = Math.floor(y + 0.5);\n    }\n  }\n};\n\nPoint.prototype.move = function (x, y) {\n  this.x = x;\n  this.y = y;\n};\n\nPoint.prototype.translate = function (dx, dy) {\n  this.x += dx;\n  this.y += dy;\n};\n\nPoint.prototype.equals = function (obj) {\n  if (obj.constructor.name == \"Point\") {\n    var pt = obj;\n    return this.x == pt.x && this.y == pt.y;\n  }\n  return this == obj;\n};\n\nPoint.prototype.toString = function () {\n  return new Point().constructor.name + \"[x=\" + this.x + \",y=\" + this.y + \"]\";\n};\n\nmodule.exports = Point;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction RectangleD(x, y, width, height) {\n  this.x = 0;\n  this.y = 0;\n  this.width = 0;\n  this.height = 0;\n\n  if (x != null && y != null && width != null && height != null) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n}\n\nRectangleD.prototype.getX = function () {\n  return this.x;\n};\n\nRectangleD.prototype.setX = function (x) {\n  this.x = x;\n};\n\nRectangleD.prototype.getY = function () {\n  return this.y;\n};\n\nRectangleD.prototype.setY = function (y) {\n  this.y = y;\n};\n\nRectangleD.prototype.getWidth = function () {\n  return this.width;\n};\n\nRectangleD.prototype.setWidth = function (width) {\n  this.width = width;\n};\n\nRectangleD.prototype.getHeight = function () {\n  return this.height;\n};\n\nRectangleD.prototype.setHeight = function (height) {\n  this.height = height;\n};\n\nRectangleD.prototype.getRight = function () {\n  return this.x + this.width;\n};\n\nRectangleD.prototype.getBottom = function () {\n  return this.y + this.height;\n};\n\nRectangleD.prototype.intersects = function (a) {\n  if (this.getRight() < a.x) {\n    return false;\n  }\n\n  if (this.getBottom() < a.y) {\n    return false;\n  }\n\n  if (a.getRight() < this.x) {\n    return false;\n  }\n\n  if (a.getBottom() < this.y) {\n    return false;\n  }\n\n  return true;\n};\n\nRectangleD.prototype.getCenterX = function () {\n  return this.x + this.width / 2;\n};\n\nRectangleD.prototype.getMinX = function () {\n  return this.getX();\n};\n\nRectangleD.prototype.getMaxX = function () {\n  return this.getX() + this.width;\n};\n\nRectangleD.prototype.getCenterY = function () {\n  return this.y + this.height / 2;\n};\n\nRectangleD.prototype.getMinY = function () {\n  return this.getY();\n};\n\nRectangleD.prototype.getMaxY = function () {\n  return this.getY() + this.height;\n};\n\nRectangleD.prototype.getWidthHalf = function () {\n  return this.width / 2;\n};\n\nRectangleD.prototype.getHeightHalf = function () {\n  return this.height / 2;\n};\n\nmodule.exports = RectangleD;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction UniqueIDGeneretor() {}\n\nUniqueIDGeneretor.lastID = 0;\n\nUniqueIDGeneretor.createID = function (obj) {\n  if (UniqueIDGeneretor.isPrimitive(obj)) {\n    return obj;\n  }\n  if (obj.uniqueID != null) {\n    return obj.uniqueID;\n  }\n  obj.uniqueID = UniqueIDGeneretor.getString();\n  UniqueIDGeneretor.lastID++;\n  return obj.uniqueID;\n};\n\nUniqueIDGeneretor.getString = function (id) {\n  if (id == null) id = UniqueIDGeneretor.lastID;\n  return \"Object#\" + id + \"\";\n};\n\nUniqueIDGeneretor.isPrimitive = function (arg) {\n  var type = typeof arg === \"undefined\" ? \"undefined\" : _typeof(arg);\n  return arg == null || type != \"object\" && type != \"function\";\n};\n\nmodule.exports = UniqueIDGeneretor;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar LayoutConstants = __webpack_require__(0);\nvar LGraphManager = __webpack_require__(6);\nvar LNode = __webpack_require__(3);\nvar LEdge = __webpack_require__(1);\nvar LGraph = __webpack_require__(5);\nvar PointD = __webpack_require__(4);\nvar Transform = __webpack_require__(17);\nvar Emitter = __webpack_require__(27);\n\nfunction Layout(isRemoteUse) {\n  Emitter.call(this);\n\n  //Layout Quality: 0:draft, 1:default, 2:proof\n  this.layoutQuality = LayoutConstants.QUALITY;\n  //Whether layout should create bendpoints as needed or not\n  this.createBendsAsNeeded = LayoutConstants.DEFAULT_CREATE_BENDS_AS_NEEDED;\n  //Whether layout should be incremental or not\n  this.incremental = LayoutConstants.DEFAULT_INCREMENTAL;\n  //Whether we animate from before to after layout node positions\n  this.animationOnLayout = LayoutConstants.DEFAULT_ANIMATION_ON_LAYOUT;\n  //Whether we animate the layout process or not\n  this.animationDuringLayout = LayoutConstants.DEFAULT_ANIMATION_DURING_LAYOUT;\n  //Number iterations that should be done between two successive animations\n  this.animationPeriod = LayoutConstants.DEFAULT_ANIMATION_PERIOD;\n  /**\r\n   * Whether or not leaf nodes (non-compound nodes) are of uniform sizes. When\r\n   * they are, both spring and repulsion forces between two leaf nodes can be\r\n   * calculated without the expensive clipping point calculations, resulting\r\n   * in major speed-up.\r\n   */\n  this.uniformLeafNodeSizes = LayoutConstants.DEFAULT_UNIFORM_LEAF_NODE_SIZES;\n  /**\r\n   * This is used for creation of bendpoints by using dummy nodes and edges.\r\n   * Maps an LEdge to its dummy bendpoint path.\r\n   */\n  this.edgeToDummyNodes = new Map();\n  this.graphManager = new LGraphManager(this);\n  this.isLayoutFinished = false;\n  this.isSubLayout = false;\n  this.isRemoteUse = false;\n\n  if (isRemoteUse != null) {\n    this.isRemoteUse = isRemoteUse;\n  }\n}\n\nLayout.RANDOM_SEED = 1;\n\nLayout.prototype = Object.create(Emitter.prototype);\n\nLayout.prototype.getGraphManager = function () {\n  return this.graphManager;\n};\n\nLayout.prototype.getAllNodes = function () {\n  return this.graphManager.getAllNodes();\n};\n\nLayout.prototype.getAllEdges = function () {\n  return this.graphManager.getAllEdges();\n};\n\nLayout.prototype.getAllNodesToApplyGravitation = function () {\n  return this.graphManager.getAllNodesToApplyGravitation();\n};\n\nLayout.prototype.newGraphManager = function () {\n  var gm = new LGraphManager(this);\n  this.graphManager = gm;\n  return gm;\n};\n\nLayout.prototype.newGraph = function (vGraph) {\n  return new LGraph(null, this.graphManager, vGraph);\n};\n\nLayout.prototype.newNode = function (vNode) {\n  return new LNode(this.graphManager, vNode);\n};\n\nLayout.prototype.newEdge = function (vEdge) {\n  return new LEdge(null, null, vEdge);\n};\n\nLayout.prototype.checkLayoutSuccess = function () {\n  return this.graphManager.getRoot() == null || this.graphManager.getRoot().getNodes().length == 0 || this.graphManager.includesInvalidEdge();\n};\n\nLayout.prototype.runLayout = function () {\n  this.isLayoutFinished = false;\n\n  if (this.tilingPreLayout) {\n    this.tilingPreLayout();\n  }\n\n  this.initParameters();\n  var isLayoutSuccessfull;\n\n  if (this.checkLayoutSuccess()) {\n    isLayoutSuccessfull = false;\n  } else {\n    isLayoutSuccessfull = this.layout();\n  }\n\n  if (LayoutConstants.ANIMATE === 'during') {\n    // If this is a 'during' layout animation. Layout is not finished yet. \n    // We need to perform these in index.js when layout is really finished.\n    return false;\n  }\n\n  if (isLayoutSuccessfull) {\n    if (!this.isSubLayout) {\n      this.doPostLayout();\n    }\n  }\n\n  if (this.tilingPostLayout) {\n    this.tilingPostLayout();\n  }\n\n  this.isLayoutFinished = true;\n\n  return isLayoutSuccessfull;\n};\n\n/**\r\n * This method performs the operations required after layout.\r\n */\nLayout.prototype.doPostLayout = function () {\n  //assert !isSubLayout : \"Should not be called on sub-layout!\";\n  // Propagate geometric changes to v-level objects\n  if (!this.incremental) {\n    this.transform();\n  }\n  this.update();\n};\n\n/**\r\n * This method updates the geometry of the target graph according to\r\n * calculated layout.\r\n */\nLayout.prototype.update2 = function () {\n  // update bend points\n  if (this.createBendsAsNeeded) {\n    this.createBendpointsFromDummyNodes();\n\n    // reset all edges, since the topology has changed\n    this.graphManager.resetAllEdges();\n  }\n\n  // perform edge, node and root updates if layout is not called\n  // remotely\n  if (!this.isRemoteUse) {\n    // update all edges\n    var edge;\n    var allEdges = this.graphManager.getAllEdges();\n    for (var i = 0; i < allEdges.length; i++) {\n      edge = allEdges[i];\n      //      this.update(edge);\n    }\n\n    // recursively update nodes\n    var node;\n    var nodes = this.graphManager.getRoot().getNodes();\n    for (var i = 0; i < nodes.length; i++) {\n      node = nodes[i];\n      //      this.update(node);\n    }\n\n    // update root graph\n    this.update(this.graphManager.getRoot());\n  }\n};\n\nLayout.prototype.update = function (obj) {\n  if (obj == null) {\n    this.update2();\n  } else if (obj instanceof LNode) {\n    var node = obj;\n    if (node.getChild() != null) {\n      // since node is compound, recursively update child nodes\n      var nodes = node.getChild().getNodes();\n      for (var i = 0; i < nodes.length; i++) {\n        update(nodes[i]);\n      }\n    }\n\n    // if the l-level node is associated with a v-level graph object,\n    // then it is assumed that the v-level node implements the\n    // interface Updatable.\n    if (node.vGraphObject != null) {\n      // cast to Updatable without any type check\n      var vNode = node.vGraphObject;\n\n      // call the update method of the interface\n      vNode.update(node);\n    }\n  } else if (obj instanceof LEdge) {\n    var edge = obj;\n    // if the l-level edge is associated with a v-level graph object,\n    // then it is assumed that the v-level edge implements the\n    // interface Updatable.\n\n    if (edge.vGraphObject != null) {\n      // cast to Updatable without any type check\n      var vEdge = edge.vGraphObject;\n\n      // call the update method of the interface\n      vEdge.update(edge);\n    }\n  } else if (obj instanceof LGraph) {\n    var graph = obj;\n    // if the l-level graph is associated with a v-level graph object,\n    // then it is assumed that the v-level object implements the\n    // interface Updatable.\n\n    if (graph.vGraphObject != null) {\n      // cast to Updatable without any type check\n      var vGraph = graph.vGraphObject;\n\n      // call the update method of the interface\n      vGraph.update(graph);\n    }\n  }\n};\n\n/**\r\n * This method is used to set all layout parameters to default values\r\n * determined at compile time.\r\n */\nLayout.prototype.initParameters = function () {\n  if (!this.isSubLayout) {\n    this.layoutQuality = LayoutConstants.QUALITY;\n    this.animationDuringLayout = LayoutConstants.DEFAULT_ANIMATION_DURING_LAYOUT;\n    this.animationPeriod = LayoutConstants.DEFAULT_ANIMATION_PERIOD;\n    this.animationOnLayout = LayoutConstants.DEFAULT_ANIMATION_ON_LAYOUT;\n    this.incremental = LayoutConstants.DEFAULT_INCREMENTAL;\n    this.createBendsAsNeeded = LayoutConstants.DEFAULT_CREATE_BENDS_AS_NEEDED;\n    this.uniformLeafNodeSizes = LayoutConstants.DEFAULT_UNIFORM_LEAF_NODE_SIZES;\n  }\n\n  if (this.animationDuringLayout) {\n    this.animationOnLayout = false;\n  }\n};\n\nLayout.prototype.transform = function (newLeftTop) {\n  if (newLeftTop == undefined) {\n    this.transform(new PointD(0, 0));\n  } else {\n    // create a transformation object (from Eclipse to layout). When an\n    // inverse transform is applied, we get upper-left coordinate of the\n    // drawing or the root graph at given input coordinate (some margins\n    // already included in calculation of left-top).\n\n    var trans = new Transform();\n    var leftTop = this.graphManager.getRoot().updateLeftTop();\n\n    if (leftTop != null) {\n      trans.setWorldOrgX(newLeftTop.x);\n      trans.setWorldOrgY(newLeftTop.y);\n\n      trans.setDeviceOrgX(leftTop.x);\n      trans.setDeviceOrgY(leftTop.y);\n\n      var nodes = this.getAllNodes();\n      var node;\n\n      for (var i = 0; i < nodes.length; i++) {\n        node = nodes[i];\n        node.transform(trans);\n      }\n    }\n  }\n};\n\nLayout.prototype.positionNodesRandomly = function (graph) {\n\n  if (graph == undefined) {\n    //assert !this.incremental;\n    this.positionNodesRandomly(this.getGraphManager().getRoot());\n    this.getGraphManager().getRoot().updateBounds(true);\n  } else {\n    var lNode;\n    var childGraph;\n\n    var nodes = graph.getNodes();\n    for (var i = 0; i < nodes.length; i++) {\n      lNode = nodes[i];\n      childGraph = lNode.getChild();\n\n      if (childGraph == null) {\n        lNode.scatter();\n      } else if (childGraph.getNodes().length == 0) {\n        lNode.scatter();\n      } else {\n        this.positionNodesRandomly(childGraph);\n        lNode.updateBounds();\n      }\n    }\n  }\n};\n\n/**\r\n * This method returns a list of trees where each tree is represented as a\r\n * list of l-nodes. The method returns a list of size 0 when:\r\n * - The graph is not flat or\r\n * - One of the component(s) of the graph is not a tree.\r\n */\nLayout.prototype.getFlatForest = function () {\n  var flatForest = [];\n  var isForest = true;\n\n  // Quick reference for all nodes in the graph manager associated with\n  // this layout. The list should not be changed.\n  var allNodes = this.graphManager.getRoot().getNodes();\n\n  // First be sure that the graph is flat\n  var isFlat = true;\n\n  for (var i = 0; i < allNodes.length; i++) {\n    if (allNodes[i].getChild() != null) {\n      isFlat = false;\n    }\n  }\n\n  // Return empty forest if the graph is not flat.\n  if (!isFlat) {\n    return flatForest;\n  }\n\n  // Run BFS for each component of the graph.\n\n  var visited = new Set();\n  var toBeVisited = [];\n  var parents = new Map();\n  var unProcessedNodes = [];\n\n  unProcessedNodes = unProcessedNodes.concat(allNodes);\n\n  // Each iteration of this loop finds a component of the graph and\n  // decides whether it is a tree or not. If it is a tree, adds it to the\n  // forest and continued with the next component.\n\n  while (unProcessedNodes.length > 0 && isForest) {\n    toBeVisited.push(unProcessedNodes[0]);\n\n    // Start the BFS. Each iteration of this loop visits a node in a\n    // BFS manner.\n    while (toBeVisited.length > 0 && isForest) {\n      //pool operation\n      var currentNode = toBeVisited[0];\n      toBeVisited.splice(0, 1);\n      visited.add(currentNode);\n\n      // Traverse all neighbors of this node\n      var neighborEdges = currentNode.getEdges();\n\n      for (var i = 0; i < neighborEdges.length; i++) {\n        var currentNeighbor = neighborEdges[i].getOtherEnd(currentNode);\n\n        // If BFS is not growing from this neighbor.\n        if (parents.get(currentNode) != currentNeighbor) {\n          // We haven't previously visited this neighbor.\n          if (!visited.has(currentNeighbor)) {\n            toBeVisited.push(currentNeighbor);\n            parents.set(currentNeighbor, currentNode);\n          }\n          // Since we have previously visited this neighbor and\n          // this neighbor is not parent of currentNode, given\n          // graph contains a component that is not tree, hence\n          // it is not a forest.\n          else {\n              isForest = false;\n              break;\n            }\n        }\n      }\n    }\n\n    // The graph contains a component that is not a tree. Empty\n    // previously found trees. The method will end.\n    if (!isForest) {\n      flatForest = [];\n    }\n    // Save currently visited nodes as a tree in our forest. Reset\n    // visited and parents lists. Continue with the next component of\n    // the graph, if any.\n    else {\n        var temp = [].concat(_toConsumableArray(visited));\n        flatForest.push(temp);\n        //flatForest = flatForest.concat(temp);\n        //unProcessedNodes.removeAll(visited);\n        for (var i = 0; i < temp.length; i++) {\n          var value = temp[i];\n          var index = unProcessedNodes.indexOf(value);\n          if (index > -1) {\n            unProcessedNodes.splice(index, 1);\n          }\n        }\n        visited = new Set();\n        parents = new Map();\n      }\n  }\n\n  return flatForest;\n};\n\n/**\r\n * This method creates dummy nodes (an l-level node with minimal dimensions)\r\n * for the given edge (one per bendpoint). The existing l-level structure\r\n * is updated accordingly.\r\n */\nLayout.prototype.createDummyNodesForBendpoints = function (edge) {\n  var dummyNodes = [];\n  var prev = edge.source;\n\n  var graph = this.graphManager.calcLowestCommonAncestor(edge.source, edge.target);\n\n  for (var i = 0; i < edge.bendpoints.length; i++) {\n    // create new dummy node\n    var dummyNode = this.newNode(null);\n    dummyNode.setRect(new Point(0, 0), new Dimension(1, 1));\n\n    graph.add(dummyNode);\n\n    // create new dummy edge between prev and dummy node\n    var dummyEdge = this.newEdge(null);\n    this.graphManager.add(dummyEdge, prev, dummyNode);\n\n    dummyNodes.add(dummyNode);\n    prev = dummyNode;\n  }\n\n  var dummyEdge = this.newEdge(null);\n  this.graphManager.add(dummyEdge, prev, edge.target);\n\n  this.edgeToDummyNodes.set(edge, dummyNodes);\n\n  // remove real edge from graph manager if it is inter-graph\n  if (edge.isInterGraph()) {\n    this.graphManager.remove(edge);\n  }\n  // else, remove the edge from the current graph\n  else {\n      graph.remove(edge);\n    }\n\n  return dummyNodes;\n};\n\n/**\r\n * This method creates bendpoints for edges from the dummy nodes\r\n * at l-level.\r\n */\nLayout.prototype.createBendpointsFromDummyNodes = function () {\n  var edges = [];\n  edges = edges.concat(this.graphManager.getAllEdges());\n  edges = [].concat(_toConsumableArray(this.edgeToDummyNodes.keys())).concat(edges);\n\n  for (var k = 0; k < edges.length; k++) {\n    var lEdge = edges[k];\n\n    if (lEdge.bendpoints.length > 0) {\n      var path = this.edgeToDummyNodes.get(lEdge);\n\n      for (var i = 0; i < path.length; i++) {\n        var dummyNode = path[i];\n        var p = new PointD(dummyNode.getCenterX(), dummyNode.getCenterY());\n\n        // update bendpoint's location according to dummy node\n        var ebp = lEdge.bendpoints.get(i);\n        ebp.x = p.x;\n        ebp.y = p.y;\n\n        // remove the dummy node, dummy edges incident with this\n        // dummy node is also removed (within the remove method)\n        dummyNode.getOwner().remove(dummyNode);\n      }\n\n      // add the real edge to graph\n      this.graphManager.add(lEdge, lEdge.source, lEdge.target);\n    }\n  }\n};\n\nLayout.transform = function (sliderValue, defaultValue, minDiv, maxMul) {\n  if (minDiv != undefined && maxMul != undefined) {\n    var value = defaultValue;\n\n    if (sliderValue <= 50) {\n      var minValue = defaultValue / minDiv;\n      value -= (defaultValue - minValue) / 50 * (50 - sliderValue);\n    } else {\n      var maxValue = defaultValue * maxMul;\n      value += (maxValue - defaultValue) / 50 * (sliderValue - 50);\n    }\n\n    return value;\n  } else {\n    var a, b;\n\n    if (sliderValue <= 50) {\n      a = 9.0 * defaultValue / 500.0;\n      b = defaultValue / 10.0;\n    } else {\n      a = 9.0 * defaultValue / 50.0;\n      b = -8 * defaultValue;\n    }\n\n    return a * sliderValue + b;\n  }\n};\n\n/**\r\n * This method finds and returns the center of the given nodes, assuming\r\n * that the given nodes form a tree in themselves.\r\n */\nLayout.findCenterOfTree = function (nodes) {\n  var list = [];\n  list = list.concat(nodes);\n\n  var removedNodes = [];\n  var remainingDegrees = new Map();\n  var foundCenter = false;\n  var centerNode = null;\n\n  if (list.length == 1 || list.length == 2) {\n    foundCenter = true;\n    centerNode = list[0];\n  }\n\n  for (var i = 0; i < list.length; i++) {\n    var node = list[i];\n    var degree = node.getNeighborsList().size;\n    remainingDegrees.set(node, node.getNeighborsList().size);\n\n    if (degree == 1) {\n      removedNodes.push(node);\n    }\n  }\n\n  var tempList = [];\n  tempList = tempList.concat(removedNodes);\n\n  while (!foundCenter) {\n    var tempList2 = [];\n    tempList2 = tempList2.concat(tempList);\n    tempList = [];\n\n    for (var i = 0; i < list.length; i++) {\n      var node = list[i];\n\n      var index = list.indexOf(node);\n      if (index >= 0) {\n        list.splice(index, 1);\n      }\n\n      var neighbours = node.getNeighborsList();\n\n      neighbours.forEach(function (neighbour) {\n        if (removedNodes.indexOf(neighbour) < 0) {\n          var otherDegree = remainingDegrees.get(neighbour);\n          var newDegree = otherDegree - 1;\n\n          if (newDegree == 1) {\n            tempList.push(neighbour);\n          }\n\n          remainingDegrees.set(neighbour, newDegree);\n        }\n      });\n    }\n\n    removedNodes = removedNodes.concat(tempList);\n\n    if (list.length == 1 || list.length == 2) {\n      foundCenter = true;\n      centerNode = list[0];\n    }\n  }\n\n  return centerNode;\n};\n\n/**\r\n * During the coarsening process, this layout may be referenced by two graph managers\r\n * this setter function grants access to change the currently being used graph manager\r\n */\nLayout.prototype.setGraphManager = function (gm) {\n  this.graphManager = gm;\n};\n\nmodule.exports = Layout;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction RandomSeed() {}\n// adapted from: https://stackoverflow.com/a/19303725\nRandomSeed.seed = 1;\nRandomSeed.x = 0;\n\nRandomSeed.nextDouble = function () {\n  RandomSeed.x = Math.sin(RandomSeed.seed++) * 10000;\n  return RandomSeed.x - Math.floor(RandomSeed.x);\n};\n\nmodule.exports = RandomSeed;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar PointD = __webpack_require__(4);\n\nfunction Transform(x, y) {\n  this.lworldOrgX = 0.0;\n  this.lworldOrgY = 0.0;\n  this.ldeviceOrgX = 0.0;\n  this.ldeviceOrgY = 0.0;\n  this.lworldExtX = 1.0;\n  this.lworldExtY = 1.0;\n  this.ldeviceExtX = 1.0;\n  this.ldeviceExtY = 1.0;\n}\n\nTransform.prototype.getWorldOrgX = function () {\n  return this.lworldOrgX;\n};\n\nTransform.prototype.setWorldOrgX = function (wox) {\n  this.lworldOrgX = wox;\n};\n\nTransform.prototype.getWorldOrgY = function () {\n  return this.lworldOrgY;\n};\n\nTransform.prototype.setWorldOrgY = function (woy) {\n  this.lworldOrgY = woy;\n};\n\nTransform.prototype.getWorldExtX = function () {\n  return this.lworldExtX;\n};\n\nTransform.prototype.setWorldExtX = function (wex) {\n  this.lworldExtX = wex;\n};\n\nTransform.prototype.getWorldExtY = function () {\n  return this.lworldExtY;\n};\n\nTransform.prototype.setWorldExtY = function (wey) {\n  this.lworldExtY = wey;\n};\n\n/* Device related */\n\nTransform.prototype.getDeviceOrgX = function () {\n  return this.ldeviceOrgX;\n};\n\nTransform.prototype.setDeviceOrgX = function (dox) {\n  this.ldeviceOrgX = dox;\n};\n\nTransform.prototype.getDeviceOrgY = function () {\n  return this.ldeviceOrgY;\n};\n\nTransform.prototype.setDeviceOrgY = function (doy) {\n  this.ldeviceOrgY = doy;\n};\n\nTransform.prototype.getDeviceExtX = function () {\n  return this.ldeviceExtX;\n};\n\nTransform.prototype.setDeviceExtX = function (dex) {\n  this.ldeviceExtX = dex;\n};\n\nTransform.prototype.getDeviceExtY = function () {\n  return this.ldeviceExtY;\n};\n\nTransform.prototype.setDeviceExtY = function (dey) {\n  this.ldeviceExtY = dey;\n};\n\nTransform.prototype.transformX = function (x) {\n  var xDevice = 0.0;\n  var worldExtX = this.lworldExtX;\n  if (worldExtX != 0.0) {\n    xDevice = this.ldeviceOrgX + (x - this.lworldOrgX) * this.ldeviceExtX / worldExtX;\n  }\n\n  return xDevice;\n};\n\nTransform.prototype.transformY = function (y) {\n  var yDevice = 0.0;\n  var worldExtY = this.lworldExtY;\n  if (worldExtY != 0.0) {\n    yDevice = this.ldeviceOrgY + (y - this.lworldOrgY) * this.ldeviceExtY / worldExtY;\n  }\n\n  return yDevice;\n};\n\nTransform.prototype.inverseTransformX = function (x) {\n  var xWorld = 0.0;\n  var deviceExtX = this.ldeviceExtX;\n  if (deviceExtX != 0.0) {\n    xWorld = this.lworldOrgX + (x - this.ldeviceOrgX) * this.lworldExtX / deviceExtX;\n  }\n\n  return xWorld;\n};\n\nTransform.prototype.inverseTransformY = function (y) {\n  var yWorld = 0.0;\n  var deviceExtY = this.ldeviceExtY;\n  if (deviceExtY != 0.0) {\n    yWorld = this.lworldOrgY + (y - this.ldeviceOrgY) * this.lworldExtY / deviceExtY;\n  }\n  return yWorld;\n};\n\nTransform.prototype.inverseTransformPoint = function (inPoint) {\n  var outPoint = new PointD(this.inverseTransformX(inPoint.x), this.inverseTransformY(inPoint.y));\n  return outPoint;\n};\n\nmodule.exports = Transform;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar Layout = __webpack_require__(15);\nvar FDLayoutConstants = __webpack_require__(7);\nvar LayoutConstants = __webpack_require__(0);\nvar IGeometry = __webpack_require__(8);\nvar IMath = __webpack_require__(9);\n\nfunction FDLayout() {\n  Layout.call(this);\n\n  this.useSmartIdealEdgeLengthCalculation = FDLayoutConstants.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION;\n  this.idealEdgeLength = FDLayoutConstants.DEFAULT_EDGE_LENGTH;\n  this.springConstant = FDLayoutConstants.DEFAULT_SPRING_STRENGTH;\n  this.repulsionConstant = FDLayoutConstants.DEFAULT_REPULSION_STRENGTH;\n  this.gravityConstant = FDLayoutConstants.DEFAULT_GRAVITY_STRENGTH;\n  this.compoundGravityConstant = FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_STRENGTH;\n  this.gravityRangeFactor = FDLayoutConstants.DEFAULT_GRAVITY_RANGE_FACTOR;\n  this.compoundGravityRangeFactor = FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR;\n  this.displacementThresholdPerNode = 3.0 * FDLayoutConstants.DEFAULT_EDGE_LENGTH / 100;\n  this.coolingFactor = FDLayoutConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL;\n  this.initialCoolingFactor = FDLayoutConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL;\n  this.totalDisplacement = 0.0;\n  this.oldTotalDisplacement = 0.0;\n  this.maxIterations = FDLayoutConstants.MAX_ITERATIONS;\n}\n\nFDLayout.prototype = Object.create(Layout.prototype);\n\nfor (var prop in Layout) {\n  FDLayout[prop] = Layout[prop];\n}\n\nFDLayout.prototype.initParameters = function () {\n  Layout.prototype.initParameters.call(this, arguments);\n\n  this.totalIterations = 0;\n  this.notAnimatedIterations = 0;\n\n  this.useFRGridVariant = FDLayoutConstants.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION;\n\n  this.grid = [];\n};\n\nFDLayout.prototype.calcIdealEdgeLengths = function () {\n  var edge;\n  var lcaDepth;\n  var source;\n  var target;\n  var sizeOfSourceInLca;\n  var sizeOfTargetInLca;\n\n  var allEdges = this.getGraphManager().getAllEdges();\n  for (var i = 0; i < allEdges.length; i++) {\n    edge = allEdges[i];\n\n    edge.idealLength = this.idealEdgeLength;\n\n    if (edge.isInterGraph) {\n      source = edge.getSource();\n      target = edge.getTarget();\n\n      sizeOfSourceInLca = edge.getSourceInLca().getEstimatedSize();\n      sizeOfTargetInLca = edge.getTargetInLca().getEstimatedSize();\n\n      if (this.useSmartIdealEdgeLengthCalculation) {\n        edge.idealLength += sizeOfSourceInLca + sizeOfTargetInLca - 2 * LayoutConstants.SIMPLE_NODE_SIZE;\n      }\n\n      lcaDepth = edge.getLca().getInclusionTreeDepth();\n\n      edge.idealLength += FDLayoutConstants.DEFAULT_EDGE_LENGTH * FDLayoutConstants.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR * (source.getInclusionTreeDepth() + target.getInclusionTreeDepth() - 2 * lcaDepth);\n    }\n  }\n};\n\nFDLayout.prototype.initSpringEmbedder = function () {\n\n  var s = this.getAllNodes().length;\n  if (this.incremental) {\n    if (s > FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT) {\n      this.coolingFactor = Math.max(this.coolingFactor * FDLayoutConstants.COOLING_ADAPTATION_FACTOR, this.coolingFactor - (s - FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT) / (FDLayoutConstants.ADAPTATION_UPPER_NODE_LIMIT - FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT) * this.coolingFactor * (1 - FDLayoutConstants.COOLING_ADAPTATION_FACTOR));\n    }\n    this.maxNodeDisplacement = FDLayoutConstants.MAX_NODE_DISPLACEMENT_INCREMENTAL;\n  } else {\n    if (s > FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT) {\n      this.coolingFactor = Math.max(FDLayoutConstants.COOLING_ADAPTATION_FACTOR, 1.0 - (s - FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT) / (FDLayoutConstants.ADAPTATION_UPPER_NODE_LIMIT - FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT) * (1 - FDLayoutConstants.COOLING_ADAPTATION_FACTOR));\n    } else {\n      this.coolingFactor = 1.0;\n    }\n    this.initialCoolingFactor = this.coolingFactor;\n    this.maxNodeDisplacement = FDLayoutConstants.MAX_NODE_DISPLACEMENT;\n  }\n\n  this.maxIterations = Math.max(this.getAllNodes().length * 5, this.maxIterations);\n\n  this.totalDisplacementThreshold = this.displacementThresholdPerNode * this.getAllNodes().length;\n\n  this.repulsionRange = this.calcRepulsionRange();\n};\n\nFDLayout.prototype.calcSpringForces = function () {\n  var lEdges = this.getAllEdges();\n  var edge;\n\n  for (var i = 0; i < lEdges.length; i++) {\n    edge = lEdges[i];\n\n    this.calcSpringForce(edge, edge.idealLength);\n  }\n};\n\nFDLayout.prototype.calcRepulsionForces = function () {\n  var gridUpdateAllowed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  var forceToNodeSurroundingUpdate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var i, j;\n  var nodeA, nodeB;\n  var lNodes = this.getAllNodes();\n  var processedNodeSet;\n\n  if (this.useFRGridVariant) {\n    if (this.totalIterations % FDLayoutConstants.GRID_CALCULATION_CHECK_PERIOD == 1 && gridUpdateAllowed) {\n      this.updateGrid();\n    }\n\n    processedNodeSet = new Set();\n\n    // calculate repulsion forces between each nodes and its surrounding\n    for (i = 0; i < lNodes.length; i++) {\n      nodeA = lNodes[i];\n      this.calculateRepulsionForceOfANode(nodeA, processedNodeSet, gridUpdateAllowed, forceToNodeSurroundingUpdate);\n      processedNodeSet.add(nodeA);\n    }\n  } else {\n    for (i = 0; i < lNodes.length; i++) {\n      nodeA = lNodes[i];\n\n      for (j = i + 1; j < lNodes.length; j++) {\n        nodeB = lNodes[j];\n\n        // If both nodes are not members of the same graph, skip.\n        if (nodeA.getOwner() != nodeB.getOwner()) {\n          continue;\n        }\n\n        this.calcRepulsionForce(nodeA, nodeB);\n      }\n    }\n  }\n};\n\nFDLayout.prototype.calcGravitationalForces = function () {\n  var node;\n  var lNodes = this.getAllNodesToApplyGravitation();\n\n  for (var i = 0; i < lNodes.length; i++) {\n    node = lNodes[i];\n    this.calcGravitationalForce(node);\n  }\n};\n\nFDLayout.prototype.moveNodes = function () {\n  var lNodes = this.getAllNodes();\n  var node;\n\n  for (var i = 0; i < lNodes.length; i++) {\n    node = lNodes[i];\n    node.move();\n  }\n};\n\nFDLayout.prototype.calcSpringForce = function (edge, idealLength) {\n  var sourceNode = edge.getSource();\n  var targetNode = edge.getTarget();\n\n  var length;\n  var springForce;\n  var springForceX;\n  var springForceY;\n\n  // Update edge length\n  if (this.uniformLeafNodeSizes && sourceNode.getChild() == null && targetNode.getChild() == null) {\n    edge.updateLengthSimple();\n  } else {\n    edge.updateLength();\n\n    if (edge.isOverlapingSourceAndTarget) {\n      return;\n    }\n  }\n\n  length = edge.getLength();\n\n  if (length == 0) return;\n\n  // Calculate spring forces\n  springForce = this.springConstant * (length - idealLength);\n\n  // Project force onto x and y axes\n  springForceX = springForce * (edge.lengthX / length);\n  springForceY = springForce * (edge.lengthY / length);\n\n  // Apply forces on the end nodes\n  sourceNode.springForceX += springForceX;\n  sourceNode.springForceY += springForceY;\n  targetNode.springForceX -= springForceX;\n  targetNode.springForceY -= springForceY;\n};\n\nFDLayout.prototype.calcRepulsionForce = function (nodeA, nodeB) {\n  var rectA = nodeA.getRect();\n  var rectB = nodeB.getRect();\n  var overlapAmount = new Array(2);\n  var clipPoints = new Array(4);\n  var distanceX;\n  var distanceY;\n  var distanceSquared;\n  var distance;\n  var repulsionForce;\n  var repulsionForceX;\n  var repulsionForceY;\n\n  if (rectA.intersects(rectB)) // two nodes overlap\n    {\n      // calculate separation amount in x and y directions\n      IGeometry.calcSeparationAmount(rectA, rectB, overlapAmount, FDLayoutConstants.DEFAULT_EDGE_LENGTH / 2.0);\n\n      repulsionForceX = 2 * overlapAmount[0];\n      repulsionForceY = 2 * overlapAmount[1];\n\n      var childrenConstant = nodeA.noOfChildren * nodeB.noOfChildren / (nodeA.noOfChildren + nodeB.noOfChildren);\n\n      // Apply forces on the two nodes\n      nodeA.repulsionForceX -= childrenConstant * repulsionForceX;\n      nodeA.repulsionForceY -= childrenConstant * repulsionForceY;\n      nodeB.repulsionForceX += childrenConstant * repulsionForceX;\n      nodeB.repulsionForceY += childrenConstant * repulsionForceY;\n    } else // no overlap\n    {\n      // calculate distance\n\n      if (this.uniformLeafNodeSizes && nodeA.getChild() == null && nodeB.getChild() == null) // simply base repulsion on distance of node centers\n        {\n          distanceX = rectB.getCenterX() - rectA.getCenterX();\n          distanceY = rectB.getCenterY() - rectA.getCenterY();\n        } else // use clipping points\n        {\n          IGeometry.getIntersection(rectA, rectB, clipPoints);\n\n          distanceX = clipPoints[2] - clipPoints[0];\n          distanceY = clipPoints[3] - clipPoints[1];\n        }\n\n      // No repulsion range. FR grid variant should take care of this.\n      if (Math.abs(distanceX) < FDLayoutConstants.MIN_REPULSION_DIST) {\n        distanceX = IMath.sign(distanceX) * FDLayoutConstants.MIN_REPULSION_DIST;\n      }\n\n      if (Math.abs(distanceY) < FDLayoutConstants.MIN_REPULSION_DIST) {\n        distanceY = IMath.sign(distanceY) * FDLayoutConstants.MIN_REPULSION_DIST;\n      }\n\n      distanceSquared = distanceX * distanceX + distanceY * distanceY;\n      distance = Math.sqrt(distanceSquared);\n\n      repulsionForce = this.repulsionConstant * nodeA.noOfChildren * nodeB.noOfChildren / distanceSquared;\n\n      // Project force onto x and y axes\n      repulsionForceX = repulsionForce * distanceX / distance;\n      repulsionForceY = repulsionForce * distanceY / distance;\n\n      // Apply forces on the two nodes    \n      nodeA.repulsionForceX -= repulsionForceX;\n      nodeA.repulsionForceY -= repulsionForceY;\n      nodeB.repulsionForceX += repulsionForceX;\n      nodeB.repulsionForceY += repulsionForceY;\n    }\n};\n\nFDLayout.prototype.calcGravitationalForce = function (node) {\n  var ownerGraph;\n  var ownerCenterX;\n  var ownerCenterY;\n  var distanceX;\n  var distanceY;\n  var absDistanceX;\n  var absDistanceY;\n  var estimatedSize;\n  ownerGraph = node.getOwner();\n\n  ownerCenterX = (ownerGraph.getRight() + ownerGraph.getLeft()) / 2;\n  ownerCenterY = (ownerGraph.getTop() + ownerGraph.getBottom()) / 2;\n  distanceX = node.getCenterX() - ownerCenterX;\n  distanceY = node.getCenterY() - ownerCenterY;\n  absDistanceX = Math.abs(distanceX) + node.getWidth() / 2;\n  absDistanceY = Math.abs(distanceY) + node.getHeight() / 2;\n\n  if (node.getOwner() == this.graphManager.getRoot()) // in the root graph\n    {\n      estimatedSize = ownerGraph.getEstimatedSize() * this.gravityRangeFactor;\n\n      if (absDistanceX > estimatedSize || absDistanceY > estimatedSize) {\n        node.gravitationForceX = -this.gravityConstant * distanceX;\n        node.gravitationForceY = -this.gravityConstant * distanceY;\n      }\n    } else // inside a compound\n    {\n      estimatedSize = ownerGraph.getEstimatedSize() * this.compoundGravityRangeFactor;\n\n      if (absDistanceX > estimatedSize || absDistanceY > estimatedSize) {\n        node.gravitationForceX = -this.gravityConstant * distanceX * this.compoundGravityConstant;\n        node.gravitationForceY = -this.gravityConstant * distanceY * this.compoundGravityConstant;\n      }\n    }\n};\n\nFDLayout.prototype.isConverged = function () {\n  var converged;\n  var oscilating = false;\n\n  if (this.totalIterations > this.maxIterations / 3) {\n    oscilating = Math.abs(this.totalDisplacement - this.oldTotalDisplacement) < 2;\n  }\n\n  converged = this.totalDisplacement < this.totalDisplacementThreshold;\n\n  this.oldTotalDisplacement = this.totalDisplacement;\n\n  return converged || oscilating;\n};\n\nFDLayout.prototype.animate = function () {\n  if (this.animationDuringLayout && !this.isSubLayout) {\n    if (this.notAnimatedIterations == this.animationPeriod) {\n      this.update();\n      this.notAnimatedIterations = 0;\n    } else {\n      this.notAnimatedIterations++;\n    }\n  }\n};\n\n//This method calculates the number of children (weight) for all nodes\nFDLayout.prototype.calcNoOfChildrenForAllNodes = function () {\n  var node;\n  var allNodes = this.graphManager.getAllNodes();\n\n  for (var i = 0; i < allNodes.length; i++) {\n    node = allNodes[i];\n    node.noOfChildren = node.getNoOfChildren();\n  }\n};\n\n// -----------------------------------------------------------------------------\n// Section: FR-Grid Variant Repulsion Force Calculation\n// -----------------------------------------------------------------------------\n\nFDLayout.prototype.calcGrid = function (graph) {\n\n  var sizeX = 0;\n  var sizeY = 0;\n\n  sizeX = parseInt(Math.ceil((graph.getRight() - graph.getLeft()) / this.repulsionRange));\n  sizeY = parseInt(Math.ceil((graph.getBottom() - graph.getTop()) / this.repulsionRange));\n\n  var grid = new Array(sizeX);\n\n  for (var i = 0; i < sizeX; i++) {\n    grid[i] = new Array(sizeY);\n  }\n\n  for (var i = 0; i < sizeX; i++) {\n    for (var j = 0; j < sizeY; j++) {\n      grid[i][j] = new Array();\n    }\n  }\n\n  return grid;\n};\n\nFDLayout.prototype.addNodeToGrid = function (v, left, top) {\n\n  var startX = 0;\n  var finishX = 0;\n  var startY = 0;\n  var finishY = 0;\n\n  startX = parseInt(Math.floor((v.getRect().x - left) / this.repulsionRange));\n  finishX = parseInt(Math.floor((v.getRect().width + v.getRect().x - left) / this.repulsionRange));\n  startY = parseInt(Math.floor((v.getRect().y - top) / this.repulsionRange));\n  finishY = parseInt(Math.floor((v.getRect().height + v.getRect().y - top) / this.repulsionRange));\n\n  for (var i = startX; i <= finishX; i++) {\n    for (var j = startY; j <= finishY; j++) {\n      this.grid[i][j].push(v);\n      v.setGridCoordinates(startX, finishX, startY, finishY);\n    }\n  }\n};\n\nFDLayout.prototype.updateGrid = function () {\n  var i;\n  var nodeA;\n  var lNodes = this.getAllNodes();\n\n  this.grid = this.calcGrid(this.graphManager.getRoot());\n\n  // put all nodes to proper grid cells\n  for (i = 0; i < lNodes.length; i++) {\n    nodeA = lNodes[i];\n    this.addNodeToGrid(nodeA, this.graphManager.getRoot().getLeft(), this.graphManager.getRoot().getTop());\n  }\n};\n\nFDLayout.prototype.calculateRepulsionForceOfANode = function (nodeA, processedNodeSet, gridUpdateAllowed, forceToNodeSurroundingUpdate) {\n\n  if (this.totalIterations % FDLayoutConstants.GRID_CALCULATION_CHECK_PERIOD == 1 && gridUpdateAllowed || forceToNodeSurroundingUpdate) {\n    var surrounding = new Set();\n    nodeA.surrounding = new Array();\n    var nodeB;\n    var grid = this.grid;\n\n    for (var i = nodeA.startX - 1; i < nodeA.finishX + 2; i++) {\n      for (var j = nodeA.startY - 1; j < nodeA.finishY + 2; j++) {\n        if (!(i < 0 || j < 0 || i >= grid.length || j >= grid[0].length)) {\n          for (var k = 0; k < grid[i][j].length; k++) {\n            nodeB = grid[i][j][k];\n\n            // If both nodes are not members of the same graph, \n            // or both nodes are the same, skip.\n            if (nodeA.getOwner() != nodeB.getOwner() || nodeA == nodeB) {\n              continue;\n            }\n\n            // check if the repulsion force between\n            // nodeA and nodeB has already been calculated\n            if (!processedNodeSet.has(nodeB) && !surrounding.has(nodeB)) {\n              var distanceX = Math.abs(nodeA.getCenterX() - nodeB.getCenterX()) - (nodeA.getWidth() / 2 + nodeB.getWidth() / 2);\n              var distanceY = Math.abs(nodeA.getCenterY() - nodeB.getCenterY()) - (nodeA.getHeight() / 2 + nodeB.getHeight() / 2);\n\n              // if the distance between nodeA and nodeB \n              // is less then calculation range\n              if (distanceX <= this.repulsionRange && distanceY <= this.repulsionRange) {\n                //then add nodeB to surrounding of nodeA\n                surrounding.add(nodeB);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    nodeA.surrounding = [].concat(_toConsumableArray(surrounding));\n  }\n  for (i = 0; i < nodeA.surrounding.length; i++) {\n    this.calcRepulsionForce(nodeA, nodeA.surrounding[i]);\n  }\n};\n\nFDLayout.prototype.calcRepulsionRange = function () {\n  return 0.0;\n};\n\nmodule.exports = FDLayout;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LEdge = __webpack_require__(1);\nvar FDLayoutConstants = __webpack_require__(7);\n\nfunction FDLayoutEdge(source, target, vEdge) {\n  LEdge.call(this, source, target, vEdge);\n  this.idealLength = FDLayoutConstants.DEFAULT_EDGE_LENGTH;\n}\n\nFDLayoutEdge.prototype = Object.create(LEdge.prototype);\n\nfor (var prop in LEdge) {\n  FDLayoutEdge[prop] = LEdge[prop];\n}\n\nmodule.exports = FDLayoutEdge;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LNode = __webpack_require__(3);\n\nfunction FDLayoutNode(gm, loc, size, vNode) {\n  // alternative constructor is handled inside LNode\n  LNode.call(this, gm, loc, size, vNode);\n  //Spring, repulsion and gravitational forces acting on this node\n  this.springForceX = 0;\n  this.springForceY = 0;\n  this.repulsionForceX = 0;\n  this.repulsionForceY = 0;\n  this.gravitationForceX = 0;\n  this.gravitationForceY = 0;\n  //Amount by which this node is to be moved in this iteration\n  this.displacementX = 0;\n  this.displacementY = 0;\n\n  //Start and finish grid coordinates that this node is fallen into\n  this.startX = 0;\n  this.finishX = 0;\n  this.startY = 0;\n  this.finishY = 0;\n\n  //Geometric neighbors of this node\n  this.surrounding = [];\n}\n\nFDLayoutNode.prototype = Object.create(LNode.prototype);\n\nfor (var prop in LNode) {\n  FDLayoutNode[prop] = LNode[prop];\n}\n\nFDLayoutNode.prototype.setGridCoordinates = function (_startX, _finishX, _startY, _finishY) {\n  this.startX = _startX;\n  this.finishX = _finishX;\n  this.startY = _startY;\n  this.finishY = _finishY;\n};\n\nmodule.exports = FDLayoutNode;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction DimensionD(width, height) {\n  this.width = 0;\n  this.height = 0;\n  if (width !== null && height !== null) {\n    this.height = height;\n    this.width = width;\n  }\n}\n\nDimensionD.prototype.getWidth = function () {\n  return this.width;\n};\n\nDimensionD.prototype.setWidth = function (width) {\n  this.width = width;\n};\n\nDimensionD.prototype.getHeight = function () {\n  return this.height;\n};\n\nDimensionD.prototype.setHeight = function (height) {\n  this.height = height;\n};\n\nmodule.exports = DimensionD;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar UniqueIDGeneretor = __webpack_require__(14);\n\nfunction HashMap() {\n  this.map = {};\n  this.keys = [];\n}\n\nHashMap.prototype.put = function (key, value) {\n  var theId = UniqueIDGeneretor.createID(key);\n  if (!this.contains(theId)) {\n    this.map[theId] = value;\n    this.keys.push(key);\n  }\n};\n\nHashMap.prototype.contains = function (key) {\n  var theId = UniqueIDGeneretor.createID(key);\n  return this.map[key] != null;\n};\n\nHashMap.prototype.get = function (key) {\n  var theId = UniqueIDGeneretor.createID(key);\n  return this.map[theId];\n};\n\nHashMap.prototype.keySet = function () {\n  return this.keys;\n};\n\nmodule.exports = HashMap;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar UniqueIDGeneretor = __webpack_require__(14);\n\nfunction HashSet() {\n  this.set = {};\n}\n;\n\nHashSet.prototype.add = function (obj) {\n  var theId = UniqueIDGeneretor.createID(obj);\n  if (!this.contains(theId)) this.set[theId] = obj;\n};\n\nHashSet.prototype.remove = function (obj) {\n  delete this.set[UniqueIDGeneretor.createID(obj)];\n};\n\nHashSet.prototype.clear = function () {\n  this.set = {};\n};\n\nHashSet.prototype.contains = function (obj) {\n  return this.set[UniqueIDGeneretor.createID(obj)] == obj;\n};\n\nHashSet.prototype.isEmpty = function () {\n  return this.size() === 0;\n};\n\nHashSet.prototype.size = function () {\n  return Object.keys(this.set).length;\n};\n\n//concats this.set to the given list\nHashSet.prototype.addAllTo = function (list) {\n  var keys = Object.keys(this.set);\n  var length = keys.length;\n  for (var i = 0; i < length; i++) {\n    list.push(this.set[keys[i]]);\n  }\n};\n\nHashSet.prototype.size = function () {\n  return Object.keys(this.set).length;\n};\n\nHashSet.prototype.addAll = function (list) {\n  var s = list.length;\n  for (var i = 0; i < s; i++) {\n    var v = list[i];\n    this.add(v);\n  }\n};\n\nmodule.exports = HashSet;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * A classic Quicksort algorithm with Hoare's partition\n * - Works also on LinkedList objects\n *\n * Copyright: i-Vis Research Group, Bilkent University, 2007 - present\n */\n\nvar LinkedList = __webpack_require__(11);\n\nvar Quicksort = function () {\n    function Quicksort(A, compareFunction) {\n        _classCallCheck(this, Quicksort);\n\n        if (compareFunction !== null || compareFunction !== undefined) this.compareFunction = this._defaultCompareFunction;\n\n        var length = void 0;\n        if (A instanceof LinkedList) length = A.size();else length = A.length;\n\n        this._quicksort(A, 0, length - 1);\n    }\n\n    _createClass(Quicksort, [{\n        key: '_quicksort',\n        value: function _quicksort(A, p, r) {\n            if (p < r) {\n                var q = this._partition(A, p, r);\n                this._quicksort(A, p, q);\n                this._quicksort(A, q + 1, r);\n            }\n        }\n    }, {\n        key: '_partition',\n        value: function _partition(A, p, r) {\n            var x = this._get(A, p);\n            var i = p;\n            var j = r;\n            while (true) {\n                while (this.compareFunction(x, this._get(A, j))) {\n                    j--;\n                }while (this.compareFunction(this._get(A, i), x)) {\n                    i++;\n                }if (i < j) {\n                    this._swap(A, i, j);\n                    i++;\n                    j--;\n                } else return j;\n            }\n        }\n    }, {\n        key: '_get',\n        value: function _get(object, index) {\n            if (object instanceof LinkedList) return object.get_object_at(index);else return object[index];\n        }\n    }, {\n        key: '_set',\n        value: function _set(object, index, value) {\n            if (object instanceof LinkedList) object.set_object_at(index, value);else object[index] = value;\n        }\n    }, {\n        key: '_swap',\n        value: function _swap(A, i, j) {\n            var temp = this._get(A, i);\n            this._set(A, i, this._get(A, j));\n            this._set(A, j, temp);\n        }\n    }, {\n        key: '_defaultCompareFunction',\n        value: function _defaultCompareFunction(a, b) {\n            return b > a;\n        }\n    }]);\n\n    return Quicksort;\n}();\n\nmodule.exports = Quicksort;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n *   Needleman-Wunsch algorithm is an procedure to compute the optimal global alignment of two string\n *   sequences by S.B.Needleman and C.D.Wunsch (1970).\n *\n *   Aside from the inputs, you can assign the scores for,\n *   - Match: The two characters at the current index are same.\n *   - Mismatch: The two characters at the current index are different.\n *   - Insertion/Deletion(gaps): The best alignment involves one letter aligning to a gap in the other string.\n */\n\nvar NeedlemanWunsch = function () {\n    function NeedlemanWunsch(sequence1, sequence2) {\n        var match_score = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n        var mismatch_penalty = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : -1;\n        var gap_penalty = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : -1;\n\n        _classCallCheck(this, NeedlemanWunsch);\n\n        this.sequence1 = sequence1;\n        this.sequence2 = sequence2;\n        this.match_score = match_score;\n        this.mismatch_penalty = mismatch_penalty;\n        this.gap_penalty = gap_penalty;\n\n        // Just the remove redundancy\n        this.iMax = sequence1.length + 1;\n        this.jMax = sequence2.length + 1;\n\n        // Grid matrix of scores\n        this.grid = new Array(this.iMax);\n        for (var i = 0; i < this.iMax; i++) {\n            this.grid[i] = new Array(this.jMax);\n\n            for (var j = 0; j < this.jMax; j++) {\n                this.grid[i][j] = 0;\n            }\n        }\n\n        // Traceback matrix (2D array, each cell is an array of boolean values for [`Diag`, `Up`, `Left`] positions)\n        this.tracebackGrid = new Array(this.iMax);\n        for (var _i = 0; _i < this.iMax; _i++) {\n            this.tracebackGrid[_i] = new Array(this.jMax);\n\n            for (var _j = 0; _j < this.jMax; _j++) {\n                this.tracebackGrid[_i][_j] = [null, null, null];\n            }\n        }\n\n        // The aligned sequences (return multiple possibilities)\n        this.alignments = [];\n\n        // Final alignment score\n        this.score = -1;\n\n        // Calculate scores and tracebacks\n        this.computeGrids();\n    }\n\n    _createClass(NeedlemanWunsch, [{\n        key: \"getScore\",\n        value: function getScore() {\n            return this.score;\n        }\n    }, {\n        key: \"getAlignments\",\n        value: function getAlignments() {\n            return this.alignments;\n        }\n\n        // Main dynamic programming procedure\n\n    }, {\n        key: \"computeGrids\",\n        value: function computeGrids() {\n            // Fill in the first row\n            for (var j = 1; j < this.jMax; j++) {\n                this.grid[0][j] = this.grid[0][j - 1] + this.gap_penalty;\n                this.tracebackGrid[0][j] = [false, false, true];\n            }\n\n            // Fill in the first column\n            for (var i = 1; i < this.iMax; i++) {\n                this.grid[i][0] = this.grid[i - 1][0] + this.gap_penalty;\n                this.tracebackGrid[i][0] = [false, true, false];\n            }\n\n            // Fill the rest of the grid\n            for (var _i2 = 1; _i2 < this.iMax; _i2++) {\n                for (var _j2 = 1; _j2 < this.jMax; _j2++) {\n                    // Find the max score(s) among [`Diag`, `Up`, `Left`]\n                    var diag = void 0;\n                    if (this.sequence1[_i2 - 1] === this.sequence2[_j2 - 1]) diag = this.grid[_i2 - 1][_j2 - 1] + this.match_score;else diag = this.grid[_i2 - 1][_j2 - 1] + this.mismatch_penalty;\n\n                    var up = this.grid[_i2 - 1][_j2] + this.gap_penalty;\n                    var left = this.grid[_i2][_j2 - 1] + this.gap_penalty;\n\n                    // If there exists multiple max values, capture them for multiple paths\n                    var maxOf = [diag, up, left];\n                    var indices = this.arrayAllMaxIndexes(maxOf);\n\n                    // Update Grids\n                    this.grid[_i2][_j2] = maxOf[indices[0]];\n                    this.tracebackGrid[_i2][_j2] = [indices.includes(0), indices.includes(1), indices.includes(2)];\n                }\n            }\n\n            // Update alignment score\n            this.score = this.grid[this.iMax - 1][this.jMax - 1];\n        }\n\n        // Gets all possible valid sequence combinations\n\n    }, {\n        key: \"alignmentTraceback\",\n        value: function alignmentTraceback() {\n            var inProcessAlignments = [];\n\n            inProcessAlignments.push({ pos: [this.sequence1.length, this.sequence2.length],\n                seq1: \"\",\n                seq2: \"\"\n            });\n\n            while (inProcessAlignments[0]) {\n                var current = inProcessAlignments[0];\n                var directions = this.tracebackGrid[current.pos[0]][current.pos[1]];\n\n                if (directions[0]) {\n                    inProcessAlignments.push({ pos: [current.pos[0] - 1, current.pos[1] - 1],\n                        seq1: this.sequence1[current.pos[0] - 1] + current.seq1,\n                        seq2: this.sequence2[current.pos[1] - 1] + current.seq2\n                    });\n                }\n                if (directions[1]) {\n                    inProcessAlignments.push({ pos: [current.pos[0] - 1, current.pos[1]],\n                        seq1: this.sequence1[current.pos[0] - 1] + current.seq1,\n                        seq2: '-' + current.seq2\n                    });\n                }\n                if (directions[2]) {\n                    inProcessAlignments.push({ pos: [current.pos[0], current.pos[1] - 1],\n                        seq1: '-' + current.seq1,\n                        seq2: this.sequence2[current.pos[1] - 1] + current.seq2\n                    });\n                }\n\n                if (current.pos[0] === 0 && current.pos[1] === 0) this.alignments.push({ sequence1: current.seq1,\n                    sequence2: current.seq2\n                });\n\n                inProcessAlignments.shift();\n            }\n\n            return this.alignments;\n        }\n\n        // Helper Functions\n\n    }, {\n        key: \"getAllIndexes\",\n        value: function getAllIndexes(arr, val) {\n            var indexes = [],\n                i = -1;\n            while ((i = arr.indexOf(val, i + 1)) !== -1) {\n                indexes.push(i);\n            }\n            return indexes;\n        }\n    }, {\n        key: \"arrayAllMaxIndexes\",\n        value: function arrayAllMaxIndexes(array) {\n            return this.getAllIndexes(array, Math.max.apply(null, array));\n        }\n    }]);\n\n    return NeedlemanWunsch;\n}();\n\nmodule.exports = NeedlemanWunsch;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar layoutBase = function layoutBase() {\n  return;\n};\n\nlayoutBase.FDLayout = __webpack_require__(18);\nlayoutBase.FDLayoutConstants = __webpack_require__(7);\nlayoutBase.FDLayoutEdge = __webpack_require__(19);\nlayoutBase.FDLayoutNode = __webpack_require__(20);\nlayoutBase.DimensionD = __webpack_require__(21);\nlayoutBase.HashMap = __webpack_require__(22);\nlayoutBase.HashSet = __webpack_require__(23);\nlayoutBase.IGeometry = __webpack_require__(8);\nlayoutBase.IMath = __webpack_require__(9);\nlayoutBase.Integer = __webpack_require__(10);\nlayoutBase.Point = __webpack_require__(12);\nlayoutBase.PointD = __webpack_require__(4);\nlayoutBase.RandomSeed = __webpack_require__(16);\nlayoutBase.RectangleD = __webpack_require__(13);\nlayoutBase.Transform = __webpack_require__(17);\nlayoutBase.UniqueIDGeneretor = __webpack_require__(14);\nlayoutBase.Quicksort = __webpack_require__(24);\nlayoutBase.LinkedList = __webpack_require__(11);\nlayoutBase.LGraphObject = __webpack_require__(2);\nlayoutBase.LGraph = __webpack_require__(5);\nlayoutBase.LEdge = __webpack_require__(1);\nlayoutBase.LGraphManager = __webpack_require__(6);\nlayoutBase.LNode = __webpack_require__(3);\nlayoutBase.Layout = __webpack_require__(15);\nlayoutBase.LayoutConstants = __webpack_require__(0);\nlayoutBase.NeedlemanWunsch = __webpack_require__(25);\n\nmodule.exports = layoutBase;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction Emitter() {\n  this.listeners = [];\n}\n\nvar p = Emitter.prototype;\n\np.addListener = function (event, callback) {\n  this.listeners.push({\n    event: event,\n    callback: callback\n  });\n};\n\np.removeListener = function (event, callback) {\n  for (var i = this.listeners.length; i >= 0; i--) {\n    var l = this.listeners[i];\n\n    if (l.event === event && l.callback === callback) {\n      this.listeners.splice(i, 1);\n    }\n  }\n};\n\np.emit = function (event, data) {\n  for (var i = 0; i < this.listeners.length; i++) {\n    var l = this.listeners[i];\n\n    if (event === l.event) {\n      l.callback(data);\n    }\n  }\n};\n\nmodule.exports = Emitter;\n\n/***/ })\n/******/ ]);\n});","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"layout-base\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"layout-base\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"avsdfBase\"] = factory(require(\"layout-base\"));\n\telse\n\t\troot[\"avsdfBase\"] = factory(root[\"layoutBase\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * This class implements data and functionality required for AVSDF layout per\n * circle.\n *\n *\n * Copyright: i-Vis Research Group, Bilkent University, 2007 - present\n */\n\nvar LGraph = __webpack_require__(0).LGraph;\n\n// -----------------------------------------------------------------------------\n// Section: Initializations\n// -----------------------------------------------------------------------------\n\nfunction AVSDFCircle(parent, graphMgr, vObject) {\n    LGraph.call(this, parent, graphMgr, vObject);\n    this.inOrder = undefined;\n    this.currentIndex = 0;\n    this.nodeSeparation = undefined;\n    this.stack = [];\n    this.perimeter = 0;\n    this.centerX = 0;\n    this.centerY = 0;\n    this.radius = 0;\n}\n\nAVSDFCircle.prototype = Object.create(LGraph.prototype);\n\nfor (var property in LGraph) {\n    AVSDFCircle[property] = LGraph[property];\n}\n\nAVSDFCircle.prototype.initOrdering = function () {\n    this.inOrder = [];\n};\n\n// -----------------------------------------------------------------------------\n// Section: Accessor Functions\n// -----------------------------------------------------------------------------\n\n// This function returns the array in which the nodes of this circle are kept in order.\nAVSDFCircle.prototype.getOrder = function () {\n    return this.inOrder;\n};\n\n// This function returns the x-coordinate of the center of this circle.\nAVSDFCircle.prototype.getCenterX = function () {\n    return this.centerX;\n};\n\n// This function returns the y-coordinate of the center of this circle.\nAVSDFCircle.prototype.getCenterY = function () {\n    return this.centerY;\n};\n\n// This function returns the radius of this circle.\nAVSDFCircle.prototype.getRadius = function () {\n    return this.radius;\n};\n\n// This function returns the total number of vertices of this circle.\nAVSDFCircle.prototype.getSize = function () {\n    return this.getNodes().length;\n};\n\n// This function calculates and returns the total number of crossings in this\n// circle by adding up the crossing number of individual nodes on it.\nAVSDFCircle.prototype.getTotalCrossingOfCircle = function () {\n    var self = this;\n    var crossingNumber = 0;\n\n    for (var node in self.inOrder) {\n        var nodeCrossing = node.getTotalCrossingOfEdges();\n        if (nodeCrossing === -1) {\n            return -1;\n        }\n        crossingNumber += nodeCrossing;\n    }\n\n    return crossingNumber / 4;\n};\n\n// This function checks whether or not all of the vertices of this circle are\n// assigned an index on the circle.\nAVSDFCircle.prototype.hasFinishedOrdering = function () {\n    return this.currentIndex === this.getNodes().length;\n};\n\n// This function returns the node separation of this circle.\nAVSDFCircle.prototype.getNodeSeparation = function () {\n    return this.nodeSeparation;\n};\n\n// This function sets the node separation of this circle.\nAVSDFCircle.prototype.setNodeSeparation = function (nodeSeparation) {\n    this.nodeSeparation = nodeSeparation;\n};\n\n// -----------------------------------------------------------------------------\n// Section: Remaining Functions\n// -----------------------------------------------------------------------------\n\n// This function traverses the vertices of this circle and corrects the angle\n// of the vertices with respect to their circle indices.\nAVSDFCircle.prototype.correctAngles = function () {\n    var self = this;\n    self.currentIndex = 0;\n\n    self.inOrder.forEach(function (node) {\n        return self.putInOrder(node);\n    });\n};\n\n// This function puts the given node on the circle in the current order and\n// sets its angle appropriately.\nAVSDFCircle.prototype.putInOrder = function (node) {\n    var self = this;\n\n    var nodes = self.getNodes();\n\n    // Note that id attribute of a node is added before\n    // AVSDFLayout is called\n    var found = false;\n    for (var i = 0; i < nodes.length; i++) {\n        if (nodes[i].id == node.id) {\n            found = true;\n            break;\n        }\n    }\n\n    if (!found) {\n        throw \"The node must be a member of LGraph\";\n    }\n\n    self.inOrder[self.currentIndex] = node;\n    node.setIndex(self.currentIndex);\n\n    if (self.currentIndex === 0) {\n        node.setAngle(0.0);\n    } else {\n        node.setAngle(self.inOrder[self.currentIndex - 1].getAngle() + 2 * Math.PI * (node.getDiagonal() / 2 + self.nodeSeparation + self.inOrder[self.currentIndex - 1].getDiagonal() / 2) / self.perimeter);\n    }\n\n    self.currentIndex++;\n};\n\n// This function returns the next node to be placed on this circle with\n// respect to the AVSDF algorithm.\nAVSDFCircle.prototype.findNodeToPlace = function () {\n    var self = this;\n    var sDegreeNode = undefined;\n\n    // Find the smallest degree vertex if the stack is empty\n    if (self.stack.length === 0) {\n        sDegreeNode = self.findUnorderedSmallestDegreeNode();\n    }\n    // Find the first vertex in the stack not yet placed\n    else {\n            var foundUnorderNode = false;\n\n            while (!foundUnorderNode && !(self.stack.length === 0)) {\n                sDegreeNode = self.stack.pop();\n                foundUnorderNode = !sDegreeNode.isOrdered();\n            }\n\n            if (!foundUnorderNode) {\n                sDegreeNode = undefined;\n            }\n        }\n\n    // If no unordered vertex is found in the stack, find one\n    // from the remaining ones\n    if (sDegreeNode === undefined) {\n        sDegreeNode = self.findUnorderedSmallestDegreeNode();\n    }\n\n    // Add the unordered neighbors of this node to the stack\n    if (sDegreeNode !== undefined) {\n        var neighbors = sDegreeNode.getNeighborsSortedByDegree();\n\n        for (var i = neighbors.length - 1; i >= 0; i--) {\n            var neighbor = neighbors[i];\n\n            if (!neighbor.isOrdered()) // Check here for possible error\n                {\n                    self.stack.push(neighbor);\n                }\n        }\n    }\n\n    return sDegreeNode;\n};\n\n// This function calculates the radius of this circle with respect to the sizes\n// of the vertices and the node separation parameter.\nAVSDFCircle.prototype.calculateRadius = function () {\n    var self = this;\n    var totalDiagonal = 0;\n\n    self.getNodes().forEach(function (node) {\n        return totalDiagonal += Math.sqrt(node.getWidth() * node.getWidth() + node.getHeight() * node.getHeight());\n    });\n\n    self.perimeter = totalDiagonal + self.getNodes().length * self.nodeSeparation;\n    var radius = self.perimeter / (2 * Math.PI);\n\n    // Check here for possible error\n\n    self.getParent().setWidth(2 * radius);\n    self.getParent().setHeight(2 * radius);\n    self.getParent().setCenter(self.getParent().getWidth(), self.getParent().getHeight());\n\n    self.centerX = self.getParent().getCenterX();\n    self.centerY = self.getParent().getCenterY();\n    self.radius = self.getParent().getHeight() / 2;\n};\n\n// This function calculates the total number of crossings of all vertices of\n// this circle.\nAVSDFCircle.prototype.calculateEdgeCrossingsOfNodes = function () {\n    this.getNodes().forEach(function (node) {\n        return node.calculateTotalCrossing();\n    });\n};\n\n// This function sets the index of each vertex to its position in inOrder\n// array. Note that index of a node can be different from its place in the\n// array due to crossing reduction phase of the AVSDF algorithm. It loads\n// old index values to vertices due to an increase in the number of\n// crossings with the new indices.\nAVSDFCircle.prototype.loadOldIndicesOfNodes = function () {\n    //this.inOrder.forEach( (node,index) => node.setIndex(index));\n    var self = this;\n    for (var i = 0; i < this.inOrder.length; i++) {\n        self.inOrder[i].setIndex(i);\n    }\n};\n\n// This function sets the position of each node in inOrder array to its index.\n// Note that index of a node can be different from its place in the inOrder\n// array due to crossing reduction phase of the AVSDF algorithm. This function\n// puts the nodes to their new index values in inOrder array due to a\n// decrease in the number of crossings with the new indices.\nAVSDFCircle.prototype.reOrderVertices = function () {\n    var self = this;\n    this.getNodes().forEach(function (node) {\n        return self.inOrder[node.getIndex()] = node;\n    });\n};\n\n// This function finds and returns the unordered smallest degree vertex on\n// this circle.\nAVSDFCircle.prototype.findUnorderedSmallestDegreeNode = function () {\n    var minDegree = Number.MAX_SAFE_INTEGER;\n    var sDegreeNode = void 0;\n\n    this.getNodes().forEach(function (node) {\n        if (node.getDegree() < minDegree && !node.isOrdered()) {\n            minDegree = node.getDegree();\n            sDegreeNode = node;\n        }\n    });\n\n    return sDegreeNode;\n};\n\nmodule.exports = AVSDFCircle;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LayoutConstants = __webpack_require__(0).LayoutConstants;\n\nfunction AVSDFConstants() {}\n\n// AVSDFConstants inherits properties in LayoutConstants\nfor (var prop in LayoutConstants) {\n    AVSDFConstants[prop] = LayoutConstants[prop];\n}\n\nAVSDFConstants.DEFAULT_NODE_SEPARATION = 60;\n\nmodule.exports = AVSDFConstants;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * This class implements data and functionality required for AVSDF layout per\n * edge.\n *\n\n * Copyright: i-Vis Research Group, Bilkent University, 2007 - present\n */\n\nvar LEdge = __webpack_require__(0).LEdge;\n\n// -----------------------------------------------------------------------------\n// Section: Initializations\n// -----------------------------------------------------------------------------\n\nfunction AVSDFEdge(source, target, vEdge) {\n    LEdge.call(this, source, target, vEdge);\n}\n\nAVSDFEdge.prototype = Object.create(LEdge.prototype);\n\nfor (var properties in LEdge) {\n    AVSDFEdge[properties] = LEdge[properties];\n}\n\n// -----------------------------------------------------------------------------\n// Section: Accessor Functions\n// -----------------------------------------------------------------------------\n\n// The function getOtherEnd returns the other end of this edge.\nAVSDFEdge.prototype.getOtherEnd = function (node) {\n    return LEdge.prototype.getOtherEnd(node);\n};\n\n// -----------------------------------------------------------------------------\n// Section: Remaining Functions\n// -----------------------------------------------------------------------------\n\n// This function checks whether this edge crosses with the input edge. It\n// returns false, if any of the vertices those edges are incident to are not\n// yet placed on the circle.\nAVSDFEdge.prototype.crossesWithEdge = function (otherEdge) {\n    var self = this;\n    var sourcePos = self.getSource().getIndex();\n    var targetPos = self.getTarget().getIndex();\n    var otherSourcePos = otherEdge.getSource().getIndex();\n    var otherTargetPos = otherEdge.getTarget().getIndex();\n\n    // if any of the vertices those two edges are not yet placed\n    if (sourcePos === -1 || targetPos === -1 || otherSourcePos === -1 || otherTargetPos === -1) {\n        return false;\n    }\n\n    var otherSourceDist = otherEdge.getSource().getCircDistWithTheNode(self.getSource());\n    var otherTargetDist = otherEdge.getTarget().getCircDistWithTheNode(self.getSource());\n    var thisTargetDist = self.getTarget().getCircDistWithTheNode(self.getSource());\n\n    if (thisTargetDist < Math.max(otherSourceDist, otherTargetDist) && thisTargetDist > Math.min(otherSourceDist, otherTargetDist) && otherTargetDist !== 0 && otherSourceDist !== 0) {\n        return true;\n    }\n\n    return false;\n};\n\n// This function returns 1 if this edge crosses with the input edge, 0\n// otherwise.\nAVSDFEdge.prototype.crossingWithEdge = function (otherEdge) {\n    var self = this;\n    var result = self.crossesWithEdge(otherEdge);\n\n    return result ? 1 : 0;\n};\n\n// This function calculates the total number of crossings of this edge with\n// all the edges given in the input list.\nAVSDFEdge.prototype.calculateTotalCrossingWithList = function (edgeList) {\n    var self = this;\n    var totalCrossing = 0;\n\n    edgeList.forEach(function (edge) {\n        return totalCrossing += self.crossingWithEdge(edge);\n    });\n\n    return totalCrossing;\n};\n\nmodule.exports = AVSDFEdge;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * This class implements data and functionality required for AVSDF layout per\n * node.\n *\n *\n * Copyright: i-Vis Research Group, Bilkent University, 2007 - present\n */\n\nvar LNode = __webpack_require__(0).LNode;\nvar Quicksort = __webpack_require__(0).Quicksort;\n\n// -----------------------------------------------------------------------------\n// Section: Initializations\n// -----------------------------------------------------------------------------\n\nfunction AVSDFNode(gm, vNode, loc, size) {\n    // Constructor 1: AVSDFNode(gm, vNode, loc, size)\n    if (loc !== undefined && size !== undefined) {\n        LNode.call(this, gm, vNode, loc, size);\n    }\n    // Constructor 2: AVSDFNode(gm, vNode)\n    else {\n            LNode.call(this, gm, vNode);\n        }\n\n    // Angle of this node on the owner circle in radians\n    this.angle = 0;\n\n    // Index of this node on the owner circle\n    this.circleIndex = -1;\n\n    // Total number of crossings of the edges this node is incident to\n    this.totalCrossingOfEdges = -1;\n\n    // Whether the current edge crossing number is valid or it needs to be\n    // recalculated\n    this.isCrossingNumberValid = false;\n}\n\nAVSDFNode.prototype = Object.create(LNode.prototype);\nfor (var properties in LNode) {\n    AVSDFNode[properties] = LNode[properties];\n}\n\n// -----------------------------------------------------------------------------\n// Section: Accessor Functions\n// -----------------------------------------------------------------------------\n\n// This function returns the circle this node is owned by.\nAVSDFNode.prototype.getCircle = function () {\n    return this.getOwner();\n};\n\n// This function sets the index of this node on the circle, and sets the\n// crossing number invalid. Due to the index change of the node; it needs to\n// be recalculated.\nAVSDFNode.prototype.setIndex = function (index) {\n    this.circleIndex = index;\n    this.isCrossingNumberValid = false;\n};\n\n// This function returns the index of this node in the ordering of its owner\n// circle. Here -1 means that the vertex is not yet placed on its owner\n//circle.\nAVSDFNode.prototype.getIndex = function () {\n    return this.circleIndex;\n};\n\n// This function returns the array of the neigbors of this node sorted in\n// ascending order.\nAVSDFNode.prototype.getNeighborsSortedByDegree = function () {\n    var self = this;\n\n    var result = Array.from(self.getNeighborsList());\n    result = result.filter(function (node) {\n        return node.getIndex() === -1;\n    });\n\n    result.sort(function (a, b) {\n        return a.getDegree() - b.getDegree();\n    });\n\n    return result;\n};\n\n// This function returns the degree of this node.\nAVSDFNode.prototype.getDegree = function () {\n    return this.getEdges().length;\n};\n\n// This function returns whether or not this node is currently placed on its\n// owner circle.\nAVSDFNode.prototype.isOrdered = function () {\n    return this.getIndex() > -1;\n};\n\n// This function sets the angle of this node w.r.t. its owner circle. Here\n// the angle value is in radian.\nAVSDFNode.prototype.setAngle = function (angle) {\n    this.angle = angle;\n};\n\n// This function returns the angle of this node w.r.t. its owner circle. Here\n// the angle value is in radian.\nAVSDFNode.prototype.getAngle = function () {\n    return this.angle;\n};\n\n// This function returns the index difference of this node with the input\n// node. Note that the index difference cannot be negative if both nodes are\n// placed on the circle. Here -1 means at least one of the nodes are not yet\n// placed on the circle.\nAVSDFNode.prototype.getCircDistWithTheNode = function (refNode) {\n    var self = this;\n    var otherIndex = refNode.getIndex();\n\n    if (otherIndex === -1 || self.getIndex() === -1) {\n        return -1;\n    }\n\n    var diff = self.getIndex() - otherIndex;\n\n    if (diff < 0) {\n        diff += self.getCircle().getSize();\n    }\n\n    return diff;\n};\n\n// This function finds the number of edge crossings between the edges of\n// this node and the edges of the input one.\nAVSDFNode.prototype.getCrossingNumberWithNode = function (otherNode) {\n    var self = this;\n    var totalCrossing = 0;\n\n    self.getEdges().forEach(function (edge) {\n        otherNode.getEdges().forEach(function (otherEdge) {\n            totalCrossing += edge.crossingWithEdge(otherEdge);\n        });\n    });\n\n    return totalCrossing;\n};\n\n// This function returns the total number of edge crossings. If the previously\n// calculated value is not valid due to an index change on the circle, then\n// a recalculation is performed.\nAVSDFNode.prototype.getTotalCrossingOfEdges = function () {\n    var self = this;\n\n    if (!self.isCrossingNumberValid) {\n        self.calculateTotalCrossing();\n        self.isCrossingNumberValid = true;\n    }\n\n    return self.totalCrossingOfEdges;\n};\n\n// -----------------------------------------------------------------------------\n// Section: Remaining Functions\n// -----------------------------------------------------------------------------\n\n// This function calculates the total number of crossings the edges of this\n// node cause.\nAVSDFNode.prototype.calculateTotalCrossing = function () {\n    var self = this;\n    var temp_crossing_count = 0;\n    var temp_edge_list = [];\n    temp_edge_list.push.apply(temp_edge_list, self.getCircle().getEdges());\n    temp_edge_list = temp_edge_list.filter(function (ele) {\n        return self.getEdges().indexOf(ele) < 0;\n    });\n\n    self.getEdges().forEach(function (edge) {\n        return temp_crossing_count += edge.calculateTotalCrossingWithList(temp_edge_list);\n    });\n\n    self.totalCrossingOfEdges = temp_crossing_count;\n};\n\nmodule.exports = AVSDFNode;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * This class implements the overall layout process for the AVSDF algorithm\n * (Circular Drawing Algorithm by He and Sykora).\n *\n *\n * Copyright: i-Vis Research Group, Bilkent University, 2007 - present\n */\n\nvar Layout = __webpack_require__(0).Layout;\nvar AVSDFConstants = __webpack_require__(2);\nvar AVSDFCircle = __webpack_require__(1);\nvar AVSDFNode = __webpack_require__(4);\nvar AVSDFEdge = __webpack_require__(3);\n\n// -----------------------------------------------------------------------------\n// Section: Initializations\n// -----------------------------------------------------------------------------\n\n// Constructor\nfunction AVSDFLayout() {\n    Layout.call(this);\n    this.nodeSeparation = AVSDFConstants.DEFAULT_NODE_SEPARATION;\n}\n\nAVSDFLayout.prototype = Object.create(Layout.prototype);\n\nfor (var property in Layout) {\n    AVSDFLayout[property] = Layout[property];\n}\n\nAVSDFLayout.prototype.newGraph = function (vObject) {\n    this.avsdfCircle = new AVSDFCircle(null, this.graphManager, vObject);\n\n    return this.avsdfCircle;\n};\n\nAVSDFLayout.prototype.newNode = function (vNode) {\n    return new AVSDFNode(this.graphManager, vNode);\n};\n\nAVSDFLayout.prototype.newEdge = function (vEdge) {\n    return new AVSDFEdge(null, null, vEdge);\n};\n\n// -----------------------------------------------------------------------------\n// Section: Accessor Functions\n// -----------------------------------------------------------------------------\n\n// This function returns the position data for all nodes\nAVSDFLayout.prototype.getPositionsData = function () {\n    var allNodes = this.graphManager.getAllNodes();\n    var pData = {};\n\n    for (var i = 0; i < allNodes.length; i++) {\n        var rect = allNodes[i].rect;\n        var id = allNodes[i].id;\n\n        pData[id] = {\n            id: id,\n            x: rect.getCenterX(),\n            y: rect.getCenterY(),\n            w: rect.width,\n            h: rect.height\n        };\n    }\n\n    return pData;\n};\n\n// -----------------------------------------------------------------------------\n// Section: Layout Related\n// -----------------------------------------------------------------------------\n\n/**\n * This function performs layout on constructed l-level graph.\n * It returns true on success, false otherwise.\n * Important!: If you want to see the results of this function then, after this function is called, you have to calculate\n * and set the positions of every node. To do this call updateNodeCoordinates. However, updateNodeAngles on the other\n * hand is not needed (redundant) for this function.\n */\nAVSDFLayout.prototype.layout = function () {\n    var self = this;\n\n    // Check if graph contains any compound structures\n    if (self.graphManager.getGraphs().length > 1) {\n        return false;\n    }\n\n    var clusterGraph = this.avsdfCircle; // Fixed reference, but now it is a bit redundant\n\n    clusterGraph.setNodeSeparation(this.nodeSeparation);\n    clusterGraph.calculateRadius();\n    clusterGraph.initOrdering();\n\n    while (!clusterGraph.hasFinishedOrdering()) {\n        var node = clusterGraph.findNodeToPlace();\n        clusterGraph.putInOrder(node);\n    }\n\n    return true;\n};\n\n// This function updates the angle (in radians) property of AVSDFNode elements in the circle\nAVSDFLayout.prototype.updateNodeAngles = function () {\n    this.graphManager.getRoot().correctAngles(); //AVSDFCircle object\n};\n\n// This function traverses the vertices of the graph and sets their correct coordinates with respect to the owner circle.\nAVSDFLayout.prototype.updateNodeCoordinates = function () {\n    var clusterGraph = this.graphManager.getRoot();\n\n    clusterGraph.getNodes().forEach(function (node) {\n        node.setCenter(clusterGraph.getCenterX() + clusterGraph.getRadius() * Math.cos(node.getAngle()), clusterGraph.getCenterY() + clusterGraph.getRadius() * Math.sin(node.getAngle()));\n    });\n};\n\n// -----------------------------------------------------------------------------\n// Section: Post Processing\n// -----------------------------------------------------------------------------\n\n/**\n * This method implements the post processing step of the algorithm, which\n * tries to minimize the number of edges further with respect to the local\n * adjusting algorithm described by He and Sykora.\n */\nAVSDFLayout.prototype.initPostProcess = function () {\n    this.avsdfCircle.calculateEdgeCrossingsOfNodes();\n\n    var list = this.avsdfCircle.getNodes();\n\n    list.sort(function (a, b) {\n        return b.getTotalCrossingOfEdges() - a.getTotalCrossingOfEdges();\n    });\n\n    return list;\n};\n\nAVSDFLayout.prototype.oneStepPostProcess = function (node) {\n    var self = this;\n\n    var currentCrossingNumber = node.getTotalCrossingOfEdges();\n    var newCrossingNumber = void 0;\n\n    var neighbours = Array.from(node.getNeighborsList());\n\n    for (var j = 0; j < neighbours.length; j++) {\n        var neighbour = neighbours[j];\n\n        var oldIndex = node.getIndex();\n        var newIndex = (neighbour.getIndex() + 1) % self.avsdfCircle.getSize();\n\n        if (oldIndex !== newIndex) {\n            node.setIndex(newIndex);\n\n            if (oldIndex < node.getIndex()) {\n                oldIndex += self.avsdfCircle.getSize();\n            }\n\n            var index = node.getIndex();\n\n            while (index < oldIndex) {\n                var temp = self.avsdfCircle.getOrder()[index % self.avsdfCircle.getSize()];\n                temp.setIndex((temp.getIndex() + 1) % self.avsdfCircle.getSize());\n                index += 1;\n            }\n\n            node.calculateTotalCrossing();\n            newCrossingNumber = node.getTotalCrossingOfEdges();\n\n            if (newCrossingNumber >= currentCrossingNumber) {\n                self.avsdfCircle.loadOldIndicesOfNodes();\n            } else {\n                self.avsdfCircle.reOrderVertices();\n                currentCrossingNumber = newCrossingNumber;\n            }\n        }\n    }\n};\n\nmodule.exports = AVSDFLayout;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar avsdfBase = {};\n\navsdfBase.layoutBase = __webpack_require__(0);\navsdfBase.AVSDFConstants = __webpack_require__(2);\navsdfBase.AVSDFEdge = __webpack_require__(3);\navsdfBase.AVSDFCircle = __webpack_require__(1);\navsdfBase.AVSDFLayout = __webpack_require__(5);\navsdfBase.AVSDFNode = __webpack_require__(4);\n\nmodule.exports = avsdfBase;\n\n/***/ })\n/******/ ]);\n});","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"avsdf-base\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"avsdf-base\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cytoscapeAvsdf\"] = factory(require(\"avsdf-base\"));\n\telse\n\t\troot[\"cytoscapeAvsdf\"] = factory(root[\"avsdfBase\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// Simple, internal Object.assign() polyfill for options objects etc.\n\nmodule.exports = Object.assign != null ? Object.assign.bind(Object) : function (tgt) {\n  for (var _len = arguments.length, srcs = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    srcs[_key - 1] = arguments[_key];\n  }\n\n  srcs.forEach(function (src) {\n    Object.keys(src).forEach(function (k) {\n      return tgt[k] = src[k];\n    });\n  });\n\n  return tgt;\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n *\n * Choose the type of layout that best suits your usecase as a starting point.\n *\n * A discrete layout is one that algorithmically sets resultant positions.  It\n * does not have intermediate positions.\n *\n * A continuous layout is one that updates positions continuously, like a force-\n * directed / physics simulation layout.\n */\n\nmodule.exports = __webpack_require__(4);\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar impl = __webpack_require__(2);\n\n// registers the extension on a cytoscape lib ref\nvar register = function register(cytoscape) {\n  if (!cytoscape) {\n    return;\n  } // can't register if cytoscape unspecified\n\n  cytoscape('layout', 'avsdf', impl); // register with cytoscape.js\n};\n\nif (typeof cytoscape !== 'undefined') {\n  // expose to global cytoscape (i.e. window.cytoscape)\n  register(cytoscape);\n}\n\nmodule.exports = register;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * This class implements the overall layout process for the\n * Adjacent Vertex with Smallest Degree First (AVSDF) algorithm.\n * (Circular Drawing Algorithm by Hongmei He & Ondrej Skora).\n *\n * @author Doruk akmak\n * @author Alihan Okka\n *\n * Copyright: i-Vis (Information Visualization) Research Lab, Bilkent University, 2019 - present\n*/\n\n// cytosscape.js-avsdf REQUIRES avsdf-base library elements\nvar AVSDFLayout = __webpack_require__(0).AVSDFLayout;\nvar AVSDFNode = __webpack_require__(0).AVSDFNode;\nvar AVSDFConstants = __webpack_require__(0).AVSDFConstants;\nvar PointD = __webpack_require__(0).layoutBase.PointD;\nvar DimensionD = __webpack_require__(0).layoutBase.DimensionD;\n\n// Cytoscape-extention template requirements\n// More details can be found in NPM 'slush-cytoscape-extension' package\nvar assign = __webpack_require__(1);\nvar ContinuousLayout = __webpack_require__(6);\n\nvar isFn = function isFn(fn) {\n  return typeof fn === 'function';\n};\nvar optFn = function optFn(opt, ele) {\n  if (isFn(opt)) {\n    return opt(ele);\n  } else {\n    return opt;\n  }\n};\n\nvar defaults = {\n  ready: function ready() {}, // Called on `layoutready`\n  stop: function stop() {}, // Called on `layoutstop`\n  refresh: 30, // number of ticks per frame; higher is faster but more jerky\n  fit: true, // Whether to fit the network view after when done\n  padding: 10, // Padding on fit\n  randomize: false, // Whether to enable incremental mode\n  animate: 'end', // Type of layout animation. The option set is {'during', 'end', false}\n  animationDuration: 500, // Duration for animate:end\n  nodeSeparation: 60 // How apart the nodes are\n};\n\n/**\n *  This is the main class that does all the functionality.\n *  The class is utilized by functions in the continuous-base folder.\n */\n\nvar AVSDF = function (_ContinuousLayout) {\n  _inherits(AVSDF, _ContinuousLayout);\n\n  function AVSDF(options) {\n    _classCallCheck(this, AVSDF);\n\n    // Whether node separation value is used\n    var _this = _possibleConstructorReturn(this, (AVSDF.__proto__ || Object.getPrototypeOf(AVSDF)).call(this, assign({}, defaults, options)));\n\n    if (options.nodeSeparation != null) AVSDFConstants.DEFAULT_NODE_SEPARATION = options.nodeSeparation;else AVSDFConstants.DEFAULT_NODE_SEPARATION = defaults.nodeSeparation;\n    return _this;\n  }\n\n  /**\n   *  Initializing AVSDF elements and arranging the nodes of the graph around the circle\n   */\n\n\n  _createClass(AVSDF, [{\n    key: 'prerun',\n    value: function prerun() {\n      var state = this.state; // options object combined with current state\n\n      // Initialize AVSDF elements and their requirements\n      var avsdfLayout = this.avsdfLayout = new AVSDFLayout();\n      var graphManager = this.graphManager = avsdfLayout.newGraphManager();\n      var root = this.root = graphManager.addRoot();\n      var nodes = state.nodes;\n      var edges = state.edges;\n\n      // Getting nodes of cytoscape and converting it to AVSDF structure\n      this.idToLNode = {};\n      this.processChildrenList(root, nodes, avsdfLayout);\n\n      // Getting edges of cytoscape and transfering it to GraphManager\n      for (var i = 0; i < edges.length; i++) {\n        var edge = edges[i];\n        var sourceNode = this.idToLNode[edge.data(\"source\")];\n        var targetNode = this.idToLNode[edge.data(\"target\")];\n        if (sourceNode !== targetNode && sourceNode.getEdgesBetween(targetNode).length === 0) {\n          var e1 = graphManager.add(avsdfLayout.newEdge(), sourceNode, targetNode);\n          e1.id = edge.id();\n        }\n      }\n\n      // Running the AVSDF layout.\n      // Note: This function doesn't do post-processing. Plus, nodes have to be positioned.\n      // See AVSDFLayout for details.\n      avsdfLayout.layout();\n\n      // We need to calculate the initial circle position if we want to render it\n      avsdfLayout.updateNodeCoordinates();\n\n      // Post process is iterated over the sorted list of vertex degrees (descending)\n      this.sortedByDegreeList = avsdfLayout.initPostProcess();\n    }\n\n    /**\n     *  Runs this in each iteration\n     */\n\n  }, {\n    key: 'tick',\n    value: function tick() {\n      var _this2 = this;\n\n      var state = this.state;\n      var self = this;\n\n      // This function is used for getting coordinates from AVSDF elements and passing it to cytoscape\n      var positions = this.avsdfLayout.getPositionsData();\n      state.nodes.forEach(function (n) {\n        var s = _this2.getScratch(n);\n\n        // example : put node at random position\n        s.x = positions[n.data('id')].x;\n        s.y = positions[n.data('id')].y;\n      });\n\n      if (state.tickIndex >= state.nodes.size()) return true;\n\n      this.avsdfLayout.oneStepPostProcess(this.sortedByDegreeList[state.tickIndex]);\n      this.avsdfLayout.updateNodeAngles();\n      this.avsdfLayout.updateNodeCoordinates();\n    }\n\n    /**\n     *  Runs this function after the layout is done ticking\n     */\n\n  }, {\n    key: 'postrun',\n    value: function postrun() {}\n\n    /**\n     *  Clean up any object refs that could prevent garbage collection, etc.\n     */\n\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      _get(AVSDF.prototype.__proto__ || Object.getPrototypeOf(AVSDF.prototype), 'destroy', this).call(this);\n      return this;\n    }\n\n    /**\n     *  Transition from cytoscape nodes to AVSDF elements\n     */\n\n  }, {\n    key: 'processChildrenList',\n    value: function processChildrenList(parent, children, layout) {\n      var size = children.length;\n      for (var i = 0; i < size; i++) {\n        var theChild = children[i];\n        var theNode = void 0;\n\n        //Label dimensions are NOT included when calculating node dimensions\n        var dimensions = theChild.layoutDimensions({\n          nodeDimensionsIncludeLabels: false\n        });\n\n        if (theChild.outerWidth() != null && theChild.outerHeight() != null) {\n          theNode = parent.add(new AVSDFNode(layout.graphManager, null, new PointD(theChild.position('x') - dimensions.w / 2, theChild.position('y') - dimensions.h / 2), new DimensionD(parseFloat(dimensions.w), parseFloat(dimensions.h))));\n        } else {\n          theNode = parent.add(new AVSDFNode(this.graphManager));\n        }\n\n        // Attach id to the layout node\n        theNode.id = theChild.data(\"id\");\n\n        // Attach the paddings of cy node to layout node\n        theNode.paddingLeft = parseInt(theChild.css('padding'));\n        theNode.paddingTop = parseInt(theChild.css('padding'));\n        theNode.paddingRight = parseInt(theChild.css('padding'));\n        theNode.paddingBottom = parseInt(theChild.css('padding'));\n\n        // Map the layout node\n        this.idToLNode[theChild.data(\"id\")] = theNode;\n\n        if (isNaN(theNode.rect.x)) {\n          theNode.rect.x = 0;\n        }\n\n        if (isNaN(theNode.rect.y)) {\n          theNode.rect.y = 0;\n        }\n      }\n    }\n  }]);\n\n  return AVSDF;\n}(ContinuousLayout);\n\nmodule.exports = AVSDF;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// general default options for force-directed layout\n\nmodule.exports = Object.freeze({\n  animate: true, // whether to show the layout as it's running; special 'end' value makes the layout animate like a discrete layout\n  refresh: 10, // number of ticks per frame; higher is faster but more jerky\n  maxIterations: 1000, // max iterations before the layout will bail out\n  ungrabifyWhileSimulating: false, // so you can't drag nodes during layout\n  fit: true, // on every layout reposition of nodes, fit the viewport\n  padding: 30, // padding around the simulation\n  boundingBox: undefined, // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n\n  // layout event callbacks\n  ready: function ready() {}, // on layoutready\n  stop: function stop() {}, // on layoutstop\n\n  // positioning options\n  randomize: false, // use random node positions at beginning of layout\n\n  // infinite layout options\n  infinite: false // overrides all other options for a forces-all-the-time mode\n});\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n A generic continuous layout class\n */\n\nvar assign = __webpack_require__(1);\nvar defaults = __webpack_require__(5);\nvar makeBoundingBox = __webpack_require__(7);\n\nvar _require = __webpack_require__(8),\n    setInitialPositionState = _require.setInitialPositionState,\n    refreshPositions = _require.refreshPositions,\n    getNodePositionData = _require.getNodePositionData;\n\nvar _require2 = __webpack_require__(9),\n    multitick = _require2.multitick;\n\nvar Layout = function () {\n  function Layout(options) {\n    _classCallCheck(this, Layout);\n\n    var o = this.options = assign({}, defaults, options);\n\n    var s = this.state = assign({}, o, {\n      layout: this,\n      nodes: o.eles.nodes(),\n      edges: o.eles.edges(),\n      tickIndex: 0,\n      firstUpdate: true\n    });\n\n    s.animateEnd = o.animate && o.animate === 'end';\n    s.animateContinuously = o.animate && !s.animateEnd;\n  }\n\n  _createClass(Layout, [{\n    key: 'getScratch',\n    value: function getScratch(el) {\n      var name = this.state.name;\n      var scratch = el.scratch(name);\n\n      if (!scratch) {\n        scratch = {};\n\n        el.scratch(name, scratch);\n      }\n\n      return scratch;\n    }\n  }, {\n    key: 'run',\n    value: function run() {\n      var l = this;\n      var s = this.state;\n\n      s.tickIndex = 0;\n      s.firstUpdate = true;\n      s.startTime = Date.now();\n      s.running = true;\n\n      s.currentBoundingBox = makeBoundingBox(s.boundingBox, s.cy);\n\n      if (s.ready) {\n        l.one('ready', s.ready);\n      }\n      if (s.stop) {\n        l.one('stop', s.stop);\n      }\n\n      s.nodes.forEach(function (n) {\n        return setInitialPositionState(n, s);\n      });\n\n      l.prerun(s);\n\n      if (s.animateContinuously) {\n        var ungrabify = function ungrabify(node) {\n          if (!s.ungrabifyWhileSimulating) {\n            return;\n          }\n\n          var grabbable = getNodePositionData(node, s).grabbable = node.grabbable();\n\n          if (grabbable) {\n            node.ungrabify();\n          }\n        };\n\n        var regrabify = function regrabify(node) {\n          if (!s.ungrabifyWhileSimulating) {\n            return;\n          }\n\n          var grabbable = getNodePositionData(node, s).grabbable;\n\n          if (grabbable) {\n            node.grabify();\n          }\n        };\n\n        var updateGrabState = function updateGrabState(node) {\n          return getNodePositionData(node, s).grabbed = node.grabbed();\n        };\n\n        var onGrab = function onGrab(_ref) {\n          var target = _ref.target;\n\n          updateGrabState(target);\n        };\n\n        var onFree = onGrab;\n\n        var onDrag = function onDrag(_ref2) {\n          var target = _ref2.target;\n\n          var p = getNodePositionData(target, s);\n          var tp = target.position();\n\n          p.x = tp.x;\n          p.y = tp.y;\n        };\n\n        var listenToGrab = function listenToGrab(node) {\n          node.on('grab', onGrab);\n          node.on('free', onFree);\n          node.on('drag', onDrag);\n        };\n\n        var unlistenToGrab = function unlistenToGrab(node) {\n          node.removeListener('grab', onGrab);\n          node.removeListener('free', onFree);\n          node.removeListener('drag', onDrag);\n        };\n\n        var fit = function fit() {\n          if (s.fit && s.animateContinuously) {\n            s.cy.fit(s.padding);\n          }\n        };\n\n        var onNotDone = function onNotDone() {\n          refreshPositions(s.nodes, s);\n          fit();\n\n          requestAnimationFrame(_frame);\n        };\n\n        var _frame = function _frame() {\n          multitick(s, onNotDone, _onDone);\n        };\n\n        var _onDone = function _onDone() {\n          refreshPositions(s.nodes, s);\n          fit();\n\n          s.nodes.forEach(function (n) {\n            regrabify(n);\n            unlistenToGrab(n);\n          });\n\n          s.running = false;\n\n          l.emit('layoutstop');\n        };\n\n        l.emit('layoutstart');\n\n        s.nodes.forEach(function (n) {\n          ungrabify(n);\n          listenToGrab(n);\n        });\n\n        _frame(); // kick off\n      } else {\n        var done = false;\n        var _onNotDone = function _onNotDone() {};\n        var _onDone2 = function _onDone2() {\n          return done = true;\n        };\n\n        while (!done) {\n          multitick(s, _onNotDone, _onDone2);\n        }\n\n        s.eles.layoutPositions(this, s, function (node) {\n          var pd = getNodePositionData(node, s);\n\n          return { x: pd.x, y: pd.y };\n        });\n      }\n\n      l.postrun(s);\n\n      return this; // chaining\n    }\n  }, {\n    key: 'prerun',\n    value: function prerun() {}\n  }, {\n    key: 'postrun',\n    value: function postrun() {}\n  }, {\n    key: 'tick',\n    value: function tick() {}\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this.state.running = false;\n\n      return this; // chaining\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      return this; // chaining\n    }\n  }]);\n\n  return Layout;\n}();\n\nmodule.exports = Layout;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (bb, cy) {\n  if (bb == null) {\n    bb = { x1: 0, y1: 0, w: cy.width(), h: cy.height() };\n  } else {\n    // copy\n    bb = { x1: bb.x1, x2: bb.x2, y1: bb.y1, y2: bb.y2, w: bb.w, h: bb.h };\n  }\n\n  if (bb.x2 == null) {\n    bb.x2 = bb.x1 + bb.w;\n  }\n  if (bb.w == null) {\n    bb.w = bb.x2 - bb.x1;\n  }\n  if (bb.y2 == null) {\n    bb.y2 = bb.y1 + bb.h;\n  }\n  if (bb.h == null) {\n    bb.h = bb.y2 - bb.y1;\n  }\n\n  return bb;\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar assign = __webpack_require__(1);\n\nvar setInitialPositionState = function setInitialPositionState(node, state) {\n  var p = node.position();\n  var bb = state.currentBoundingBox;\n  var scratch = node.scratch(state.name);\n\n  if (scratch == null) {\n    scratch = {};\n\n    node.scratch(state.name, scratch);\n  }\n\n  assign(scratch, state.randomize ? {\n    x: bb.x1 + Math.round(Math.random() * bb.w),\n    y: bb.y1 + Math.round(Math.random() * bb.h)\n  } : {\n    x: p.x,\n    y: p.y\n  });\n\n  scratch.locked = node.locked();\n};\n\nvar getNodePositionData = function getNodePositionData(node, state) {\n  return node.scratch(state.name);\n};\n\nvar refreshPositions = function refreshPositions(nodes, state) {\n  nodes.positions(function (node) {\n    var scratch = node.scratch(state.name);\n\n    return {\n      x: scratch.x,\n      y: scratch.y\n    };\n  });\n};\n\nmodule.exports = { setInitialPositionState: setInitialPositionState, getNodePositionData: getNodePositionData, refreshPositions: refreshPositions };\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar nop = function nop() {};\n\nvar tick = function tick(state) {\n  var s = state;\n  var l = state.layout;\n\n  var tickIndicatesDone = l.tick(s);\n\n  if (s.firstUpdate) {\n    if (s.animateContinuously) {\n      // indicate the initial positions have been set\n      s.layout.emit('layoutready');\n    }\n    s.firstUpdate = false;\n  }\n\n  s.tickIndex++;\n\n  var duration = Date.now() - s.startTime;\n\n  return !s.infinite && tickIndicatesDone;\n};\n\nvar multitick = function multitick(state) {\n  var onNotDone = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : nop;\n  var onDone = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : nop;\n\n  var done = false;\n  var s = state;\n\n  for (var i = 0; i < s.refresh; i++) {\n    done = !s.running || tick(s);\n\n    if (done) {\n      break;\n    }\n  }\n\n  if (!done) {\n    onNotDone();\n  } else {\n    onDone();\n  }\n};\n\nmodule.exports = { tick: tick, multitick: multitick };\n\n/***/ })\n/******/ ]);\n});","import jsPDF from 'jspdf';\r\nlet cytoscape = require('cytoscape');\r\nlet avsdf = require('cytoscape-avsdf');\r\n\r\ncytoscape.use(avsdf);\r\n\r\nexport class Drawer {\r\n    data = {};\r\n    transitions;\r\n    constraint;\r\n    paths;\r\n    metrics;\r\n    isEncode;\r\n    rows;\r\n    decoded;\r\n    defaultOptions = {\r\n        padding: 50,\r\n        ungrabifyWhileSimulating: false,\r\n        animate: false\r\n    };\r\n    constructor(transitions, constraint, input, output, paths, metrics, isEncode) {\r\n        this.transitions = transitions;\r\n        this.constraint = constraint;\r\n        this.input = input;\r\n        this.output = output.padEnd(output.length + constraint - 1, \"0\");\r\n        this.paths = paths;\r\n        this.metrics = metrics.map(metric => metric.map(path => path < Number.MAX_SAFE_INTEGER ? path : \"-\"));\r\n        this.isEncode = isEncode\r\n        if (this.paths.length) {\r\n            this.decoded = this.calc();\r\n        }\r\n        this.prepareData();\r\n    }\r\n    calc() {\r\n        let decoded = [];\r\n        let minPath = this.metrics[this.metrics.length - 1].indexOf(Math.min(...this.metrics[this.metrics.length - 1].filter(Number.isInteger)));\r\n        for (let i = this.paths.length - 1; i >= 0; i--) {\r\n            decoded.push(minPath);\r\n            minPath = this.paths[i][minPath];\r\n        }\r\n        console.log(decoded);\r\n        return decoded;\r\n    }\r\n    prepareData() {\r\n        let r = [];\r\n        this.transitions.map((_, i) => {\r\n            r[i] = [];\r\n            r[i].push(i.toString(2).padStart(this.constraint, \"0\"))\r\n            r[i].push((((\"0b\" + i.toString(2)) >> 1) | (\"0b0\" << (this.constraint - 1))).toString(2).padStart(this.constraint, \"0\"));\r\n            r[i].push((((\"0b\" + i.toString(2)) >> 1) | (\"0b1\" << (this.constraint - 1))).toString(2).padStart(this.constraint, \"0\"));\r\n        });\r\n        const nodesauto = r.map((el, i) => { return (i % 2) ? { data: { id: \"n\" + el[0].slice(0, -1), label: el[0].slice(0, -1) } } : {} }).filter(value => Object.keys(value).length !== 0);\r\n        const edgesauto = r.flatMap((el, i) => {\r\n            return (i % 2) ? [\r\n                { data: { source: \"n\" + el[0].slice(0, -1), target: \"n\" + el[1].slice(0, -1), label: this.transitions[(\"0b\" + el[1]) * 1], style: \"dashed\" } },\r\n                { data: { source: \"n\" + el[0].slice(0, -1), target: \"n\" + el[2].slice(0, -1), label: this.transitions[(\"0b\" + el[2]) * 1], style: \"solid\" } }\r\n            ] : {}\r\n        }).filter(value => Object.keys(value).length !== 0);\r\n        if (this.paths.length) {\r\n            let nodesgrid = [],\r\n                edgesgrid = [];\r\n            const rows = this.paths[0].length,\r\n                cols = this.paths.length + 1;\r\n            this.rows = rows;\r\n            let lastindex = 0;\r\n            for (let i = 0; i < cols; i++) {\r\n                for (let j = 0; j < rows; j++) {\r\n                    const mod = (i * rows + j) % cols,\r\n                        div = ~~((i * rows + j) / cols)\r\n                    nodesgrid.push({\r\n                        data: {\r\n                            id: \"n\" + (rows * mod + div),\r\n                            label: this.metrics[mod][div],\r\n                        },\r\n                        grabbable: false,\r\n                        classes: this.metrics[mod][div] !== \"-\" ? this.metrics[mod][div] === Math.min(...this.metrics[mod].filter(Number.isInteger)) ? \"best\" : null : \"unused\"\r\n                    });\r\n                    if (mod > 0 && this.metrics[mod][div] !== \"-\") {\r\n                        const target = (rows * mod + div),\r\n                            source = (rows * (mod - 1) + this.paths[mod - 1][div]),\r\n                            bit = ((target - source - rows) >= 0 ? target % rows ? \"1\" : \"0\" : \"0\");\r\n                        lastindex = this.decoded[mod - 1] === div ? true : false;\r\n                        edgesgrid.push({\r\n                            data: {\r\n                                target: \"n\" + target,\r\n                                source: \"n\" + source\r\n                            },\r\n                            classes: [bit === \"1\" ? \"up\" : \"down\",\r\n                            lastindex ? \"path\" : \"nepath\"\r\n                            ]\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            this.data.auto = [...nodesauto, ...edgesauto];\r\n            this.data.grid = [...nodesgrid, ...edgesgrid];\r\n        }\r\n    }\r\n    run(auto, grid) {\r\n        this._draw(document.getElementById(auto), document.getElementById(grid));\r\n    }\r\n    _draw(auto, grid) {\r\n        if (auto !== null) {\r\n            cytoscape({\r\n                elements: this.data.auto,\r\n                container: auto,\r\n                layout: {\r\n                    name: 'avsdf',\r\n                    ...this.defaultOptions,\r\n                    nodeSeparation: 120\r\n                },\r\n                style: [\r\n                    {\r\n                        selector: 'node',\r\n                        style: {\r\n                            'background-color': '#bf9',\r\n                            \"border-width\": \"1px\",\r\n                            \"border-color\": \"#888\",\r\n                            'label': 'data(label)',\r\n                            \"color\": \"#111\",\r\n                            \"text-valign\": \"center\",\r\n                            \"text-halign\": \"center\",\r\n                            \"font-size\": \"12px\"\r\n                        }\r\n                    },\r\n                    {\r\n                        selector: \"edge\",\r\n                        style: {\r\n                            \"curve-style\": \"unbundled-bezier\",\r\n                            \"color\": \"#111\",\r\n                            \"target-arrow-shape\": \"triangle\",\r\n                            'line-style': 'data(style)',\r\n                            \"width\": 1,\r\n                            \"control-point-distances\": 20,\r\n                            \"control-point-weights\": 0.8,\r\n                            'label': 'data(label)',\r\n                            \"font-size\": \"12px\"\r\n                        }\r\n                    }\r\n                ]\r\n            });\r\n        }\r\n        if (grid !== null) {\r\n            cytoscape({\r\n                elements: this.data.grid,\r\n                container: grid,\r\n                layout: {\r\n                    name: \"grid\",\r\n                    rows: this.rows,\r\n                    ...this.defaultOptions,\r\n                    nodeSeparation: 300\r\n                },\r\n                style: [\r\n                    {\r\n                        selector: \"node\",\r\n                        style: {\r\n                            \"background-color\": \"#17a2b8\",\r\n                            \"border-width\": \"1px\",\r\n                            \"border-color\": \"#888\",\r\n                            \"label\": \"data(label)\",\r\n                            \"color\": \"#fff\",\r\n                            \"text-valign\": \"center\",\r\n                            \"text-halign\": \"center\",\r\n                            \"font-size\": \"16px\"\r\n                        }\r\n                    },\r\n                    {\r\n                        selector: \"node.best\",\r\n                        style: {\r\n                            \"background-color\": \"#007bff\",\r\n                        }\r\n                    },\r\n                    {\r\n                        selector: \"node.unused\",\r\n                        style: {\r\n                            \"background-color\": \"#f8f9fa\",\r\n                            \"border-width\": \"0px\",\r\n                        }\r\n                    },\r\n                    {\r\n                        selector: \"edge\",\r\n                        style: {\r\n                            color: \"#222\",\r\n                            \"target-arrow-shape\": \"triangle\",\r\n                            \"width\": 3,\r\n                            \"control-point-distances\": 20,\r\n                            \"control-point-weights\": 0.8,\r\n                        }\r\n                    },\r\n                    {\r\n                        selector: \"edge.down\",\r\n                        style: {\r\n                            'line-style': \"dashed\",\r\n                        }\r\n                    },\r\n                    {\r\n                        selector: \"edge.path\",\r\n                        style: {\r\n                            'line-color': \"#dc3545\",\r\n                            'width': 4\r\n                        }\r\n                    }\r\n                ]\r\n            });\r\n        }\r\n    }\r\n    download(dataurl, filename) {\r\n        var a = document.createElement(\"a\");\r\n        a.href = dataurl;\r\n        a.setAttribute(\"download\", filename);\r\n        a.click();\r\n    }\r\n    getimage() {\r\n        let grid = document.createElement(\"div\");\r\n\r\n        document.body.append(grid);\r\n        grid.style.position = \"absolute\";\r\n        grid.style.visibility = \"hidden\";\r\n        grid.style.width = \"2000px\";\r\n        grid.style.height = \"1000px\";\r\n        this._draw(null, grid);\r\n        console.log(grid.querySelectorAll(\"canvas\"))\r\n        setTimeout(() => {\r\n            this.download(grid.querySelectorAll(\"canvas\")[2].toDataURL(), \"grid.png\")\r\n            grid.remove();\r\n        }, 0)\r\n    }\r\n    getPDF() {\r\n        let doc = new jsPDF();\r\n        doc.html(document.getElementById(\"Modal\"))\r\n        console.log(doc.output('datauri'));\r\n    }\r\n}"]}